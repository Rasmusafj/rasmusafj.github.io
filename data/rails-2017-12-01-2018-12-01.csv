author,comment,timestamp
henrebotha,"factory_bot (formerly factory_girl) is a good way to handle these things. https://github.com/thoughtbot/factory_bot

> Also, is using ActiveRecord in a controller action considered bad practice?

Not at all.",1543577045.0
sublime8510,"FactoryBot won‚Äôt mock your calls to the DB. It simply fills your database so that you can retrieve your data when testing your implementation. 

It sounds like you‚Äôre looking to implement some kind of repository pattern so that you can inject an array backed implementation during tests, and use a DB backed implementation during prod or dev. ActiveRecord doesn‚Äôt have any facilities for this built into it. 

You COULD implement some kind of data access layer that sits below your business logic later, this way you‚Äôre never directly accessing ActiveRecord from your controllers/business logic. 

I tend to think this is a bit overkill. Usually people do this to keep their test suite fast. But there‚Äôs good facilities out there for running your test suite in parallel like CircleCI. 

At the end of the day, if you want to stub some calls to the DB via ‚Äòallow(Model).to receive(:all) { some_array }‚Äô that‚Äôs fine too. Just know that you probably should have some integrated coverage on that code too. ",1543585062.0
ignurant,"(Edit: Sorry, I just saw that you specifically noted RSpec, and my examples are given for Minitest; I'm going to leave it lying around though as I'm not fluent enough with RSpec to wing it in a comment box. I think everything still holds true in RSpec land.)

I'm surprised no one is coming to the defense of fixtures here. This is exactly the entire point of having fixtures handy. Based on some other comments from your experience with testing in C#, I just want to point out a quick high overview of what fixtures and factories are for, and Rails' take on testing this type of thing.

By default, Rails separates a dev/test/production env for you. The Test environment has it's own separate database configured and created for you. Ruby's dynamic nature gives us some tools to slip things data in and out with more ease than C#. This combination of the default rails setup, and Ruby is part of why there is a little bit less ceremony to the configuration of your test code compared to .net.

Fixtures are a way to define specific data for your database. It's like a specific database seed that has references you can use in your testing code. Factories are an alternative way to create test data that tends to be a bit more dynamic.

With the default of Minitest and Fixtures, each test is run with it's own DB transaction, and therefore the state of the test DB is consistent for each test. A lot of people who are down on fixtures seem to have a bad experience from a long time ago; they used to be quite clunky, but I strongly feel that is a thing of the past. For what you've described so far, fixtures are perfect.

A fixture is essentially a repository of database objects you can play with in your tests, just like your hash. Additionally, it will correctly build and reference model associations for you with very little effort, and give you names you can reference in your tests. An example fixture setup for you might look like this (Notice how this is very similar to defining a hash for data). (Hopefully all this example code actually works, I'm just punching this out in the comment box):

users:

    frequent_user:
      name: Guy
      email: guy@example.com

    new_user:
      name: New User Guy
      email: newguy@example.com

orders:

    expensive_order:
      user: frequent_user
      amount: 100000

    <%= 10.times do |i| %>
    order_<%= i %>:
      user: frequent_user
      amount: 10
    <% end %>


When your test runs, it sees 11 orders in the db attributed to a user referenced as `frequent_user`. If you hit your OrdersController, you should show all 11 orders. You can obviously play with this however you want.

    @user = users(:frequent_user)
    refute_empty @user.orders


Factories can be helpful if you have a lot of the `<%= 10.times do %>` stuff in play, need a lot of random things, or for some reason fixtures don't get you all the way. But often, fixtures _do_ get you very far. One common misconception is that fixtures get out of hand because you have to make a specific fixture for every possible testing configuration, which is not true. You can use the fixture as a starting point, and change the specific part under test, such as this incredibly over-simple example:

    test 'a user must have an email' do
      user = users(:frequent_user)
      user.email = nil
      assert_raise do
        user.save!
      end
    end

Here is a link to some more info on fixtures: https://guides.rubyonrails.org/testing.html#the-low-down-on-fixtures
You should definitely give it a spin, they can be much faster and less resource intense than Factories. Factories certainly have their place, but I think they are often unnecessary and more complicated.",1543594478.0
petepete,"> Also, is using ActiveRecord in a controller action considered bad practice? (in .NET it is and you're supposed to extract it to a for example OrdersService class with an All() method if you want to be able to mock & test the database)

The general rule of thumb is not to use too much AR in the controller. Doing a `.find`, `.find_by`, `.all` or simple `.where` is fine, but if you have a more-complex query you probably should look into using [Scopes](https://guides.rubyonrails.org/active_record_querying.html#scopes) in the model, which can be combined and tested separately.

So if you had a page where you display orders that are shipped and paid for you might have scopes like this:

    class Order < ApplicationRecord
      ...
      scope :shipped, ->{where.not(shipped_at: null)}
      scope :paid, ->{where.not(paid_at: null)}
    end

Then in your controller you could simply call `@orders = Order.paid.shipped`, the separate scopes will be combined with `and`.",1543591650.0
vogon-jeltz,"If you are using MiniTest, you can do something like this (note that ActiveRecord's ::all method returns an Array-like object):

    data = [{ id: 1, title: 'foo' }, { id: 2, title: 'bar' }]
    Order.stub(:all, data) do
        # do whatever
    end

[Documentation](https://www.rubydoc.info/gems/minitest/4.2.0/Object:stub)

I presume RSpec has something similar. 
",1543578576.0
jakenberg,"Factory bot is the most scalable that I'm aware of.

Fixtures are the fastest that I'm aware of ‚Äì although heavy usage of build\_stubbed in factory\_bot is essentially the same thing.

Creating an AR db in tests have caused us issues with race conditions and intermittent failures in a CI (parallelized) environment. I wouldn't say its a bad practice, but it should be done with great care to detail.",1543619017.0
ShoddyDiscussion,"I have built some apps that have required SPECIFIC data and large amounts to determine that Im running formulas and calculations properly.  I use a seed file that you can tell your test file to load and the database cleaner gem (which requires some special set up sometimes) so that I can test the data I need to test. FactoryBot is great for generic things but when you want to test data specific to your app, I found it easer to do it this way",1543594473.0
amalagg,"As others pointed out in Rails we hit the database. I find those tests to be fast enough. The slower tests are the feature tests which hit the code with a full browser. 

It is nice to get code coverage on browser based feature tests. That is missing in other languages.

I prefer fixtures to factories but I am in the minority.

Factorybot does have some support for stubbed objects: https://robots.thoughtbot.com/use-factory-girls-build-stubbed-for-a-faster-test",1543619890.0
69420blaiyzeit,instance_double,1543621649.0
LarsP,"Don't worry too much about it.

The biggest reason to avoid using the DB in tests is performance. Until your tests are getting uncomfortably slow, it's not a big deal.",1543641123.0
Hithrae,"I came from a .net background and there is a lot to be said for the repository pattern. In Rails ActiveRecord is king, and actually I think that's a bad thing for a lot of reasons.

&#x200B;

If you're interested check out Hanami [https://guides.hanamirb.org/models/overview/](https://guides.hanamirb.org/models/overview/)

&#x200B;

It's a Ruby framework and it uses the Repository pattern.",1543659992.0
janko-m,"Back in the day when I was using ActiveRecord, I experimented with [nulldb](https://github.com/nulldb/nulldb). It's a ""null"" adapter for Active Record that you swap in for the postgres/mysql/other adapter you're otherwise using. I don't see how you can mock responses, though.

But it *is* a good design practice to define all querying methods in your model/service/query object. Then you can simply stub those methods you defined when testing controllers. I've seen some Rails developers stub a chain of Active Record query methods directly, which is very brittle.",1543701809.0
rebel_cdn,"I'm primarily a .NET developer, but I've dabbled with Ruby and Rails for a long, long time. So I understand what you're getting at. 

The right answer here is probably ""look at the tests other developers at your company have written, and do what they do"" to ensure that your tests fit it well with what is already there. 

Having said that, I have an idea you can try. It's probably not be a good idea to do in a real codebase, but it might be a good way to get a feel for the ways in which Ruby differs from C#. 

So remember that in Ruby, you can open up a class at runtime and modify. So in your test, you could potentially just do something like:

```
class Order 
  def self.all
    #return an array of Orders you've made for this test
  end
end
```

And now, in the test when your controller called Order.all, it'll get back your test orders instead of trying to get them from the database. 

As others have mentioned, there are libraries you'll want to use to help do all of this for you while you're testing. But if you're relatively new to Ruby, these libraries can seem like magic because you might not have a good mental model of how they're doing what they do. Once you've opened up a few classes at runtime yourself and understand how it works, you'll probably feel a lot more comfortable using libraries that mock things for you. 

Experienced Ruby developers, if you think that all of this is a horrible idea, please don't hesitate to reply and say so. :)",1544109175.0
SuccessfulBread3,"As [henrebotha](https://www.reddit.com/user/henrebotha) said, factory bot is the best way to do this.

&#x200B;

It's worth noting that if you can avoid it, mocks and stubs should be avoided, reliance on them can (not always, but most of the time) indicate there's a code smell lingering about.",1543583277.0
wec9,Please send a link on GitHub for review directly...maybe is something with a letter or with the relations between models....,1543568218.0
SuccessfulBread3,"Hey! 

&#x200B;

There is something to be said about leaning rails using scaffolds... but first, the answer I think you might be looking for...

&#x200B;

When you call a form\_for @post like you would in your new posts view, but in the dashboard view, you will get a Nil class error, like you said... because that view has no cluedo what @post is... in the dashboard#index controller you need to add the following:

&#x200B;

`@post =` [`Post.new`](https://Post.new)

&#x200B;

Now the controller has a variable called @post and can pass it to the view (because of the @ symbol.) Now the form knows that it's designed to be for a new post, and that will fix your error...

&#x200B;

On to the part that I sincerely hope you do read:

&#x200B;

So I try to persuade people learning rails not to use scaffolds as they actually hinder learning in my opinion, they do everything for you and you don't need to understand the inner workings of MVC or rails at all...

There is a lot of magic in there that you might be taking for granted, such as strong parameters, the whole MVC concept, active record, routing, HTTP requests etc that I really think you might benefit in learning about.

&#x200B;

I know that it's cool to make scaffolds because hey presto! you suddenly have a working app in 5 mins, but starting from scratch (and I'm not talking `rails g resource`, I'm talking `rails g model`) and working up from there will give you a better understanding of what everything does. If you really want to learn more about this stuff I'm happy to help you build an app from scratch and explain whatever you need me to :D just reach out. 

But seriously consider 86ing scaffolds, they're a crutch and not a good one.

&#x200B;",1543582480.0
midasgoldentouch,You can add partials for the post form to the dashboard view. How much do you know about Rails in general?,1543557385.0
RealityCheckering,It feels like you might benefit from reading the free version of https://www.railstutorial.org/ The tutorial in there will explain and describe how to do everything you said you want to do. It's a very good place to start,1543562721.0
ixtechau,"I know this isn't the answer you want, but best practice is to not write it from scratch and instead use a gem like Devise. ",1543527832.0
demondownload,"You probably want Buyer and Seller to inherit (single table style) from the same User model that handles the authentication, rather than having them be entirely unique. Then the login/user logic can mostly just refer to the parent model.",1543535994.0
manys,use one model and roles or STI,1543541063.0
seainhd,"Best practice is a single model. 

User.

Then you have attributes to define rules for buying and selling.

A buyer is a human that wants to buy a property

A seller is a human that has a property to sell.

Single login and ask people if they want to buy/sell/both",1543555165.0
thombruce,"It sounds to me, like others have suggested, that the best thing for your case would be Devise. It would simplify a great deal and alleviate you from having to trouble with matters like these.

**When might you *not* want to use Devise?**

I found myself running up against the need for JWTs when developing an API. Devise abstracts so much, I didn't know the first part about how to go about that properly. And the gems available to achieve it were too restrictive, or too incompatible with other custom authentication needs.

So I read into Devise's source code and discovered that Devise, by and large, doesn't actually handle the authentication at all. It is predominantly a wrapper around Warden. At which point I naturally looked into Warden's source code and started developing an authentication strategy of my own using that.

If you are doing this as a learning exercise, I recommend comparing Devise and Warden because it's relatively easy to get a sense for what each does and how the former builds on top of the latter.

Warden's approach of using strategies to handle multiple forms of authentication is also very easy to get to grips with.

Ultimately, I think in learning all of this you'll learn something very useful indeed: why you probably always want Devise and how to extend it for any authentication use case.",1543546469.0
bhserna,If you want to know how faster... You can have the answer here... https://dev.to/dangolant/comment/751c,1543509931.0
fp4,"You should be pointing your CNAME records at the generated herokudns.com host they give you.

They have a detailed guide on what their best practices are:

https://help.heroku.com/VKRNVVF5/what-is-the-correct-dns-cname-target-for-my-custom-domains",1543506829.0
rakedbdrop,That won't really matter I don't think. But you should set up SSL. ,1543505754.0
deedubaya,"You want to avoid pointing to a non-specific app host to avoid the security implications of someone squatting on your domain and serving malicious stuff. Here's how that works:

tldr; **Delete your DNS records which point to heroku once they're no longer in use**.

You create app `foo` on heroku. This results in `foo.herokudns.com`, but you point your dns record for `foo.example.com` at `*.herokudns.com`. 

Sometime later you delete the app, but don't delete the dns record. Malicious attacker comes in and creates a new malicious app `foo`, and all of a sudden your domain `foo.example.com`is serving up malicious code. 

Bonus points for the attacker if you had ACM SSL verified via DNS which wasn't cleaned up, as they've got an SSL certificate for `foo.example.com` too.*

^(* I think Heroku recently added a mitigation for this, using random ACM SSL subdomains for verification, but this won't protect against old `foo.herokussl.com` verification.)",1543511614.0
smmnyc,"Go with ‚Äú*. herokudns.com‚Äù and I‚Äôd also recommend as the others have said to set up the free Heroku SSL (SNI) as described here: https://devcenter.heroku.com/articles/automated-certificate-management. Setting that up disables the built-in herokuapp.com domain. 

",1543511485.0
SnarkyNinja,[Official API client gem?](https://github.com/stripe/stripe-ruby),1543470849.0
tongboy,"payola is dead, and it died a terrible death... we rolled our own with the API client after we kept having to heavily customize around bugs in payola.",1543602534.0
ixtechau,The only drawback with Stripe is that they are very expensive to use compared to lesser alternatives. But everything else is world class.,1543479271.0
SerKnight,"I'd say it depends. If these issues are throttling your business, could make sense to build out custom option. Idk your product complexity but with standard ruby knowledge can do stripe way quick.",1543472880.0
IllegalThings,"If you‚Äôre using a real password, definitely recommend not using it anymore. It‚Äôs encrypted, but encrypted passwords can be cracked. ",1543450853.0
choonggg,"It's a JavaScript solution, on form submit, prevent default and inject the stripe token with their JS API, then resubmit.",1543469245.0
endlessvoid94,See the JS on this blog post https://davepaola.com/2018/09/30/stripe-elements-and-turbolinks-5/,1543469931.0
SagaciousCrumb,"Add this line to your Capfile:

`require 'capistrano/rails/migrations'`

That will trigger Cap to run migrations on the server during every deploy. 

I'm not sure what you mean by it failing to recognize symlinks - if those weren't recognized the app wouldn't boot at all. ",1543429058.0
TotesMessenger,"I'm a bot, *bleep*, *bloop*. Someone has linked to this thread from another place on reddit:

- [/r/rubyonrails] [Newbie Migration Question](https://www.reddit.com/r/rubyonrails/comments/a18r74/newbie_migration_question/)

&nbsp;*^(If you follow any of the above links, please respect the rules of reddit and don't vote in the other threads.) ^\([Info](/r/TotesMessenger) ^/ ^[Contact](/message/compose?to=/r/TotesMessenger))*",1543429073.0
Aesthetikx,"Without looking in detail at the documentation you may want to try three has\_one\_attached, i.e. has\_one\_attached :music, has\_one\_attached :instrumental, has\_one\_attached :document, which you could then have as individual file inputs on a form, and display them individually as rows in a table.",1543416295.0
timlawrenz,That sounds like a case for STI. Your model that has the three files should have one of each and validate the type and existence. I wrote a response to a similar question [here](https://stackoverflow.com/a/41433711/5028816).,1543421833.0
toadkicker,Yay I don‚Äôt use Active Storage! No work this weekend!,1543397452.0
toobulkeh,Can you share the code of your form? Particularly the header and button. My guess is the connection timeout isn't re-enabling the submit button.,1543363022.0
Bubbasauru,"As far as I can tell there is no @post defined at that point in your template. The index action has a @posts variable, which is iterated over in the block starting with the line  
<% @posts.each do |post| %> in the template.

Perhaps you want to move your code into that block? I can't really visualize how it's gonna look in the end though.",1543339951.0
midasgoldentouch,"First off, just copy paste the error in your post next time. Much easier than me zooming in a bunch of times.

But your issue isn't Active Storage. You're calling the images method on a variable that has a value of nil. You need to figure out what that value is supposed to be.",1543340037.0
LeastProfessional,"You certain can.   
The problem that you have will be based in the routes. Just define a route as. The way routes work is that it will make its way down the file and when it sees a route that matches what you got it will use that

    get '/posts/:article' => 'article#show'
    get '/articles/:article' => 'article#show'

This will look for the URL '/posts/:article' so in the article controller or wherever you're doing your logic, you can access that information by accessing the params\[:article\].  


Happy coding! :)",1543310702.0
SuccessfulBread3,Well in ruby and/or rails... Remember DRY... Maybe a gem can do it... Like this one perhaps? https://github.com/norman/friendly_id then just adjust your routes as per the comment below.,1543321243.0
Tall-Paul,"I highly recommend it. The worst that can happen is you start learning about the huge ecosystem the front end world has created and you have more knowledge and understanding about how it works and what new features are out or coming out soon that you can take advantage of. 

Disclosure I work as a react developer for my full time job and love it compared to angular. I did come from a rails background and still use rails for personal projects when I need an api.",1543322389.0
sdn,I use React-Rails frequently - it‚Äôs actually quite fun!,1543326086.0
jillian_sucks,Go for it.  Not sure what the market is like near you but React is super popular right now so it looks good on a resume and it's a lot of fun to work with.  Especially worth it if the course is free.,1543311987.0
webappguy,"I'd absolutely go for it; being able to say you're familiar with React + it's ecosystem will do nothing but help you. At minimum, it's a buzzword people are looking for in listings frequently, and more likely you'll pick up a valuable skill and level up üòÑ",1543355812.0
gregnavis,"Most of the time React is a code-word for Single Page Apps and I'm [strongly against them](https://www.gregnavis.com/articles/the-architecture-no-one-needs.html). However ...

The first step to answer your question is to **define your goal**. You mentioned getting a job. Assuming it's the only goal go to a few job sites, make a list of companies you'd like to work for and list and count skills they need.

You're likely to see React near the top of the list and if you decide other items you'll discover aren't that important then go for it.",1543338911.0
der_christoph,Give VueJS a chance instead... you will love it,1543348517.0
jryan727,"I believe this is what you want:

Installer:
belongs_to :platform

Platform: has_one :current_installer, -> { order(version: :desc) }, class_name: ‚ÄòInstaller‚Äô

Sorry for formatting. On mobile. Replace the stabby lambda scope (order...) with whatever logic sorts by version descending. Rails will select the first one because it‚Äôs a has_one relationship. ",1543297082.0
henrebotha,I'm sorry if I'm being completely stupid but I don't understand at all how this is any different to has_one/belongs_to. ,1543301595.0
P013370,"I know there are a lot of great tutorials on setting up RSpec and Capybara. However, I found that most were either outdated, or didn't cover how to configure Database Cleaner and Factory Bot Rails. So, I wrote this tutorial in order to help anyone like me.",1543279575.0
noodlez,"For me, rspec + factorybot are fairly standard and [easy to get started with](https://medium.com/@lukepierotti/setting-up-rspec-and-factory-bot-3bb2153fb909).  ",1543276420.0
jryan727,"My typical stack looks like: rspec-rails, capybara, selenium-webdriver configured to drive Chrome in headless mode via [chromedriver](http://chromedriver.chromium.org/) for JS system tests, factory\_bot\_rails, valid\_attribute, and guard-rspec.

Check all of those out, you'll find great install/setup docs in their READMEs, and plenty of tutorials online to get started.  The Rails guide also has some great info on testing (you'll just have to convert the syntax to RSpec).

Also note that RSpec is a preference, not a requirement.  Rails uses MiniTest out of the box, which is a fine choice, and maybe even a great starting point.  I think with Rails it helps to start with the convention, then try out whatever others in the community recommend, so you can fully understand (and maybe appreciate) why they choose the alternative.

&#x200B;

Edit:  Without writing a whole blog post of my own, my basic testing strategy looks like this: Write system tests for every high level feature.  Use a JS driver if JS is required, otherwise stick with rack-test, because it's way faster than driving a real browser, headless or not.  If there's a lot of branching logic, you don't necessarily need to cover everything in a system test.  For logic that's not tested in a system test, write unit tests for the relevant model/PORO/decorators/etc. methods and controllers.  I try not to test the same thing twice, so if something is covered in a system test, I don't always write a unit test around code used in that feature.  If it's a complex method, though, I will write a unit test if other logic branches are being tested, just so those unit tests completely cover the method.  When writing system tests, don't be afraid to test multiple things in the same test.  They are testing a feature, so expect multiple assertions, compared to unit tests, which might only have one assertion in a given test.  System tests are slow to set up, so making multiple assertions relating to a single feature in a single system test is a worthwhile trade-off.

Aside from blog posts, reading through the tests of gems and larger Rails projects (e.g. Discourse, etc.) will be immensely helpful.

Lastly, look at tests as accomplishing the following: Testing for *regressions* as your code progresses, and documenting your code.  Someone should be able to read your tests and understand what your code is supposed to be doing (that's more of a spec/rspec mentality, but applies regardless of if you are using a testing library that ends in ""spec"").  Keep both regression testing and documentation in mind when writing tests, and that will help guide you.",1543280678.0
andyw8,"There are lots of tutorials covering the tools, but to write good tests you should have an understanding of the fundamentals. I'd recommend either of these books:

* [Rails 5 Test Prescriptions](https://pragprog.com/book/nrtest3/rails-5-test-prescriptions)
* [Everyday Rails Testing with RSpec](https://everydayrails.com/)

There's also the [Test Driven Rails](https://thoughtbot.com/upcase/test-driven-rails) course, now free on Upcase.",1543277795.0
oztrax,"I like minitest. Rspec has a lot of fans, and probably rightly so, but to me it always feel like one more thing to add/learn/maintain and deal with.",1543287795.0
bralyan,"People's knee jerk reaction is rspec or minitest, which are great for unit tests. I think most of the time people then start testing their implementation. It's what people gravitate towards. Watch a lot of tutorials and you could get to understand how to test the actual functionality (i.e. testing inputs and outputs.)

&#x200B;

I would instead recommend looking at cucumber. It allows you to create scenarios, with features in a gherkin syntax. I.e. Given I am a user, when I click a button, then something happens.

&#x200B;

Usually your users only really care about how the system works. Not if the methods work. You can show these to your product owners, investors, whatever. You know the feature works, because you can prove it all the time.

&#x200B;

I test with rspec, cucumber and capybara. I would start with cucumber, then rspec, then capybara. If it's a front end heavy app I would rather do capybara before rspec, but I do mostly API development.",1543280320.0
bhserna,"I use rspec... 

To plan what to tests, I do it by designing my code with a use case approach and trying to test the logic out of the framework... This post explain the approach a little http://bhserna.com/2018/how-organizing-your-code-in-use-cases-can-help-you-to-start-your-projects-using-tdd.html

But if you are more in the ""Rails way"" of doing things or you are just starting with ruby and rails. I also recommend you to start with the content from thoughtbot https://thoughtbot.com/upcase/test-driven-rails",1543616412.0
GroceryBagHead,"If you never wrote a test before I suggest sticking with what comes out of the box. Rails guides are decent starting point: https://guides.rubyonrails.org/testing.html

Minitest + Fixtures will be enough for anything you want to test in Rails. 

Rspec + Factories are not necessary. Rspec has its moments but after writing it full-time for several months now I still can't stand how verbose and unreadable it can be. Factories are the devil and are a great way to get your non-trivial sized test suite to run for several hours. ",1543286906.0
P013370,"Shameless Plug: I JUST (like 10 minutes ago) wrote a blog post detailing [how to configure Rails for testing](https://stevepolito.design/blog/configure-rspec-and-capybara-for-ruby-on-rails/).

You'll need RSPec, Capybara, Factory Bot Rails and Database Cleaner.",1543279339.0
plainprogrammer,"I rely heavily on RSpec, FactoryBot, and Capybara. I try to apply a BDD approach that defines tests based on expected behavior. When feasible I like to drive features from the outside first. That kind of process tends to keep me focused on the simplest possible implementation. I like this book from Pragmatic Programmers for introducing folks to testing with RSpec: [Effective Testing with RSpec 3](https://pragprog.com/book/rspec3/effective-testing-with-rspec-3). This is another book that is good for introducing testing into untested, or poorly tested Rails applications: [Rails 5 Test Prescriptions](https://pragprog.com/book/nrtest3/rails-5-test-prescriptions).",1543280418.0
ShoddyDiscussion,"I like rspec + capybara + factorybot - works for me - the built in mii test works for a lot of people.  Thing is, any QUALITY rails tutorial will teach you TDD",1543282870.0
manys,"minitest, factorybot, and guard, but I'm trying to get away from factorybot wherever possible.",1543301416.0
IllegalThings,"We use swagger to define our APIs. This helps us design our APIs, provides documentation, and makes it easy to mock them out. The advantage is that you can define what an API should look like before actually implementing it. Then you can implement the API and have a separate team write whatever they need to to consume the API using the automatically generated mocks. It allows us to do work in parallel. After the API has been built out its a useful tool for documentation, since you can actually send real API calls to see how everything works.",1543201393.0
stepfresh,[rspec_api_documentation](github.com/zipmark/rspec_api_documentation) is decent if you use RSpec and have enough coverage,1543200708.0
d4be4st,we use [dox](https://github.com/infinum/dox) to generate api blueprint documentation from tests,1543214970.0
cmd-t,"We built a graphQL-based api, which is self-documenting. It also generated a complete schema so you can use other tools to mock it if necessary. GraphiQL is a great tool for frontend devs to explore your api. You can check GitHub's v4 api as an example.",1543220658.0
jdickey,"We use [YARD](https://yardoc.org/) in Markdown for all our code, and Swagger for RESTish APIs that we publish for use by other projects. There's a fairly nice Gem called [`swagger_yard`](https://www.rubydoc.info/gems/swagger_yard/) that lets YARD parse your Swagger doc as well, which is Handy.",1543203324.0
glacials,"A bit unconventional but I've had success using [JSON Schema](https://json-schema.org/) to describe responses and generating docs from them with another tool (like [docson](https://github.com/lbovet/docson)).

I like this solution because the schema files make great tests.",1543218912.0
firstpantsthenshoes,APIpie worked nicely at my previous work. Generates a website under an engine for your clients to browse. Requires only metadata in your controller and populates examples in your doc using your test data. Would recommend.,1543235669.0
mycentstoo,apiary,1543208301.0
nayiaw,We use Swagger for documentation as it's out of the box using [grape swagger gem](https://github.com/ruby-grape/grape-swagger) as we're using Grape for API endpoints. No extra work needed to maintain the documentation other than providing proper params definition and a description on each endpoint.,1543213338.0
so_just,rswag. Lets us generate docs from specs.,1543224599.0
cwitty1988,For rest we use https://github.com/lord/slate and as mentioned before GraphQL self documents. If you‚Äôre just starting out GraphQL is the way to go in my opinion. Only get what you ask for rather than a constantly expanding rest api. ,1543248790.0
toadkicker,Thanks all I think I'll end up going with Swagger or rspec_api_documentation as those are the closest match for our stack. We haven't gone down the GraphQL path yet but may as the application gets ground.,1543301794.0
oniksfly,We use Postman,1543215570.0
seainhd,You will have better luck by creating a fork and creating an issue linking to the fork.,1543213062.0
Evexor,"Hey, I'm open to contributing. I'm learning rails to start contributing to rails.

But I would like to explore how we can improve payola-payments, do you have any plan on what to improve, or what bugs to fix.

I see the repo has 0 issues. and do you know why the maintainer left the project?",1543237334.0
nielsbuus,"I don't know the guy, but I have some experiences with the three patterns being taught. Is there anything you'd like to know?  


BTW, I think 700 USD sounds like a bargain if there is a lot of mentoring involved. If it's just one-way courses, then you can get it for free or cheap elsewhere.",1543071915.0
andyw8,"The author is a common poster on here:
https://www.reddit.com/user/andrzejkrzywda",1543086438.0
TheMoonMaster,"Definitely look at some of their blog posts demonstrating their approach. Personally I think it makes the code significantly harder to follow and maintain and have experienced that in an app that took similar approaches. 

Do I think it‚Äôs worth it? No. But your opinion may be different. ",1543078050.0
seainhd,"Read their blog posts and look at Gems 
 they open source.

If those don‚Äôt impress you, stay away.",1543125070.0
damianborowski,"I am quite interested in the whole DDD topic and so I bought a book which was an essence version of the classic blue book by Eric Evans. I was then looking for something in the context of how to implement it in Ruby/Rails. 

I stumbled upon their book - Rails DDD for a good few bucks and unfortunately was disappointed with a very laconic approach to the subject.

Despite I read their blog and follow Andrzej (who will run the class) on Twitter, after reading their book, I would never consider spending that much money for this Masterclass.",1543136252.0
jujubean67,"If you are interested in DDD I suggest you read the books (DDD from Eric Evans and especially _Patterns, Principles, and Practices of Domain-Driven Design_) because:

1. they present what DDD is and isn't
2. they tell you that more often than not (i.e. for most web apps) you don't need DDD, CQRS or event sourcing. 

As far as Arkency is concerned, I've been a reader of theirs for a while now. They have released some really good stuff (Fearless Refactoring Rails Controllers) but their take on DDD in the book _DDD in Rails_ felt really underwhelming to me (especially compared to the already exsting material on the matter). It was them mostly just explaining various technical pattenrs in Rails and promoting their event store implementation. I got the feeling that  they were not experts in this and were just out to substitute one hammer (CRUD for everything) with another (DDD for everything).

PS: a similar project is Eventide, you might want to check them out as well: https://eventide-project.org ",1543149516.0
sanjibukai,"Thanks..

Do you know if there are associated online material (PDF, source code, etc.) available?",1543048440.0
BitFlow7,Thanks for sharing!,1543081325.0
not_enough_bacon,Check out ahoy: https://github.com/ankane/ahoy,1543026834.0
toobulkeh,"If you don't know yet, I'd suggest checking out [Segment](https://segment.com/). Integrating a single data warehousing platform is a great solution to switch out marketing tools quickly. It provides 1 source and a few destinations (like Google Analytics) for free up to a certain point. It gets more expensive quickly, but it's a great starting point in my past usage.

Hope this helps",1543027203.0
confused-penguin,"For backend tracking I like Segment. You can send events to Google Analytics or dozens of other places with the same code.
https://github.com/segmentio/analytics-ruby",1543027239.0
thecrentist0,Heap + Google Analytics + Amplitude,1543066445.0
CaptainKabob,"I do all of my analytics tracking using Google Analytics. Out of the box with their js snippet pageviews will capture all of the things you're looking for. You can also use javascript to fire off events (like viewing a modal) or use the backend API if you need to track backend events (for example, some of my metrics involve redirects to 3rd party websites). For GA backend api I use [staccato gem](https://github.com/tpitale/staccato) ",1543209862.0
IllegalThings,"Yes, just make sure your database has an index on the foreign key. You‚Äôd probably also want to add indexes to the fields you‚Äôre frequently filtering on as well. Indexes slow down your database inserts, but if you‚Äôre only adding three puzzles a week this shouldn‚Äôt be a huge concern.

Your process for importing data will probably be the bottleneck. I‚Äôd recommend doing it when site load is low and use bulk inserts and background jobs. Hard to get more specific without knowing more details about how the data is loaded. ",1543008865.0
gregnavis,"Merely defining an association won't have a huge impact. The devil is in the details. How are you going to use it? If you fetch 100k models into memory then this will definitely increase memory pressure. If you delegate computations (e.g. average scores) to the database then it shouldn't be a big deal. It'll be even less of a problem if you cache the results.

We'd need to know more how you'll be using that to offer more specific advice.",1543009207.0
ShoddyDiscussion,"Well - that depends on the make up of the solutions I would guess, but rails does not really have that many scaling problems...1 to many associations should scale in all database systems, has\_many is just a short cut that's database agnostic",1543008552.0
SminkyBazzA,"In addition to the points made by others here, you should also look into setting up a counter_cache and also understand that you should always use .size instead of .count when you want to know how many results you're going to get. There are also special helper methods like .any? .empty? . one? etc, that are optimised for efficiency ",1543011969.0
gregnavis,"If I understand correctly there's the `bookings` table that has `user_id`, `amenity_id`, `status`, and `date`. The rule is there can be at most one booking for a given `amenity_id` and `date` with `status` 1 but there can be an arbitrary number of bookings with other statuses.

If you look at [the docs](https://api.rubyonrails.org/classes/ActiveRecord/Validations/ClassMethods.html#method-i-validates_uniqueness_of) you can see there's the `scope` and `conditions` parameters. You want to use both:

    validates_uniqueness_of :amenity_id, scope: :date, conditions: -> { where(status: :approved) }

You need to keep in mind that this validation does not enforce uniqueness in 100% of the cases. A race condition leading to a violation of the rule is possible. If you want to protect yourself against it you need to enforce the constraint at the database level. An ordinary unique index won't work so you may need to extract confirmations into `booking_confirmations` with `amenity_id` and `date` and create a unique index on that table and these two columns. You would add a `BookingConfirmation` only after setting the booking status to `approved`.",1543010417.0
Rentapart,"Multiple users are able to try and book on the same date for the same amenity, but once one is approved, other users shouldn't be able to try and book that one again?",1543000103.0
ixtechau,"Maybe I'm not understanding correctly, but why not just do a check when amenity is shown or booked if it's been approved already? If it has, tell the user it's unavailable?",1543000597.0
bakineggs,validates\_uniqueness\_of can take a conditions argument that does what you want (see the [validates\_uniqueness\_of docs](https://apidock.com/rails/ActiveRecord/Validations/ClassMethods/validates_uniqueness_of) for example usage),1543006038.0
Serializedrequests,"Others have covered what to do in Rails, but I also recommend defining a unique index in your database if this is a situation that really should never happen. Inevitably you will find a situation in which Rails will let something get through, OR the performance of the validator starts getting really bad. I believe that it is always good to use the database to enforce strictness wherever possible (without triggers or stored procedures) as the last defense. I have definitely had Rails fail on me a time or two, or work in a way I didn't expect, and the database saved the app's consistency.

To keep it nice for the user you can catch the database constraint exception and turn it into the same error.",1543154392.0
djezzzl,"Hi, besides it's not related to the question but I should recommend you to use `validates_db_uniquness_of` from [database_validations gem](https://github.com/toptal/database_validations) if you want to have true and fast uniqueness validation.",1543662431.0
pa_dvg,"Yes, you would provide a controller to respond to updates for whatever other objects you want to update",1542932837.0
madmate,"If these models belongs to another model you could use accepts_nested_attributes_for on the parent model.

https://api.rubyonrails.org/classes/ActiveRecord/NestedAttributes/ClassMethods.html",1542965803.0
lolao92,"Best practice is to have separate controllers for each model that a user can update. However, you should also think about the relationship between the models and how it translates to the front-end. For example, a User has many Businesses (the model relationship), which they can update so in order for a user to see all their businesses, best practices says you'd have a business_controller that a user can see a list of their businesses & can edit or delete them too. The businesses_controller just cares about Businesses, the users_controller just cares about Users.

Edit: however, best practices are only guidelines & it's up to you to ultimately decide when it's necessary to break the rules. Depending on your model relationships (can a User have many Businesses? can a user have many ContactInformation?) you may be fine updating in the User controller for now & consider abstraction when necessary.",1542936181.0
kenc138,"For those interested, in response to this feedback, the approach i took was to re-evaluate how I arranged my models, and use accepts\_nested\_attributes\_for in combination with x-editable-rails which has built-in helpers that work with nested models.

&#x200B;

For example, I had 2 models for addresses.  One for WorkAddress and the other for HomeAddress.  It worked better to change this to a single model called Address and simply add a type field to differentiate between address types.  The same logic applied to the other models for phone numbers, specializations, educations, certifications, etc.

&#x200B;

If you're looking to do in-place editing involving nested attributes, x-editable-rails is a decent gem choice.

&#x200B;

There are additional white listing implications if you're working with Devise as Devise requires you inform it of nested attributes.  People forget to do this and end up on SO after struggling with errors.

&#x200B;

[https://github.com/plataformatec/devise#strong-parameters](https://github.com/plataformatec/devise#strong-parameters)

&#x200B;

Thanks again :)",1543007521.0
rodriglu95,"I agree with doing it the API way requires a lot more work however it's more flexible as it enables you to work with one of the great front-end frameworks like react which is great for use cases like this. 

Since you don't want to do it that way, then you can just use normal ajax and let your rails controller respond to json request appropriately. So just have a normal button, it does not have to be a form button, and whenever someone clicks it run javascript code to make a post request with the beat id and then handle the json request in your controller. After that just send back the OK json response code. ",1542921363.0
kris9999,try stimulus.js ... it‚Äôs the easiest way,1542953864.0
waiting4op2deliver,"You and the entire web dev community üòÇ

https://guides.rubyonrails.org/asset_pipeline.html
https://github.com/rails/webpacker/blob/master/README.md

Start here I guess. Keep in mind asset pipeline answered the same questions as webpack , grunt, and a half dozen build systems before nodejs had wide adoption.",1542910252.0
jryan727,"The current state of things is really confusing. Basically, you can replace sprockets/the asset pipeline with a webpack. A single webpack replaces a single asset manifest, but unlike sprockets, it packages JS, CSS, and images together. 

Why use Webpack? You get ES6 support out of the box (thanks to Webpacker, which is the library that configures Webpack for your Rails environment and abstracts some concepts and bridges the gap between Rails and Webpack). That‚Äôs a nice plus. You get modern JS things like tree shaking, modularity, etc. Basically, if you want to develop modern JS in a Rails app, you can use Webpacker. 

npm: this manages JS dependencies (think of it as bundler and rubygems, but for JS). Rails didn‚Äôt really have a good solution for this before. You had to use a Rails gem that wrapped the library or rails-assets.

Yarn: this also manages JS dependencies. Using npm (lol). You can find resources that go into greater detail why one might use yarn instead of npm to manage JS dependencies. The Rails way is to use Yarn. 

So let‚Äôs say you want to install a JS dependency via Yarn. How do you use that in your application? With either sprockets OR a Webpack! Both work. You can include your JS library installed via Yarn in a sprockets manifest or import it into a file in your Webpack. Your call. 

Also, you don‚Äôt have to choose. You can use the asset pipeline and Webpacks. I have a project that has this somewhat standalone video player built into it. That player is built using Vue.js and packages its JS/CSS with Webpack (which is really cool because we can use .vue components). The rest of the app uses the asset pipeline/sprockets.  

I‚Äôm by no means an expert here. I‚Äôve been a rails developer for 8 years and this topic still confuses me. If I‚Äôve made any mistakes or left anything out, I hope someone can drop in and correct me. This is what I‚Äôve gathered from trying so sort this out myself. ",1542914160.0
henrebotha,"npm manages JS dependencies.

Webpack (which webpacker wraps) is the actual build tool, handling stuff like minification and so on. The asset pipeline is conceptual; its implementation is sprockets. Webpack replaces sprockets. 

Babel is a JS compiler/transpiler. It does stuff like translating cutting-edge JS into more backwards-compatible forms. ",1542913141.0
htom3heb,"Rails is amazing for building APIs. At the current moment however, it's front end story is antiquated and outdated - sprockets is on life support and doesn't support ES6 out of the box. Coffeescript is dead. Turbolinks is decent, but doesn't play nice with many third party libraries (including React/Vue/Angular) without configuration. Webpacker, while promising, is hard to get started with and defies Rails' ""convention over configuration"" by giving very little structure or prescriptions for your front end. Moreover, DHH has philosophical differences with the modern state of front end dev, so don't expect any big changes addressing these issues.

When I make an app with rails as the backend now I use create-react-app or vue-cli and have separate repos for the front end and back end.",1542917385.0
noodlez,"Start with understanding the default rails asset pipeline. Then expand your understanding to other options, IMO",1542917499.0
gaffneyc,"Do you have an instance method _and_ class method named `fetch_five_first_result`?

The error appears to be that you‚Äôre expecting a method on the class to be called but it‚Äôs not defined. If you‚Äôre dealing with an instance method use `expect_any_instance_of` similar to the expectation above the one that is erroring.",1542890129.0
pa_dvg,"A couple things.

The first thing is that you never call subject, so it‚Äôs never run. For a message expectation you‚Äôll want to set the expectation then call subject to test it.

The second thing is your allow any instance test double will prevent the method from being called. In this case your double and expectation are redundant. You should use the expectation in a context where you want to test the message, and you should use the double in a context where you are testing using the results but want to mock out the fetch as a dependency. Not both.",1542892322.0
rakedbdrop,"Did you run the migrations? heroku run rails db:migrate 

Or run heroku logs and let us see what you have",1542861572.0
anonyfool,"So when you say you have your postgres database set up, I'm assuming you mean on your local development system.

Did you start with the heroku tutorial project just to make sure everything was done correctly or are your trying to convert an existing project to run on heroku?

There are command line tools with heroku that let you run the rails console so there should be enough of an error message there to diagnose the issue.  Your text is not specific enough - do you have data on the heroku server, it could be that there is simply no data in the table from the text you have provided at this point. There's a different error if postgres is not running or it cannot connect to the postgres instance.",1542851293.0
poorlyObfuscated,">I put them there manually via Navicat. 

Why not use a seeds file? 

>I'm just trying to display a simple var = Model.all

Are you able to select all rows from the 'Model' table in the db using Navicat?

How are you testing? Loading a page that calls that function and then checking the log?

Did you use the scaffold command for your models? Do the default routes for those models work?

>it can't call #each on nil, leading me to believe that Heroku isn't connected to my database.

I think you'd get a much different error if the db was not actually accessible. ""can't call #each on nil"" just means no records were returned.


",1542855142.0
pa7uc,"You have records in your production database on heroku, not just locally? How did they get there?

If you didn't have a connection to *a* database you would get an error, not `nil` (and I'm not clear on why it is saying anything about `each` in this case).",1542851412.0
xxkilr0yxx,"Post there log from the error. The nil error sounds like it could be a lot of things, but most likely an incomplete record, (i.e part of it being set to nil and .each being called on nil )",1542867551.0
AdvancedPizza,"Try running a rails console... can‚Äôt remember what that is in Heroku land... ‚Äòheroku run rails c‚Äô ?

That will tell you the errror right away usually. ",1542868970.0
gregnavis,"1. Ensure you the Heroku PostgreSQL add-on is present and `DATABASE_URL` is defined in the app settings.
2. Run `heroku run bundle exec rails c`.
3. Call `ActiveRecord::Base.connection`. This should return a valid database connection.
4. Try running a query, e.g. `ActiveRecord::Base.connection.execute('SELECT 1')`.

If any of the steps fail then please paste the output. If not, then it seems all is hooked up properly.",1542885146.0
Jonathan_Frias,`after_save`?,1542849432.0
gillianmounka,"You can have has_many_through associations with belongs to associations. 

    class Region < ApplicationRecord
      has_many :provinces, dependent: :destroy
      has_many :districts, through: :provinces
      has_many :posts, through: :districts
    end
    
    class Province < ApplicationRecord
      belongs_to :region
      has_many :districts, dependent: :destroy
    end
    
    class District < ApplicationRecord
      belongs_to :province
      has_many :posts
      has_one :region, through: :province
    end
    
    class User < ApplicationRecord
     has_many :posts, dependent: :destroy
    end

    class Post < ApplicationRecord
     belongs_to :user
     belongs_to :district
     has_one :region, through: :district
    end

So you can actually have 

    Post.find(:id).region

To get the region of the post. Or

    Region.find(:id).posts

To get the post of a given region. ",1542820734.0
mrfrosti,"Looks resolved so just additional thoughts: 

&#x200B;

Joining through this many tables could probably benefit from some indexes as your table records grow in size: [https://guides.rubyonrails.org/active\_record\_migrations.html](https://guides.rubyonrails.org/active_record_migrations.html)

&#x200B;

Additionally to enforce integrity you might consider how you handle deletions. e.g. should deleting a region also delete corresponding provinces, and districts in those provinces? Rails has a \`dependent:\` argument you can use for this management: [https://guides.rubyonrails.org/association\_basics.html#options-for-belongs-to-dependent](https://guides.rubyonrails.org/association_basics.html#options-for-belongs-to-dependent)",1542839004.0
WorldUponAString,"1. Vim Guide
2. This was made by me to help new members on my team ease into Vim (I am quite partial to Vim). It allows you to search basic commands and also allows for vimrc configuration.
3. [Here](http://www.tristinbaker.com/vim_commands) it is.
4. [Here](https://github.com/tristinbaker/Website) is my github. 
5. I have been a Rails developer for 5 months now. Before that, I was in school doing exclusively C++.
6. I'm open to any suggestions.
",1543108560.0
ViniStock,"1. Sail
2. Sail is a lightweight Rails engine that brings an admin panel for managing configuration settings on a live Rails app
3. [https://github.com/vinistock/sail](https://github.com/vinistock/sail)
4. I've been coding for about 5 years
5. I would really appreciate feedback, suggestions on the dashboard looks, or ideas for new setting types. Additionally, I would love to have a custom icon made for Sail to be used as the project's symbol and favicon, but I don't have a lot of designer skills",1543365023.0
shrewdpixeldesign,"1. Loyal Online
2. An experiment to use ActionCable for multiplayer networking. In this example I've set up a very basic wireframe of an MMO using html5 canvas.
3. RubyOnRails,ActionCable, Redis, HTML5 canvas
4. It's at https://shrewdpixel.com , under ""Loyal Test""
5. I'll be posting on Github this week after some more testing and a heavy refactor.
6. 2 years as freelance RoR developer, 8 years as a javascript programmer.
7. I've been experimenting with ActionCable to build an example gaming engine with multiplayer networking. Since there aren't very many non-chat examples of using ActionCable, I've had to get rather creative. But after a couple months of my own testing, I think I have a decent enough example to let others test it.

It's still being built, but enough is there to see how it's working.

After adding some more tweaks(like switching to AnyCable this week) and testing, I plan on releasing it on Github as RAGE(Rails Action Gaming Engine) and Rails MMO.

Please feel free to check it out, and any constructive feedback would be greatly appreciated.",1544370102.0
henrebotha,Stop posting code for a second and use English words to describe what you're after.,1542792609.0
SureLetsDoAnother,">I'm doing something wrong or i need to set up the routes to have the ability to allow multiple update actions?

It does sound like something is going wrong, and that it might be that you're trying to do too many things in a controller action.

Could you describe the behavior you're trying to account for here?",1542785713.0
cmd-t,"You are going at this completely wrong. You should split all these different update action among different controllers. You should also use service objects or form objects to handle the different scenarios. Attaching a video to an order is not the same as cancelling.

Your code also doesnt make any sense. 

 `format.json { render json: @order.errors, status: :unprocessable_entity }`

happens if a user isn't signed in? You don't even do anything to @order so errors will always be empty. You also don't seem to know how if/else works. After an @order updates succesfully you call format.html or format.json multiple times.

>Anyone have any ideas on how to improve this?

Yeah, you need to start thinking more before you start coding. You seem to try to brute force solutions by writing and rewriting code. We've seen this in your other posts on this sub as well.",1542832039.0
salvor_hardin1223,"I‚Äôm not positive but I believe that due to the nature of the routes.rb file you are going to have to split your logic after examining the params object.  As far as I know the routes file doesn‚Äôt have the capability of splitting by params.  You could probably come up with a cleanish way to accomplish your goal with some Rack meta programming, or you could use a before_action.  Best of luck with your project!
",1542780335.0
jakenberg,"Callbacks are often [called more than once](https://stackoverflow.com/a/11805515/1631695). Aside from SO, I would suggest not using callbacks at all. i.e. why not just `PostNotifierRelayJob.perform_later(NotifyFollower.create!)`?

Additionally, avoid using memory pointers in ~~active~~/sidekiq jobs arguments (activejob uses [globalid](https://edgeguides.rubyonrails.org/active_job_basics.html#globalid)). Who knows if that pointer will still point to what you expect by the time the job re-runs or whatever. Common practice instead is to pass id as an argument then look up record in the job. This ensures your jobs are **idempotent**: `PostNotifierRelayJob.perform_later(notify_follower.id)`

&#x200B;

Edit: amended activejob globalid (thanks @slvrsmth)",1542758569.0
Code4Greatness,It's working now..Application.js had action_cable required in it. Which means it was being required twice.,1543002391.0
jakenberg,"Both are fine. I'll use will\_paginate for example.

in\_groups\_of is a sort of dirty pagination. Either gem is going to *replace* it. 

You should handle pagination at the controller level because you will be accepting a 'page' parameter from the client:

`@posts = Post.paginate(page: params[:page])`  
Now in your client you don't have to worry about it because the page number is in the url - `http://localhost/posts?page=15000`:

`<% @posts.each do |group| %>`

So this is fine, but you might want to get a little fancier than that since each page change will completely reload the page in this case. An ajax call is your answer, but the concept remains the same.

&#x200B;",1542768758.0
midasgoldentouch,"Sure. The first thing you'll want to do is make it so that the edit route isn't displayed in the view of the current user is not the post author. But that just keeps them to navigating to the page: what if they just type in the URL? Then, in the controller, you'll want to check that the current user is the post author, and redirect to another page if they're not.",1542746373.0
Bebop-sama,"I have a vague idea, I couldn't tell you exactly how but your user A would have many posts. this should give your user and post a I'd that is related to User A. specifically its I'd. 
so User A has an I'd of 22, that post will have an I'd of 1 and 22. then all you would do is show the edit link if the post matches the users id.",1542744071.0
SureLetsDoAnother,">To be more specific I don‚Äôt want that the route posts/1/edit exists for the user B

I'm curious, why do you want this?",1542793726.0
boonestock,"Option A) seems clear, technologies all very relevant to today's field, better city, higher pay.

Option B) vague, php, who knows what you will work on, lower pay.

As you have described them, A seems way better.",1542734392.0
beatlefreak9,"I agree with others here. Also it sounds like option A will have you diving into a large existing codebase which is an extremely valuable skill to have, especially if you've never done anything outside of coursework for school.",1542735382.0
meisteronimo,"I'm confused on the rates you describe, if they're per hour, you're making bank and should DM me which-ever job you're not taking.",1542734758.0
meatball_parm,"As someone who got his first software engineer job a few months ago, I would absolutely take the the first opportunity.  The description is much more specific about the tech you‚Äôll be working with and the expectations seem much clearer.  You‚Äôll also be working with stacks that are very much in demand, namely React, Rails, and Postgres.  Working on enterprise level software is going to allow you more opportunities to grow and, from my understanding, the chance to work with one large codebase, as opposed to multiple smaller codebases.

The overall vibe I get from the first post is they‚Äôre looking for someone inexperienced that they can teach and groom, maybe to hire full time even.  The second post makes me think they‚Äôre looking for developers that are cheap and can get actual work done for them.  In other words, the second one may be more interested in your final results than how you grow as a coder.

Hope this helps and good luck!",1542735669.0
mrfrosti,"Since no one has touched on the M in MEAN, I would \_highly\_ encourage you to learn SQL and good database design no matter which internship you take. This is especially true if you are working on an e-commerce product where data is very relational and referential integrity is very important. Once you understand relational database, then I think you can add on document oriented databases. SQL is one of those skills that has been around, and will be around for a very long time. It doesn't matter what languages, frameworks, libraries, hosting environments you use, SQL will always be a crucial skill.

&#x200B;

As for your question of  which internship, this goes back to the (timeless?) debate of whether Ruby/Rails is still relevant in 2018. Javascript has made a lot of progress but I appreciated the framework approach when I started. Ruby on Rails is very opinionated and there is typically some consensus around tooling, and practices. Javascript is still very much a build your own framework from a collection of libraries. I think that takes a higher degree of skill and familiarity. I don't think either option is a bad choice - just make sure you learn your tools well, and don't dismiss something just because its been around for a few years and absent from the front page of Hacker News.",1542740500.0
midasgoldentouch,"I mean, you're asking a bunch of Rails devs if you should take a rails internship :P

But really, I'd go with the first. You get paid more and they seem to have clearer expectations of what you'll be doing. So long as they don't just stick you in a corner with little to no mentorship you'll be fine.",1542736744.0
jryan727,Definitely A. Stack is relevant. You‚Äôll learn more. ,1542739927.0
fentanyloverdose,"MEAN stack until React came along. So between A and B, A definitely. My guess is RoR + React serves up views? API with Node? Can't go wrong",1542740447.0
PM_ME_THICK_LADIES,"The issue isn‚Äôt php, but what you‚Äôll most likely code for, and that‚Äôs Wordpress for website. Go with the rails gig. You‚Äôll build more skills that allow you to move on to a better software engineer role. ",1542767302.0
wmjbyatt,"First let me say that the most important part of an internship is going to be the quality of the mentorship, and that's not something I--or any of us--can judge based on this information.

That having been said, the Rails one looks like it has a more marketable set of skills.

In particular:

- PHP is dying. There are plenty of PHP applications still in existence, but they're often legacy applications and fewer and fewer new applications are written in PHP every year. It's a much harder skill to find work for.
- You'll get a lot of same JS and DB exposure at the Rails gig that you would at the JS one.
- React is arguably the most marketable front-end framework right now, and that will probably remain the case for the immediate future.",1542734784.0
prescottie,"My experience started with an internship in a dev shop similar to option B and then I took a junior full stack  role similar to option A. 

Working in an enterprise level environment has really improved my coding.  I think for someone starting out, like myself, getting into an enterprise environment will allow you to go much deeper into design patterns, best practices and creating stable scalable code, which are skills that are transferable between tech stacks. 

I think working in a dev shop doing small-medium sized clients, you often get away with no penalty for taking shortcuts or not learning how to follow best practices at the cost of delivering on time to clients. Whereas when your working on enterprise software, there is more incentive to deliver stable, scalable code, otherwise you accumulate technical debt. 

I would recommend option A. But either way congrats on multiple offers! ",1542748900.0
jasdeep13,Option A sounds like a better option the way you described it.,1542765230.0
Ologn,"It kind of depends on where you're at in your professional development and what you need in terms of experience.

The first job will better prepare you for future jobs entering into a large existing code base. You'll likely have better access to mentorship that can show you things from an experienced eye. 

The second job will help give you a much more well rounded perspective on the full scope of what goes into making a production project. You'll likely need to do things you have no idea how to do and need to teach yourself quickly. You'll likely have more exposure to the business side of things and how software companies work.


I guess it kind of comes down to what type of company you see yourself wanting to work for later. If you're the big company type the first one is an easy choice, but if you're the startup or entrepreneur minded sort you'll be able to pick that stuff up much better at the second one.

I'm sorry that wasn't any sort of direct advice about what sort of choice you should make. 
",1542789629.0
X678X,"Others have said it, but option A looks a lot more clear as to what you'll be doing. And the tech you'll be learning and using will be more marketable towards a future position elsewhere.",1542804010.0
pyrrhicvictorylap,"I am biased, having only worked on SaaS products but I feel like agency work doesn't give you the business experience, either.  You don't get exposed to the different functions of a company, the competitive landscape, the customers.  It's more of ""get it done"" and there's no investment from a corporate body in your development.  Large companies will often have internal development culture: lunch and learns, education reimbursement, pay for conferences and all that.

OTOH, I've heard that agencies give you more flexibility to use whatever framework so you can learn something new whilst getting paid for it.

Given you're new to software development, my recommendation would be to join a product-driven SaaS company, learning every aspect of the stack (it seems like a good one with future job prospects) and also pick up on how the non-technical aspects of software development works.

&#x200B;

EDIT: I should mention there are exceptions on both sides: agencies with a great personal development culture, and soul-sucking start-ups that don't care about you - so get a feel for the managers and leadership, too; are they good people?  Are there any obvious red flags at either?",1542737591.0
OnTheWayToFrontPage,I‚Äôm currently enrolled in a bootcamp that focuses on rails and react. Would you mind sharing your background in programming and what the job search and interviews were like?,1542740441.0
pa_dvg,"You should make a plain ruby class whose responsibility is doing this calculation and use it in whatever context you need it

EDIT: Thanks for the Gold!",1542672158.0
SnarkyNinja,    app/services/your_geolocation_service.rb,1542691922.0
MistaPBH,"Any sort of extra ""stuff"" I need to use like that I'll make a service class/object to handle it. Keeps controllers slim and easy to read. ",1542681719.0
hmaddocks,"If the calculation doesn‚Äôt need data from a database table use a plain Ruby object. 
If the calculation needs data from one table put it in the model. 
If the calculation needs data from many tables use a service object. ",1542704441.0
nzajt,"I had a hard time with this when I started working with frameworks. But I think the easiest answer is to put complex code in the lib folder, make your own classes and require them when you need them. The controllers and models should not be bloated with complexity. Just remember you have to require those classes and restart your server or console if you change your code, Unlike code in your app folder.",1542687998.0
sanjibukai,"I always end up with some differents use-cases usually shown in guides and tutorials..

And working with ""frameworks"" often gives me a hard time to think outside the box..

I recommend you the POODR book (Practical OOD in Ruby).

It gives me some clues..",1542695662.0
Oneiroy,"As many said you put it in ./lib or in ./app/services. The rule of thumb is, if it's related to a resource, it's probably a service.
You put it in lib if it's a utility responsible for a general concept that could be used in more resources, like geolocation. And if it's not specific to the context of your app, at some point you can even extract it as a gem, and use it in other apps as well.",1542707957.0
gregnavis,"I think we need to know a bit more. You said you use HTML5 geolocation which means the coords are first stored in the browser. Do you send then to the server? If so, what does ""passing to the view"" mean? Is it `@coords = load_coords`? Once you have the result, what will you do with it?

It's hard to recommend a solution without knowing these details.",1542710326.0
Ologn,"If performance is a concern, Ruby plays pretty nice with offloading computationally complex tasks to a lower level language like c++ which will run far faster than Ruby code. 

http://tristanpenman.com/blog/posts/2018/09/16/extending-ruby-with-cpp/",1542693199.0
wikitih,"If it's being used only within views, I would place it on a helper.",1542671234.0
gillianmounka,"r/SublimeText/ is a better place to ask this type of questions. However, i've used [Terminus](https://github.com/randy3k/Terminus), which you can install  through package controll, it literally opens a terminal window in a tab on sublime, and using Sublime layouts, you can have one always open. And supports Windows terminal.

There's also [TerminalView](https://github.com/Wramberg/TerminalView) which i think runs faster with lower problems, but it isn't as good as Terminus in a few cases. However, this is only for Linux/MacOS. 

In my opinion, you should use Atom or VisualCode if you really want to use a Terminal in your IDE, since it's really optimized for that.",1542820362.0
Muchaccho,"I use Sublime text on the left half of the screen, the Linux terminal on the other half, and use ALT+TAB for switching. Works well for me.",1543136993.0
unflores,I have had quite a lot of success w sidekiq or delayed job for that sort of thing.,1542652376.0
gregnavis,"I don't know enough about your app to give you specific recommendations but on a high-level you may benefit from using two things:

1. State machine for tracking the progress of a given interaction.
2. Background job system for actually interacting with third-parties.

The above assumes you need to perform a sequence of steps, e.g.:

1. Upload a product image to S3.
2. Create a product in an e-commerce platform that links to the image from step 1.

The situation above can be model with 5 states (uploading image, upload failed, creating product, creation succeeded, creation failed) and 2 jobs (one for each step) that would update the state machine.

If you tell us a bit more then we may be able to offer more specific advice.",1542659578.0
IllegalThings,"Use sidekiq or ActiveJob. They both have similar APIs, and do the same thing, with Sidekiq being more feature full and ActiveJob being built in. ",1542668899.0
noodlez,"> For example, calling an API function of another site and waiting for certain return values, then chaining different functions depending on the result.

This is the job of a background job system like Sidekiq, Resque, ActiveJob, etc..

> a state machine

You may still want to do a state machine, depending on the problem.  But the other stuff you described is just a DIY version of the things mentioned above.",1542671809.0
tongboy,"I agree with everyone else but feel it needs some more flavor.

This is a service object - it's one big task but there may be a lot of underlying tasks or complicated error handling or a bit of both most likely.

At some point you'll need to run parts of this individually or all together because something went wrong.

I'd strongly suggest writing everything so you *can* run it in the console. Future you panicking in the middle of the night will be really happy you did.

and then you throw it to sidekiq and let it scale out and go wide as much as possible for concurrency.",1542688099.0
someyoungfella,"Does this have to be done inside your app or could you use an external automation service? I'm founder of an automation platform called [Tines](https://tines.io), that would allows users build complication automation workflows - we use Sidekiq in the background.",1542799542.0
RISCfuture," You need an inner query.

    SELECT * FROM sports 
      WHERE id IN (
        SELECT sport_id
          FROM points
          ORDER BY value DESC
          LIMIT 100)
      ORDER BY created_at DESC",1542623302.0
BumpyBallFan,Highest value ordering would be `order('max_sport_points DESC')`,1542622490.0
jordanaustino,"You can specify multiple orders, sort by max points first, created at second.",1542646221.0
mlt-,I think this might be relevant. https://stackoverflow.com/questions/32585397/get-value-based-on-max-of-a-different-column-grouped-by-another-column you want to get dates for rows with highest points partitioned by sport id.,1542650925.0
norsegaud,Post your db configs. Looks like it can't find any configs.,1542589759.0
KingPretzel,"Your config is for SQLite and you're using Posgres on Heroku. Change your prod config to Postgres. The first thing I do on any new project is delete SQLite and use PG.

```
# config/database.yml

default: &default
  reaping_frequency: 10
  adapter: postgresql
  encoding: unicode
  pool: <%= ENV.fetch('DATABASE_CONNECTION_POOL') { 20 } %>
  url: <%= ENV.fetch('DATABASE_URL') { 'postgres://localhost:5432' } %>
  database: <%= ENV.fetch('DATABASE_NAME') { ""app_#{Rails.env}"" } %>

development:
  <<: *default

test:
  <<: *default

staging:
  <<: *default
  encoding: utf8

production:
  <<: *default
  encoding: utf8

```",1542591755.0
seainhd,"Please stop assuming the symptoms you‚Äôre seeing are related to any specific problems. Rails is not broken. Your setup is broken. 

Create a new app with: 

    rails new appname -d postgresql

If that app doesn‚Äôt work, then your postgres dB is not working.

If it does work, then your previous app is configured wrong.",1542592959.0
rylanb,"Hmmm does it work for `item.images.url`?

Have you checked that the upload is working / going up to your S3 bucket or wherever you have it linked to upload? 

Edit: 

The `add_column :items, :images, :string` seems like not what Paperclip gives you. `add_attachment :items, :images` would be their helper method. How did you get the 4 columns you're showing in your schema? 

Also, ou also posted `create_table ""item""` but it should be `items` ?",1542588086.0
BumpyBallFan,"You should have an `Image` model / table with `has_attached_file` so that your items can have multiple images via an `has_many :images`. Right now, it's only one image attached, and it's not uploading because of the `multiple: true` in the form.

Also, I would recommend using ActiveStorage, which is built into the newest Rails, as opposed to Paperclip which is deprecated.

https://robots.thoughtbot.com/closing-the-trombone",1542603662.0
ShoddyDiscussion,"Check out Heroku, depending on the size of your application, the deployment might be good there.  ",1542561342.0
jackozi,Since this is for a university course you could try this: [https://education.github.com/pack](https://education.github.com/pack) it also contains 50$ in credits for digital ocean or a free hobby (the tier after free) at Heroku. ,1542569120.0
JenzieBoi,Host on your own computers then use ngrok,1542564279.0
DuroSoft,Heroku,1542565880.0
Jiggins_,You could use AWS Elastic Beanstalk on the free tier. I‚Äôve used it before for a small website and it runs just fine.,1542569767.0
rorogadget,Heroku. Unless you need 24/7 up time and multiple process types the free tier is perfectly fine.,1542579283.0
world_on_wheels,"Amazon Lightsail seems to be a nice alternative to heroku. 

https://railsware.com/blog/2018/07/19/ruby-on-rails-hosting-providers-for-your-application/

Heroku deployment is easier though, at least for the first time.",1542593095.0
nielsbuus,"If you grow tired of Heroku and have a little bit to spend and feel confident in Linux, then hetzner.de can offer you a server for 3 euros per month. If you prefer to have servers available outside of Europe, you can also look at DigitalOcean. Their smallest plan is 5 USD per month.

Both are more than enough to host a small to medium Rails site together with a PostgreSQL DB and Nginx.",1542561951.0
manys,Ask your university computer lab or campus IT.,1542575697.0
msapka,AWS can be used for free and an attempt to put rails there is an interesting challenge by itself.,1542619259.0
jasdeep13,Big fan of Rollbar,1542551907.0
firstpantsthenshoes,Sentry for the win. Have it systemically on each project. Free open source self-hosted or free online for smaller projects. ,1542560792.0
frederikspang,"I'm all in for Sentry, but I've worked with Airbrake a lot for the past few years, as well.",1542564087.0
elementboarder,I use honeybadger and it works fine. Not sure if rollbar might be better or do anything differently,1542557840.0
BumpyBallFan,I like Bugsnag for error tracking and Pivotal Tracker for bug tracking. But there are a LOT of options out there,1542549855.0
JustinCampbell,"There are task/project tools where you create tasks, such as GitHub Issues, Pivotal Tracker, Asana, JIRA, etc... This is where you put work to be done.

Then there are error reporting services, such as Sentry (there are others, but Sentry is all Ove used over past few years). If a user visiting your site gets an HTTP 500 response, or a background worker fails, you‚Äôll get notified via email and can see the source of the error/request that caused it. It also lets you add a link to the error to the task services above.

Apologies if you already knew this. I wasn‚Äôt sure exactly which type of service you were referring to, so wanted to call out each use case.",1542555334.0
chadcf,You should probably clarify what it is specifically you are looking for. A way for people to report and you to track bugs? Or an automated service that collects runtime exceptions in your app?,1542568647.0
sixkorn,The one that is built into your source code management tool.,1542547582.0
cmd-t,"Use pundit or cancancan (or something similar) to define what everybody is allowed to do, then use the authorized? hooks in GraphQL to call pundit or whatever.",1542542078.0
chadcf,"I like to create service objects or ""operation"" objects to handle that stuff. So for something like deleting a user, if it's more complex than just Model.delete then I'd probably create something like a DeleteUser class that you pass in the user and it contains all the logic for that. It really depends on how complex the logic is though, if it's just a matter of ""only the owner can delete the object"" then something simpler like a 2 or 3 line delete method in the model, or an authorization gem like pundit, might be a better fit. ",1542568418.0
ShoddyDiscussion,"Business Logic goes into the Models, at least by definition, right?",1542559789.0
cwitty1988,If you have an existing api and a GraphQL api checkout the interactors gem. It‚Äôs a nice way to organize logic. ,1542560985.0
BumpyBallFan,"You made me so hesitant, I had to test it myself.

So with the same three models and their relationships as yours, and surely enough, `Author.new(book_ids: 1).save` does work, so that's not the problem.

But you can remove that line entirely: `@author.author_books.build.build_book`.

For a quick explanation, `build` will make a new `AuthorBook` attached to the author and `build_book` will make a new empty `Book`. (the following `save` creates them in the database).

(Happy cake day!)",1542530602.0
TODO_getLife,"We do it where I work, in production. GraphQL is very fast, and good for lots of data . A lot of our APIs are still REST but GraphQL is holding up well.

This is a good place to start https://www.howtographql.com/",1542493802.0
saucykavan,"We've started a GraphQL API at work. Quite early doors so we've only done a tiny amount of the planned set. We've had a few setbacks, but it's coming together nicely.  


We've been using [graphql-ruby](https://github.com/rmosolgo/graphql-ruby). The docs are a bit outdated (there was a big change from 1.7 -> 1.8 which isn't covered very well) so that has been quite frustrating. Once you get the hang of the expected syntax and how everything fits together it's quite nice though. It has caused some really irritating problems with Rails' autoloading - you have to be *really* careful what you name things and namespacing isn't handled very well.  


It's good fun once you get it going, though. I'd probably be hesitant to do it again in its current implementation given that this is for work, but I'd definitely use it for personal stuff while it matures a bit more.  


&#x200B;",1542497532.0
chadcf,"I did this not too long ago. Kind of an ""if you build it they will come"" project, so far a few teams have utilized it with good result. It's very fast, doesn't hurt that our main api uses active model serializers which I've found super slow. But I like it overall because our data is quite diverse in a lot of tables and graphql let's you just get what you want without the overhead of loading it all. 

I explain to other teams at work who are interested, that it's best to think of our graphql service as a database abstraction layer, whereas our APIs are more of a decorator / presenter layer. If you want a small subset of raw data then graphql is probably the way to go, but if you want a consistent prettified view of the whole data package then the APIs are a better bet. 
",1542499836.0
etcook,"If you‚Äôre just delivering the data, you can also try Hasura.

https://hasura.io",1542499435.0
BumpyBallFan,"You should probably send the ids of the tags to the server, not the names (even if you display the names).

Also the issue is in your controller code not your form or your javascript",1542526926.0
HireMeImARailsDev,"I haven‚Äôt used select2 recently, but I have used selectize for multi-selects, and it works well. Sorry I can‚Äôt help more (on mobile).",1542507097.0
tolas,"I have basically the same thing, except I don't have `multiple: true` on my select2 call and everything works for me.

Try taking that off of the select2 call only to see how it works.

mine: `$('.tags').select2({tags: true, width: '100%', tokenSeparators: [',']});`

edit: make sure you keep it on the form field however.",1542512081.0
LumancerErrant,"ActiveAdmin filters use a gem called Ransack, which [actually offers quite a few specialized filters](https://www.viget.com/articles/activeadmin-filters-unlocking-the-power-of-ransack/?amp=true) if you dig in.

Unfortunately, I don't know if there's a simple way to do this even with those tools. There _might_ be a workaround if you put the filter on a ""users"" tool, to display only users that have all of the requested links, but even then I suspect it's going to require some goofy special-case use of the dsl. Best of luck!",1542476480.0
BumpyBallFan,"BTW I think pasting code is much better than screenshots of code.

    ActiveAdmin.register Post do
      controller do
        def index
          super
          # your code here
        end
      end
    end

Using something like `params[:weight_log][:week]` to filter the `@weight_logs` where users have weight logs for each week.

    @weight_logs.includes(user: :weight_logs).to_a.select do  |wl|
      wl.user.weight_logs.map(&:week) & params[:weight_log][:week].map(&:to_s) == []
    end

(Not meant to be working code, just giving you the idea, also very inefficient)",1542526732.0
BumpyBallFan,"Should be `StripeAccount.find(params[:id])`

And `link_to user_stripe_account_path(@user, stripe_account)` should be `link_to user_stripe_account_path(@user, @stripe_account)`",1542452951.0
xxkilr0yxx,Where are you setting stripe account in the view? The cannot find without id makes me think you aren't sending what you think you're sending there.,1542469868.0
kornbred,"I think you are a bit confused about the route you are hitting.  The controller method you posted, along with the logs you posted in another thread, indicate that you are trying to call `/settings`.  What is the route declaration for that action?

Based on the log you posted, no params are being parsed from the request to `/settings`.  You will be able to see this clearly if you add `Rails.logger.debug ""PARAMS: #{params}""` immediately inside `def settings`.

The routes that you showed would produce endpoints for `/users` and `/users/<user id>/stripe_accounts`.

BTW
> UPDATE SOLVED:
Using .find_by opposed to .find

This didn't really solve anything, you are just burying the issue by using a ActiveRecord method that does not raise a RecordNotFound exception if the query returns `nil`.",1542472025.0
ginnynumberone,"Did you add a user_id foreign key to the orders table? 

User.find(params[:id]).orders should list them all. ",1542419281.0
unohowdashigo,"maybe 

&#x200B;

@orders = Order.all.where(current\_user)",1542438339.0
ralampay,"Unpopular opinion:
- traditional request response still works great for internal custom webapps (i.e. much faster to crud than having to build it in react)
- we use react in our rails monolith for ""mini-apps"" like one react app for a really complex form. So we have react sprinkled about in some of the major modules of our app
- webpack to manage all our js",1542424739.0
GeneReddit123,"For a new app, set up a separate front react. IMO React on Rails is only useful as a transition path for a large legacy Rails app, because it allows incrementally rewriting portions of your UI in React instead of One Huge Migration. You use it as a transition step, and once everything inside uses React, it's a lot less work to migrate it to a separate front end.",1542414416.0
jryan727,[This was just asked](https://www.reddit.com/r/rails/comments/9v6275/react_and_rails/) the other day. I'm sure you'll find some useful answers in that thread.,1542409788.0
ProgramAllTheThings,"I'm using webpacker. I've noticed more job postings with Rails and React lately too, so it's definitely trending.",1542415906.0
zenzen_wakarimasen,"React on Rails is cool but you may not need the features of the free version. Server rendering is expensive and unnecessary in a lot of cases and side loading props can be done without this gem with 5 lines of code.

On the other hand, using Rails' Webpack and deploying FE and BE together is extremely convenient.

Actually, in my opinion, the only reason to have Rails and React in two different projects would be that you have two different teams, each one working in one part. ",1542436335.0
homemadepecanpie,"I like react-rails for new projects just because there is so much that has to be done to make an spa render server side with data. One of my biggest gripes with separate frontend is when the user is shown a blank page while data gets fetched from a backend.

If you use rails for the majority of your rendering and react-rails to make specific parts of your app more dynamic you get the best of both worlds in my opinion.",1542418014.0
imnos,"From asking experienced Rails devs - the answers seem to be, use Stimulus JS + Rails instead.  ",1542420649.0
gregnavis,I [wrote on the topic](https://www.gregnavis.com/articles/the-architecture-no-one-needs.html) and think an SPA (if that's what you had in mind) is a bad choice in 99% of the cases. You can still use React for more complicated components but my personal recommendation would be [Stimulus.js](https://stimulusjs.org/).,1542470954.0
BumpyBallFan,Separate app for frontend is much nicer is you can (e.g. new project),1542417261.0
appothecary,We've been using Webpacker at work recently and that's probably the way I'll be going from now on. I absolutely love the workflow.,1542411581.0
neotorama,No,1542413794.0
niconisoria,What about Turbolinks + Stimulus?,1542463820.0
strzibny,Maybe first write more about your project? It's hard to suggest something out of the blue.,1542704881.0
seriouslyawesome,"I think the real job here is writing the test suite. If this client is going to come back later for the upgrade to Rails 6.2, you‚Äôre gonna have this same problem. You don‚Äôt have to write 100% test coverage, but you should at least write some integration/acceptance tests covering the most critical user flows, and unit tests for critical methods, especially where gems are used, such as credit card processing methods or whatever. 

Without ANY tests, you‚Äôre working in utter darkness. A single integration test that touches many parts of the app will do wonders to shed light on what breaks as you start upgrading gems, and will highlight areas where you‚Äôll want to fill in unit tests. Plus, a little bit of time up front to get some minimal tests running will save you tons of time manually testing throughout he course of this project. ",1542386923.0
SminkyBazzA,"I recently did a very similar upgrade path, but with the benefit of a decent test set. Took about two working weeks, and most of my time was split between replacing deprecated code, and fixing tests to make them pass again.

Stay on Ruby 2.3 until you're on Rails 5.1+, there shouldn't be anything that requires more, and it's just an added complication with older versions of gems not supporting it 'yet'.

The Rails Guide for upgrading versions is very handy for saying what is likely to break.

Use railsdiff.org to see what changes are made to the configuration files, make/understand as many as possible before running the `rake rails:update` (`rails app:update` on 5.x) task - it will happily overwrite your custom changes so always check the diffs before committing.

For gems I took the optimistic approach of first updating bundler and then specifying the Rails version in the Gemfile but removing all other gem version limitations and then running `bundle update rails`. If it works then lucky you, just review the list of version changes to see which ones have jumped a long way, and make a note to check their changelogs. If it doesn't, then you'll need to look at where the conflicts lie, and re-add a few version limits. Some gems may not be needed at all.

Use a separate branch, commit often, experiment! Deal with deprecations first because they just clutter up your log file.

Good luck!
",1542400082.0
sixkorn,"What gems are you using, and are they supported on the version you are going to?

This is a major pain for old gems no longer maintained or significantly different.",1542386719.0
Serializedrequests,"I just upgraded a Ruby 1.8/Rails 1.2.6 app to Ruby 2.5/Rails 5.2. This will be a walk in the park by comparison!

Some facts you need to know:

- You need integration tests.
- Upgrading Ruby probably won't break anything. Just do that right away.
- Upgrading Rails 4 to 5 mostly affects configuration and initializer files. Very few, if any, model or controller changes will be needed.
- This will almost certainly be quicker than a rewrite.

Basic process:

1. Write integration tests.
2. Install Ruby 2.5
3. Bundle update rails and any other gems that depend on rails 4.
4. Run the rails:update task to review config file changes, and apply any you want.
5. Start fixing stuff.",1542482433.0
BumpyBallFan,`view.link_to`?,1542373338.0
anotherdeveloper,Soft delete will work on most cases. You can use act_as_paranoid if you want. ,1542368296.0
BumpyBallFan,"`order.status` seems like it should be a string, e.g. `created`, `processed`, `cancelled`, `charged`, etc. (a state machine probably).

And yes I would strongly recommend against destroying orders, you need them for bookkeeping.",1542380226.0
pikopuyo,"The problem is that your associations in `ShareTransfer` have the same name as their foreign keys, so when you try to assign the foreign key from the parameters (a String), Rails thinks you are assigning the association directly (should be a Member) and raises this error.

To fix it, you can either change the name of the foreign key column, for instance appending `_id` as is the convention in Rails, or change the name of the associations. I think it's better to change the foreign key columns if you can, appending `_id` to them: it's going to be less surprising for other developers and might avoid other problems with Rails.


Also, this is not related to this error, but I believe that the `share_transfers` association in `Member` probably won't work, since Rails by default will look for a `member_id` in `ShareTransfer`, and that doesn't exist. You will have to create two associations for each of the foreign keys, for example:

```
class Member
  has_many :given_share_transfers, class_name: ""ShareTransfer"", source: :member_from
  has_many :received_share_transfers, class_name: ""ShareTransfer"", source: :member_to
end
```",1542429770.0
cmd-t,Please update the formatting on the code in your post. It's pretty difficult to read.,1542364584.0
BumpyBallFan,"Which line is the error at, can you share the stacktrace?

It doesn't look like it's in the code you shared.

BTW, I didn't test it but seems like you forgot the `_id` suffix on your foreign key, e.g. `foreign_key => 'member_from_id`",1542367891.0
SminkyBazzA,"In the ShareTransfer `belongs_to`s I would have expected the `foreign_key`s to end with ""_id"", assuming you followed convention when creating the model migration. ",1542405440.0
mr_aes,"Thanks good people, I'll use the suggested changes and I'll update the thread.",1542471587.0
gl_hf_gg,This is awesome. I've always wanted to do this and now I have a source. Thank you!,1542380303.0
BumpyBallFan,The code (especially React) would need better formatting but otherwise it's great! Nice!,1542356281.0
AdvancedPizza,How would you handle auth? Store a jwt in local storage and pass with each request? Thanks for the tut!,1542392548.0
johncorderox,edit: I will be making updates and cleaning it up next week. Thanks so much for the positive feedback. I hope to make it 100% perfect before the end of the month. Thank you all!!!! :) ,1542401148.0
nameless_cl,"Alternative (SPA Angular)  :

[https://github.com/JamesAndresCM/spa-angularonrails](https://github.com/JamesAndresCM/spa-angularonrails) 

ApiBase with auth + authorization + Angular Material

[https://github.com/JamesAndresCM/rails\_api\_base](https://github.com/JamesAndresCM/rails_api_base) ",1542640697.0
derek_dyer,Might help to delete the public/packs directory as well as node modules directory and have it recompile. ,1542346061.0
toskies,"Webpack isn't being found.

Add webpack:

    yarn add webpack

For good measure, clobber your assets:

    rails assets:clobber

Try to run your server again and see if that takes care of your error.",1542349860.0
DisneyLegalTeam,You need to change permissions on the directories you‚Äôre working with or move your project into a writable directory. Google `chmod`,1542331669.0
CaptainKabob,Have you seen this issue on the `bootstrap-rubygem` repo: https://github.com/twbs/bootstrap-rubygem/issues/157,1542292597.0
BumpyBallFan,"> How can I add separate style to separate erb files?

I would just makes the styles specific to each page in app/assets/stylesheets. Also having a class on body (e.g. `controller_name` and `action_name` helps)",1542380818.0
,[deleted],1542286664.0
cmd-t,You can either build a new controller yourself or modify the devise controllers and views.,1542364675.0
BumpyBallFan,"> You need to implement add/delete emails for a user as well as set/unset ""primary"" for each email.

So you will need to implement those views and the controller",1542381509.0
BumpyBallFan,So CGI then?,1542381817.0
jasdeep13,I really love and like https://github.com/janko-m/down which allows me to implement remote file downloads with a lot of ease and control. Highly recommended!,1542288571.0
BBHoss,"The whole [dry-rb](https://dry-rb.org/) project is super interesting. A breath of fresh air on designing robust Ruby applications. I especially like the dry-transaction and dry-monads gems, the Try and Maybe monads are an extremely helpful thing to have in Ruby, where you spend a ton of time just trying to avoid Nil.",1542307571.0
nameless_cl,"Gritter for notifications [https://github.com/RobinBrouwer/gritter](https://github.com/RobinBrouwer/gritter) 

Example of helper :

     def alerts
        alert = (flash[:alert] || flash[:error] || flash[:notice])
        if alert
          js add_gritter(alert, sticky: false, time: 3000)
        end
      end

Then add in your layout :

    <%= alerts %>

&#x200B;",1542640107.0
wikitih,"By default, ERB (rails view engine) will cast interpolated values to strings by using `to_s`. It seams that Stripe will convert those objects to strings as object representations, instead of plain json text. Have you tried using `to_json`? For example:

```
<%= @balance[""pending""].to_json %>
```",1542274558.0
LeastProfessional,"Just as an FYI, I have never used Stripe before so take everything with a pinch of salt. I can sort of see the problem here, you aren't looking deep enough. You need to loop through the balance.pending, I know this because of what is getting returned. Perhaps, you might need to try

    <% @balance.pending.each do |balance| %>
        <%= balance[""currency""] %>
        <%= balance[""amount""]  %>
        <%= balance[""source_types""][""card""] %>
    <% end %>

***Note: This is just a guess without looking at the api in-depth.***

If you wanting to put it into some sort of table, you would code the table around it, something like this.

    <table>
        <thead>    
            <tr>
                <th>Currency</th>
                <th>Amount</th>
                <th>Card</th>
            </tr> 
        </thead>
        <tbody>
            <% @balance.pending.each do |balance| %>
                <tr>
                    <%= as_table_row(balance[""currency""]) %>
                    <%= as_table_row(balance[""amount""]) %>
                    <%= as_table_row(balance[""source_types""][""card""]) %>
                </tr>
            <% end %>
        </tbody>
    </table>

What this code right here is saying is get all the pending data and I want to loop over that data, which is when you can create a helper method which will build up some HTML and return it, for example;

    def as_table_row(value)    
        return ""<td>#{value}</td>""
    end

You should end up with a table at the end with all the details you want. This is just a nice, 'neat' way of doing it and i'm sure other people will correct me later.

&#x200B;

Happy coding!  


Edit: Typos. God damn code.",1542274818.0
tolas,I still use SJR for all my non-react apps. I've also had this on my radar for a while but haven't used it yet: [https://github.com/chrismccord/render\_sync](https://github.com/chrismccord/render_sync),1542254078.0
hmaddocks,"Intercooler might do what you‚Äôre after

http://intercoolerjs.org
",1542273683.0
FluidSafety,"I built [https://github.com/jho406/Breezy/](https://github.com/jho406/Breezy/) which is a turbolinks (actually forked from turbolinks 3.0) inspired library for React, Redux, Rails. Instead of partial replacement, I have for you ""node replacement"".  This is literally all you need:

    this.props.remote('/orders?_bz=keypath.to.node.in.your.props.view.order_form_content')

That will immutably update your store, and your react components will take care of the rest. Do let me know if you like it :)",1542321594.0
BumpyBallFan,Personally I have moved on and prefer using JS frameworks for dynamic front-end content (e.g. Angular and now React),1542382732.0
the_jester,"1. Javascript can communicate with an action if desired. You will just need to specify the JSON output type on an appropriate action & view.

2. Use [turbolinks](https://github.com/turbolinks/turbolinks) instead of trying to hand-roll a partial [SPA](https://medium.com/@jmanrubia/escaping-the-spa-rabbit-hole-with-turbolinks-903f942bf52c).",1542239263.0
tolas,"The easiest way would be to add `remote: true` to your form.  Then have the controller render a `.js.erb` or `.js.haml` that inserts an updated partial ie: `$(""#target-div"").html(""<%= escape_javascript(render partial: 'comments/comment' ) %>"");`

This looks like a good quick overview: [https://coderwall.com/p/kqb3xq/rails-4-how-to-partials-ajax-dead-easy](https://coderwall.com/p/kqb3xq/rails-4-how-to-partials-ajax-dead-easy)",1542251980.0
BumpyBallFan,1. and 2. React :),1542382829.0
redbeard0x0a,"When your application launches and whatever mechanism you use to load the JSON file will ultimately end up in a variable in your app's memory space. Doing it as constants basically does the same thing, except separates code from data.

If you are going to utilize these data points in other ruby projects, put these constants in a gem and use that in your rails app (no JSON file).",1542221613.0
gregnavis,"Do you need to access it server-side and/or client-side? If both, you can dump that into a JSON file, load it in Ruby and import via Webpack so that both the frontend and backend use the same data source.",1542277643.0
hadees,"Love the idea.  Any chance of adding a plugin to work with [overcommit](https://github.com/brigade/overcommit)?  It becomes way more useful if I don't have to remember to run it.

Although I would note there are times when the inconsistency makes sense.  For example I might require the field to be set but I don't want to go through the old records.  I wonder if there should be a couple levels, like strict requires everything to match but another setting allows a looser match like required in activerecord but not the database.",1542214973.0
in0pinatus,"This gem may be useful in your preflight checks, but a note for the unwary, the two constraints are not as equivalent as the name might suggest. `ActiveModel::Validations::PresenceValidator` uses a test of `#blank?` not `#nil?`.

The difference being that the database will accept an empty string if the field is NOT NULL, whilst the Rails validation will not.

So, methods such as `#update_column` or `#update_all` (which skip validations) with a value of `''` will still succeed, but the model will fail validation.
",1542233173.0
BumpyBallFan,"Very neat! Great idea! Also adding validations checking for uniqueness would be interesting, but seems a lot more complicated",1542216313.0
j27lee,Have you looked into [accepts\_nested\_attributes\_for](https://api.rubyonrails.org/classes/ActiveRecord/NestedAttributes/ClassMethods.html)?,1542169451.0
jdauriemma,"Am I correct in assuming that each grocery list row has a column of foreign keys that  correspond to each food that's associated with the list? If so, you're only updating the list row and not anything in the foods table.",1542174601.0
cmd-t,You want a has\_and\_belongs\_to\_many relationship or a join model if you plan on adding attributes like quantity to it. In the first case you can just use some kind of input on :food\_ids to add foods to a list. In the second case you could use accepts\_nested\_attributes\_for :your\_you\_models on the grocery list in combination with fields\_for in the view.,1542183482.0
mlt-,You can also consider Form Object concept. That is table-less model that would create all the necessary things on save...or something like that.,1542188980.0
cmd-t,"Your database tables should have plural names. So in your case that would be `store_items`. It should also be `params.require(:store_item).permit(...)` . You should also use the `form_for` helper instead of building the form 'by hand', this works much better when you edit an object or if a save fails due to validation errors.

Finally, don't use `<%= puts 'No' %>` .  `puts` prints a string to STDOUT, not to the template. Just replace it with a plain `No`, don't put it in `<%= ... %>`. Finally, you are probably using the wrong values for the radio button, see [https://stackoverflow.com/questions/15060268/how-to-use-radio-button-correctly-in-rails](https://stackoverflow.com/questions/15060268/how-to-use-radio-button-correctly-in-rails).",1542183933.0
twiggyweasel,When you attempt to submit a new item what do the server logs show. Are any items listed as unpermitted?,1542160461.0
dakmau,[Try using variants.](https://guides.rubyonrails.org/4_1_release_notes.html#action-pack-variants),1542136990.0
kobaltzz,"Gitlab is a pretty extensive OS application which uses callbacks.

https://gitlab.com/gitlab-org/gitlab-ce/blob/master/app/models/user.rb

However, I think a lot of cases are abusing callbacks. Generally, I'll use a callback to generate a token on a record. Outside of this, I'll try to avoid them unless if it is something where I always want the callback to be fired regardless of the source which is initiating the change.",1542127625.0
jordanaustino,"I think there are very few cases where you actually want to use callbacks. Their use quickly degrades in callback hell. They sound nice and dandy and make your life suck down the line. If it sounds like business logic, probably shouldn't be a callback. 

The only instance my current app uses callbacks is managing some tokens and some special instance time stamps. Everything else is explicitly called.",1542155653.0
HelloAnnyong,"I like to keep my models pretty low-level. They should be responsible for persisting data and keeping it consistent, and that's it.

I use callbacks for that purpose only, and pretty sparingly at that.

    ‚óà grep -rE '(after|before)_(create|save)' app/models | wc -l
    35

A sample of what I use them for:

- normalizing a time zone field
- normalizing country codes
- setting default attributes
- generating an API token

In particular, I would never use Rails callbacks for something like `after_create :send_email`. (Except in my Devise User models... because that's outside of my control, and I've learned not to fight with libraries.)

If I need to send an email after a record is created (or do something else not related to storing data), then I do that in a higher-level module that the relevant controllers can use, e.g.,

    module CreateWidget
      def self.call(params)
        Widget.create(params).tap do |widget|
          send_new_widget_email(widget) if widget.persisted?
        end
      end
    end

Something like that.",1542129981.0
BumpyBallFan,"I guess you could look into Discourse, mailers for instance https://github.com/discourse/discourse/tree/master/app/mailers",1542128065.0
sanjibukai,"When do you think to release it?

Also do you have already done webinar?

If so, can you share them?

Thank you...",1542128857.0
gregnavis,"I assume ML is only a small part of the job and the rest is building an app around it. If that's the case then I recommend you use Rails and build a specialized service in Python. You have several options here:

1. Make ML requests pass through the Rails app to the ML service.
2. Make ML requests directly to the ML service available under a separate (sub)domain.
3. Put a reverse proxy in front and route requests to the right app.

Also, don't assume you need Django. Flask might be simpler for a small API.

I built an education app where I needed symbolic maths. The natural choice for me was Python and SymPy as there's no Ruby counterpart of that library. I ended up building a simple API in Flask and picked option 1 to integrate it with the Rails app.",1542103346.0
ignurant,"In addition to the other great comment, I wonder if [Faktory](https://github.com/contribsys/faktory) might be helpful for you? It's like Sidekiq, but you can implement the workers in any language. For example, you could enqueue jobs from Rails, do the work in Python, and hit a callback with the result. This might be helpful if the jobs take a long time to perform, or you want to easily scale distributed work. Probably not the right approach if your python code is super quick, and you plan to wait for the result synchronously before sending the Rails response. 

I don't think it's integrated with ActiveJob, but the main library is very easy to use regardless. I've been using it with a Ruby + Node combo to manage a scraping project and it's been generally very potent. Rails app for scheduling work out, node for downloading with Puppeteer, and plain Ruby for parsing and processing the data. ",1542171518.0
murjax,"For your form, you can simply change the label's \`value\` to be whatever value you want posted when checked. And if you wanted to save explicit 'Yes' or 'No' strings in your database, you would need to create a migration and change the data type specified in your schema. For a yes/no option set I would not recommend this though, as you are selecting a boolean option in reality.",1542081646.0
mysteryihs,"So if I understand you correctly, you just want the boolean value of store_item.can_be_shipped to be replaced with a yes or no. If so then, you can do the quick and dirty:

    <% if store_item.can_be_shipped do %> #if statements run if the value return true
      <%= puts 'Yes' %>
     <% else %>
       <%= puts 'No' %>
     <% end %>

There are other, shorter/better ways of doing it. But this should be enough.",1542081880.0
seainhd,"If true
‚ÄúYes‚Äù
Else
‚ÄúNo‚Äù
End

You do not need he migration. Storing Boolean for this is much better.",1542081946.0
Code-Master13,"I'd recommend having the value of these stay with true & false in your database, while just changing the words to yes & no on the screen. You can make radio buttons use any value you want. I've got an app where I'm saving floats with radio button groups. ",1542082351.0
manys,"If you're not going to return a string (you could use a helper here), this is one of the only good times to use a ternary statement: 
`store_item.can_be_shipped ? ""Yes"" : ""No""`

Clear enough, not like my nested-ternary fizzbuzz I save for special occasions.",1542086754.0
BumpyBallFan,"Would need to test it but the idea would be something like:

```
Restaurant.left_outer_joins(dishes: :sections).where(dishes: { sections: { id: nil }})
```",1542069679.0
in0pinatus,"Suggest you write several test cases for this query, because you‚Äôll be enticed to optimise the query later and that‚Äôs when bugs‚Äôll creep in. In the same vein, consider extracting it into a query object. ",1542089083.0
tibbon,"Odd question- do you really need to do this, or is there some other way to arrange your data? Depending on scale I worry about the performance for you here. ",1542077228.0
mattgrave,Did you test it locally by running it on production environment? Because you don't clarify that.,1542067659.0
multiplegeorges,What do the actual Rails logs say?,1542060220.0
BumpyBallFan,If that was the CSRF token then you would get a warning locally in the Rails logs,1542061330.0
Nondv,"Some stupid suggestions:

* Make sure your request is actually processed by `my_hooks#create`.
* Try to override `#verify_authenticity_token` and log whatever useful info you can get",1542064534.0
442401,paging u/schneems,1542066997.0
cwitty1988,Is that the actual logic of your controller? I just want to make sure there isn‚Äôt some pundit policy being used or something. ,1542072665.0
CaptainKabob,"Just curious, but you're setting up `protect_from_forgery` and then overriding just [one action](https://api.rubyonrails.org/classes/ActionController/RequestForgeryProtection/ClassMethods.html#method-i-protect_from_forgery). Have you tried doing `protect_from_forgery with: :exception, except: [:create]`? ",1542139384.0
andyw8,"From the error, it looks like you might have entered ""staging.herokuapp.com"" as the hostname on sendgrid? That should contain your app's domain, not a generic Heroku domain.",1542060884.0
BumpyBallFan,"rack-attack is at the rack level so it doesn't have access to the `current_user`, that would need to be implemented in your application",1542383516.0
nameless_cl,"I recommend this books:  

\-The ruby way

\-The rails 5 the way

\-Practical Object-Oriented Design in Ruby

\-Every Day Rails Rspec

\-The Well-Grounded Rubyist

&#x200B;

Vanilla Js, jquery, css, html, some framework/library front-end (angular, react, vue) if you use api's. ",1541994059.0
seainhd,"Honestly you just need more experience. 

You‚Äôre basically still a junior developer until you work in an environment that is senior and requires you to level up. 

Jobs with many millions of dollars on the line, and millions of users are the sort of place that make this happen.",1542002780.0
hmaddocks,Build something ,1542003960.0
spajus,Start contributing to open source projects on GitHub,1542012397.0
zenzen_wakarimasen,"There will be a moment when you will know basically all what you need about the framework and you will need to start to learn how to organise complex business logic without making a mess.

DDD is one of the solutions for that. ",1542009519.0
the_brizzler,"Start learning Elixir with Phoenix!

Let the downvotes come!",1541999615.0
elfenars,"From what you say my recommendation would be to either get a new job (or new experience out of your regular routine within the same job) or just experiment a lot with rails.   


For the latter you can just play around with pet projects, just small proofs of concept of how to do certain things (from the common background job to a more complex distributed services that communicate via REST with each other).  


Reading is always good, but the best way to move fast up the skill chain is to actually work on stuff that's challenging.",1542018437.0
nXqd,You might understand rails more by trying other frameworks beside working with rails at the office. ,1542023032.0
yxhuvud,Get to a situation where you read a lot of code written by other people. Either your co-workers orby  contributing to some open source project. ,1542024434.0
leit6Huya6,"> I am now working for a startup as their only developer where I am and will be building a handful of websites a year.

Besides books, work with other developers, and never be the most experienced developer on your team. Kind of like don't be the smartest person in the room. If you cannot do this at work, open source might be able to fill that gap.

Also important, don't work with the same team for too long. I'm a consultant and I switch teams a lot, I learn something new from every team I work with, no matter what level they are at.",1542033008.0
jessecurry,"I really enjoyed *The Weekly Iteration* video series ([https://thoughtbot.com/upcase/the-weekly-iteration](https://thoughtbot.com/upcase/the-weekly-iteration)), they cover automated testing, refactoring, and code quality.",1542038078.0
andrzejkrzywda,"Apologies for this shameful self-promotion but many people told me our Arkency blog is great for intermediate/advanced Ruby developers (while not that great for Ruby beginners to be honest). 

[blog.arkency.com](https://blog.arkency.com)

On the blog we (\~15 Rails devs with >7.years.exp each) share whatever we work on recently on our client projects.",1542134476.0
thatinstantreplyguy,"Hello Genesis,

I have just started with the ruby on rails and am not from the computer science background and I feel so hard to learn the concepts. Can you please suggest me good online video tutorials.",1542184489.0
yadius,"It was reported recently that the top rated CS Professor at Harvard is a guy called Stack Overflow.

Good news is that Stack's classes are all public access.




",1541995731.0
Vacation_Flu,"It depends on what level of customization you're looking for. Something as simple as some custom colors can be stored in the database without much difficulty.

On the other end of the spectrum, full customization can be achieved with [the liquid gem](https://github.com/Shopify/liquid/blob/master/README.md) from Shopify. I've used it, and it works pretty well. You REALLY need to be aware of the malicious JavaScript implications, as well as the potential HSTS problems. But Liquid might be what you're looking for.",1541993197.0
JohnTheScout,"I would say it depends on how heavily you want the user to be able to theme their pages. If it's just a few colour variables, you could store it in the database and conditionally change some classes based on what themes they chose. ",1541992509.0
LeastProfessional,"It depends on what you want to do...If it's something simple like just changing the colour scheme dependent on the user, you could just use CSS where you append a class with the user id or name? For example: `<div class=""page--#{user.name.to_slug}""` and in your css, you could set up a mixin where you could add the classes you want to affect and pass in the variables/colours you want to use?",1542043541.0
cmd-t,"[https://api.rubyonrails.org/v5.1/classes/ActionView/Helpers/FormOptionsHelper.html#method-i-collection\_check\_boxes](https://api.rubyonrails.org/v5.1/classes/ActionView/Helpers/FormOptionsHelper.html#method-i-collection_check_boxes)

So it would become

    <%= form.collection_check_boxes :course_ids, Course.all, :id, :name # or whatever you use as the name/title for a course %>

&#x200B;",1542106503.0
toobulkeh,"I would suggest creating one yourself. Wrap it in a separate object as a concern and call it a day.

Here's a tutorial that does some things that are nice, but don't build it if you don't NEED it:

http://aalvarez.me/blog/posts/easy-notification-system-in-rails.html",1541970800.0
pizza7892,"In case anyone ever finds this post from google, I ended up using the gem acts as follower and writing my own. 

Acts as follower allowed me to create great lists to have people follow or unfollow different models. From there it was super easy to iterate through followers when an update happened and to contact them any way I felt. ",1542827238.0
dev4work,"e.g. if there's a one to many association between Todo and user model, you can simply send emails through background jobs to the users associated, in an after_save callback in Todo model.

This is useful if you only wanna send emails, not a good idea if you're implementing notifications like Facebook.",1541966108.0
rbuchberger,"Start with rbenv:

https://wiki.archlinux.org/index.php/Rbenv

Then follow the instructions:

https://guides.rubyonrails.org/v5.0/getting_started.html#installing-rails

Basically:

`gem install rails`",1541940138.0
TotesMessenger,"I'm a bot, *bleep*, *bloop*. Someone has linked to this thread from another place on reddit:

- [/r/webdev] [How to install rails on manjaro linux??](https://www.reddit.com/r/webdev/comments/9w3gjt/how_to_install_rails_on_manjaro_linux/)

&nbsp;*^(If you follow any of the above links, please respect the rules of reddit and don't vote in the other threads.) ^\([Info](/r/TotesMessenger) ^/ ^[Contact](/message/compose?to=/r/TotesMessenger))*",1541939985.0
BumpyBallFan,"Best thing would be to contact Stripe support with that error message, they are really helpful.

",1541930492.0
colonel_weasel,"You're console log gives the best clue of what is going on. If you look at the POST, you'll see there are no parameters being sent except for the authenticity token. So the issue is likely on your view, primarily in the js.

The first place I would look is to see if the form is being blocked from submitting until the call to stripes API can finish.

If it is, then the next thing I would verify is that you received a token from stripe and that it is being added properly to the form prior to submitting to your server.
",1541945661.0
zZaphon,"If you've ever had any other kind of interview it's pretty similar.

They'll ask you what kind of technologies you work with, your programming background, work history etc.

Just be polite and try to seem knowledgeable. It will go a long way. Often recruiters aren't tech savvy themselves they are just looking for someone to fill the position.",1541923123.0
kobaltzz,"It really depends if the recruiter works for the company or if they are a third party company. I've done plenty of hiring in the past and companies have used both external and internal recruiters at different times. From my experience neither really knew much about the actual job aside from the job description. If you're confident with your skill set and haven't inflated your resume with a bunch of lies, you should be okay. Just play the game and get through to an actual hiring manager interview (or to the hiring team of developers) who you would actually be working with. These are the folks that you want to be candid with and really set the good impressions. The recruiters are really checking boxes of requirements set forth by these people. A lot of times, recruiters that work for the actual company will have pretty high turnover anyways. Personally, I will not speak with any third party recruiter when I am looking for a job. I will target the actual company and go that route.

I've had recruiters who passed on resumes to me that were over 15 pages long as well as some that appears to have been DHH's resume with the name changed. I've seen some with zero development experience and others claiming more than 12 years of Ruby on Rails experience.

Side note on the resume. Keep it to the point. The 15 page resume mentioned, I did not look past the first two pages. If you cannot ""wow"" someone on the first page then your chances goes down significantly. Keep in mind that the people interviewing you have their daily jobs and while an addition to their team is important for their future growth, a lot of times, they're wanting to get back to their actual job. So, make a lasting impression.

Do your research about the company and find out their interests. Try to see things from the company perspective. They want to see if they will be able to increase their bottom line through your employment. If you cannot provide proof of this potential by meeting or exceeding their expectations, they may hold off for someone who does. 

A lot of times when we interview, we have multiple applications out to different companies; just as each company has multiple candidates. We often get excited about having an interview with a company. A company does not get excited about having an interview with you. Emotion is left out of it from the company perspective. We as people put emotion in the equation because this is such a personal/life-changing event for us. This can make one nervous and perform poorly on an interview. Side note: being passionate is different than being emotional. Passion is good.

",1541938620.0
snatchofsong,I memorized the agile manifesto to put me in the right headspace. Seemed to work. Good luck! ,1541924977.0
dlj630,"I was chatting with recruiters and interviewing through the summer and fall. 4 recruiter chats, 2 interviews. /u/kobaltzz put it perfectly. I'll supplement his comment. 

I love chatting with recruiters because they are just 'people' people, some of who enjoy connecting. The last conversation I had, it seemed like she didn't know what a single page app was, so I asked if I could explain it in 30 seconds. She was pumped because she was new to web dev recruiting (before this she had been recruiting hardware engineers ) and wants to learn. She worked with me to sell my resume to the actual company, and that got me interview with the tech lead.

Be yourself, be friendly, answer their questions, wait for their queues for when to talk about yourself.

Interviewing with the tech team is something entirely different. I am still trying to figure that one out.

Bonne chance.",1541952995.0
Code4Greatness,"Wait, its working now. The issue was an AJAX double post that occurred while I was making changes to the js file for the posts template....I hope that it doesn't occur in production, because that would be embarrassing lol.",1541895084.0
jobtraining101,what's the actual sql? calling `.to_sql` on the where chain should return it. ,1541891521.0
jr0nic,"It is a bit confusing without knowing more.

But I would recommend trying to add `.distinct('simple_hashtag_hashtags.id')` (somewhere around the order call).

I believe this could solve your problem",1541893273.0
Code4Greatness,"I added the schema, so that you'd have a reference of the two tables being used for simple_hashtag",1541893920.0
manys,"what's the join and merge about? The only thing I can say at the moment is to refactor your nested query into a scoping class method:
`@trends = SimpleHashtag::Hashtag.left_joins(:hashtaggings).merge(SimpleHashtag::Hashtagging.recent_hashtags)`

...but what's the first part about?",1541894089.0
PM_ME_THICK_LADIES,"You‚Äôre grouping by id rather than grouping by hashtag name, but still counting the number of records by name. That‚Äôs why you get them twice with the same count value. 

I think there‚Äôs a cleaner way of writing this though, but I‚Äôm not sure what your data schemas look like. 

@trends = SimpleHashtag::Hashtag.where(""simple_hashtag_hashtaggings.created_at > ?"", 24.hours.ago)).group('simple_hashtag_hashtags.name').count.limit(20)",1541894186.0
henrebotha,Are you familiar with using Pry for debugging? ,1541846505.0
manys,"Why are you putting so much logic in the view? Aside from the pluck thing, which looks like it should really use `select`, this is bad code.",1541799003.0
flanger001,I mean *It Works‚Ñ¢* but it's definitely not idiomatic Ruby. What does a `Thickness::Block` object look like?,1541798563.0
cmd-t,"Joins are fast and fine. The main thing that's going to make stuff slow is the number of database queries you perform. Be on the look out for N+1 queries and use `includes` and other preloading methods to combat them.

This is also pretty much premature optimization. You haven't even encountered a problem with the 'slowness' of joins.

>I'm at a loss of targeting them by a single location (dishes have multiple locations)

You want to find dishes at a specific location?

    Dish.joins(:locations).where(locations: { id: your_location_id })

&#x200B;",1541778701.0
glacials,"This should be fine, many-to-many is a common pattern and you shouldn't experience optimization issues just by the nature of it.

I do suggest taking a look at [`has_and_belongs_to_many`][1], which is a more idiomatically Rails way to specify this relationship if you don't need any fields on your `DishLocation` model. You will be able to search each model's fields together in one query like /u/cmd-t pointed out.

[1]: https://apidock.com/rails/ActiveRecord/Associations/ClassMethods/has_and_belongs_to_many",1541791664.0
manys,"This all depends on what kinds of searches you want to support. If people are going to search for Dishes and have an option to see the locations, then you'll probably want a Dish-centered search (also, do people in Ohio want to see where they can get a Big Mac in Florida with every search?).

If you're going to be searching peoples' locations, telling them which Dishes are available near them, then you'll want a DishLocation-centered search, with the option to change locations. 

Are you also thinking of some combination of these for searching? Big Macs within 50 miles of NYC but also where in Italy can I get a Shamrock Shake? It would increase the complexity and query load a lot if so.

And yeah, if you choose DishLocation-centered, look into GIS stuff (some are free).",1541801253.0
distressed_ape,"Your are not passing `params[:id]`  you are passing `params[:stripe_account][:id]`  . Check server log to inspect the posted params to the API.

Edit:

Also, ideally you should have a nested resource in this case, if `StripeAccount` belongs_to `User` then your resource route should look like this `/users/:id/stripe_accounts` then you would set the `@user` object in the `StripeAccountController` and use it normally there. And you could encapsulate the stripe code into a service, maybe look into that",1541767283.0
kobaltzz,"You can look at https://github.com/kickstarter/rack-attack gem. However, it doesn't have per user settings.

There's an article of a homebrewed solution which seems promising which may work.

https://medium.com/@pebneter/fast-and-simple-rate-limiting-with-ruby-on-rails-and-redis-68e76ba38ca4",1541735815.0
sublime8510,Cache the counts in redis or some other kind of volatile but fast lookup persistence store. ,1541735559.0
l27,"I'd use an in-memory key value database like redis, have their user ID as the key and usage as the value. Then you can just increment the value. If you need to know more information, like the request and params, you could still use redis but might like something better like memsql.

If you need something more fully featured, there are gems out there like rack-throttle",1541735844.0
SkyPuncher,"We use ""Rack Attack"" in our application.  It's been great to use and was very, very simple to implement.

That being said, it works in the Rack space of your app meaning it's positioned primarily as a barrier to your Rails app and doesn't really interact with your app's underlying logic. 

Rack Attack is also geared towards a single, standard response to rate limited requests.

If you need to integrate with business logic, like different rates per user, you'll likely want use a hook directly in your application.",1541776709.0
spajus,Check this one out: https://github.com/dryruby/rack-throttle,1541768607.0
lostapathy,"I use this little bit of code to throttle our outbound requests to an API that has rate limits https://gist.github.com/lostapathy/3023716b125bfb656411c19db131e9af

Could very easily modify it to not need to setup_bucket (that's only used to make sure a typo doesn't make us try to go over quota), and also modify it to return an error rather than blocking when the user is over quota.",1541775554.0
wflanagan,"If you are dealing with multiple users at different rates, then consider fronting your API withnan API gateway. It can handle it, often handling the billing etc and providing a nicer ux. Your app can then stay cleaner in tbeory.",1541781335.0
SempronSixFour,"Pretty cool. A little slow on the updates, but very useful.  I likey",1541710598.0
imnos,"Looks awesome at least - nicely designed!  Only thing I'd change is to get rid of the background image and just replace it with a solid colour bg.

Also, what the ""View Mode"" switch actually does is initially confusing, to a new user at least.  I'd change that to say  ""Share in View-only Mode"" or ""Share in read-only mode"".",1541713834.0
bormeth,Looking forward to some feedback. :),1541704885.0
abadabazachary,"You should infer the language automatically, and you should automatically generate the link.",1541707200.0
weedisallIlike,"- Couldn't see or use it on mobile (not mobile friendly)
- as someone said, bg image (slow to load. I could see the image been mountain top to bottom on the background)

Couldn't see anything else cause I'm on mobile... just giving feedback. ",1541805498.0
Nitrodist,"    irb(main):012:0> require 'json'
    => true
    irb(main):013:0> array = JSON.parse(%Q{[{""key1"": ""value1"", ""key2"": ""value2"", ""key3"": ""value3"", ""key4"": ""value4""}, {""key1"": ""value5"", ""key2"": ""value6"", ""key3"": ""value7"", ""key4"": ""value8""}]})
    => [{""key1""=>""value1"", ""key2""=>""value2"", ""key3""=>""value3"", ""key4""=>""value4""}, {""key1""=>""value5"", ""key2""=>""value6"", ""key3""=>""value7"", ""key4""=>""value8""}]
    irb(main):014:0> array.each {|hash| puts hash['key3'] = 'value9' if hash['key1'] == 'value1' }
    value9
    => [{""key1""=>""value1"", ""key2""=>""value2"", ""key3""=>""value9"", ""key4""=>""value4""}, {""key1""=>""value5"", ""key2""=>""value6"", ""key3""=>""value7"", ""key4""=>""value8""}]
    

&#x200B;",1541704989.0
kcmidtown,"I'd start with making sure your array of hashes is even valid.  It's missing quotations....

```
hash_array = [{:key1=>""value1"", :key2=>""value2"", :key3=>""value3"", :key4=>""value4""}, {:key1=>""value5"", :key2=>""value6"", :key3=>""value7"", :key4=>""value8""}]

hash_array.each do |h|
  h['key3'] = 'value6' if h.key('value1') == :key1
end
```",1541689199.0
WrathOfTheSwitchKing,"I support database level validations in general.  This gem is definitely welcome.

I've given a bit of thought to how database validation in general could work in ActiveRecord.  AR adapters should have some way of signaling database level constraint violations to AR, along with what constraint has been violated.  That signal *could* be raising specified errors with appropriate fields describing what constraint has been violated.  AR could then rescue these (assuming we called `save` and not `save!`) and update `errors`.

But, AR is already unreasonably slow and raising errors is a performance concern.  A faster but less elegant solution could just specify that adapters return something like a `ConstraintViolation` object that AR would understand and process into `errors`.

I'd love to do a proof of concept for this, but digging around in the guts of ActiveRecord scares me and I'm not even sure all the databases AR supports report errors with enough information to make this design possible.  Postgres tells you the name of the the constraint you violate, but I have no idea about MySQL or SQLite.",1541692988.0
didnotseethatcoming,[This is my favourite talk on the subject :D](https://www.youtube.com/watch?v=yuh9COzp5vo&t=19m15s),1541684206.0
sanjibukai,Attempt a merge request üçø,1541701733.0
synt4x,"Relevant discussion: Feral Concurrency Control by Peter Bailis, [http://www.bailis.org/papers/feral-sigmod2015.pdf](http://www.bailis.org/papers/feral-sigmod2015.pdf)",1541730398.0
sinithw,"Figured it out, but will leave this up for any who might be caught in the same predicament

`user = User.find_for_authentication( :email => params[:email].to_s )`",1541651789.0
jakenberg,"IME react-on-rails gem is not effective in virtually any scenario.

Some of the immediate benefits of simply running your client and server separately are:

1. Full backtraces in JavaScript console while debugging. Alternatively, prepare to read through a lot of minified webpack code. This is a huge deal.
2. Ability to better segregate profiling performance, causing you to more easily identify other related issues such as memory leaks.
3. Set up genesis project as simply as: \`rails new my-api && express my-client\`. Worrying about version mismatch and other configuration issues are going to end up being more complex than running those two generators any day. I have sunk hours into making something that webpack needs play nicely in a rails ecosystem knowing full well the two would have been fine if they were just separate.
4. Reduced architectural headache later on when you ultimately decide to break them apart - as everyone eventually does. To be specific, you might be clever enough to create, say, a jbuilder template that injects all sorts of data from the rails back-end into your react code before its sent off to client (aka prerendering). Problem is you end up with a marginal performance gain and a huge amount of work to ever break this apart when you start supporting multiple clients or want to open up your back-end api to 3rd-party developers.

Conceptually speaking, react-on-rails really doesn't make very much sense. You are taking a blob of code and transferring it to the user's browser. It is trivial in this day and age to serve that blob through any major server provider's tools. In fact, otherwise hugely complicated tasks such as serving your site on a CDN are straightforward.

&#x200B;

The **one** caveat I'm aware of to separate services is that your deploy process is probably not as straightforward because now you have to install two services. Fortunately, this too is trivial because any major provider such as Heroku has support for multiple buildpacks. AWS can be split between an S3 upload script for client and ELB/ECR for rails app. So on and so on.

&#x200B;

I've worked on several teams that have installed, developed, maintained, and yes, migrated off of react-on-rails. 

We really, really tried. It just doesn't work like we need it to at the end of the day.",1541661382.0
agency95,"Personally I really like using webpacker. Most of the projects I'm working on don't require a full SPA experience with front end routing and all that good stuff. 75% of the applications are fine with traditional server side rendering with 25% of pages pulling in Vue (or React in your case) components. You can even set it up so certain routes render the same view and you can leverage browser routing if you need to.

All-in-all, on a smaller team I like keeping them combined. I've worked on an application with them broken apart and the overall complexity just wasn't worth it for us.",1541724133.0
eksaurus,"The answer largely depends on what you want from your codebase and how you‚Äôre working on it. 

Splitting them out into separate entities increases complexity and overhead in the short term (at least!) but may make it easier for multiple people to collaborate, as the React bits aren‚Äôt tied up in Rails and vice-versa. It also potentially makes it easier to swap out your front or back end at will, though in practice this doesn‚Äôt matter as often as you might think.

On the other hand, using a gem gives you a lot of convenience, but just like any other monolith you run the risk of very tightly coupling different domains (this is not unique to the use case you describe).

Absent really compelling business requirements, my general preference is to go with what will let me and my collaborators work together harmoniously, with a bias toward fewer moving pieces (when appropriate) and general extensibility. Or, more succinctly, optimize for developer happiness within the set of solutions that meet business requirements.",1541649007.0
chelseas08,I've used react\_on\_rails gem before webpacker. But with webpacker I saw no apparent need for the gem. Maybe only server side rendering.,1541674395.0
FluidSafety,"Convenience mostly. If you're a one-man team, I think React on Rails is a good tool, although Webpacker exists :). Splitting your codebase could be done much later in the game when you and your team decides that your majestic monolith is starting to feel sluggish.

&#x200B;

Personally, my approach was to build a new library for React, Redux, and Rails:

[https://github.com/jho406/Breezy/](https://github.com/jho406/Breezy/)

It lets you build React Redux Rails SPAs (or not, its up to you) without APIs, and with all the comfort and productivity of a classic Rails. 

&#x200B;",1541684525.0
jryan727,Advantage: system tests that test the UI and API together ,1541652297.0
andyw8,"Yes, you should commit it, especially if you are working with other developers on the project.

Tools such as rvm and rbenv will automatically detect it and set the correct Ruby version when you change into that directly. The helps ensure everyone is developing using the same version.",1541637612.0
symbioticremnant,"That depends. Are you working on a project that breeds a repeatable build and deployment (website)? Then yes, absolutely. The .ruby_version contains valuable build information. If you are developing a gem, or is optional. Typically, it is not checked in. The reason is that gems need to be developed to support multiple ruby versions at the same time. The range of truth versions is defined in the gemspec, documentation, and build scripts (.travis.yml, .circle.yml). Developers are free to change Ruby versions to make sure they work.",1541648778.0
rorykoehler,"Two types of files you shouldn't commit:

1. Files that contain secrets (commit an example file instead which contains a full list of keys but no values)
2. Informational files from your dev environment (logs etc).   


Everything else gets committed.",1541647084.0
chulkilee,"Same rule with `Gemfile.lock`. If it's an application, not a library, you *should* keep in git to make sure the app runs in the same environment.

If so, I highly recommend to put `ruby File.read(File.expand_path('../.ruby-version', __FILE__)).chomp` in `Gemfile` so that the ruby version is actually being enforce.. unless you use non MRI version in `.ruby-version`.",1541704602.0
jemminger,"My first thought is premature optimization, just use the jsonb column type until you know it's a performance bottleneck.

You can also use Rails' built-in way of serializing a column:  https://api.rubyonrails.org/classes/ActiveRecord/AttributeMethods/Serialization/ClassMethods.html
",1541628529.0
tjwallace,"Use a `jsonb` column and then let the database do the work for you:

    # you must select into a different name otherwise rails will typecast the column
    record = Model.select('name, blob::text AS blob_text').take
    record.blob_text.class # => String
    record.blob_text # => serialized JSON",1541651370.0
c0m3tx,"First idea out of the top of my head is that you could use a series of redis key-value pairs, with an appropriate expiration time. In this way they get automatically deleted after a set time. See [https://redis.io/commands/set](https://redis.io/commands/set)",1541626373.0
manys,"i don't know if it's the best way, but you could store an array of seen notification ids in the session or cookie and filter based on that.

but on second read, maybe i misunderstand what you're asking.",1541619003.0
your-pineapple-thief,"I would store such short-lived data not in relational database, but some key-value store, preferably with expiration feature, like redis f.e.",1542002958.0
slvrsmth,"I'd ask the ""why"" question before ""how"" in this case. Trying to hide record counts?",1541616016.0
gelfin,"Well, you‚Äôre going to have to alter every table no matter what if you want to do this, but you‚Äôve got some wiggle room around how you do it.  It doesn‚Äôt strictly have to be a Rails migration.  For instance, I used to deal with a DB big enough that naively-written Rails migrations would time out running against a RDS instance, or theoretically run for days if they didn‚Äôt fail first.  You‚Äôve got to get creative at that point.  If you can script up a better way to deal with it, where ‚Äúbetter‚Äù might mean faster, more reliable or less dev work, feel free to do that, then go back and revise history in your existing migrations so that any new DB you create (for tests, for example) matches the schema of what you did to the original DB.

You‚Äôre not going to get away from touching every table in some way, though.  You might be able to automate it somewhat, but it might not feel like it‚Äôs saving you work getting that process right.",1541602301.0
kulehandluke,"I‚Äôd use reflection to generate the migration file for me e.g. generate a list of models (glob the models dir and use constantize), use reflection on each model to figure out the belongs_to‚Äôs and has_one‚Äôs (e.g. https://api.rubyonrails.org/classes/ActiveRecord/Reflection/ClassMethods.html ) and write out the results to a file as migration file. ",1541604074.0
vagabondjames,"I'd love to get some feedback on my pet project. Also, if anyone in Chicago is hiring or knows of someone hiring a junior level full stack engineer, I'd love to chat.

1. Chicago Water Tanks
2. The city of Chicago was once home to hundreds of water tanks. They are quickly disappearing from the skyline as they are be taken down across the city. This project is an attempt to map, photograph, and document as many of these water tanks before they‚Äôre gone forever.
3. Ruby on Rails. [You can read more about what I used to build this app on my blog.](http://loudmouse.io/projects/chicago-water-tanks/)
4. [wwwchicagowatertanks.com](http://www.chicagowatertanks.com)
5. [The GitHub Repo](https://github.com/loudmouse/water_tanks)
6. I am a beginner learning to program an hour a day for the past year.
",1541609561.0
glacials,"1. Splits I/O
2. Statistical analysis for speedrunners. (People who play video games fast as a hobby.)
3. Ruby on Rails, Redis, ActionCable, PostgreSQL, Docker, AWS, HighCharts, Bootstrap 3
4. [splits.io](https://splits.io/1au)
5. [github.com/glacials/splits-io](https://github.com/glacials/splits-io)
6. I've worked in Rails for five years.
7. I could use some advice for a landing page for unfamiliar users -- hence why I didn't link to the frontpage for #4 ;)",1541658358.0
dwitman,"1. Artistic Agency
2. A site for creative people to be able to easily create a profile showcasing their multiple creative endeavors, and eventually post blogs, events, and make connections and contracts. Linkden for creative people as opposed to linkdin for white collar workers...
3. Ruby on rails with some bootstrap
4. [http://artisticagency.herokuapp.com/](http://artisticagency.herokuapp.com/) Note that this runs on a free heroku setup at the moment, so can take a few seconds to load. 
  - [Example Profile](http://artisticagency.herokuapp.com/danielle_radford) 
5. [gitlab repo](https://gitlab.com/jwhitman/artisticAgency)
6. Self trained on rails for a year, then received my AA in a software development program at a local school. (Currently seeking my first dev role.)
7. I could really use a collaborator on this...someone good at JS or design or both. 

",1541621767.0
Srules,"1. Confidist
2. A portal for short private 1 on 1 conversation with accountability.
3. Rails 5.2, ActionCable, Sidekiq, Redis, and Postgresql.  Hosted on AWS using ElasticBeanstalk.
4. [Confidist.com](https://www.confidist.com) [Screenshots](https://imgur.com/a/ez87igF)
5. Source currently privatized, but feel free to PM with questions about implementation.
6. Senior Rails Dev professionally.
7. I would love some general feedback!

",1541630850.0
seainhd,"I created [https://github.com/blairanderson/open-source-job-board](https://github.com/blairanderson/open-source-job-board) a while back, and its fairly popular as a free and open source job board. 

&#x200B;

I just noticed it has some out-dated gems, and wanted to know if any learners here wanted to attempt to update the rails version and get practice contributing to open source projects. ",1541892485.0
behrangsa,"# Trimify (looking for interested parties to transfer the ownership)

| GitHub | Stack |
|--------|-------|
| https://github.com/behrangsa/trimify | Rails |

## Short description:

A 7-year old project of mine that I am no longer maintaining. It is a fork of another project called [nilify](https://github.com/grobie/nilify).

> Trimify is an ActiveRecord Plugin that allows you to easily trim leading and trailing white spaces from string attributes and optionally turn blank strings to nil. Only attributes you specify will be checked and converted. Using trimify on non-string attributes has no effect.

_**I am looking for people who are interested to transfer the ownership to them. It is very simple project and a reasonable project for programmers new to Rails to bring it up to date and contribute to the Rails community.**_",1542538216.0
neotorama,"I like mina created by rstacruz. Then an org took over the project and the project looks abandoned.

Mina-whenever is not updated. I messaged the dev to merge the pr, no update since 2017. Sad",1541581107.0
kobaltzz,"Careful using the whenever gem on short intervals. It has to load the rails application in order to execute the code and will cause a temporary inflation to memory. This isn‚Äôt a big deal for something that runs once a day, but if you encounter a need where different recurring jobs will run every few minutes, you may overload the server. In these cases it would be better to use sidekiq + sidekiq-cron.",1541596741.0
AprilSpektra,"Yes, regardless of how the forms are generated (remember, it all ends up as plain HTML on the client side anyway), the params that the form submits to the controller will be the same and the controller will treat them the same.",1541530318.0
your-pineapple-thief,"`I'm using normal form inputs for one attribute, because the wrapper for a plugin is affecting my ability to target it with JS. It nested like 3 divs and added multiple classes. It made it hard to use ""this"" keyword and it was giving me absolute hell with any other approach.`

I strongly suspect you are doing something very very wrong here. Can you go into more details here? Maybe you are solving non-existing problem",1542012157.0
neotorama,Thanks for your good work ,1541522591.0
pizza7892,"Your videos are my favorite. This was a great one, thank you!",1541553911.0
HireMeImARailsDev,Nice!,1541558365.0
Dudesivoro,"Cool tricks, specially the end part",1541563422.0
appleflaxen,these posts are really well done. thanks for making them!! ,1541588894.0
gregnavis,"I gave a talk about API Integration Patterns that covered your use case. If you'd like I can send you the slides.

In general, you need to create models on your end first and then sync them to Shopify in `after_commit`. Some things to keep in mind:

* If you update or delete a product you may also do need to do so in Shopify. You can use `after_commit_create`, `after_commit_update`, and `after_commit_destroy` for that. You should use a background job for actually *calling* Shopify. Hooks should only schedule the right job.
* You may use `before_*` hooks to mark your model as dirty so that it's easy to restart the sync jobs for models that weren't synced for some reason. In that case, the sync jobs should mark the models as clean after completing.
* Ensure you isolate yourself properly from Shopify in your test suite in order to avoid mirroring test products there.
* Some updates on your end may not need to be mirrored in Shopify. For example, you may change an attribute that isn't copied over to Shopify. You need to take this into account in order to avoid performing excessive updates.
* Some updates may require you to create or destroy the model in Shopify. For example, if you have a flag `published` and mirror only published products then setting it from `false` to `true` should create the model in Shopify and changing it from `true` to `false` should destroy it.",1541499181.0
jonnyom,"To be honest this feels like a bad pattern as you mentioned. You're essentially making Shopify your source of truth as opposed to your own datastore.

I would save your data yourself first (ideally abstracted away using a service architecture so your controller never really has to touch AR and only handles domain models) and then write to Shopify. If Shopify fails you still have a record in your datastore and you can retry with the data that you've stored.

Writing to a third party and relying on their system before saving your own data feels like a timebomb waiting to go off. What happens if Shopify are down for a period of time and you just keep retrying and never save the data? ",1541472170.0
binarygold,Build Twitter in 40 mins. ,1541448550.0
GroceryBagHead,40 mins is awfully little time to do anything. Maybe a simple CRUD? Maybe you going to get existing project and will be asked to fix/tweak something?,1541446892.0
JimmyPopp,Unfortunately you never really know. They can ask you anything on MVC or testing or best practices.  That is the point of the reviewer to see where you‚Äôre at.,1541457173.0
ActiveModel_Dirty,"40 minutes isn't a huge amount of time so if I had to guess they won't have you building an end-to-end application, rather they'll  ask you to do some data structure or algorithmic work. For Rails interviews I've seen things like compression algorithms, merge sort, fizzbuzz, or potentially a stack/queue implementation.

In most interviews I've gone on personally (that haven't involved a multi-day long coding project), knowing how to use a hash \[creatively\] has answered 90% of questions. ",1541458139.0
sanjibukai,Interested to what it will end up and good luck..,1541461964.0
ginnynumberone,Interested in what it was about OP. ,1541488329.0
HireMeImARailsDev,"I had one this year, we went over basics on inheritance, and created two classes, one for a file and one for a directory. One class inherited from the other, and implemented some new methods. 

The other test was implementing a binary search tree, based on a description of the algorithm, followed up with optimizations. 

I didn‚Äôt perform my best, but best of luck in your interview! ",1541464031.0
juzatypicaltroll,Will one fail the test if he/she uses scaffolding/generators?,1541513722.0
xaviermiller,After the test could you make another post about what it's actually on? Really curious to see what it's like,1541516075.0
akosijomel,expect creating CRUD. ,1541742545.0
nippysaurus,It will most likely be something you need to build to show how you problem solve. I highly recommend taking a TDD approach with rspec if my experience is anything to go by. ,1541455467.0
jryan727,"1. Are you absolutely positive that you aren‚Äôt signed in in the incognito session? Be warned that all incognito tabs and windows share a session, which is a common gotcha. 
2. If you totally remove those lines from your routes config, can you still hit /sidekiq? Curious if it‚Äôs being added elsewhere. ",1541442086.0
spamburglar,Are you using Devise? It seems like the code you provided only works with Devise.,1541435193.0
AnLe90,The answer to that is going depend tremendously on how senior you actually are and where you live.,1541404122.0
BLITZCRUNK123,"I would say it would be difficult. Only a small percentage of companies in the US will be hiring remotely (if that's what you mean by _home-office position_), and those that are may try to avoid the extra work and legal responsibilities that come with getting you a (I assume) H-1B visa. Not to mention the expense of the moving costs package that companies will usually offer (although that's usually to candidates within the US). It's worth noting that the companies that hire remotely often use that as an excuse to slash the salary being offered.

I have no reason to believe that you aren't awesome at your job, but keep in mind there are lots of other awesome people looking for work already in the States that won't come with the hassle of an overseas move.

(Source: personal experience. I've worked remotely, from Europe, for a company in the US for over a decade. Not that I've ever tried that seriously to move over there.)",1541409858.0
joelbluminator,"Just a thought, how about Netherlands, UK, Germany? Sounds way more realistic and easy and life isn't bad at all in those countries. Yes the salaries won't be as good as Silicon Valley, not even close, but you'll live in a safe environment , have good public transport and enjoy a great work life balance.

Could be a nice ""consolation prize"" for you if the ""American Dream"" thing isn't working out.",1541522610.0
rick_and_mortvs,I‚Äôd setup a google alert for rails remote jobs and just start contacting every job that comes up. ,1541433813.0
in0pinatus,"Since this is simple_form, you're looking for the `input_html` option, for both the `accept` attribute and also, by the by, if you want that class applied, e.g.:

`= f.input :photo, as: :file, label: false, input_html: { accept: 'image/*,video/*', class: 'form-control' }`

Caveat programmer, though; the `accept` attribute is a hint to the browser to help the user select preferred files. It is trivial to bypass and cannot guarantee that only images and video are uploaded. [Some browsers ignore it entirely](https://caniuse.com/#feat=input-file-accept) (most notably Microsoft Edge) and older browsers may require file extensions rather than MIME types, or otherwise misbehave. Always check content validity on the server side.
",1541377211.0
SagaciousCrumb,"The reason that you typically group the actions for a specific model into one controller is so the the URLs/Routes are grouped together intelligently.

`GET /books -> index`

`GET /books/:id -> #show`

`GET /books/new -> #new`

`POST /books/create -> #create (has no view, redirects to show)`

`GET /books/edit -> #edit`

`PATCH /books/:id -> update (has no view, redirects to show)`

`DELETE /books/:id -> #delete (had no view, redirects to index)`

You COULD pus these in separate controllers, but then you'd have to define the routes manually, rather than just putting `resources :books` in your routes file. That one line will generate all the above routes.

This is more of Rails convention over configuration, when you do things are Rails expects, you need very little code.

For basic CRUD operations it keeps all the code related to CRUDing a specific model in one class, so you can see it all at once.

&#x200B;

Once you application grows in complexity you'll be dealing with more than one model on some pages, and by then you'll have controllers that aren't doing any CRUD work at all, such as a Dashboard. In those cases you break the convention. The `#index` method might load data form 10 different models to show it all in one place. And it might have an `#edit` method that lets you change what appears on the index. There probably us no Dashboard model, so you're really editing user settings, but conceptually it makes sense to put that logic on the `DashboardController#edit` method. In this case you would define the routes manually because they don't conform to the standard **resourceful routing** framework.",1541347684.0
jaryl,"You should have as many Controllers per model as there are logical perspectives in your domain. If your admins need to manage your products, it shouldn‚Äôt be in the same controller as buyers on your site. Likely you will have `admin/products` and `products` routes.

You will have similar actions like index for both Controllers but obviously they will show very different things (action logic and view templates). Putting them into multiple Controllers reduces the amount of if/else logic you need. You can also specify your authorisation logic on a controller level more cleanly if kept separate. 

Look at GitHub, they also have some very complex actions that are extracted out into its own controller. You may want to have something like a `projects/:id/archive/new` GET action to explain what archiving entails to the user and a You may want to have something like a `projects/:id/archive` POST action that actually performs the archiving.",1541357572.0
niconisoria,"The only views that CRUD uses are new show and edit, there aren‚Äôt views for create, destroy, update or index",1541346109.0
joesb,Both. ,1541423614.0
seainhd,"Run a rails scaffold to see what ‚Äúmost‚Äù people do. It comes out of the box because it‚Äôs the community standard. 

Most production rails apps don‚Äôt really use scaffolds, but it‚Äôs a good way to see what routing/controller/views/model happen.",1541366750.0
cmd-t,Extend the active admin dsl or create some helper methods. Config files are just ruby files. ,1541353344.0
Muchaccho,"I always recommend following [The Odin Project's](https://www.theodinproject.com/) curriculum. It's free and open source, well maintained and updated, comprehensive, and it gives you a very clear path to follow.

Apart from that the community is very active and supportive.",1541321594.0
thundrshock,"Michael Hartl's [railstutorial.org](https://railstutorial.org/book) book  
  
edit: URL",1541328337.0
icerpro,"Thoughtbot released www.upcase.com for this,   and it‚Äôs free!",1541338829.0
SizzlinSteak,"Course-like material:

1. LaunchSchool
2. GoRails
3. Exercism (Ruby Track)
4. RubyTapas
5. RailsTutorial
6. Upcase
7. DriftingRuby
8. [Deanin](https://www.youtube.com/channel/UCRQv-3VvPT9mArF5RfrlpKQ)
9. [Codemy School](https://www.youtube.com/user/codemynet/videos)

Blogs:

1. Martian Chronicles
2. Giant Robots Smashing Into Other Giant Robots
3. Heroku Engineering Blog
4. Rubyland (Really good Ruby/Rails article aggregator)
5. Schneems Blog

Open Source:

1. https://github.com/ledermann/docker-rails (recommended for learning)
2. https://github.com/houndci/hound
3. Any GOV.UK service rails app: https://github.com/alphagov
4. https://github.com/lobsters/lobsters
5. https://github.com/discourse/discourse (not recommended for beginners)
6. https://github.com/thepracticaldev/dev.to
7. https://github.com/exercism/website
8. https://github.com/codetriage/codetriage

I'm sure there's a lot more. Most Rails books are still relevant as well, but if you prefer watching videos these seem more appropriate.",1541358621.0
fractaledmind,"https://www.railstutorial.org/

This is an excellent resource. Is free, but you can also support the author (who updates this every major Rails release) for a couple nice additions as well. This I how I learned Rails. ",1541342637.0
dlj630,"Y'all have excellent book and tutorial suggestions.

My 2¬¢, dig through and get to know everything on the Rails guides:  https://guides.rubyonrails.org. The first four sections, know them inside and out, and when you're ready the ""Digging Deeper"" section.

You'll be using them for years, they really tell you what you don't know.

Now I generally know what I need, I just forgot the specifics, so I go to https://api.rubyonrails.org, but rails guides will always have a special place in my heart üíì",1541393032.0
eelcoj,I've found Thoughtbot's Upcase to be quite good (and up to date). [https://thoughtbot.com/upcase/](https://thoughtbot.com/upcase/) Recently turned freed too. ,1541335295.0
justalever,"Shameless plug, but I'm a designer/developer who learned Ruby on Rails in public on my YouTube channel. I'm not sure if you came across these in your search but you might [check a playlist I'm adding to regularly](https://www.youtube.com/watch?v=4ABesTeDKmQ&list=PL01nNIgQ4uxNkDZNMON-TrzDVNIk3cOz4). 

I'm also currently creating a course to ease in new folks to the framework (something I feel is missing today) but it's still being developed. 

&#x200B;

I also definitely recommend [gorails.com](https://gorails.com)

&#x200B;

&#x200B;",1541348857.0
endorphins,"If you‚Äôre a visual learner, I strongly recommend the Rails courses by Pragmatic Studio. It‚Äôs not free, but it‚Äôs worth every penny. I struggled with keeping up with Michael Hartl‚Äôs tutorial because it‚Äôs so dense, but Pragmatic Studio did it for me. After that, going through Michael Hartl fill any gaps that might‚Äôve been left behind. ",1541358691.0
phoebinx,http://railscasts.com,1541321642.0
DankCertified,"If you‚Äôre a college student, you might have access to Lynda courses. This is where I learned Rails 5, and got an entry level job thanks to the course.",1541350804.0
tinco,"It's a bit crazy that it's not been mentioned yet, but once you've followed a tutorial or two about how to build a basic Rails app, you should read through the Rails Guides. All of them, and in their entirety. Together they are basically a book, and they are always up to date. They cover every single thing of importance in Rails, and having at least read them once will make sure you'll always know what to do (or at least where to look it up).",1541372678.0
anewdialect0,"I had the same problem when starting to learn Rails. But there are a \*few\* excellent Rails tutorials floating around on Medium and the Heroku blog. Very helpful in terms of setting up a Rails API with a React front end.

Learning Rails 5 & Agile Web Development w/Rails 5.1 are both great books IMO (and on Kindle!). The first one can be a little wordy at times but it's a good primer for setting up a CRUD app. The second one teaches you how to build a fairly complex shopping cart app using Webpacker & React. 

If you prefer short examples to larger projects, Learning Rails 5.2 is also decent, especially for learning Active Record.

I'll echo that the official Rails docs are very good - the tutorial under Getting Started with Rails is the first one I ever tried. But if you want to dig into building a larger app I found the above books to be a nice substitute for Lynda, Udemy, etc.",1541653569.0
jukooz,"I'm still learning myself, tried Odin, went through Hartl's ""Rails Tutorial"" (which Odin is largely based on) among the others but the best thing I found seems to be new [https://open.appacademy.io/](https://open.appacademy.io/) which wasn't mentioned here yet. ",1542140153.0
xelamony,"Review big, open source projects. Like Gitlab.",1541365885.0
newpain01,"I am looking at the **Ruby and Rails Master Package** from the Pragmatic Studio which is currently on sale for $180 until the end of November. I would love to get it, but it's too expensive, do you guys have any experience with this course, is it worth the price and what to expect from it, what exactly is covered?",1543216198.0
d4be4st,"just put it in public folder, without the controller.

Take a look at Rails.config.serve_static_files",1541272614.0
zqom,"Does it actually return the headers you set?

I would install `rack-cors` gem, I think that should make it easier to set that stuff.",1541272160.0
faitswulff,Can you serve it through your CDN?,1541276623.0
donkeypooper,I would second using the `rack-cors` gem in addition to saving this JSON in your db and avoiding class variables as they are not thread safe. Not sure what database you're using but the jsonb field in postgres has been great for me.,1541274313.0
retr0guylife77,You can use .distinct when it‚Äôs an ActiveRecord object.,1541258948.0
gillianmounka,"Using a group scope would solve the problem. 

    @games = Game.joins(:venues).where(""game_venues.venue_id IN (?)"", @venues.map(&:id)).group(:id)

If you get an error of non aggregated colums, just add them to the group clause. ",1541523423.0
dev4work,Left join.,1541265943.0
evanilukhin,"I think it will work quite fast Game.joins(:venues).where(""game\_venues.venue\_id IN (?)"", @venues.map(&:id)).uniq.pluck('games.id')",1541262110.0
iamsolarpowered,"You're basically going to build a form, but with hidden fields for the `table_id`. When you hit the save button, you'll submit it to an update action. You'll need to change the value of those hidden fields in your Javascript.",1541213945.0
SagaciousCrumb,"I would build an API endpoint in the controller for this view, call is something like 'add\_project\_to\_recommended' that takes a project ID as a parameter and does that single operation. Then the jQuery can submit the project ID that's clicked on. Same for removing. The response form the API can be either '{success: true}' or some javascript to run that updates the UI.",1541213561.0
gregmnagy, Understand what is going on under the hood of your queries. ,1541174783.0
toadkicker,"I‚Äôve done one before when this tech was very new, and we ended up scrapping it. A lot has progressed in four years since then.

Currently I am building a NuxtJS UI that is being wrapped in Cordova for native iOS and Android deployments.

To handle offline syncing I am using vuex-persistedstate which is ultimately a bridge between Vuex and LocalStorage. It uses Axios for ajax calls, which I extended the retry functionality to support queuing calls and reconciling state changes there.


It would be helpful to know how long offline means to you. In my app it would be a huge problem since current information is driving business decisions. So for us its mostly for safeguarding against lost data, but we haven‚Äôt fully developed the rules for what we may not commit for being too stale.",1541139835.0
jlinwood,"I've done this with Rails, using the Realm database on an iOS app. The Rails side doesn't matter too much, except that everything is much easier if you can use a UUID as a primary key on both Rails and Realm - that way you won't get weird errors . This is now a built-in option on Rails 5, but wasn't in Rails 4 when I built that app.

Devise worked well with this [https://github.com/netguru/devise-ios](https://github.com/netguru/devise-ios) \- but that looks pretty out of date now.

The Sync code is the hardest to write - you want to make sure you account for any local changes from the iOS app, by keeping a Sync Log of objects to sync with actions (CREATE, UPDATE, DELETE). Also need to do the same on Rails.

Unfortunately, my code's not open source (and it was in Objective-C, anyway), but I could probably give you more specific info if needed.",1541166551.0
Mattisfrommars,Offline syncing is hard. If you don't feel like building it from scratch Firebase gives you that and authentication for free,1541144528.0
kobaltzz,"I've done this with iOS where it stored its data in a database on the device when the device was outside of connectivity. There was a status page where users could see pending transactions. Once connectivity to the app server was established, the data would upload and be stored on the Rails app's database. This API endpoint would respond back with the ID used on the iOS device plus the ID generated when creating the record on the Rails app. This prevented users from accidentally hitting a duplicate primary key issue and allowed aspects of the native app to be used offline.",1541160000.0
psykomf,I've done this using Electron and angular to build the desktop app with Rails as the backend API. I was using couchdb so used pouchdb to handle offline and online synching. Worked perfectly,1541172246.0
your-pineapple-thief,"I would not use devise for this, look for alternatives(f.e. Sorcery) ",1541159971.0
rt3norio,+1,1541138298.0
ykevin,"I haven't had any experience with this Rails.  


But I did have such experience with NodeJS and AngularJS along with MySQL db, and it was quite unpleasant work to interact with RDBMS using NodeJS. ",1541138765.0
mejorketu,"I believe the jquery call where you append the data is wrong.

    $(""<%= j render partial: ""posts/#{@post.post_type}"", locals: {post: @post } %>"").appendTo("".infinite-table table"");

Will give an error because  posts/#{@post.post_type} is not inside your string.

Hope that fixes it.

Edit: I think `following_ids = current_user.following_users.map(&:id)` can also be changed to use `pluck` instead of `map`. It should be less overhead with large amounts of data.",1541130646.0
cmd-t,A 500 error means something is wrong server side. You might have some error in the template. Include the whole backtrace of the error so people can help you debug.,1541149681.0
the_jester,"It sounds like what you're struggling with isn't so much PHP vs Ruby (on Rails), but a major change in programming paradigm you may not have been given the name for.

Writing code of the overall style of ""If this query saves, do X else do Y"" is called imperative programming. [Wiki Reference](https://en.wikipedia.org/wiki/Imperative_programming).

Rails is organized in a (mostly) object-oriented style of programming. [Wiki Reference](https://en.wikipedia.org/wiki/Object-oriented_programming)

To grossly oversimplify both, when doing imperative programming you dictate instructions to a single omniscient butler; ""Do A, then B, then C unless X. Then..."" When doing object-oriented programming you instead define a set of relevant nouns (aka object) that share common behaviors (aka methods). ""This is a dog. It can bark(), run(), eat() and sleep()."" To achieve an overall intent you then interact with your object's methods.

Rails specifically even divides things up further with a so-called ""MVC"" design. [Wiki Reference](https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller). This means what you might be used to thinking of as a list of actions in PHP are instead thought of as first (objects) and then kind of into ""sub objects"" across the model, view, and controller.

It is completely normal that sea change would tie your brain up in knots, but if you spend some time pondering the high level ideas, eventually the details will make a lot more sense in context for you.",1541116079.0
psykomf,"I would place the functions you are trying to call into the model and then you can call them in the view by calling @model.function. e.g. Comment model has an upvote function so load the comment in the controller and store in @comment (@ making it available in the view). Then in the view you can call them using @comment.upvote

",1541114581.0
BBHoss,"Instead of having to drop down to raw SQL, simply make a clone of the table's schema. Have an after insert trigger that inserts into the real table then truncates this ""virtual table"". The unprivileged user can only read and write to the fake table. You can set up the trigger to operate as the DEFINER (superuser) rather than the low-privilege user. This will allow operation without the low-priv user even being able to see/write/insert/etc the real table at all.",1541111357.0
nielsbuus,"If you enable the query logger you can see exactly what queries ActiveRecords make. I'm not sure, but I have a feeling that Rails will query the database on boot. I remember having seen errors that Rails have pending migrations. This conclusion cannot be reached without querying the migrations table. But I think it only happens in the development environment.

But enable the logger and check the queries. If there are no selects you should be able to do as many writes as you want, but watch out for model validations. If you have a uniqueness validation on your models, ActiveModel will do a select.",1541104897.0
kornbred,I would recommend not trying to do this via ActiveRecord and just create service class that sets up a connection via w/e db adapter gem you are using and a DAO to manage pushing data to the table,1541123176.0
fiiiiiine,Why don't you just try it and find out?,1541100578.0
Seuros,"set `read_only!` in the models that you don't want to update for extra security.


Normally Activerecord won't touch the data unless you update a record or touch it.


Btw you still need a RW access to schema_migrations table.

",1541177017.0
hernanat,"I broke this plugin out of some functionality we use in one of our code bases. This is just an initial version but I have a few ideas such as:

- adding generators for adding the column / index

- alphabetizing the fields by key (right now the order is whatever is returned by `#attributes`) before creating digest

- Adding a `#find_or_create_by_digest` method, and maybe some others

Our use case is that:

- We have a bunch of fields that we want a record to be unique by

- We don't want to maintain large multi-column unique indexes

- We use the digest to find/create unique records


Curious to know other's thoughts, whether or not this is something folks would use, and any questions / comments. I really just did this out of boredom and to get more familiar with creating plugins, so I guess I'm okay with it being useless ;P",1541096790.0
henrebotha,"Search on Github for ""help wanted"" issue tags?",1541080434.0
milkohol,"Sign up for CodeTriage?

https://www.codetriage.com",1541093428.0
ykevin,Github is the place you want to go. Many open source projects were open for contributors there,1541082866.0
dkuku,Check agileventures.org. They have a couple rails project.,1541818012.0
neotorama,Mina gem,1541096709.0
faitswulff,"There's always https://lobste.rs/, which you can find at https://github.com/lobsters/lobsters/",1541110478.0
FooBarWidget,"Hi all, I am one of the Passenger developer, and CTO at Phusion. This session will not only show you how the feature is going to be coded, but I'll also be around to answer questions. So treat this as a **coding session + AMA**.

&#x200B;

The session won't only be about coding. It's accompanied by a presentation that explains Passenger's architecture. The code will also be explained: what does this code do? how does it fit in the architecture? what are caveats to lookout for? what performance characteristics to lookout for? how do these C++ language features compare to other languages like Ruby, JavaScript, Java, etc?

&#x200B;

Looking forward to hear from you all.",1541082508.0
timezone_bot,"5 PM UTC happens when this comment is 5 hours and 22 minutes old.

You can find the live countdown here: https://countle.com/dxQbl131n

---

I'm a bot, if you want to send feedback, please comment below or send a PM.",1541072280.0
,[deleted],1541076254.0
klyrish,"ACK! I just solved it. I was looking at posts about creating custom slugs and in the comments on this one: [https://blog.teamtreehouse.com/creating-vanity-urls-in-rails](https://blog.teamtreehouse.com/creating-vanity-urls-in-rails)

Someone mentioned using the params: option in routes (which I was) so that you could use \`find\_by! slug: params\[:slug\]\` instead of \`find\_by slug: params\[:id\]\` so I removed \`params: :slug\` from my nested albums route and updated my set\_artist\_album function to use \`find\_by slug: params\[:id\]\` and now it works exactly as I want it to! I'm able to go to the /artists/enter-shikari/albums/common-dreads record, pass in an updated title and slug, get the success response, try to find Common Dreads again and get a 404 and then GET /artists/enter-shikari/albums/a-flash-flood-of-colour and it works!

Is there any negative/downside to this approach? I still have pretty URLs and now can update my slugs so this seems like a win-win to me.",1541038038.0
pizza7892,Are they permitted in the controller?,1541037977.0
bnikbnik,"Hmmm maybe this is not related to nested forms as far as I can tell since this doesn't work either:

```ruby
Thing.create(image: File.open(""some_file.png""))
```

It looks like you have to use the .attach method explicitly?",1541075604.0
CommanderViral,"Command Prompt (I'm assuming you are on Windows and using `cmd.exe`) and its usage has nothing to do with Ruby or Rails. Yes, you'll be interacting with Ruby and the Rails CLI with it, but stuff like directory traversal is not a Ruby or a Rails topic, so this subreddit technically isn't quite the best forum to get help with it. You'd be better suited on a Windows subreddit for Command Prompt related questions like this. Just for future reference.

However, the command you are in fact looking for is `cd`. So `cd C:\Users\Documents` should work fine. What I'm assuming you are trying to do is go to your specific user's Documents folder and I'm assuming you have a space in your username like `Foo Bar`, right? If so, your problem is because `cmd.exe` splits arguments on a space. So, a command like `cd C:\Users\Foo Bar\Documents` is actually going to try to put you in `C:\Users\Foo` not `C:\Users\Foo Bar\Documents`. To deal with this, you should put the folder path in double quotes, which will tell `cmd.exe` to treat everything in these quotes as one argument, no splitting on the space. So, the correct command would be `cd ""C:\Users\Foo Bar\Documents""`. I would suggest reading some tutorials on using Command Prompt correctly, and maybe even just nix it altogether and dig into PowerShell if you plan on learning how to work on a command-line in Windows.",1541032808.0
cmd-t,Not rails related. I suggest you google for cmd prompt tutorials. ,1541143505.0
SuccessfulBread3,"It might be easier to use a Google account. They let you use their smtp servers. I mean, I obviously don't know your requirements but if you were to go down that route it saves a lot of time and effort. Plus, utilising someone else's services means one less part of the system you have to maintain.",1541070539.0
snajfowy,"    def require_admin
      return if current_user.admin?
      redirect_to root_url, alert: '...'
    end",1541005826.0
hernanat,"It wants you to one-line it, adding the ‚Äúunless‚Äù to the end of the line. This is a silly rule imo and we have disabled this cop in our code base. **edit** /u/myrridin expanded on this with a great answer!",1541005127.0
myrridin,"Edit: It appears as though I'm wrong about the early return not being what Rubocop is suggesting. Thanks to /u/HellzStormer for the clarification.

What the error is trying to say is that they'd prefer

    redirect_to(root_url, alert: ""Unauthorized access."") unless current_user.admin

instead of

    unless current_user.admin
      redirect_to root_url, alert: ""Unauthorized access.""
    end

The solution from /u/snajfowy uses an early return to avoid this, but is not what Rubocop is suggesting. It will resolve the warning, though some teams don't like to use early returns as they can be difficult to reason about at times.

/u/hernanat suggests disabling the cop as their team is not a fan of the rule. This is likely because guard clauses can be hard to spot when scanning the code quickly. Thoughtbot's style guide (https://github.com/thoughtbot/guides/tree/master/style/ruby) has the same recommendation.

Hope this helps!
",1541009112.0
gmfthelp,Get your self the Confident Ruby book. I think you'll like it.,1541032553.0
stevetwitte,"Just want to reiterate that there is nothing wrong with your code and there are many shops that I know of that have custom rubocop.yml files to disable some of these checks. The real problem with using unless for a lot of teams is that other languages don't have that keyword. Just like the %w() syntax, it works in Ruby but so does \['string', 'string'\] and that looks like an array in most other languages.  


Just saying...",1541016844.0
igorpreston,You can use native postgres array or create a separate model like Tag and use has many through relationship. Also good practice now is to use json or jsonb column type in postgres. But not saving json as an encoded string.,1541005121.0
aarkerio,Nowadays most people use a jsonb type in postgresql to do that. ,1541007160.0
seriouslyawesome,"You've named your mailer method `#send`, which is [already a method](https://ruby-doc.org/core-2.5.3/Object.html#method-i-send) on all Ruby objects, and typically expects a method name as an argument (for instance, you'd use it like `current_user.send(:foobar)` which is the same as using `current_user.foobar`). Change the name of your mailer action to something else (preferably something that indicates the nature of the message, like `MyMailer.new_user_welcome.deliver_later`) and you should be good to go.",1541004668.0
cmd-t,I think it only works with methods that end in _mail. You are defining instance methods but calling a class method on the mailer class. Rails probably has some magic to set up these class methods. ,1541004131.0
cmd-t,I don‚Äôt think so. There is the referrer header but whether it shows the original source can depend on the browser. ,1541004410.0
442401,"You could override `#redirect_to` in your `ApplicationController`

    #app/controllers/application_controller.rb
    
    class ApplicationController < ActionController::Base
      def redirect_to(options = {}, response_status = {})
        response_status[:flash] ||= {}
        response_status[:flash][:redirected_by] = request.fullpath
        super
      end
    end

Now, in any controller action `flash[:redirected_by]` will give the requested path, if called as the result of a redirect.",1541911863.0
ykevin,Have you tried with request.referer ?,1541067363.0
madebylotus,"Nice tutorial. Haven‚Äôt read through all of it just yet, but interested to see how all this comes together. ",1541186601.0
Dombot9000,"Long lived sessions, sessions not in persistent centralised storage, lack of CSP, use of the stupidly named html_safe, exceptions on in publicly available environments - I could keep going, but the above are meaty enough.",1541075099.0
weedisallIlike,https://guides.rubyonrails.org/security.html,1541857434.0
ykevin,"Have you tried the proposed answer: https://stackoverflow.com/a/53085102 ? It's just posted 3 mins ago.

From your error log, it's clear that you missed to install the bootstrap-sass gem, so give it a try.",1540994485.0
rylanb,"I may not be understanding what you're trying to do, but

`app/initializers/session_store.rb` and reference: https://www.justinweiss.com/articles/how-rails-sessions-work/ and https://stackoverflow.com/questions/10402777/share-session-cookies-between-subdomains-in-rails 

Settings like `:domain => :all, :tld_length => 2` as referenced on SO may be what you're looking for? But `domain: :all` needs to be each ? ",1540998932.0
ykevin,"To convert a JSON file to object:

 First you need to read that file's content ( look for yourself how to do this ).

Second, once you're able to read that file's content which most likely a JSON string, you can use 

json_object = JSON.parse(json_string)

And you got the object.

Hope it's enough for you to begin with, and have fun!

",1540962938.0
jemminger,Check out https://github.com/shrinerb/shrine,1540955684.0
seainhd,"To answer your question: it‚Äôs not that easy, but yes it‚Äôs still fairly easy. 

You‚Äôre using sftp, so with ruby rails you can use Net::SFTP. Try something like this

    uri = URI.parse('sftp://' + host)
     Net::SFTP.start(uri.host,username,:password=>password,:port=>port) do |sftp|
        sftp.upload!(testupload.zip,""./#{uri.path}/testupload.zip"")
    end

https://stackoverflow.com/a/16916661",1540957327.0
anonyfool,"You could add a separate API and try to share code where possible between the API controllers and the *regular* controllers.

Webpacker is more a tool for optimizing web page loads on the browser, but it does a lot of different things, for instance combining javascript/css files to optimize page loading times. further reading here -https://3perf.com/talks/web-perf-101/

What some people end up doing is having a front end on a node.js server and have that call their web server (especially with React), and some people host both on the same server.
",1540928624.0
noodlez,"> Do I need to change my app to an API?

That depends on how you intend to use Vue.  Not necessarily.  It is possible to build Vue components that operate without any external data, or operate with external data passed in as props on the tag, for example.  

> What is the purpose of webpacker, 

Compilation and optimization of Javascript.  It does a good number of other things, too, but that's the high level.

> does that eliminate the need for using my app as an API?

No.

> Will my devise authentication and Paperclip attachment gems still work with Vue?

Possibly.  See previous answers.  Depends on how you set it up.  You can set something up where, yes, this works fine.

> I've written several decorators using Draper. Do these get exposed to Vue or do I need another solution for these?

Again, same thing.  Depends on how you use Vue.  Draper helps you render views.  You could be using Vue and still rendering views through Rails.  Or not, you could also go the full/pure API single page app route.  Or a hybrid of both.

> Would it be best to split my Vue front end into its own git repository, or keep it within the same repo as the rails app?

I personally tend to keep them in the same repo while the project is small.  This also, again, depends on how you're using it.  Full single page app powered by an API tends to lend itself better to a separate repo.

> How would deployment to prod work after I've implemented Vue? Do I just deploy the Vue piece to it's own separate container on my droplet? 

Deployment to prod depends on what your current process looks like.  For example, if you're integrated correctly, you wouldn't change anything if you're pushing to Heroku.  But if you have your own custom brewed VPS and cap script, you might need to do some special stuff.  It depends on what you're doing.

> Will I have any risk of losing current production db data (I do have nightly backups stored on S3)

No moreso than any other deploy.",1540930040.0
,"\ Might I suggest go to gorails.com and search for Vue, as Chris did a lot of great videos on using Vue, via gem, with rails",1540937226.0
EqualsNull,"From the little information posted, your best bet sounds like it would be to create a UNIQUE index on your Comments table, that ensures that (post\_id, user\_id) combos are unique.

&#x200B;

I generally advise to avoid   `validates :user_id, uniquenes: { scope: :post_id }`  as suggested below, as this is vulnerable to race conditions and does not actually guarantee uniqueness in the database (more on this [here](https://robots.thoughtbot.com/the-perils-of-uniqueness-validations))  
",1540926966.0
klaustopher,"Are your users signed in? If so, you can validate that each post only gets one comment by each user:

```ruby
class Comment
  belongs_to :post
  belongs_to :user

  validates :user_id, uniquenes: { scope: :post_id }
end
```

If your users are not signed in there's only possibilities to make it harder ... Like store a cookie with the post id the user has commented on (maybe use [encrypted or signed](https://api.rubyonrails.org/v5.2/classes/ActionDispatch/Cookies.html) cookies, so the user cannot change it), but this does not really prevent savy users from deleting the cookies and commenting again.",1540924210.0
Toluwalashe,Thanks guys! I'll work on it and drop-by if I have any queston.,1540927200.0
msapka,Add a unique index on post id and user id. ,1540988552.0
,"there's a variety of ways to do this, without knowing the specifics of your application is a vague question.  In general, create a toggle that goes 'on' when they comment - if they try to submit a second comment, check the toggle, if it's on, reject the comment.

",1540924079.0
henrebotha,"Back up. Think about the actual data. We'll get to the code later.

In plain English, what are the entities and what are the relationships between those entities? ",1540914918.0
Rockster160,"Can a team only participate in 1 game? I imagine teams should be able to participate in *many* events, and events have *many* teams participating in them.",1540915584.0
manys,"lots of good help on the larger arch, so I'll just add:

`user has_many :games, through: :bets`

",1540929321.0
fp4,"Maybe something like this.

Event

    has_many :entries
    has_many :games
    has_many :teams, through: :entries

Entry

    belongs_to :event
    belongs_to :team

Team

    has_many :entries
    has_many :events, through: :entries

Game

    has_many :gameteams
    has_many :teams, through: :gameteams

GameTeam

    belongs_to :game
    belongs_to :team",1540917203.0
cmd-t,">I cannot understand why is not working.

What isn't working? You'll need to describe your problem more clearly.

&#x200B;",1540910621.0
the_brizzler,"What??? It sounds like you are trying to use rabbitMQ to pass the token to the main app and decrypt it??? This makes no sense and a poor application of rabbitMQ. If your JWT signed and encrypted or just signed? If it is just signed, then your store service can read all the info in the token just fine and no need to attempt to look up the user in the main app, you can tell if the token is valid since it is signed with an asymmetric private key (meaning you don't need the secret key to read it and tell if it is valid) Make sure you don't have sensitive user information in the token though since anyone can read it when it is only signed.

&#x200B;

Regardless if the JWT is encrypted, signed, whatever...you don't want people making API calls to your store service and main service...users shouldn't be able to to hit those directly. A proper infrastructure has what is typically called an API gateway. All API calls come in through the API gateway which handles your authentication ( for you your token validation and decrypting if needed) and then if the request has proper authentication (user is logged in and the log in happens in the api gateway level as well or you can have the API gateway call an auth service which has public routes), then you proxy the request onto the intended service/endpoint (and you can append custom headers if needed to indicate the user making the request, etc. so the endpoint has that information). This would solve all your problems of trying to pass your token around and decrypt it.

TLDR: I think you are using RabbitMQ wrong, and the way you are planning your infrastructure seems wrong. Do yourself a favor and instead use an API gateway to solve your problems ( here is a free and easy one to setup [https://konghq.com/kong-community-edition/](https://konghq.com/kong-community-edition/)).

&#x200B;

PS: Splitting things up into various microservices/macroservices/whatever doesn't make things easier or less complex. It actually makes them more complex since you need more infrastructure to support and manage it (you now have multiple services which can fail and each need their own load balancer).  Don't do microservices unless you have a scaling issue which can't be resolved from proper load balancing.

&#x200B;

Good luck and ping me with any questions you have.",1540961674.0
daddyfatknuckles,"really simple. looks like you got the code right, now just do an *INSERT INTO* statement in your migration. lmk if you need help with it 

edit: i got bored so here it is

    INSERT INTO
        accounts (distributor_id, billing_account_id)
    SELECT
        distributor_id, id
    FROM
        billing_accounts
                     

after that, you can remove the distributor if column from billing accounts",1540943392.0
ykevin,"You need to discuss it furthermore with your client. 

Was him/her a technical person? 

What's his/her trying to achieve?

You can change it but it will be huge change.

Did the application have unit or integration tests? If it did, it will help so much. If it did not, it will be pain in the ass.

",1540907863.0
henrebotha,"Yes, it can be done. It's not a strange thing to do. Just be patient and careful with your migrations, take database backups before you start, and test it again and again and again (including rollbacks!) on test data until you're 100% sure you've got it right.",1540908132.0
seainhd,Please tell me how much you‚Äôre getting paid for this.,1540907539.0
ScootsMcGootz,"I see the label for the incident type field in the form, but not the field itself. Are you sure you're exposing a field to the view for that param?",1540904986.0
StuartGibson,"First check, are you sure it's not just escaping the console output and the actual data is fine?",1540897254.0
bramley,"1. Please don't use `File` as a model name. That's a standard class in Ruby and this will only serve to confuse people if it doesn't outright cause errors.
2. Are you using PostgreSQL? You might find the `jsonb` column type far more useful than simply putting raw JSON into a `text` column.
3. Since you're putting JSON into a text/string column, there is zero automatic conversion. ActiveRecord can't know it's supposed to be JSON. You have to either parse it yourself or use a different column type that is automatically converted (like `jsonb`).
4. You said you're just getting a python dictionary and putting that directly into the DB. I advise against that. Not for security (though that may be a concern, I don't know your architecture) but for data integrity. Do you not want to validate the contents of that API call? Anyway, yes, JSON isn't the end-all-be-all of data transfer, but it is the lingua franca of the web. I mean, if you want to parse the python dictionary that's nonstandard but ultimately fine, if it's documented.",1540900673.0
C_sonnier,Are you using to_json or as_json? ,1540898117.0
jemminger,"If it's per-user, I'd put it in the database.",1540869256.0
gooseofmusic,"This is sort of what the default option so for in a migration. When you create a column I the user table, make the default global, and then set roles around the ability to change the value.  That way, if you decide that roles have tiers, the option is right there in your permission manager too.",1540894557.0
lewispb1,Check out https://github.com/vinistock/sail,1540888541.0
xipheon,I use the [Rails Settings Cached](https://github.com/huacnlee/rails-settings-cached) gem.  It's already setup like /u/in0pinatus described with a defaults file and user preferences to override.  Just get the setting from the user and if it's not set from them it grabs the app default.,1540913523.0
msapka,Why not just state that explicitly in the model? You'll most likely thank yourself later for being able to easily find this validation.,1540887222.0
cmd-t,"Just use the \`attribute\` and type systems. The existing numeric types all define min and max values. The Integer type already is four bytes: [https://github.com/rails/rails/blob/fc5dd0b85189811062c85520fd70de8389b55aeb/activemodel/lib/active\_model/type/integer.rb](https://github.com/rails/rails/blob/fc5dd0b85189811062c85520fd70de8389b55aeb/activemodel/lib/active_model/type/integer.rb)

Edit: I see it raises an error on [model.save](https://model.save) instead of a validation error. You could create a simple attribute validator which uses the existing type classes to check if the current value is serialisable. Something like

    # in validator
    type = Model.attribute_types[""integer_attribute""]
    
    begin
      type.serialize value
    rescue ActiveModel::RangeError # for ActiveModel::RangeError: 2147483649 is out of range for ActiveModel::Type::Integer with limit 4 bytes
      # add errors
    end

&#x200B;",1540888212.0
seainhd,"I‚Äôve seen a couple posts from you about this situation. 

I applaud your drive to finish the task, but want to let you know that your current strategy should be altered to more cleanly achieve this.

Think of your Order as a SHOPPING cart. Add a status column that says ‚Äúloading‚Äù as the first state. You can fill that table up without worrying about the stripe charges.

After the stripe charge is successful, you‚Äôll send a quick Ajax request to your DB to update the order status to ‚Äúcharged‚Äù and you‚Äôll be able to fill in other stripe data, like charge token, stripe user, etc.

With the status column on your ORDERS you‚Äôll also be able to track ABANDONMENT.

Let me know if that‚Äôs confusing or straight forward. 

To answer your question, you would UnNest the stripe form from the charge form. And use JavaScript to submit your charge form after the stripe JS returns successful.",1540850773.0
Nonsense331,Why do you have 2 actions? Just post the stripe token to your orders controller in the same form as your order info. Then you can check if the stripe charge works and make the order object at the same time.,1540861929.0
cmd-t,"I think your problem is insisting on submitting two forms at once. Why not first have the Order save, then redirect the user to the stripe controller, render the stripe form, and then use that in the stripe controller to create the charge.

If you insist on doing it all on one page, create a remote form (look it up in the rails docs) for the order and another stripe form. These are separate forms and not nested. On a successful submit of the order form, populate the stripe form with extra needed info (is there any?), hide the order form and show the stripe form using javascript.

Also, your HTML must contain errors since form\_for already puts out a <form> in the render html and you then add your own <form> element below that.",1540890300.0
seainhd,"It‚Äôs not easy or common to use JEKYLL with RAILS. Jekyll is for building static sites. Rails is for building dynamic sites. 

What is your goal here?",1540851163.0
msapka,It‚Äôs great. What do you want to know?,1540847538.0
cmd-t,"I'd look at this gem instead: [https://github.com/thoughtbot/high\_voltage](https://github.com/thoughtbot/high_voltage)

Jekyll is meant for generating static sites, not for integration with Rails. ",1540896367.0
witchofiza,"Lots! It‚Äôs quite extensive and since it uses liquid/ruby you‚Äôll feel right at home. Really convenient to make larger sites too. One fun thing to do is using page generators based on a data file to spit out tons of pages quickly. 

If I don‚Äôt need rails for a project, this is usually what I grab. ",1540850224.0
d4be4st,"Did you take a look at mobility gem (with postgres backend) before creating your own gem or were you just looking to hone your ruby skillz?

https://github.com/shioyama/mobility/wiki/Postgres-Backends-%28Column-Attribute%29",1540824240.0
cmd-t,"I think it's a nice idea, but not really useful as is in its current form.

I'd like a more ActionText or ActiveStorage approach, where you can just attach translations to an existing model without touching that models database table.

This also uses hstore/json columns by default, which are more or less 'exotic' column types that a lot of people will not be familiar with, also breaking things like `Model.where(title: ""blah"")` among other things.

Apart from that, it seems that [this gem](https://github.com/globalize/globalize) already does that and is just a more complete/mature version of your gem.

Edit: I also found a selection of very similar gems in the ['Alternative solutions'](https://github.com/globalize/globalize#alternative-solutions) section of their readme.",1540824880.0
menge101,"Not asking critically, just looking for your thoughts:

Why would I use this over i18n?
  What are the advantages of this gem?",1540816051.0
gaffneyc,How would this compare to the existing i18n-active_record gem? https://github.com/svenfuchs/i18n-active_record,1540822707.0
ClickClickDeath,"Sorry not providing feedback, but rather sharing a Gem that I‚Äôve been using with great success to handle translations in the DB. I would advise you or anyone else to have a look at it for inspiration for translations. 

[Mobility](https://github.com/shioyama/mobility/tree/master/lib/mobility) ",1540828134.0
cmd-t,"You question is incomplete and pretty confusing. Please create a new post that clearly describes what you **want** to do, not what you are **trying** to do. (I want a user to create an order, and when the order is created pay with stripe or something). Please also add **all relevant code.** Views, models, controllers, routes, etc. All of it. Also add all relevant log output.

The problem is really that you're not very experienced with rails and other things yet. The snippets of code you've posted have many different problems simultaneously. Nobody will be able to say 'just change this line and it will be fixed'. To really help you with this problem, you'll have to add everything so people can have a complete look.",1540828833.0
cmd-t,"I'm going to suggest another, more clean (in my opinion) approach than u/Hell_Rok's comment. Instead of STI, create two 'Report' classes, one CarrierOneReport (but better named) and another one for the other type of report (CarrierTwoReport). These two classes should both implement the same interface. You can then just delegate the report creation to either of these classes from the model depending on some attribute of the Shipping model. This type of pattern is explained pretty well in Sandi Metz' talk from 2015: [https://www.youtube.com/watch?v=29MAL8pJImQ](https://www.youtube.com/watch?v=29MAL8pJImQ)

The shipping class doesn't really have to know about how to create a report.",1540803428.0
Hell_Rok,"It sounds like you want to be using Single Table Inheritance (STI).

Basically you'll have a `Carrier` model, `BeepCarrier` model, and a `BlahCarrier` model. `BeepCarrier` and `BlahCarrier` will both inherit from `Carrier` and when you call `Carrier.find` I'm fairly certain it'll return it as the model you're expecting if you follow the way Rails handles STI.

You can find an explanation in articles like [https://medium.com/@dcordz/single-table-inheritance-using-rails-5-02-6738bdd5101a](https://medium.com/@dcordz/single-table-inheritance-using-rails-5-02-6738bdd5101a) This was just the first result I found googling but it seems to cover all the bases you'll need for this.",1540798933.0
chelseas08,"Maybe try adding these headers:

&#x200B;

`headers: {`

`'Content-Type': 'application/json',`

`'Accept': 'application/json'`

`}`

Also, just be careful mutating this.user like that. Why not:

 `const data = JSON.stringify({user: this.state})`",1540793589.0
toobulkeh,"I believe the issue is you're sending a string as the body, which is different from a JavaScript object. It's a bit difficult to parse through, as I'm not familiar with PAW (where does that data wrapper come from)? Or check the logs from rails' side (what are the parameters it receives?)",1540790519.0
imicit,wait does your form have a field for `password_confirmation`? have you tried easing up the params in your controller?,1540792414.0
spamburglar,"What are the columns in the database for your CurrentItem model? What do you get when you type this line into your console?

    CurrentItem.where(""current_user_id = ?"", current_user.id)

Also, this line's syntax is not correct (it's used twice):

    <% @current_items.each do |@current_items| %>    ",1540783442.0
cmd-t,"      def index
        if current_user.if_employee
          @current_items = CurrentItem.all
        else
          flash[:notice] = ""Sorry, only employees can view this section""
        end
      end

You will need to redirect the user somewhere after setting a flash, otherwise it will just render the index.html.erb with @current\_items 'set' to nil.",1540829007.0
BumpyBallFan,"\> It not work.

What exactly is not working?",1540842625.0
Hates_,Looks like the ‚Äòactiverecord-sqlserver-adapter‚Äô gem might be really out of date. ‚Äòalias_method_chain‚Äô has been removed AFAIK.,1540768762.0
Trout_Tickler,Ruby/Rails on windows is a minefield of shit. Consider using in a linux VM or  [wsl](https://docs.microsoft.com/en-us/windows/wsl/install-win10).,1540803277.0
noodlez,"Is this the first time you've run `rails server`?  If so, is this a fresh, unmodified rails codebase right after you ran `rails new`? Or did you add anything to it?",1540768090.0
etcook,"Doesn‚Äôt look compatible yet.

https://github.com/rails-sqlserver/activerecord-sqlserver-adapter/issues/636

I‚Äôd try the gem against master and see if it resolves it. (I don‚Äôt use SQL Server with Rails, so I have no frame of reference, sorry)",1540771152.0
SureLetsDoAnother,"It looks like you're using Rails 5.2. Are you using SQL Server 2012?

If so, try specifying a version 5+ for activerecord-sqlserver-adapter in your Gemfile.",1540771428.0
madmate,">	I'm on windows 10 and i'm using microsoft sql server

Now there‚Äôs your problem. Any specific reasoning for this choice? You‚Äôll probably have a lot of trouble getting it to work, and even if you do the performance would not be as good as running it on Linux or a mac.

I recommend replacing sql server with postgresql and running everything in a linux VM. ",1540823721.0
MagicalVagina,"I think what you are looking for is message queues with fanout. Check rabbitmq. Also check action cable, you want a web socket to refresh stuff in real time.",1540770861.0
pauljdavis,"Aato is really good, though, issues aside.",1540742594.0
seainhd,"Your TAG should NOT have a user reference.

Your TAGGING needs to have the user reference. ",1540762681.0
brohearts,"To set the association on tags, you would do something this after line 34 `@package.tags.map! { |tag| tag.user = current_user }`.

That being said, I would personally redo some of your associations by associating `Tagging` to `User` instead of `Tag`. This would allow you to normalize `Tag` records for future uses. As you currently have it, you could potentially have multiple 'Color: Black' tags created by multiple users. Instead create it the first time and then create all future `Taggings` associated with that single `Tag`. You could still do `current_user.tags` but instead it would be `current_user has_many :tags, through: :taggings`",1540750860.0
volgorean,"I cant read your gist right now because I'm on my phone but you can make user_id optional with:



belongs_to :user, optional: true",1540743544.0
anonyfool,"If I read this right
tag.rb
 belongs_to :user, optional: true

this might be applicable, there's an answer here for Rails 5

https://stackoverflow.com/questions/16699877/rails-optional-belongs-to#40895199

",1540744016.0
cmd-t,"Have two different controllers, one for the order and one for the charging. Create sub resource (singular) on orders called charge or pay or similar and point that to the stripe controller. After the order controller creates the order, redirect the user to the stripe controller. Since it‚Äôs a member route you can pluck the id of the order from the params. The first controller action on the stripe controller shows the stripe form (like a new action), the second action performs the charge and handles errors (like a create action). 

Also, you don‚Äôt need to set listing_id to listing.id. Just do order.listing = listing, etc. ",1540706345.0
seainhd,"You‚Äôre rendering installments partial outside the form? 

Can you look at the HTML that fields for creates and then recreate it?",1540653422.0
v_krishna,You basically never want to send emails like this from your own IPs. You will be marked as a spammer very quickly and then even your transactional emails won't get through. Use SES if you want to build a bunch of stuff yourself or Sendgrid/Mailchimp/whatever if you dont.,1540610763.0
munhoh94,"Here's what I'm using. Validate your email with Amazon SES. Then, to blast emails out, Rails has its built-in ActionMailer.
You can write a support ticket to Amazon SES to increase the number of emails that can be sent out.
Does this answer your question? ",1540607745.0
rorykoehler,Personal favourite is Postmark,1540610122.0
amadman114,Bootstrap doesn't work with Materialize. It's either one framework or the other.,1540590947.0
ToastyyPanda,"https://materializecss.com/getting-started.html

This site is what I used and it was very easy to do. I believe you just install the gem and start copying what you want in your app. As you use it you'll learn how to tweak it and customize it more. ",1540661048.0
russainguy,"The solution is to use rails db:setup this will create, migrate and seed.",1540582400.0
girmad,"use rake db:setup instead of migrate, you get the seeds for free",1540582480.0
redbeard0x0a,"`bin/rails db:setup` will create the database, load the schema and run seeds.rb.",1540583998.0
k_pizzle,"Side note: if you ever need to drop the dB then seed, use ‚Äòrails db:reset‚Äô which will drop, create, migrate, then seed. ",1540587719.0
Code4Greatness,"Ok, thank you all for your advice.",1540585472.0
gregmnagy,How to keep PostgreSQL updated on the status of our tables so it can run queries as efficiently as possible. ,1540569755.0
FairsleyDifference,"I'd approach it something like this:

You have a Message model (or whatever name makes the most sense) along with the acts_as_tree gem. The Message model has the attributes: sender_id, recipient_id, content and parent_id. Whenever a new message is created, the recipient is notified via third party app (Mailgun, etc). Responses to messages create a parent/child relationship between the messages. 

So you've got all the benefits of a third party email service without getting into any technical weirdness and you've got all the messages stored in your database with no muss or fuss.",1541086723.0
LeastProfessional,"The way I would do this is using the routes. For example; Lets say I have a continent, country and city model, I can use the routes to define this route. Something like this would suffice:

    get '/:continent/:country/:city' => 'city#show', as: :city

**Beware**: You typically dont want to nest more than 3 times...

Set the relations up between the models. For example: a continent has and belongs to many countries, a country has and belongs to many cities and a city just belongs to a country.

Once you've set the relations up, you need to go to your controller and instead of using 'Model.find', you use 'Model.friendly.find'. Find all your data you need like this. ""@continent = Continent.friendly.find(params\[:continent\])"". This will look at the params and find the :continent param within the URL address.

Once you have everything, you can use these variables within the view.

I hope this helps.

**Please note**: This is the way I would do it and theres probably a much easier and tidier way of doing this.

**Also note:** If you wanted, you could create index and show pages for each model so you can see all the countries within that continent and then you can see all the cities within that country.

    get '/:continent/:country' => 'country#index', as: :countries

Happy coding :)

Edit: Typos",1540543131.0
appothecary,"We need more information to help you. What OS are you using? What terminal emulator?

If you're on Mac most of the terminal emulators should response to Cmd-+.",1540516256.0
gisborne,"What these folks said. The three-way join. Not even a whiff of smell about that; it‚Äôs a perfectly natural way to express a three-way relationship.

Think of tables as being templates for a sentence. A tag row says ‚ÄúThere is a tag with this text and this id‚Äù. The join table rows say ‚ÄúThe user with this id applied the tag with this id to a post with this id‚Äù. Perfectly reasonable. When you‚Äôre in doubt about your schema design, ask yourself what the tables say.",1540524112.0
damnationltd,Counter caching can be your friend. ,1540522541.0
choonggg,"It's not a code smell but it could be avoided by using postgresql array column. There's even a gem, acts_as_taggable_array_on

But totally depends on use case here. If you absolutely need to do a three way joins, it's not wrong.",1540563727.0
flanger001,"Straight answer to your question:

I'd probably do it the ""three-way"" way you suggested. I'd call it `TagVote` and if I wanted to avoid the `COUNT` query I'd keep the `count` property on the `PostTag` model and just make it a counter cache.

Diagonal answer to your question:

You could put the user id directly on the `PostTag` model, then let the user only have one `PostTag` per post. You can do this with a scope on the `has_many :post_tags` on your user model.

Lots of knives in the drawer.",1540519684.0
yxhuvud,"It is not a smell in itself, but it may not fit your use case. And be certain to set up fitting indices that fits your queries.

&#x200B;

If you want to read up on code smells in database design, I can recommend spending some time reading up on normalization forms. At least the first three and a half is really nice to know by heart, even if it may sometimes be a good idea to go outside what they advise. For example, sometimes you may need to denormalize to keep data locality better, and the model really doesn't account for stuff like schema-free subsets of database design, like json fields (if you are using postgres), but it is still a very nice framework of how to think of data and relations between data.",1540567936.0
TerminalVector,"I think the 3 way join method is best. I've seen it called \`Tagging\` instead of \`UserPostsTag\`. A \`Tagging\` belongs to a user, a post and a tag. Then you do `post.tags.joins(:taggings).select('tags.*,count(taggings.id)').group_by('tags.id')'` or similar to get the tags along with their counts in a single AR query. (AR pseudocode, might not be exactly right)

&#x200B;

EDIT: If you use a count, how can you tell which users tagged which post and prevent duplicates?",1540518621.0
toobulkeh,Check out ActsAsTaggableOn - https://github.com/mbleigh/acts-as-taggable-on#tag-ownership,1540519036.0
anithri_arcane,``` Rails.application.credentials[:secret_key]```,1540507408.0
SagaciousCrumb,"The issue is that you entered the info in the credentials file as if it was an environment file (like the one used by the Dotenv gem ).

But that file is a YAML file, so it needs to be structured that way. Then you need to access the data correctly in the stripe initializer

First, the credentials file should look like this:

    
    stripe:
      publishable_key: <your_key>
      secret_key: <your secret_key>
    

Then in your stripe initializer, you'll access these values like so

    Rails.configuration.stripe = {
      :publishable_key => Rails.application.credentials.stripe[:publishable_key],    
      :secret_key => Rails.application.credentials.stripe[:secret_key]    
    }    
    Stripe.api_key = Rails.configuration.stripe[:secret_key]
    

This article outlines some good info, but doesn't connect the dots super-well as far as adapting the code the Stripe provides on their site, so I did that here. [https://medium.com/cedarcode/rails-5-2-credentials-9b3324851336](https://medium.com/cedarcode/rails-5-2-credentials-9b3324851336)

&#x200B;

&#x200B;",1540509747.0
saucykavan,"Just another plug for Pundit.  


I'd also really recommend reading the source for Pundit. It's fairly lightweight, and is a reasonably gentle introduction to reading code if it's not a strong point of yours.",1540517054.0
toadkicker,Here you go! https://link.medium.com/HvEo8GDujR,1540506136.0
your-pineapple-thief,"Pundit all the way, imo the best authorization solution for rails out there. One thing I would warn you against is storing all user permissions in some kind of jsonb field, it's a real pain to maintain, normalized approach with user\_permissions table is the way to go.",1540562701.0
icerpro,Pundit or Cancancan sound like the right approach to me.,1540500137.0
rsmithlal,"Working on the exact some issue right now actually. Roles and assigning roles are pretty straightforward, but what I'm stuck on is how to design for users to dynamically set permissions for model classes and instances to go with the roles.

If you don't want to build your own custom roles models and table, I would check out Rolify. I just found it today. Otherwise, you can do a simple join table (Has and belongs to many / has many through relationship) between your user records and role records to add roles to users.

For the UI layer, you can use a multi-select field for ""role_ids"" (or however you set up the relationship) to set the roles for a user",1540503591.0
MistaPBH,Store them as environment variables. Put them in the .env file.,1540438783.0
TravlRaider,If you‚Äôre using Rails 5.2 I would highly recommend using [encrypted credentials ](https://www.engineyard.com/blog/rails-encrypted-credentials-on-rails-5.2?hs_amp=true) ,1540440348.0
NilsLandt,"I have no idea whether there is a simple one-magic-option solution that will make your use case work.

That being said, if you don't use `accepts_nested_attributes_for`, and instead use `find_or_initialize_by` in your controller or wherever, you can solve this problemn fairly easily.",1540496252.0
cmd-t,You shouldn‚Äôt use accepts nested attributes here because it tries to create a new vendor when saving a product. Just make vendor a collection select on the product form. You could then add a virtual field like vendor_name on Product and create a new vendor with that name if no vendor is selected. ,1540496299.0
FluidSafety,"1. Breezy
2. Turbolinks inspired library for React, Redux and Rails. Its goal is to bring the productivity and happiness of The Rails Way to your single or multi page React Redux application. Built React SPAs without  APIs.
3. Rails, Redux, React
4. na
5. [https://github.com/jho406/Breezy](https://github.com/jho406/Breezy)
6. Experienced
7. Would love some feedback on the concept.",1540394659.0
scs85,"1. Something something catchy scheduling
2. I used to work for a small construction company that has a handful of offices and does work ranging from installing a fan to remodeling a bathroom.  I absolutely hated the software we used there because it was all legacy code and only synced every 15 or so minutes.  When it synced it froze what you were doing for like 10 seconds too.  They were looking for replacement options but none of them easily gave them the ability to keep their schedules separate but at the same time allow the main office to add work orders and appointments for them.  I wanted to tackle the problem and some other issues we had when I worked there.
3. Rails 5.2, Postgresql, Bootstrap 4, addresses are auto-completed and geocoded via the Google Maps API
4. [https://scheduling-simply.herokuapp.com](https://scheduling-simply.herokuapp.com) (Heroku free tier, may take a second to spin up)
5. &#x200B;
6. I'm new to rails, learned by doing part of MHartl's tutorial and some GoRails stuff.  Did a university senior project with rails but that's it.
7. The UI is sloppy and the app is still in it's infancy.  I just hadn't posted on one of these before.",1540416782.0
SeanMGraham,"Feastflow- ""Handcrafted leads for freelance fullstack developers""

Ruby/Rails/Js/Heroku - This is my go-to stack when I want to launch a clean, functional MVP  
Link to project: [www.FeastFlow.com](https://www.FeastFlow.com)  
I have 5 years of programming experience working for small startups(literally out of a garage) up to a Fortune 15 company.  
I would love to get feedback from fellow freelance developers on the site design and how I can clearly communicate the value of the service. Thanks!",1540389540.0
odinsride,"1. olubalance
2. A simple online check-register with attachment support currently. Planning to add many more features to provide a full fledged personal finance platform.
3. Rails 5.1 (Prod) + Postgres. In develop I've upgraded to Rails 5.2
4. [https://olubalance.com](https://www.olubalance.com/)
5. [https://github.com/odinsride/olubalance/](https://github.com/odinsride/olubalance/)
6. Been a developer for 18 years but mostly as a backend/DB developer. Just started learning Ruby/Rails in Feb 2018 when I started this project.
7. Now that my project is up and running the way I want, I'm in the process of clean-up before I start adding new features. Currently I'm refactoring my views a bit by implementing partials and decorators. I also plan to refactor controllers/models next. I have used rubocop to clean up everything that it found so far. After my refactoring exercise I'm planning to write some RSpec tests, before finally moving on to new features. I'm interested in having some feedback on areas I can clean up my codebase. As a newbie, I'm sure I made plenty of mistakes :)",1540392055.0
strzibny,"**Get Tandem**
https://www.gettandem.com/

Find a tandem for a language exchange or a hobby (ideally both at the same time). Finally have it running on Rails 5.2 and this week I managed to get Stimulus.js for the font-end to production too.",1540474972.0
Mallanaga,"Still working on the edit functionality, but it works (I tried out using contenteditable, but don‚Äôt like the experience). Anyway, I built an app that gives you a glimpse into your budget.

www.cakebudget.com

It‚Äôs the first app I‚Äôve written in vue. It‚Äôs not pretty, but I wanted to get much of the functionality in place before I guffied it up (if at all).

It uses local storage to keep track of state. I‚Äôm not saving any info about you, or sending any numbers to anyone. It doesn‚Äôt even have GA... rookie. I built this for my wife and I to better understand our cash flow, and hopefully it can help you as well.

The name comes from Portal (the game). This app is all about Assets Liabilities Income Expenses, which as an acronym is ALIE. You know what‚Äôs a lie? The fucking cake, that‚Äôs what. ",1540392528.0
BladeM5,"www.immunophenotyping.online

Aimed to be an online database for immunophenotyping / Flow Cytometry analysis, target audience are college/university students, scientists, registrars and haematologists. (This is a method to determine Cell surface markers to identify cell types, used extensively in diagnosis of various leukemia and lymphomas)

It‚Äôs very much still in active development :)

Rails(obviously), active admin, searchkick(ElasticSearch) and bootstrap 

I feel like I would classify myself as very much a beginner - I have learnt from teamtreehouse and gorails. I do this currently more out of my own interest / hobby, I am a trained scientist working in Flow Cytometry and Stem Cell Transplantation.

My next goal is to try add in a sort of autocomplete ‚Äòdrop down‚Äô field to my search box, I have read it can be done with jquery or typeahead... but it‚Äôs quite a challenge for me to figure out :)

I‚Äôd link my repo on gitlab but it‚Äôs 3.30am currently and I need sleep :) if I remember I‚Äôll edit it in when I wake up lol

Any advice, feedback, useful guides on the above etc is greatly appreciated! ",1540402896.0
dlj630,"Hey y'all,

Has anyone implemented an OpenID Connect provider? I'm planning a side project and would love some advice. Did you use a gem? (/nov/openid_connect, /doorkeeper-gem/doorkeeper-openid_connect, etc...) What was the hardest part?

3 years experience as a web dev, mostly full stack rails.",1540423198.0
WyattTechCoursesJohn,"1. WyattTechCourses
2. A video course site for my first course: An Introduction to Chef (DevOps/Server Automation)
3. Rails/PostgreSQL/S3/Stripe/Ubuntu/Managed by Chef
4. [WyattTechCourses.com](https://WyattTechCourses.com)
5. Not public
6. Senior
7. Website design? Copy? Do you think it's something you or others would buy from?",1540436672.0
mcnelsn,"1. DevActivity
2. Way to retrieve a simplified feed of your Github & Gitlab events
3. Rails API only app
4. Demo at \`curl -v [ctrb.herokuapp.com/git\_activities](https://ctrb.herokuapp.com/git_activities)\`
5. [https://gitlab.com/mcnelson/dev-activity](https://gitlab.com/mcnelson/dev-activity)
6. Senior
7. Bitbucket or Mastodon integration next?",1541352989.0
rooood,"I'm just throwing random ideas here:

- Check in which path the screenshots might have been saved, I've had projects badly configured where I was getting capybara screenshots in my home (~) folder
- Check how you're saving the ss and as you said, the gem versions to see if anything changed
- Do you share the repository with anyone else? They might have altered the configuration, or you might have done it without noticing
- If you're using Selenium, it's probably acting just as a bridge between capybara and a browser. Check if this browser was updated recently (usually Firefox as default). When I used Selenium with Firefox a few years ago, around 2012-2013, every new version of Firefox broke Selenium, we had to wait for a new Selenium version to be able to properly use it with the new Firefox. I'd imagine this is a lot better now, but who knows, might be related",1540333741.0
Frizkie,Do people find it painful to work with Rails? I can't say that I ever have.,1540325768.0
obviousoctopus,"Last time I checked Devise was not bundled with Rails (now *that* would be a deal-breaker) and many of the other issues are easily avoidable. 

I am yet to find a more pleasant and productive  framework and language for web apps.",1540330034.0
,[deleted],1540316566.0
mperham,"Callbacks are my least favorite aspect of Rails.  They've gone all in on them and I find them utterly non-idiomatic.

I'd rather see middleware chains that yield so that at least a backtrace would show the active set of middlewares that executed during the operation.",1540426772.0
obviousoctopus,"Thank you, I found this very useful ‚Äî it matched the way I think about rails. 

I‚Äôve always been hesitant to add megabytes of npm dependencies to my project... but I‚Äôm excited about stimulus so I guess it‚Äôs time to step into the void. 

Should I expect any issues from moving the scss pipeline to webpack?",1540320262.0
your-pineapple-thief,"Rails front-end ""innovations"" tend to fail, and this looks sadly similar to Twitter Flight in ideology, I will be surprised if this will have any meaningful adoption. I'll stick with Vue for now, that's for sure",1540399203.0
BumpyBallFan,"Basically:

    @incidents = Incident.all
    
    if params[:a]
      @incidents = @incidents.where(a: params[:a])
    end
    
    if params[:b]
      @incidents = @incidents.where(a: params[:b])
    end
    
    if params[:c]
      @incidents = @incidents.where(a: params[:c])
    end",1540237345.0
your-pineapple-thief,"I would suggest   
created\_at = params.dig(:search, created\_at) 

for less hash digging  
also creating separate scope in Incident model could be useful to clean controller  
scope :filter\_by, -> (params) { your query model AR logic }  
and in controller:  
@incidents = Incident.all.filter\_by(params)  
nice and clean",1540399394.0
BumpyBallFan,`reviewer_id` seems to be redundant with `user_id`.,1540237571.0
cmd-t,"      def has_review?
        redirect_to employer_reviews_path, notice: ""You've already written a review."" if     current_user.employer_reviews.exists(employer: employer)
      end

Yeah, you **REALLY** shouldn't be doing redirects in a model. Models don't know anything about requests, they should just validate themselves. Im not even sure this would work.",1540291430.0
400921FB54442D18,"Do they still lie to the world about who they are and what their product is called? It won't really be Passenger without that ""feature.""",1540228035.0
SnarkyNinja,`ActionHistory.where(operator_type: 'System').update_all(operator_type: nil)`,1540207591.0
toadkicker,"1) make system a user that has no unneeded privs

2) create a class and use `method_missing` to drop into the calls you want to make (eg mediator pattern)

3) tell your boss to discuss changes over pull requests like every other change to the system",1540202916.0
LeastProfessional,"You probably got this solved but I assume you've inspected the element to see where the link is getting the colour white from? The problem could be the hierarchy of the css, for example; bootstrap or any other CSS Library, might be overriding your css. Is your css getting called and can you see it in the inspect would be my first question.",1540195926.0
,"Do you want to change all links site wide or just specific ones - cause if you want all links - just redefine a in your CSS file.

[https://www.w3schools.com/Css/css\_link.asp](https://www.w3schools.com/Css/css_link.asp)",1540171590.0
,"Not sure it will work - but have you tried nesting it?

And I know this sounds stupid - but what if you swap them in the listing, link\_color first then link\_color: hover 

I admit I have no idea what !important does but what happens if you remove them?",1540172374.0
wbsgrepit,"100% Depends on your use case but I have found a lot of success implementing a few things:

* Admin can remove posts (obviously) with the option of soft delete or hard delete.
* Users can flag posts,  flags are recorded and attributed to users.   A configurable watershed moment count of flags convert the post from visible to soft deleted.   
* I have also implemented a ""per user discount""  system that can automatically reduce the value of a report for users that spam reports to block content (problem users). 
* Another item I have implemented in the past is a velocity modifier which affects the ""watershed count"" based on the viewers to reporter ratio -- it is usually important to mix in a poster/reporter ""trust"" level based on their history (# posts/#of removals/create date etc). 
* Soft deletes go into a queue for admin review,  admin controls allow admin to mark as ""ok"" and override the watershed count (effectively turning off report for a post). 
* Finally,  I tend to like a soft delete that does not expose the removal to the original poster (shadow removal) -- this really helps reduce users reposting problem content after they see it removed./flagged.  ",1540174055.0
BumpyBallFan,"`user` model, `post` model, `reports` model with `user_id` and `post_id` foreign keys",1540239200.0
anonyfool,"This is a required feature for either official mobile store, should you ever get to that step of having mobile apps. You'll have to decide if you hide the user/post immediately, then add that filter/scope to the queries displaying the thing, depending if the requesting user was admin or not, and also if you have permadelete or delete by having a separate flag on the object or a table to store the object should you wish to be able to undo the thing that is reported as unacceptable and then admin approved as unacceptable.  You also might want to record the admin user actions on flagged items, since if you potentially delete/disable the items, you might lose all history of what those things were.  Also admin pages for all these things/actions, in addition to letting the ordinary users do their thing.",1540158295.0
manys,"Do you maybe need an `:id`, or is your controller set up to use `:subdomain` to acquire the relevant user resources?",1540096361.0
Logical_proof,If users are setup as a resource in your routes.rb file you would just use the named route. redirect_to users_path(@user) and pass it the user object (Rails will infer the ID). You can see all of your named routes by typing rake routes into the terminal. ,1540099732.0
kobaltzz,"Check out this screencast I recorded on subdomains. [https://www.driftingruby.com/episodes/working-with-subdomains](https://www.driftingruby.com/episodes/working-with-subdomains)

&#x200B;

Hopefully it will answer your questions.",1540119976.0
agency95,"That's pretty much what I do. My app is a little different in that the root path is basically the users subdomain.myapp.com so in most scenarios I can do root_URL(subdomain: x). Needed to do some custom session stuff to keep the same session id but overall it works fine.

I have a subdomain constraint to determine whether it should go to clients root path or the main root path where my custo!met could sign up.

On kindle sorry for weird formatting haha.",1540127948.0
nukeio,"Just make sure you understand that it's harder to get security right on multiple subdomains because some things go cross origin and some don't. 

Also, make sure that the user is not able to create their own subdomain name without being cleared by a real human. Some domain-ownership verification methods involve setting a subdomain to a random string and having it include some content. 

I tend to treat subdomains as something that only trusted parties should operate and they should operate them when they have a real reason to be separate, and this is usually only if you want to give people the ability to add arbitrary code, and even there I think it should be on a different domain than the primary domain. Like how Shopify uses storename.myshopify.com for stores without their own TLD.",1540144978.0
dean451,"Hey, I actually ran into the same problem following this tutorial recently. https://blog.heroku.com/a-rock-solid-modern-web-stack. 
https://gentle-depths-61565.herokuapp.com/admin/login is fine but the root path 404's. Let me know what you find out.
",1540072882.0
BumpyBallFan,What does Heroku logging says? e.g. `heroku logs`,1540239535.0
FuzzyConflict7,"This tutorial can probably help you get most of it setup.

https://scotch.io/tutorials/asynchronous-chat-with-rails-and-actioncable",1540044155.0
htom3heb,"I'm under the impression ActionCable has some fairly major issues at scale - can anyone else comment at how it performs in production environments? If this is a toy project it'll likely work fine, if this is meant for public use I'd look into either Pusher or running your own socket server (Go, Node, Elixir, Java, whatever).",1540081842.0
CaptainKabob,"[`i18n-tasks`](https://github.com/glebm/i18n-tasks) gem will do this for you: `$ i18n-tasks add-missing`

It's a really helpful gem for discovering issues with locale entries too: our team runs it in CI to ensure there aren't missing or unused keys.",1540045561.0
toadkicker,Maybe in the db: https://link.medium.com/VCoVwKCDaR,1540045173.0
tongboy,speaking of locale work - the i18n-tasks gem is great - but are there any gems that will run through your codebase and pull out any strings in code and add them to a locale file?,1540075863.0
noodlez,"you need an `@` before `random_users`.  So `@random_users`, in both places.  This converts the local variable into an instance variable and allows it to be shared from the controller to the view.",1540019770.0
hardwaregeek,"Are you running random_users before rendering the view? If you don‚Äôt run the method, then @random_users won‚Äôt be instantiated. ",1540020439.0
webbc99,"Do you actually have any users? If you don't have any, then each is being called on nil because there are no users.",1540026331.0
Hell_Rok,"Honestly using SCP isn't bad and can be done through ruby using [net-scp](https://github.com/net-ssh/net-scp)

I've seen SFTP used in the past as well but don't know off the top of my head  the best way to go about implementing that.",1539914315.0
pa_dvg,Casino http://casino.rbcas.com/,1539903952.0
seancookr,check out [https://github.com/rbCAS/CASino](https://github.com/rbCAS/CASino),1539904925.0
tongboy,"What is your auth stack right now?

Standard devise and cookies can serve from configured or whitelisted domains and subdomains, other options will be different",1539894646.0
Code4Greatness,"I'll take a different approach, since the documentation for the gem chartkick proves that its severely limited with regards to configuration.",1539922202.0
FrostyPut1,"Understanding pg\_hba.conf, postgresql.conf, and how to use them to tune our systems. ",1539876527.0
your-pineapple-thief,"[test-prof](https://test-prof.evilmartians.io/#/) is relatively recent gem purely for making your tests run faster, mostly fixing problems with excessive use of factories without having to go for manual object creation or fixtures. After couple of hours fiddling with it I reduced ultra-slow test suite of 1k specs runtime from 32 minutes to roughly 14 minutes. Great profiling tools which point to where your specs spend most of the time, supergreat factory usage profile. Can highly recommend to anyone who loves using factories but feels pains of ""factory cascade"". Also, docs are nice and there are couple of great articles on profiling and refactoring your specs on evil martians blog IIRC.",1540367934.0
slushie31,"**[puffing-billy](https://github.com/oesmith/puffing-billy)** is a proxy for use with capybara which makes it easier to write system tests for code that makes external requests. It lets you stub out requests (similar to webmock), that the driver will hit instead of live external sites. Really helped when I wanted to write a system test for uploading a file where some AJAX requests to S3 are made.",1539869836.0
piratebroadcast,"What models do you currently have, that you would be adding the location to? Are you familiar with Rails Generators? If you havent done the Hartl rails tutorial, I recommend putting this project away and going through that page by page. I promise you itll be faster in the long run to do the Hartl tutorial instead of getting stumped every few days on easy stuff like this. Just my 2 cents.",1539825345.0
anonyfool,"Have you just tried doing exactly what the stackoverflow question + answer show without trying to stick it in your existing controller + view + route - putting all the new things in the new files/modifying config/routes.rb as explained and exactly as named?  The names are very important since there are assumptions made based on the code in the file and the name of the files.
",1539825432.0
isunktheship,"The answers are here, read up on MVC and routes if you're completely fresh to the framework",1539831582.0
kobaltzz,"Each instance of ActionCable would create a new connection to Redis, but each connection to ActionCable (end users) wouldn't create a new connection to Redis.",1539796726.0
wittaz_dittaz,"I think codeclimate has a free docker version that you can install and run locally.

[codeclimate-cli](https://github.com/codeclimate/codeclimate) 

Also codeclimate is just a CI that uses a set of existing open source tools to run analyses, you can find their gems ans put them in your existing CI pipeline.",1539796065.0
grosser,"[https://github.com/grosser/single\_cov](https://github.com/grosser/single_cov) for actionable / fast code-coverage (+ branch coverage)

[https://github.com/seattlerb/flay](https://github.com/seattlerb/flay) for duplication

rubocop for complexity

... all free/simple/can run local",1539804647.0
muzfuz,"You could run all the things that CodeClimate runs yourself.  It's really just a wrapper around open source tools.

That said, it might cost you more time (hence money) do roll your own solution here.",1539801908.0
tjwallace,https://github.com/troessner/reek,1539816651.0
lubekpl,"Not used personally but there's pronto https://github.com/prontolabs/pronto

Also, overcommit ",1540225167.0
manys,`gem 'ruby-prof'`,1539801646.0
TomYum9999,Any good tools to show test coverage in code diffs?  That‚Äôs the part of code climate that I haven‚Äôt found  a good alternative for.,1539803771.0
appothecary,https://github.com/whitesmith/rubycritic,1540006269.0
geekjock,A bunch of options available here: [https://github.com/marketplace](https://github.com/marketplace),1540087430.0
SminkyBazzA,"What version of wkhtmltopdf are you using? 0.12.5 has fixes for SSL as older versions used recently-desupported protocols like SSLv3 which were  disabled during the Heartbleed problems.

Might also help to upgrade the version of OpenSSL you're using on your server, just in case. In fact, do that one first as I found some annoying differences in how certain PDFs rendered after upgrading wkhtmltopdf.",1539759457.0
deedubaya,"Here‚Äôs a one-click deploy Chrome based pdf rendering solution. It was built because I got sick of dealing with the constant problems wkhymltopdf seemed to have. https://github.com/danielwestendorf/breezy-pdf-lite
https://github.com/danielwestendorf/breezy_pdf_lite-ruby",1539780505.0
,[deleted],1539766999.0
toadkicker,"My stack is Nuxt and Rails (in API mode). We use nginx as a reverse proxy and run node and rails behind it.

I wrote this article about building UI‚Äôs with Nuxt, using Knock gem for authentication to our Rails backend:

https://medium.com/p/782bce539440?source=linkShare-f8354741d7e6-1539730708",1539730755.0
imsinghaniya,"This is a very valid question and the number ways to approach this could be overwhelming. I suggest you consider whats the goal of this project. If it's like a demo of your skills you may want to go a full fledged api and an independent SPA. But in a realistic situation where you wana leverage the power of Rails you might again have multiple options. If you are interested in the later one of my blog can help you.

https://www.classandobjects.com/tutorial/using_vue_js_with_rails/",1539747031.0
rorykoehler,In the [example they provide using Page.js](https://github.com/chrisvfritz/vue-2.0-simple-routing-example/blob/pagejs/src/main.js) you can see how it works. The routes on Vuejs side have nothing to do with rails. The routes on Vuejs side basically say if the user is trying to access this page the frontend needs to load these files. If you are loading /home for example then you will need to load the page Home.vue. In Home.vue you will probably want to load the files with the backend/3rd party api endpoint calls you want for that page. You can see a few suggestions on how to do that here [https://stackoverflow.com/questions/40813975/how-to-structure-api-calls-in-vue-js](https://stackoverflow.com/questions/40813975/how-to-structure-api-calls-in-vue-js),1539736635.0
PlasticoX,What are you trying to accomplish?,1539727366.0
manys,routes *are* api connections.,1539728054.0
edstark94,"I think you should ask this in a vue subreddit,not a rails one, since the question is backend-agnostic",1539730299.0
FrostyPut1,Get up and running with PostgreSQL,1539695560.0
musingswithawesome,"Swagger. There are some free versions of API doc generation that you should look into. It doesn't make sense to do it in the controller comments. 


https://swagger.io/solutions/api-design/",1539700080.0
highskyd,"This is surprisingly relevant to what I'm working on right now. I've been upgrading our API to fast_jsonapi and refactoring the way we parse/cast parameters in controllers. While planning the upgrade, I shopped around for decent extensible solutions for parameter parsing (we do some funky things to enable sparse field-sets), and I actually ended up preferring `apipie` over some other popular options (like `stronger-parameters`). `apipie` was a godsend for parsing parameters, but I was in the same boat as you re: adding code to controllers. But because I liked the way it handled parameter parsing so much, I decided to work around the controller bloat. 

I ended up deciding to dynamically generate boilerplate model parameters from a set of `field_definition`s defined on models. Our use case is sort of graphQL-lite (allowing the API user to request sparse fields, associations, pass arguments to filters/fields, etc.) and the `field_definition` objects act like a graphQL schema. In the controllers you just end up with one line that looks like this:

`autodefine_api model_class: User` 


I'm currently working on turning this pattern (along with some other GraphQL-esque tooling I've developed) into a gem in the near-ish future. That said, this part of the equation is really straightforward - just loop through some model constants and make the right calls to `apipie`. 


Again, I was mainly concerned with parameter parsing, so if that half of the equation isn't useful for you, `apipie` probably won't be either. However, controller bloat was (for me) eminently reasonable to manage. Basically I think its worth looking into if (a) you have a lot of parameter casting code in your controllers and (b) your parameters are mostly related to model attributes/scopes. It can also be set up to generate swagger docs AFAIK.",1539712799.0
d4be4st,"Have you took a look at https://github.com/infinum/dox ?

It creates an https://apiblueprint.org/ from your rspec.

We are using it in production for some time now and it is awesome.",1539721683.0
neotorama,"Simple app? Asset pipeline 

Heavy js (spa)? Rails api + another js app",1539689353.0
slvrsmth,"I'd use https://github.com/rails/webpacker - you get webpack, the ""standard"" way of managing frontend assets. Most javascript libaries will have ""how to install / use this with webpack"" section in their docs.  

That being said, CSS and images are second hand citizens in my projects, and all I can say is I haven't had any problems with them in webpacker projects.

The webpacker docs have alright guides about how to get started / deployment.",1539695594.0
gregnavis,"I recommend you start with webpacker even if your app is simple. This will save you the trouble of replacing Asset Pipeline with Webpacker.

I don't know enough about your project but SPA is probably an overkill (like it is in 99% of cases). I had really good experiences with BEMCSS + Stimulus.js. You *may* throw React in for individual highly-interactive components but converting the whole app into it is busywork.",1539708391.0
etcook,Is there a reason you‚Äôre avoiding just placing them in the assets folder? Are these your own or vendor?,1539701134.0
cbm1745,"Your `<% if @user_created_reviews.empty? %>` block is inside the for loop so when `@user_created_reviews` is empty, it will never enter the for loop. Put the if statement outside the for loop.

&#x200B;

Btw, I <3 Ransack. Great gem.",1539652355.0
manys,"Put the ERB & HTML in a partial and use `<%= render 'review-panel', collection: @user_created_reviews %>`

render will return nil if the array is empty, so nothing goes on the page in that case.

Even better
`<%= render 'review-panel', collection: @user_created_reviews || @nothing_found %>`",1539671460.0
your-pineapple-thief,"I would normalize table and pull answers to separate \`answers\` table (model name would be \`Answer\`) with fk \`question\_id\`, then just google 'accepts\_nested\_attributes\_for\`",1540370258.0
archlich,"I'd just fix the issue with wkhtmltopdf. The rest sounds like a hack at best, and down right insecure at worst.",1539628266.0
tmartin8080,I documented some ways of approaching using React in Rails.  Hope somebody finds it useful.,1539619145.0
yawboakye,"Maybe it looks nicer but now distributed over different parts of the code. Also I'm not sure there's any benefits at all to creating an array (assigning to a variable) and freezing only to use it once. If anything at all it probably requires more work than just passing an array to `permit`. But I'd love to see some numbers, assuming it's too significant to measure.",1539612172.0
wycleffsean,"Solidus does something like this

* [https://github.com/solidusio/solidus/blob/master/core/lib/spree/permitted\_attributes.rb](https://github.com/solidusio/solidus/blob/master/core/lib/spree/permitted_attributes.rb)
* [https://github.com/solidusio/solidus/blob/master/core/lib/spree/core/controller\_helpers/strong\_parameters.rb](https://github.com/solidusio/solidus/blob/master/core/lib/spree/core/controller_helpers/strong_parameters.rb)",1539625405.0
henrebotha,"Reddit code formatting doesn't work if you use the ""fancy pants"" editor. You have to switch to the markdown editor.

---

> But isn't something like this more efficient?

No, it's extremely unlikely to be more efficient. ",1539611942.0
zenzen_wakarimasen,"Any performance gain would be several orders of magnitude smaller than the database access that the controller will perform later so, in this aspect, it does not make sense.",1539635692.0
prozaker,"if you use a constant, will it remain in memory and instantiate when the app initializes?",1539622470.0
romeo_pentium,"I use constants, if for no other reason than keeping method bodies shorter.",1539620870.0
seainhd,"I would think that creating constants would just raise the overall memory footprint. 

If you have super common controllers then YES.",1539644635.0
your-pineapple-thief,"Performance boost from such refactoring would be minimal and would not matter, but readability would hurt - you are spreading logic of defining user params between user\_params method and constant definition. Also, consider consistency - you probably would not do such a trick for all of your controllers, and now some controllers are written one way, and some - another, and that's annoying.  
Also, ALWAYS measure performance impact of any optimizations. If freezing array wins you 1ms, and your request takes 100ms, congratulations, you just gained 1% performance boost. And 1ms isn't something your users will notice, ever.",1540563637.0
Mallanaga,"I‚Äôve recently started using pundit and it‚Äôs amazing. One of the things it lets you do is set `permitted_attributes` within the policy. 

Not exactly what you‚Äôre thinking, but still interesting!",1539615065.0
daddyfatknuckles,"I‚Äôm assuming you think this because you think the array needs to be ‚Äúrebuilt‚Äù like it would in certain contexts. when it‚Äôs static and only used in one place, there‚Äôs no benefit to putting it into a variable afaik",1539617136.0
Serializedrequests,"Methods and the calling thereof is far more flexible. I'm 100% sure the performance isn't appreciably different.

As an aside, I don't like strong parameters very much, but I integrate it into my permission and role system to get it out of controllers, since not everyone can change every attribute. Even better is bypassing it entirely and using form objects like Reform.",1539614704.0
rorykoehler,"You need each\_with\_index method  [https://apidock.com/ruby/Enumerator/each\_with\_index](https://apidock.com/ruby/Enumerator/each_with_index)

&#x200B;

Alternatively I would normally make the class align with the object id. In this case it would be something like

`class: ""slide_number_#{`[`slide.id`](https://slide.id)`}""`   


and I would use this with id instead of class. Class would be ""slides"" and id would be  `""slide_number_#{`[`slide.id`](https://slide.id)`}""` as ids are for identifying individual items and classes are for apply styles to groups of similar items.",1539587820.0
jordanaustino,RubyMine or VScode,1539563619.0
ActiveModel_Dirty,"I use neovim. A lot of my coworkers use VS Code nowadays, with sublime being a close second in terms of popularity.",1539563800.0
i_like_peace,Emacs!,1539573915.0
acdesouza,"I use Vim. MacVim, to be honest.

And I have my config on a GitHub project.",1539564596.0
ralampay,Vim with the proper plugins like nerdtree,1539565962.0
WillBeCoding,Atom all the way for me!,1539574277.0
softcactus,"Vim!  


Shameless plug of [https://www.destroyallsoftware.com/screencasts/catalog](https://www.destroyallsoftware.com/screencasts/catalog)

&#x200B;

Gary Bernhardt is the man. Check out all his Vim casts.",1539566452.0
OsmanSG,Such a Timely question. Starting on an old rails tutorial I recalled Michael Hartl suggesting Sublime Text. I don‚Äôt see that recommendation amongst the various google searches I did last night. Is Sublime old hat now?,1539563951.0
polarpress,Macvim for years,1539563416.0
durian89,Recently started using spacemacs and love it so far.,1539565590.0
perfectdreaming,Atom. You have to install alot of plugins but I like it.,1539580903.0
jstad,Emacs. There is no turning back ü§ì,1539582598.0
Anderson82,I use emacs and sometimes atom.,1539564765.0
akxdev,I like VSCode. No particular reason really. It looks nice and there are some cool extensions.,1539563646.0
daaaaaaBULLS,vscode,1539567509.0
appothecary,vim for life.,1539570583.0
DerekB52,"I use Vim. I was using Atom, but I don't have enough RAM for Atom. ",1539570710.0
aarkerio,"Emacs!  You can track your project time, import tickets, display blame for git commits and browse history file.",1539571600.0
waiting4op2deliver,"Vim, I can code from a livecd, on a toaster.",1539590561.0
sadhu89,Emacs :),1539597606.0
toobulkeh,Sublime and VIM,1539566378.0
tolas,"Sublime Text for a decade, but recently switched to VSCode + sublime keymap, and I couldn't be happier with it.",1539571202.0
harishsr,mVim. Hasn‚Äôt failed me yet :),1539563225.0
kobaltzz,"Microsoft Visual Studio Code is my favorite. I did a screencast on it not too long ago. https://www.driftingruby.com/episodes/editors

I'll use VIM when I'm on the go with my iPad. I'll VPN -> SSH into my remote development machine and use VIM as a nonGUI editor in the terminal for coding.",1539563685.0
nXqd,"Rubymine with vim plugin, as a 7 years vim user. ",1539570356.0
StalkerTachikawa,"I don‚Äôt pretend to have done an exhaustive survey of text editors, but vim with Tim Pope‚Äôs vim-rails plugin is pretty neat. I switch between that and VS Code.",1539567882.0
,vim and Sublime Text. ,1539569222.0
in0pinatus,Sublime and Vim. I have RubyMine and almost never use it.,1539570805.0
abughat,vim for years but vs code (with vim bindings) this year,1539570893.0
carinishead,Sublime. However I started playing around with Visual Studio Code and it‚Äôs kind of nice,1539575019.0
Actually_Ted_Cruz,VS code,1539580016.0
OtavioHenrique,"I recently migrated to nvim, previous I worked with vim",1539582532.0
OlNav,"I‚Äôm using VScode with solargrapg gem. It works like a charm, gives you autocompletion in hoth javascript and ruby.

Coming from Vim it‚Äôs a great accelerator for my work.",1539583267.0
pau1rw,"Everyone at work uses either Vim or sublime. 

I‚Äôve used pretty much every ide / text editor and I always come back to sublime. It‚Äôs just so fast. 

* Sublime is amazing, the searching and general app responsiveness is so quick that I never feel like I‚Äôm being hindered. The plugin ecosystem is incredible and the colour schemes mean you‚Äôll find one you like.  
* Ruby mine is bloated, slow, ugly and hard to use. 
* Vim is fine, but I work slower in it 
* VS Code is alright but the render flashes where code colouring kicks in really start to annoy me after a while, because it‚Äôs Electron based i find using it frustrating after a while and end up back with Sublime.
* Atom is to slow to use for more than a few minutes. ",1539588765.0
pau1rw,"Everyone at work uses either Vim or sublime. 

I‚Äôve used pretty much every ide / text editor and I always come back to sublime. It‚Äôs just so fast. 

* Sublime is amazing, the searching and general app responsiveness is so quick that I never feel like I‚Äôm being hindered. The plugin ecosystem is incredible and the colour schemes mean you‚Äôll find one you like.  
* Ruby mine is bloated, slow, ugly and hard to use. 
* Vim is fine, but I work slower in it 
* VS Code is alright but the render flashes where code colouring kicks in really start to annoy me after a while, because it‚Äôs Electron based i find using it frustrating after a while and end up back with Sublime.
* Atom is to slow to use for more than a few minutes. ",1539588808.0
igorpreston,"RubyMine, Atom, TextMate, Vim.",1539589570.0
RepSchwaderer,Atom,1539602061.0
blackcomb-pc,vs code,1539602088.0
alsheiba,"I used sublime, atom they are good

now days I use vscode, and works great with me",1539607174.0
bramley,"vim and tmux. I admit it might not be for everyone, but I'm a big believer in choosing a flexible, deep tool(set) that you can hone and get really good at. I've been doing this a long time and I haven't found anything that works better yet.",1539608064.0
llourenci,"I use neovim + tmux.
But, Rubymine is the best editor out there for Rails development.",1539609334.0
JohnBooty,"I use Sublime on Mac.

For searching I use The Silver Searcher (`ag`) in a terminal window. Then using iTerm, I hold down `cmd` to drag the file links into Sublime for the files I want to open.

It's not so much that Sublime's search ""sucks"" or anything but there are a few reasons why I do that. 

1. I have bash/zsh aliases set up for various customized searches. For example a `js-ag` alias to search only `./app/assets/javascript`
2. I like to use the same search tool everywhere. `ag` also works more or less as a drop in replacement for `grep` you can use for searching streams and stuff
3. `ag` is smart about respecting .gitignore by default which is nice. Probably a way to tell Sublime to do this too, but I never bothered to try.

Vim and Emacs (not that they're remotely the same thing) seem really cool, but I don't really feel like Sublime is holding me back in any way. Maybe they would make me 5% more productive I guess, who knows.",1539609561.0
Serializedrequests,"**RubyMine**. It's a power tool, which I really need at my job these days.

If not, then **Sublime** or **VS Code**. The vs code solargraph plugin is highly impressive, and frustratingly unstable, but it is the only reason to use vs code over Sublime. Otherwise Sublime is the speed king.

I also use vim a lot remotely, but find it masochistic for local work. I spend a lot of my time reading, not writing, code, and Sublime and RubyMine help *much* more with that.",1539610158.0
gotninjaskills,ST3 works for me. I use it for everything not just Rails. ,1539659847.0
Quantumbinman,"Sublime Text is my main editor, but I use RubyMine when refactoring as it makes life easy

Main reasons I stick with Sublime are that it's pretty quick and I love the Monokai colour theme I am using... haven't been able to get one exactly the same on VSCode or RubyMine unfortunately :-(",1539665419.0
strzibny,"Sublime Text most of the time now, but used Atom a lot past two years two.

Before, when I was on Mac OS, I used TextMate.",1539890877.0
Yubo_,"Personally, I use RubyMine",1540302977.0
linusan,"RubyMine. I'd love to use VSCode, as I really like the editor and its configurability, but it just can't compete with RubyMine.",1542029669.0
neotorama,Notepad,1539573154.0
LeastProfessional,"Can you not just do it in-line?

`style=""background-image: <%= var.image.%>;""`

and have a class on the tag that sets up the background (background-position, background-size etc)?

&#x200B;",1539601166.0
waiting4op2deliver,"Better off just mutating the Dom with Js to assign the style. Dynamic css is something g you can do, in your controllers and template,  but loading styles from a Db or something isn't a good idea because it complicates your asset pipeline, is slow, and breaks the idempotency of caching",1539548881.0
dmelin,"This looks great, my product manager would love to tinker with this.",1539379497.0
jodm,[https://blog.heroku.com/a-rock-solid-modern-web-stack](https://blog.heroku.com/a-rock-solid-modern-web-stack),1539372938.0
edstark94,"i think the best think you can do is having 2 separate apps, one rails 5 api for the backend and one with react/redux for the frontend, ",1539379427.0
OlNav,"My recommendation would be to go with react-rails. It sets up everything for you with webpacker and server rendering.

You‚Äôll have to do the setup for redux manually but all the rest is taking care for you",1539409706.0
bradendouglass,Is Redux still relevant? ,1539431994.0
abadabazachary,Zapier,1539360174.0
tines_io,"We use our own platform, Tines ([https://tines.io](https://tines.io)) to automation interaction with any API. Unlike Zapier or other, similar tools, it doesn't rely on pre-built integrations/apps/plugins. Instead you just talk directly to the APIs.

&#x200B;

We talk about Hubspot specifically in [this](https://tines.io/blog/automating-trial-creation/) blog post.

&#x200B;

All built in Rails!",1539598278.0
EqualsNull,"You're precompiling your assets but then specifying  \`config.serve\_static\_assets = true\`. You likely want this to be false in production and let your webserver handle the static assets. 

&#x200B;

If you look in the network tab in your browser, is the page loading the compiled js file?",1539274518.0
toobulkeh,"""I'm not sure how big the difference actually is""

That's the problem with this entire post.",1539200100.0
hersha,Why not just used an enum column type in the DB itself? This would save all the space concerns and still be readable.,1539200260.0
lpmusix,I realize it‚Äôs just an example. But I enjoy the ‚Äústrings suck‚Äù and then storing IP addresses as strings when you could use a blob üòâ,1539216741.0
in0pinatus,"You can serialise type attributes as any column value you like, via the Attributes API. See https://gist.github.com/inopinatus/16e59462f82bee3b8552464e1f59129c.

Works for both STI and the type attributes of polymorphic associations.

A word of warning though. You can't change the class of an object. So this code from the posting is problematic:

    new_network_address = NetworkAddress.new
    new_network_address.type = 1
    new_network_address.type # ""NetworkAddressIpv4""

because the class doesn't change:

    new_network_address.class #=> NetworkAddress(...)

Which means that subclass-specific validations/callbacks won't run and methods won't be available. Take a look at [#becomes!](https://api.rubyonrails.org/classes/ActiveRecord/Persistence.html#method-i-becomes-21) instead.
",1539214635.0
jj-jumpercables,"I didnt read through all of your specific implementation, but I really like the idea.  I have a use case, that I've been flip flopping around on how I want to implement, which might benefit from this approach.  Just wanted to say thanks for the idea.",1539202257.0
jaxn,What if someone adds a new class to the front of the enum array instead of the end by accident. What kind of mess would that create?!?,1539237436.0
gregnavis,"That's really interesting. I think that my main concern is whether it's supposed to work. Is this behaviour that the Rails team intends to preserve?

You could share and discuss this in \`rubyonrails-core\`.",1539332620.0
your-pineapple-thief,">Model inheritance in Rails is miserable for many reasons.

That's you have got right. Is it ABSOLUTELY neccesary to use STI? It could easily lead to messy code, lots of conditionals, huge base class, sparse rows in db. There's a saying in object-oriented design: ""prefer composition over inheritance"". Sorry for not answering your question, but I wanted to provide different angle to the problem",1540564232.0
memkash,"1. GrowthEngine
2. An open source dashboard to track the growth of your Rails models
3. Ruby
4. [https://github.com/RyanFriedman/growth-engine](https://github.com/RyanFriedman/growth-engine)
5. [https://github.com/RyanFriedman/growth-engine](https://github.com/RyanFriedman/growth-engine)
6. \~7 yrs Rails, 7 yrs iOS
7. Would love to hear other features you all find useful!",1539375013.0
rbiddis1,"No project yet. Still trying to learn rails. Been trying for a while, just not completely getting it. Anywho, my question is below:

I'm playing `enum` right now. What I've done is create a `Post` model that has `status_id` which is pulled from the `enum`.

    class Post < ApplicationRecord
        enum status: [:status1, :status2, :status3]
    end

I want to be able to show 1 random Post from each status in a view. I'm just not able to figure out the RailsWay to do it.

This is the best I have come up with so far.

    class ViewsController < ApplicationController
      def index
        @status1 = Post.where(status: 0).sample
        @status2 = Post.where(status: 1).sample
        @status3 = Post.where(status: 2).sample
      end
    end

View

    index.html.erb
    
    <p><%= @post.name %></p>
    <p><%= @post.status1.humanize %></p>
    
    <p><%= @post.name %></p>
    <p><%= @post.status2.humanize %></p>
    
    <p><%= @post.name %></p>
    <p><%= @post.status3.humanize %></p>

I get what I'm wanting to see, but I feel like there is a much better way code this. *So, I guess my question is, what is a more Rails Way to do this?*

I tried this before using two Models. One for Posts and one for Status, then I used has\_many and belongs\_to associations but didn't come up with any better way to get the random view I wanted.

I'm still a noob to rails and hopefully didn't butcher this post too much. But if anyone has any suggestions on how to accomplish what I'm looking for, I'd be grateful. Thanks in advance.

&#x200B;

EDIT: resolve mistakes in first edit.",1539218456.0
ejanuska,"Novice with rails. No app name. But I want to setup rails on linode. I want to use docker to squeeze more than one app into my linode. Is is correct to say I have setup my docker container with a LAMP stack first and then install rvm, them ruby/rails just like a regular LAMP install?",1539274700.0
2called_chaos,"https://mailcatcher.me/ we use that in staging, locally (development) we use letter opener",1539177804.0
kawsper,"Locally you can use something like Mailcatcher, but on a external environment you can use safety-mailer:


`config.action_mailer.delivery_method = :safety_mailer`

`config.action_mailer.safety_mailer_settings = {`

`allowed_matchers: [ /billetto.dk/, /billetto.com/, /billetto.co.uk/ ],`

`delivery_method: :smtp,`

`delivery_method_settings: {`

`(...)`

`}`

`}`
",1539176727.0
GroceryBagHead,"You know about email interceptors? https://guides.rubyonrails.org/action_mailer_basics.html#intercepting-emails

You can create one for staging env and setup rules on where email actually gets delivered.",1539181185.0
oztrax,Check out https://mailtrap.io ?,1539191285.0
zalesz,"many providers have so called *sandbox mode*, i.e. [sendgrid](https://sendgrid.com/docs/for-developers/sending-email/sandbox-mode/) or [mandrill](https://mandrill.zendesk.com/hc/en-us/articles/205582447-Does-Mandrill-Have-a-Test-Mode-or-Sandbox-) Then you configure it within the provider, you send emails as usual from rails, can inspect them in provider UI, but they won't get sent out",1539210219.0
endlessvoid94,"Disallow on staging, or rewrite all recipients to a specific inbox.",1539181865.0
kubermerio,"If you use heroku. You can set up Mailtrap plugin: [https://elements.heroku.com/addons/mailtrap](https://elements.heroku.com/addons/mailtrap)

The documentation of the plugin has the instructions to configure it and all emails will be intercepted there. It has a free tier, I use it for my side projects. Might be helpful for you.",1539186317.0
jakenberg,Wouldn't recommend the S3 route unless you intend to pre-sign the upload -  far from trivial. Or just say fuggit and make it public so SWIM can fuzz your user's data üòâ,1539196378.0
kobaltzz,If you use AWS SES (works just like SMTP) then you can whitelist and validate email addresses while in sandbox mode. This will prevent unexpected recipients from getting staging emails.,1539207019.0
OtavioHenrique,"We add `.xpto` at the final of every email on stage here, and all emails sent by stage usually are sent to only one email stage@",1539301684.0
the_angry_angel,"https://ruby-doc.org/core-2.2.0/ENV.html#method-c-fetch

You're trying to retrieve the bucket name from the environment, but its not set, and thus raising an error.

If you dont want to use an env variable replace the whole `ENV.fetch(...)` with just the bucket name.",1539166377.0
cmd-t,"You should be using ENV.fetch(‚ÄúENV_VAR_NAME‚Äù), so you enter the name of the variable instead of the value you want to enter. If that value isn‚Äôt stored as an environment variable then you won‚Äôt get is that way. ",1539170063.0
MyDogLikesTottenham,What does ‚Äúrake routes‚Äù show,1539136681.0
etcook,You likely cached the redirect for https. Try it in a private browsing instance and see if the error goes away.,1539152918.0
jonnyman9,"What app did you clone?  If you're running into ssl problems, you might be running in production mode or something.  I'd refer to the readme of the app you downloaded and make sure you followed all instructions.",1539140497.0
erikperik,Do you have HTTPS Everywhere? :),1539151977.0
poptartsareravioli,Try 127.0.0.1:3000. ,1539174688.0
vinsonandmassif,"So after many hours of thinking and trying different things, the trick is to use \`service\_url\` .. rails did a terrible job documenting this",1539152220.0
ActiveModel_Dirty,"Personally I think it's slightly better to go the route of having dedicated routes for admins vs non. It makes testing slightly easier, and reduces the number of checks/switches you run into.

Whenever I come on to a new project I tend to prefer having the two distinctly separate as opposed to parsing through and figuring out what all of the \`if current\_user.admin?\` checks change. Especially if you start doing things like modifying the contents of ivars and such based around whether or not a user is an admin (because your admin paths require additional stuff, for example). I've seen it get unwieldy pretty quick, and the net gain of the simplicity of sharing them seems to dissolve.

Helps with debugging, testing, and overall readability to keep them distinctly separate imo.",1539123732.0
jaryl,"Definitely multiple namespaces and controllers. They are tools that help you express your intent in the overall design of your application. Shameless plug, I wrote this some time back: https://medium.com/@jaryl/disciplined-rails-models-controllers-the-rails-way-bbc940822136?source=linkShare-f2a7c90ec745-1539147741",1539147902.0
john_beatty,"Different namespaces and controllers are much better. It's not that much more code. 

Instead of multiple `if else` blocks through a controller or view, your router can dictate what controller and views are shown, and you have fewer chances for showing something that shouldn't be shown.

You can also take advantage of changing the layout, so that admins get a more spartan dashboard, and regular users get a happy, appy feeling page. https://api.rubyonrails.org/classes/ActionView/Layouts.html",1539179372.0
sanjibukai,You can also namespace your routes with lambda and can even have the same URL (/users) pointing either to your Admin or User controller.,1539187476.0
cmd-t,"The ‚Äòsolution‚Äô is actually in the error message: is the (Postgres) server running locally?

It‚Äôs not. Postgres runs on a different server. The easiest solution is to remove database.yml, since Heroku provides a DATABASE_URL environment variable which points to Postgres. If there is no database configuration file, rails will use that variable to connect to a database. ",1539103711.0
Uysim,Your production database should use URL‚Äã only ,1539138589.0
cmd-t,"From the rack docs: 

>	""app"": an object that responds to the call method, taking the environment hash as a parameter, and returning an Array with three elements:

>	- The HTTP response code
>	- A Hash of headers
>	- The response body, which must respond to each 

That‚Äôs everything an app is. I don‚Äôt really understand what you mean with ‚Äôchange the body etc in Rack itself‚Äô. ",1539102120.0
meagar,"The ""Rack application"" returned by `action` is just a simple lambda FYI. When called, all it does is instantiate a new instance of your controller and invoke `dispatch` on it, with the action name and the request and response objects. It's extremely light weight.

See [the source on Github](https://github.com/rails/rails/blob/b2eb1d1c55a59fee1e6c4cba7030d8ceb524267c/actionpack/lib/action_controller/metal.rb#L232).

      # Returns a Rack endpoint for the given action name.
      def self.action(name)
        app = lambda { |env|
          req = ActionDispatch::Request.new(env)
          res = make_response! req
          new.dispatch(name, req, res)
        }

        if middleware_stack.any?
          middleware_stack.build(name, app)
        else
          app
        end
      end
",1539140969.0
your-pineapple-thief,"I always thought that Rails instantiates rack objects on per-request basis, which is one rack object per request, isn't it so?",1540693894.0
faitswulff,Why does this endpoint exist? Some context might help.,1539084660.0
JsonScott,"ElasticSearch or similar is your answer. Anything else will just be a band-aid. 

Assuming large scale, supporting all words of multiple languages and repeat query frequency is low (not making the same query over and over). If these assumptions are not true you could get away with something like memcached. 

",1539096583.0
sac_boy,"How fast is an IN with the whole list of strings? With the appropriate index that should be ok. Otherwise yes, a stored procedure taking the list will be way better than 500 queries.

Personally I would forget the parallel query idea. You‚Äôll have the same order of magnitude of a scalability problem, just slightly relieved, for a large overhead of work.

Also, I‚Äôm sure you know, make sure those strings are sanitized and don‚Äôt trust the client.",1539085381.0
iesartia,"If `string` is only SQL condition you can generate one big SQL condition using `OR` statement. Or you can use SQL `UNION`, with these options SQL will be executed once and not 500 times, which I think is better way.",1539088881.0
HomeTurfAdvantage,"Instead of trying to improve the SQL, you could tackle this problem from another direction. Depending on how the data is being processed, you could try **streaming** from the client side or server side. Neither of these solutions will work if you need to immediately process all 500 responses at the same time.

&#x200B;

1. Streaming Server Side - You could still accept 500 strings and stream each json object back as they are found. This would work the exact same as streaming a CSV. You would not be trying to return a valid JSON object because that requires the entire result to be processed and returned as an array. Instead each line of the response would be the JSON object for the string. As each response comes in you can process it on the client by parsing each line as a JSON object. This also has the benefit of being very memory efficient because you only need to process 1 record at a time and then forget about it.
2. Streaming Client Side - This is similar to how AWS handles S3. You make a request for a folder with a million files, they return the first 10 and if you iterate past those it returns the next 10 and continues as needed. You could basically do this by splitting up the strings into batches of 15 or something and sequentially making the calls to the API for each batch as you iterate.",1539136922.0
doncuomo,"Im not sure if i understand your problem so correct me if im wrong. But can't you do something like this?

`SELECT *`

`FROM your_table`

`WHERE lower(your_attribute) LIKE ANY('{%foo%,%bar%,%baz%}');`

&#x200B;

where `{%foo%,%bar%,%baz%}` is a translation of your array.",1539091625.0
joesb,So how is your helper file? What‚Äôs in it? And what‚Äôs the path to that file?,1539084263.0
GroceryBagHead,"Yeah, that has nothing to do with your routes. Rails is having issues auto-loading your helper for some reason. First thing I'd try it to define it like so:

    module Account
      module SettingsHelper

Otherwise start looking into application/environment files to see if there are changed settings that could be messing things up.",1539091814.0
rlegacy3rd,"I run into this from time to time, I think it means you've got a helper in the wrong directory or your /helpers isn't set up right. ",1539088090.0
doncuomo,"Im looking in my app and my namespaced helpers are defined like this:

&#x200B;

`module Account`

`module SettingsHelper` 

`end`

`end`",1539091986.0
EmeraldTeam,"This is really annoying but I changed the module structure of the app to fix something unrelated (I am on a tight deadline so I just restarted every time the bug above appeared).

For whatever reason now it doesn't seem to be a problem anymore, seems like I fixed it during restructuring, sad part is I changed so much without any commit history so I can't really pin point where nor do I have the time to investigate by reverting and breaking it again.",1539093509.0
jsb151,"I use rescue_from for nearly everything. For ActiveRecord saves, I always use update_attributes! / save! instead of update_attributes / save for things in models, controllers, services, etc, as I always expect them to succeed, and I want to know otherwise. It also allows code to stay very DRY, as there are no conditionals in controllers. For example you call save! on a record in a controller, and if it fails, the exception is picked up by the rescue_from in the ApplicationController, and responds appropriately with the new or edit action, depending if the record was persisted or not.

Same goes with my API. It allows you to centralize your error handling responses into a single spot (I put it in a concern, and include it in the Base API controller, e.g. RecordInvalid => 422, UnpermittedParameters => 400, ParameterMissing => 400, StateMachines::InvalidTransition => 422, etc",1539128991.0
your-pineapple-thief,"rescue\_from is probably THE BEST pattern for developing API using rails, I use it literally in every API i have developed. Here is [very good article](https://blog.rebased.pl/2016/11/07/api-error-handling.html) I used, just tweaking validation errors format to suite my needs and adding extra rescue\_from handlers for authorization/authentication. controllers action code is literally usually 4 lines long in 80% cases with this, the error format is uniform. Only gotcha is you'll want ENV variable to allow raising errors when developing/debugging features (I usually TDD apis with request specs), but that's literally 3 lines of code in ApplicationController.",1540370567.0
PM_ME_THICK_LADIES,"Rvm allows you to switch between versions. 

‚Äúrvm list‚Äù to verify you have the correct versions
‚Äúrvm use 2.3.1‚Äù switch to your preferred version
‚Äúruby -v‚Äù verify your on the correct version

If it‚Äôs a fresh ruby install you‚Äôll most likely need to get all your gems. 

‚Äúgem install rails‚Äù
‚Äúbundle install‚Äù

If you‚Äôre switching correctly, your gems shouldn‚Äôt persist to new installs in rvm. It should install the correct gems for your version when you bundle. ",1539064421.0
dsalahutdinov,"Hi, the most modern way to deal with it is dockerize your Rails application and use different versions of Ruby inside it.

Here it the article, which describes the sight [https://nickjanetakis.com/blog/dockerize-a-rails-5-postgres-redis-sidekiq-action-cable-app-with-docker-compose](https://nickjanetakis.com/blog/dockerize-a-rails-5-postgres-redis-sidekiq-action-cable-app-with-docker-compose)",1539065953.0
dportalesr,What are you exactly getting after running \`rails server?,1539067264.0
saintsintosea,"To answer your main question, it's because `Order.find_by(video: present?)` is nil. You need to always ensure that order will exist, or more practically, have a backup for when it is not found.

Edit: A key distinction here is that, unlike `where`, which returns an empty relation if none are found, `find_by` will return a single entity OR `nil` if none are found. I don't know what behavior your app wants but you might be needing `Order.where(video: present?)` if you want a relation?

Another bug you have is that you're sharing the same `params[:page]` for all of your relations. So if someone navigates to page 3 of all orders, it will also give you page 3 of all completed orders. You need to use unique param names when you send in your page requests, like ""all_orders_page"", ""completed_orders_page"", etc.

Additionally, as a tangent to your question, it seems you might have a typo? You are searching for Orders where sellers can be buyers (current_buyer), is that correct? If so, I would also recommend this as a starting point to also help clean up your code (I kept your find_by here, please see above edit if you want to actually return multiple orders):

    def tables
      user = current_user || current_buyer
      orders = Order.where(seller: user)
      order_with_video = Order.find_by(video: present?)
    
      @all_orders = orders.paginate(:page => params[:all_orders_page], :per_page => 15)
      @orders_for_card = orders.paginate(:page => params[:whatever_orders_page], :per_page => 7)
      @orders_by_month = orders.group_by { |mon| mon.created_at.beginning_of_month }
      @order_with_video = order_with_video && order_with_video.paginate(:page => params[:completed_orders_page], :per_page => 7)
    end",1539047854.0
Code4Greatness,"I tried 
""<%= line_chart current_user.posts.sum(&:impressionist_count).group_by_hour(:created_at).count %>"" But, then I receive ""ActionView::Template::Error (undefined method `group_by_hour' for 130:Integer):"" as an error.",1539052215.0
seainhd,"Have you tried charting other things to see how the chart gem works?

Get a basic chart to render. Look at the data. Get the impressionist data to match the format.",1539061312.0
tjdracz,"The best I found is SimpleMDE. Just works and very easy to hide the stuff you don't need - https://github.com/sparksuite/simplemde-markdown-editor

Issue with this one, and it's bugging me more and more is that it hasn't been updated in two years so it screams abandonware. Seen few forks around but no concerted effort to pick up the development",1539042846.0
exige1981,take a look at the trix editior,1539034137.0
sweet_dumple,I would move it to a Docker container. ,1539022223.0
mo4fun,"I would suggest dockerizing your application, s9 that you can it it anywhere, irrespective of the OS ",1539028008.0
faultierchen,"I use Windows Subsystem for Linux, works without problems. ",1539011158.0
ProgramAllTheThings,"Following the rails installer instructions (maybe 2-3 years ago) did not get me to a working Rails setup on windows. I originally had a Linux partition that I used for development, but now that I have my rails / node / python environments set up on Windows, I don't use it.

I personally had a little difficulty with VMs on windows - frankly, the time involved to manage how VMs interact with the OS is just another layer of bullshit I could do without (this is why I use Heroku and stay on good terms with the sysadmins at my workplace, who thankfully manage our VMs). If you're familiar with it, go nuts, or if you want to spend some time making it work properly, also go nuts.

My preference: though it took some effort, I got a native setup going, roughly following [this](https://medium.com/ruby-on-rails-web-application-development/how-to-install-rubyonrails-on-windows-7-8-10-complete-tutorial-2017-fc95720ee059) medium post.",1539006193.0
tongboy,An Ubuntu VMware box will be a lot less long-term pain than windows. All they have to do is make sure it's on and all the normal rails troubleshooting guides apply much more directly,1539020043.0
godspeedone,I have looked into stack over flow and according to the solutions present there I tried to minify the  assets. But it still doesn‚Äôt load the application. I‚Äôm fairly new to rails and would like to understand what is causing this,1538972855.0
etcook,"Why not just use the paper trail gem? It wasn‚Äôt made specifically for this, but does everything you‚Äôre looking for out of the box. You can even compare specific revisions of your choosing.

https://github.com/paper-trail-gem/paper_trail",1538976618.0
PM_ME_THICK_LADIES,"There are a couple of ways, but this is my initial thought:

Create a second model ‚Äúnote_backup‚Äù that belongs to ‚Äúnote‚Äù (note has_many note_backups). When you save the note, take the old value and create a new ‚Äúnote_backup‚Äù.

You could do the diff in the front end with something like this: [https://github.com/cemerick/jsdifflib](https://github.com/cemerick/jsdifflib) ",1538966878.0
fiveguy,"I use the [differ gem](https://github.com/pvande/differ) to generate diffs between strings in Ruby. It gives you some highlighting options as well. For instance, it can wrap the diffs in html classes so you can format them.

Versioning gems are often used to store changes. I use [audited-activerecord](https://github.com/collectiveidea/audited). It has a bunch of options, for instance only tracking changes to a specific column. As you would expect, it allows you to go back in time to a previous version.

So, you can combine the two gems to diff current_version.note and current_version.revisions(1).note",1538967087.0
jordanaustino,"So you have a couple options you could use parent/child references, an audit log, or go for non standard rails practices and event source this model. 

I'm sure there are other ways but those are they ways I can off the top of my head think about going about it.",1539007102.0
cmd-t,"Just upgrade to 2.5 locally. There is really no reason to keep hanging around on an old version of ruby. 

MRI is the standard ruby implementation. JRuby is implemented using the Java Virtual Machine. ",1538938637.0
girmad,"You can specify the ruby version you want in your gemfile, like this:

````ruby '~> 2.3.0'````

I recommend using something like rvm and developing on the same version you will use in production.",1538938623.0
anonyfool,"1.)You obviously have to upgrade your ruby version for Heroku - at the very least you need 2.37, but can use 2.4.4 or 2.5.1 according to the page.  If you are using ruby for other things on you development system you'll need to use something like rbenv to manage different ruby versions to be certain that nothing breaks instead of upgrading everything.
2.) it might work but would be inadvisable because you don't want to be chasing down bugs that might be due to differences in versions of ruby, and the only reason to be running an old version is if your project depends on it and one doesn't want to figure out and fix any incompatibilities to upgrading.  It's generally better to just upgrade after a stable version has been out a while instead of letting your project go stale with old unsupported versions of stuff.",1538938862.0
seainhd,"Best practice is to keep dev/prod at the same version.

Since heroku is at 2.5 you should upgrade your setup to 2.5.

It‚Äôs a good habit to understand moving up and down ruby versions for different projects in your career.",1538946166.0
manys,"no, there is no catch-all, nor should there be. however, you can be a little more idiomatic by using member do and collection do.",1538939452.0
LowGravitasWarning,I'd invite you to examine whether you really need custom get routes. In my experience they are usually a code smell. I work in a very large rails codebase and I don't think there is a single route that isn't declared using `resource` or `resources`,1538939266.0
kobaltzz,"Personally, I try to avoid custom public controller methods like this because it could potentially make upgrading to a later Rails version troublesome. Perhaps this is my past talking, but upgrading a Rails 2 to Rails 3 app was rather annoying in the `routes.rb` department. There were some annoyances as well from Rails 3 to Rails 4 upgrades in the routes as well. Sticking to the ""normal"" pathway will offer the least resistance when upgrading the framework. If you decide to go the ""normal"" CRUD styling, then I'd suggest namespacing. I've worked on some applications where the controllers folder was insanely large with everything at the root of the folder. Finding things just off of name was very difficult. However, with namespacing, you can ""group ideas"" together so that there will be an apparent place for everything.

That said, what you are looking to do is accomplishable and I would use a generator to do it. You will just have to make a habit of using the generator whenever you're creating a new method, but it will at least provide consistency. Checkout a screencast I recorded on generators which may help. https://www.driftingruby.com/episodes/creating-custom-ruby-on-rails-generators",1538974515.0
GroceryBagHead,"    get 'controller_name/:some_method', to: 'controller_name#dispatcher'



    #controller.rb
    def dispatcher
      send(params[:some_method])
    end

This obviously is insane and you need a whitelist. But if you have a whitelist, then just define routes normally.

Very curious about your use-case. Feels like you're trying to jam square peg into a round hole.
",1538970340.0
seainhd,"You can do something like:


    resources :comments do
      member do
        get 'preview'
       end
    end

Which will use ‚ÄúGET comments/1/preview‚Äù

Swap the word member for collection to have: ‚ÄúGET comments/preview‚Äù


Suggest reading the rails guides for routing: https://guides.rubyonrails.org/routing.html",1538939573.0
cmd-t,"Custom routes are mostly an anti-pattern in rails that is more cleanly solved by having an extra controller.

You could just write a helper that loops over the public methods of your controller classes and adds routes for them, but you‚Äôd have to filter out ‚Äòstandard‚Äô methods. ",1538938871.0
GroceryBagHead,"Holy crap. Do a production database dump, import it locally, learn SQL, make SQL statements to migrate data, create migration, deploy and migrate.

Production rails console is for looking at data. Unless you like YOLOing. ",1538794718.0
hmaddocks,"Use the gem to fix it, and they‚Äôre only tags so who cares if you get it wrong. 

You already know how to get your tags

    my_messed_up_records = MultipleChoiceQuestion.tagged_with(""business opinion europe"")
    
The gem must have a way to remove tags, use that. Then set your new tags. 

    my_messed_up_records.each do |r|
      r.tag_list.remove(""business opinion europe"")
      r.tag_list.add(%w|business opinion europe|)
      r.save
    end 

This is a guess, I haven‚Äôt use the gem so check the documentation 
",1538846600.0
jaryl,"Yeah don‚Äôt do it in production and if the data is important to you. At the very least back it up before you do anything.

You can already select all the tagged items. Select them and tag it with the new correct tag. Then delete the old tag. ",1538794976.0
jemminger,"Just a side note, 

    req.params[""itemId""].present?

is easier to read than

     !req.params[""itemId""].blank?
",1538771179.0
cheald,"You could use a middleware to normalize all your URL paths and query parameters to downcase:

    # config/initializers/normalized_request_middleware.rb
    class NormalizedRequestMiddleware
      def initialize(app)
        @app = app
      end

      def call(env)
        # Normalize the path to downcase
        u = URI.parse env[""REQUEST_URI""]
        u.path = u.path.downcase
        env[""REQUEST_URI""] = u.to_s
        env[""PATH_INFO""] = u.path

        # Normalize the query string keys to downcase
        req = Rack::Request.new(env)
        req.params.keys.each do |key|
          val = req.params[key]
          req.delete_param(key)
          req.update_param(key.downcase, val)
        end

        @app.call(env)
      end
    end

    Rails.configuration.middleware.use NormalizedRequestMiddleware

This just adds a middleware that gets to mutate the request before Rails' router gets its hands on it, and forces the path and query params to lowercase. This is global, though, so you'd have to use lowercased params and routes everywhere in the app if you were to use it.

RFC 3986 specifes that aside from scheme and host, URI components are case-sensitive; `/ItemDetail.aspx` is not the same URL as `/itemdetail.aspx`. While hacks like this work for supporting legacy apps, it may be worth trying to build for case-sensitive URLs in the future.",1538791013.0
jemminger,"Pretty sure you can just duplicate the route:

    get ""ItemDetail.aspx"", to: redirect { |path_params, req| !req.params[""itemId""].blank? ? ""items/#{req.params[""itemId""]}"" : ""/"" }, status: 301

    get ""itemdetail.aspx"", to: redirect { |path_params, req| !req.params[""itemId""].blank? ? ""items/#{req.params[""itemId""]}"" : ""/"" }, status: 301

",1538771244.0
sierraalfa,"It depends on what you're trying ie. if you're just trying to count the number of views on a video you should create an attribute in the video model and increment it each time someone views the video.

However, if you're trying to show which user saw the video and other properties then the above method won't work.

Assuming you already have the users and video model setup, you can always setup a views model.
The views model will have the video_id and the user_id.

Then you could easily just use video.views.

However, this has another problem as to what about users who're not signed up.
",1538765698.0
manys,click play > js POST (:video_id) -> /count_views > beer thirty,1538783121.0
AndrewAtBrisaBoards,"There's no way to test this, but YouTube might not actually count when the video itself is viewed, but instead use UI indicators like when the video page is viewed, or people click play on previews.

I'm mentioning this because, otherwise, they might have to collect logs and parse them to calculate exact views. For example, there are YouTube downloader apps that might do a search and then download from a CDN directly.

So, if you have a simple app where a page embeds a video and auto-plays, you could increment a video counter in the controller for that page. Eg:

`def show; @video = Video.find(id); @video.update(view_count: @video.view_count + 1); end`

If auto-play isn't guaranteed, then you might need JS frontend code that calls an API (eg /video/X/viewed) to increment it.

And, if you want very accurate results, you might need log analysis to check all downloads of the video. Seems like a pain :)",1538839241.0
AfterQuality,"If I have to book time with you to see a damn demo, than you are wasting my time. ",1538764472.0
retrolione,"> $49 /mo least expensive option

Yeah, that's a fuck no from me dawg",1538767953.0
GroceryBagHead,"You got a pile of messages with some attributes. You got a user with attributes that match subset of messages. So you just fetch messages that match those attributes. If columns are indexed this is a very fast operation. You also have an option to cache that result per user. This is not complicated.

Also `Message.all` literally pulls entire table into memory. You just do `Message.where`",1538761734.0
manys,I'd spend some time simplifying the first part of your description. Is this an interview test?,1538762434.0
anonyfool,I've gone down this path before and this points to a relational database being the inappropriate solution (if you use the database for anything other than messaging) for a scaleable solution for messaging - you should just make it this way anyways to get something working because you know how to do it just to see if anyone really wants to use it rather than worrying about a long term solution now.  ,1538764731.0
sac_boy,"You need to use an HTTP DELETE to reach that route instead of a GET. I haven‚Äôt used link_to in a while but I recall you could pass method: :delete to it as an option.

If you still have this problem, check that the generated link ends up with data-method=""delete"" and make sure an HTTP DELETE is sent by observing your network panel under your browser‚Äôs developer tools.

Edit: see below, I couldn't see that you were already passing `method: :delete` as I was on mobile. Check your console to ensure you don't have broken JS that prevents your link_to helper (which ultimately involves a bit of javascript) from running properly, which would mean clicking that link would cause a standard GET instead of a DELETE.",1538747533.0
Swarmcloak,You are passing the attachment id when it is asking for the project Id based on your routes. ,1538747668.0
daddyfatknuckles,"i don‚Äôt know if this is the entire issue since it says it‚Äôs doing a GET for some reason. but i think you‚Äôll need to change 

delete_upload_project_url(upload.id)

to

delete_upload_project_url(id: upload.id)

the controller has no way of knowing that it‚Äôs params[:id] without it",1538750208.0
cmd-t,"Why not just 'host' the new landing page in the app itself? 

>hat'll be hosted elsewhere

Is this a requirement? You can just render a complete html page in a rails project.",1538725894.0
soda-popper,Here's a blog post about some fixes for using gems with native extensions in Mac OS Mojave: https://blog.driftingruby.com/updated-to-mojave/,1538674839.0
GroceryBagHead,"Did a clean install. Installed homebrew, rbenv, ruby 2.5.1, postgresql. Loaded all development junk that I needed with no problem.

However! Mojave is quantifiably slower than Sierra. Significantly so. Test suite literally runs almost twice as long now. Can't really say why though. 

Everything else is smooth enough though. Had to buy upgrade license for LittleSnitch as mine was working up to High Sierra only.  ",1538674948.0
carinishead,"Only issue I ran into was qt5.5 (needed for flexbox stuff in capybara webkit)... Couldn't compile using Xcode 10, so I needed to downgrade back to 9.4",1538684449.0
webbc99,"I've had a ton of issues sadly. The product I work on uses  capybara-webkit. When I upgraded to Mojave, I also updated homebrew, and since doing that I cannot install qt55 which is required by capybara webkit. Homebrew doesn't run without the latest xcode, and qt55 requires an older version of xcode... I can't think of a way round it as from what I can tell you can't install older versions of homebrew.

I do still have a device on high sierra which is working fine thankfully.",1538686015.0
SkyPuncher,"I did the jump last night. I had avoided High Sierra out of concerns, but wanted the dark theme so I decided to jump for it.

So far I haven't found anything breaking. It's not necessarily pull and play though. I spent about 2 hours downloading updates for a lot of programs that didn't run on Mojave. Not the end of the world, but definitely not as smooth as most of Windows updates.

My biggest problem right now seems to be performance issue in RubyMine (and all Jetbrains products). I'm frequently getting a laggy cursor. It doesn't block me from doing anything, but can slow me down at times.

Just make sure you update XCode and most things seem to still be working for me.",1538675884.0
EqualsNull,"Everyone's setup will be different, but for what it's worth I was able to upgrade and keep developing without issue.

Pretty standard stack. Using MySQL and imagemagick which worked fine (these two usually give me the most headaches).

Also haven't noticed any noticeable change in performance, as one of the other posted noted",1538681395.0
odinsride,"I don't do development directly within macOS but I will say that my Manjaro VM (VMware fusion) that I use for rails development runs much smoother in full screen mode after upgrading to Mojave, fwiw.  ",1538679746.0
StalkerTachikawa,"Yep. After installing Mojave, rails server would just pop up error messages, and I had to update Xcode and reinstall a bunch of gems. Now I‚Äôm hitting another problem I‚Äôve had in the past where nokogiri breaks deployment to Elastic Beanstalk. It‚Äôs been a mess I haven‚Äôt had time to sort out.",1538687996.0
jasdeep13,"I‚Äôve upgraded both macOS and Homebrew. No issues so far. Just picked up from where I left. 

I have 3 production Rails projects that I develop on from time to time. All Rails 5.x projects",1538689973.0
zacksiri,No issues here I installed ruby using asdf. Everything works as expected.,1538718127.0
bradendouglass,"No problem here. Fresh install and everything works great (chruby, chromedriver, Postgres). Some folks have been saying the Os is slower when it comes to test run times but, I must admit mine have decreased. Feels much snappier as well. ",1538740598.0
contrarianism,I avoid osx development and use vagrant/ubuntu instances to avoid these issues entirely.  Also happens with python.,1540132292.0
gaune,Use Docker,1538691333.0
cmd-t,"First of all, just a heads up: the code pretty far from what you would expect in a rails project. It seems you haven't done any tutorials, because they often detail how to work with routes, resources and controllers. This is how your code above could be written (roughly, there is no validation handling) according to conventions in rails:

    # routes.rb
    namespace :api do
      resources :cars
    end
    
    # cars_controller.rb
    class CarsController < ApplicationController
      def index
        render json: Car.all
      end
    
      def show
        @car = Car.find(params[:id])
        render json: @car
      end
    
      def create
        @car = Car.create(car_params)
        render json: @car
      end
    
      def update
        @car = Car.find(params[:id])
        
        @car.update(car_params)
        render json: @car
      end
    
      def destroy
        @car = Car.find(params[:id])
        @car.destroy
        render json: @car
      end
    
      protected
      def car_params
        params.require(:car).permit(:model, :num_wheels, :color, :realm_uuid)
      end
    end

You also shouldn't be using `attr_accessor` , since rails will handle attribute assignment for you. `attr_accessor` overrides the attribute setters. That's why nothing gets stored in the database. Also, `update_attributes` (which is currently called `update` in newer versions of rails) saves changes to the database every time you call it, so in your example, for every attribute in `params[:car]`, you perform a separate database query.

These mistakes are mostly caused by unfamiliarity with rails. After doing one or two tutorials things should 'click' probably.",1538725522.0
sac_boy,"It looks like your params are nested under `params[:car]` if your update code path is correct. So you need to use `params[:car][:model]` etc when creating your car.

> When I make a post through postman, It says that the car is created

Ok, I'm guessing you just have no validation that protects against nil in those records, so the save succeeds. You can change that to `@car.save!` to make it throw an exception if it fails.

> when I render json: @car, I see that all the values are correct

Are you 100% sure of that? And it's the 'create' code path you tested? If that's true then my previous statement (that you are just accessing params incorrectly when creating the car) can't be true. But if there *are* values in there, I would expect the save to either fail entirely (no record created), or save the record with its values. I don't get how your record with id 38 would be created if the validation failed. **Unless of course your create code path works fine**, creates and saves the Car with the properties you expect, and then your update path sets all its properties to nil (because the params *aren't* nested under `params[:car]`) and saves that. Make very sure that you are testing a create action by itself and not a create followed by an update.

You can easily make sure of all of this by simply doing a `puts ""CAR #{@car.inspect}""` at various points in the function, then looking at your server output in the console and searching for CAR after you make a request.

I'm not going to critique the code in general, but I would suggest you make a controller test spec before you go any further, to test that the create and update behaviours work as you expect. I'll always test a controller through a test spec before I ever try hooking up a front end. This goes for every single class you make--create the tests at the same time as the class, test it before you try to hook it up to anything else, and you'll have the benefit of a class you can rely on + a growing test suite. If you do this you won't need to muck around by testing your controller through your front end, and you can work on your front end with complete confidence in your controller.",1538669917.0
JustinCampbell,https://github.com/flyerhzm/bullet,1538672767.0
GroceryBagHead,"You probably found this already, but it's just a matter of running `bin/rails credentials:edit` Key will be created if there's none.",1538662620.0
AndrewAtBrisaBoards,"I recently ran in to this problem from the other side. I'm working on an open source Rails 5 app, and I want to make the setup process as painless as possible (including for people who don't know Rails), and I think the way Rails handles credentials makes this kind of awkward.

For now, I have a script that runs `EDITOR=/bin/true RAILS_ENV=test rake credentials:edit` to generate the files. But I'm wondering if it's better to just not use the encrypted credentials at all in favor of env variables or something.",1538667084.0
jim_tech,"Looks like you have some good info in this thread.   
We had a similar issue with the credentials, but more chicken and egg. When a developer starts working on a project they will need to start the project. Since all the sensitive info is necessary to get the app to boot then they could not start the app until they had good credentials/master files. We don't commit either to the repository. 

This became a real pain, so we have a script to run that will prompt for questions and then generate a fresh credentials/edit pair so the developer can start. 

In short, we don't want unencrypted credentials even on the developer's mac. ",1538754544.0
ActiveModel_Dirty,"Silly question but are you prefixing the resource classes with the meta module namespace?

If you have a resource, `class Iron` you can't have it in `models/meta/iron.rb`. It'd have to be named `class Meta::Iron` I believe.",1538599254.0
manys,create a route for domain.com/:form_id/new_entry,1538588341.0
firstpantsthenshoes,"You can do this by pre-assigning a unique random slug to every form in your system. You‚Äôll need to ensure this is done at creation time.

Next you can create a custom catch-all route in your config to show each entries.

`get /:random_form_id, to: ‚Äúentries#new‚Äù`

You‚Äôll need to be cautious though to properly render 404s if you can‚Äôt find the entry. A catch-all route is tricky because nothing will ever fall through the router anymore. If possible at least add a `constraints: { format: ‚Äúhtml‚Äù }` to avoid pesky php bot requests.",1538608426.0
choonggg,"resource is just a naming convention, just create a short one called 

resource :feedback, only: [:show, : create]

This creates a path /feedback with show action for the form, create for POST submit. (Notice the singular feedback)

The controller always uses plural for resource so it will be FeedbacksController unless you overwrite it on the route with, 

resource :feedback, only: [:show, : create], controller: 'feedback'",1538585588.0
your-pineapple-thief,"I can't help but wonder why longer URL is a problem. And guess what - it's not. When was last time you avoided clicking html link because it's too long? However it's good practice to hide stuff like that behind some hashed route, but that is just so users can't spoof other users forms (given that `entries#new` is not hidden behind authentication)",1540695024.0
cmd-t,"You need to normalize your domain models a bit more. Quick sketch:

    class Trial
      belongs_to :user
      belongs_to :quiz
      has_many :answers
    end
    
    class Answer
      belongs_to :trial
      belongs_to :question
      belongs_to :choice
    
      delegate :correct, :correct?, to: :choice
      
      validates :question, uniqueness: { scope: :trial }
      validates :question_belongs_to_quiz, if: [:trial, :question]
      validates :choice_belongs_to_question, if: [:question, :choice]
    
      protected
      def question_belongs_to_quiz
        errors.add(:question, ""does not belong to the quiz"") unless question.quiz == trial.quiz
      end
    
      def choice_belongs_to_question
        errors.add(:choice, ""does not belong to the question"") unless choice.question == question
      end
    end",1538563934.0
cmd-t,"In this case you should replace the link with a remote form:

    <td>
        <%= form_for user, remote: true do |f| %>
            <%= f.hidden_field :approved, true %>
            <%= f.submit ""Approve User"", confirm: ""Are you sure?"" %>
        <% end %>
    </td>

I'm pretty sure this (or something similar) will work. Also, the registrations controller is for registering a user, not for updating it. You'll need to create your own UsersController, because the RegistrationsController is only for updating the current user: [https://github.com/plataformatec/devise/blob/87b73540a4b8a8fad2d5a198598d3e4aa3b44431/app/controllers/devise/registrations\_controller.rb#L47](https://github.com/plataformatec/devise/blob/87b73540a4b8a8fad2d5a198598d3e4aa3b44431/app/controllers/devise/registrations_controller.rb#L47)",1538553479.0
cmd-t,"You've asked a question or are looking for help but you haven't clearly described your problem. Please update your post with a proper description of your problem and make sure code and text are properly formatted.

Use the fancy-pants editor or, if you are using markdown, see https://www.reddit.com/wiki/commenting.",1538552108.0
snowboard44,what in the name of god did you do to the text in this post,1538545613.0
ActiveModel_Dirty,"First off, this post is hard to read and you're kind of all over the place with how you're explaining the problem. It's a lot easier if you're concise with the problem you're facing.

Anyway, I'm confused by what you're trying to do. The first link is describing admin approval for users but the second link is creating an admin role. Which are you wanting to do? They're two different things. One is approving an account and allowing someone to log in, the other is making them an administrator.

As for your question in the edit, did you look at the accepted answer or did you just reference the question?

you don't want to link to `edit_user_path` you want to link to `user_path` and ensure that you're using a `PATCH` request as noted in the answer. Note `method: :patch`.

`link_to(""Unlink your facebook account"", user_path(@user, :facebook_uid => nil), :method => :put, :confirm => ""Are you sure?"")`

So in your case it'd be something like:

`link_to user_path(user, {admin: true}), method: :patch`

It's worth noting that now Rails prefers `method: :patch` over `:put`

Also make sure that you have your `update` endpoint set up correctly with [strong params](https://edgeapi.rubyonrails.org/classes/ActionController/StrongParameters.html).",1538548139.0
jqr,"This is a perfect thing for Rails. If you‚Äôre just getting started, I would steer clear of any gems. Just use Rails and learn it. Later you can add other things like the gems you mentioned, but you have no need for them yet.

Here‚Äôs a sketch of an attack plan:

1.	Sketch out EVERY page of the app as both a regular and admin user. This will show you things you may have overlooked. This is about functionality, not layout. For example, which page can an admin approve a post?
2.	Generate some base model scaffolds. Skip users and just see if you can make the site work as intended.
3.	Add users, associate them with data, and limit the actions that certain users can take.",1538539750.0
manys,you mean like a wiki?,1538537443.0
seainhd,You mean like stack overflow?,1538539757.0
toobulkeh,"Seeding data to all environments is usually a good idea for singletons and static variables.

Priming a development and test database with a script is also a good idea.

Putting private data (that needs to be encrypted) and combining these two purposes is a bad idea.",1538538668.0
jdickey,"Try GitHub or Awesome Ruby. We've been using [Chamber](https://github.com/thekompanee/chamber/) for years now; it's easy to use and has an in-the-box Git commit hook source that will save you from the most common stupid mistake ‚Äî committing secure data.

Awesome Ruby's [*Encryption* section](https://awesome-ruby.com/#-encryption) lists a few options, such as [RbNaCl](https://github.com/crypto-rb/rbnacl) which *is* awesome. It's based on an FFI wrapper around the highly-regarded [Networking and Cryptography library](https://nacl.cr.yp.to/), an expert-developed and -vetted crypto library that is one of the coolest pieces of software I've seen in over 30 years paying attention in the domain.

After all, nobody should ever have reason to accuse you of being a lazy karma whore.",1538539025.0
saturnflyer,"You can destroy what was generated too:
`rails destroy resource Whatever`

Then just run the generator that you want.

But to answer your question, it shouldn't cause problems. Rails uses singular names for models, but for things like controllers it adds `_controller` to the name of the file and `Controller` to the name of the class created.
So even if you used the same name and you had a singular name for the model and for the controller, those two things should prevent problems.

If you're not already using something like git, you should. If you make small commits, you can commit what works, and then in a situation like this, you can see what changed with `git status` and then throw it away if you like with `git checkout --`
If you want to partially remove things you can use `git checkout -p --` and that should step through blocks of changes.",1538509673.0
manys,"You don't have to destroy, just redo it with scaffold. It won't overwrite any files that already exist.",1538517360.0
,[deleted],1538502384.0
rdejuana,"Any environment variables setup in Heroku should be available.  

With out any code samples, I can‚Äôt tell you much else.",1538481007.0
,[deleted],1538485726.0
abadabazachary,"Have you confirmed that your worker dynos don't have access to ENV?   You could put a 'debugger' or 'byebug' at the beginning of one of your workers (first line of `perform`), deploy to heroku, do a `heroku run rails c` and then run the worker manually in order to debug ENV.",1538490485.0
jaxn,"Did you get this resolved? If not, call config:get from the heroku Clint to make sure the ENV vars are really set.",1538888135.0
cmd-t,"To me it seems like monitoring your dependencies yourself isn't useful at all. And definitely not something you should be doing within in your app. If you really want to know the status of APIs you use, there must be some kind of external service you can use (or build).",1538489458.0
OddEssay,"It's not a gem, but [Postman's Monitors](https://www.getpostman.com/tools#api-monitoring) sound like they would do the trick and are language agnostic. If you want something to run locally, you can convert your Postman requests in to a format that can be run on the command line with [Newman](https://learning.getpostman.com/docs/postman/collection_runs/command_line_integration_with_newman/), though I think that is node based.

&#x200B;

The first thing that came to mind was [ServerSpec](https://serverspec.org/) which is a gem that gives ""RSpec tests for your servers"", but that's more geared towards infrastructure configuration.",1538491988.0
jemminger,"You can get 50 url monitors for free with https://uptimerobot.com/
",1538496352.0
editor_of_the_beast,"I googled ‚Äúrails health check‚Äù and got 100,000 results.

Pretty simple.",1538479694.0
tongboy,That's just an example of a class you define that when the method is called returns true or false. Define it anywhere.,1538494928.0
zseikyocho,"One more gem:
https://github.com/lbeder/health-monitor-rails",1538475879.0
cmd-t,"\>  all my results are appearing in the autocomplete bar upwards of 50 times

That doesn't sound anything like an nginx issue. Why would nginx double results in a json/ajax response? Are you searching on joined relationships? In that case you should also be using \`.distinct\`.",1538552870.0
mistakes_are_gold,Thanks brah. Will check soon!,1538465308.0
ylluminate,"I think you'll find this a lot easier (and be a much happier camper): https://hyperstack.org/

This is interesting too: https://faastruby.io

Using ruby vertically (isomorphicly) via Opal's the only way to go! :)",1538475357.0
OtavioHenrique,Do you already knows the basic of Ruby programming language?,1538440154.0
fifthlevernoah,"First, I'm curious what type of errors? If they are real error, you should submit pull requests to fix them.

&#x200B;

I spent three months working my way through the Hartl tutorial. I worked through chapters 1-4 and got completely lost. Started again and worked through 3-6 got lost. Started again and did 3-7 and then started again and worked my though to the end. The tutorial is dense, but if you can do everything in the tutorial you are a solid Jr. Programmer. I started my first job with mostly stuff from the tutorial and I was holding my own on day 1 with other developers. 

It's supposed to be frustrating. You're learning something new. Now, go get some!",1538442722.0
Kodcx,"I‚Äôm fairly new to Ruby and Rails as well, and studying Ruby prior to starting another rails attempt really helped. 

I enjoyed the launchschool Ruby book. I then started the launcschool demystifying rails book, but found myself getting stuck several times. 
(Just finished the blog app, and now working on cleaning up the code for various reasons that is explained as you go). 

I found that while going through the rails book, I recognized different syntax much better than the first time I done right into rails. 

Also, I watch a ton of videos to supplement the limited time I have to actually code. Nothing replaces hands on the keys though. 

Good luck. ",1538446677.0
mindovermiles262,"Hey there 

Come check out The Odin Project! Full disclosure I am a mod for the project but it also taught me everything I know about web development 

TOP teaches the basics of ruby, then dives into rails. We curate all the best resources from around the web and put them in a logical order. Including the Hartl Rails book and some of the other resources mentioned ITT but does a much better job introducing the concepts 

The best part is our active community that's always available to all for help. There is an entire community of mixed level programmers ready to help and encourage you 

TOP is also an open source project so submitting your solutions will count towards Hacktober 

Anyways, the site is at www.theodinproject.com so drop in and say hi üëã
",1538458780.0
justalever,Shameless plug. I learned rails in public on my YouTube channel. There's about 60 videos there in a playlist where I build Ruby on Rails apps from scratch. Hope it helps! https://YouTube.com/c/webcrunch ,1538491878.0
MyDogLikesTottenham,"Take your time with Ruby, learn to program a basic Ruby app first, then move on to Rails. Rails does a lot behind the scenes, and it‚Äôs easy to get confused. If you don‚Äôt understand routes, models, controllers or views (and how they relate within rails) you‚Äôre gonna have a bad time. 

I‚Äôm still learning too, but a model is essentially a ruby-class representation of some data in the db. The routes direct a uri call to a specific controller and a specific method within that controller. The controller can access a model for data from the db, and then render a view using that data. 

It‚Äôs a big hurdle from simple Ruby methods to solve a problem to a full Rails app, so don‚Äôt be discouraged. Feel free to pm me if you want. 

Biggest thing is don‚Äôt get frustrated. You aren‚Äôt failing, you‚Äôre trying to solve a problem you don‚Äôt know how to solve, and that‚Äôs ok. That‚Äôs what most of my experience in programming has been.

If you need any help pm me, best of luck.",1538448155.0
,[deleted],1538458561.0
HixSavvy,"I suggest you try upskills course which is by far the best online tutorial i have seen so far. Thats how i learnt.  


[https://upskillcourses.com/courses/119763/lectures/1747100](https://upskillcourses.com/courses/119763/lectures/1747100)  


I suggest you register (for free) and get on ya bike!!",1538512462.0
toobulkeh,"For an overview I like rails zombies from codeschool. Not sure if it's still around though.

For detailed solutions, nothing beats Ryan bates' Railscasts (even though they're outdated)

I would suggest trying to work through an example app on your own and googling specific things you try to solve. Do it wrong a few times. You'll get it.",1538442304.0
betonamujin,"I got the same problem with you. But when I joined an internship program in a company, first they told me to practice in Hartl's book and send PR for the trainer to check. And after 14 days, I finished that book and continue start a new simple project. If you have any trouble, contact me and I will help you.  
*\* sorry for my Potato English* ",1538452458.0
perlpimp,"If you know other languages you should really grasp by convention practice used in rails. Its a bit of a mindbender for me but it goes like this you have various classes of objects , activerecord for databases , controllers and using coventions there will be a bunch of functionality be available to you . Various contexts.will have various methods exposed / generated and available to be called. Rails is a heavy code generation machine and you need to learn all it gives you. breaking coventions will lead to stupefying errrors so pay close attention how things are named, onece youre good you can sort of guess right what is available to you.",1538481333.0
FutureFounder,Follow the example app in rails guides. That was the most effective teaching device for me.,1538519375.0
ActiveModel_Dirty,"Have you tried [https://www.codecademy.com/learn/learn-rails](https://www.codecademy.com/learn/learn-rails) ?

Also I very much recommend [https://thoughtbot.com/upcase](https://thoughtbot.com/upcase) once you feel at least a little bit comfortable with the basics. Though they go over some basic stuff there too.",1538439799.0
montgomeryLCK,"A week? Are you kidding? One week to learn an entirely new programming language (Ruby) and an incredibly powerful web framework?

Reconsider your timeline. Unless you're very familiar with how object oriented programming and these types of frameworks work, it's going to take more like six months to learn your way around, minimum.",1538484035.0
midasgoldentouch,I'm not sure you can. Why not upgrade?,1538430861.0
just-suggest-one,"Tried your suggestion, didn't see any difference on a test suite that takes \~90 seconds to run. Must be something different between your project and mine.",1539226450.0
faitswulff,"Some quick googling on how the Rails cache works leads me to believe that it relies on the filesystem by default. Heroku's [ephemeral filesystem](https://devcenter.heroku.com/articles/dynos#ephemeral-filesystem) would explain the `nil` result. Recommend looking into the cache configuration (`config.cache_store`) in your production env.

This article might help: https://blog.appsignal.com/2018/04/17/rails-built-in-cache-stores.html",1538420342.0
cmd-t,"The cache is really for caching, if you are not caching you shouldn‚Äôt really use the cache. You can use redis, which is free on the hobby tier. ",1538421501.0
ActiveModel_Dirty,"There's nothing wrong with having a `user_id` on a `comment`. If a comment `belongs_to` a user there's no way around that, in fact. Same with the `post_id`. Any time you have a `belongs_to` association, you need to store the ID of the thing it belongs to somewhere. Your `Comment` model appears to be a join between `User` and `Post`, so if you look at your schema it should have both `post_id` and `user_id` on the `Comment` table.",1538418340.0
odisant,"We‚Äôve used prawn to some success, though not by trying to use their form filling. Instead, we keep a config file with X,Y coordinates to fill values, and simply draw text on to the PDF.

If your PDF will change frequently this is obviously not a great solution, but if you‚Äôve got a consistent PDF you trade an hour of guess and check work for a stable and pretty easy solution.",1538408088.0
OGBBQ,Have you tried combinepdf? You make another pdf and put it on top. ,1538367211.0
lostapathy,"Warning: gross solution.

We had to do this at a past job, only the forms were based on scans of old paper forms and the whole thing was a mess.  So we converted the original scan-based PDF to PNG files, set those as a background image on a page, then used CSS to place text over the form in the right place.  Then we turned it back into a pdf with wkhtmltopdf.

I feel dirty even talking about it, but it worked pretty well once we set it up.  Government work :(",1538404790.0
CaptainKabob,"I hear you :-( The current state of PDFs really stinks! (I fill out a lot of government PDFs and build PDFs to send to the government.)

I'd recommend sticking with pdftk and a fillable PDF template if you're able to as there is a working fork at this point: [https://askubuntu.com/a/1028983](https://askubuntu.com/a/1028983)

&#x200B;",1538969663.0
world_on_wheels,I would recommend this https://github.com/mileszs/wicked_pdf,1538371998.0
meisteronimo,"I've had good results with https://jsreport.net/ , which can be hosted with docker and is free for less than 5 templates. 

You would have to move the styles and template into the js reports app, which is done through their web interface. You generate the report by posting json to the jsreport server. 

They also have a hosted version on their website. I've used the docker one, and a bit tricky to share the directories of your codebase into their image.

Truthfully though I wish you could point to a pre-rendered html on your server and it would generate an PDF from that.
",1538373070.0
drunken_thor,"It depends how you have it set up. If you have puma setup to run with rails, \`rails server\` will run puma. If not will run it's default app server Webrick. What rails server runs is an application server. Rails by itself is just a framework that satisfies the interface for Rack. The Rack interface can be used by many different application servers like webrick, puma, and passenger but it is also satisfied on the other side by rails and others like Sinatra. It's a common language basically. 

&#x200B;

Rails has always just tried to make everything easy so essentially \`rails server\` is just sugar for you running puma by hand. It allows any rails developer to come into the project, run \`rails server\` and start working rather then figuring out what application server the app uses and then installing it.",1538358981.0
Arrio135,Look into Rack and Webrick,1538358698.0
manys,"Use [screen](https://www.linode.com/docs/networking/ssh/using-gnu-screen-to-manage-persistent-terminal-sessions/), then you won't have to do such backflips.

I think the answer to your question is ""puma, unless 'thin' is in the Gemfile."" You can also use `passenger start`, but all this is better under screen. One server screen, one testing, the rest misc, or other ""log to stdout"" processes (gulp, etc.).",1538363577.0
Miche_Fernandiez,[Have a look at this](http://www.cryptextechnologies.com/blogs/how-to-deploy-ruby-on-rails-code-on-production-server-with-passenger-and-apache). May be your problem can be solved,1538383639.0
donzzzzz,Rails :},1538413409.0
hadees,"You need to use the helper rails_blob_url.  So something like ""rails_blob_url(store.image)"" should do it.",1538326195.0
Snorlax_is_a_bear,"Your application.js file could be application.js.erb. Then you can interpolate your ruby code into your js code. For example:

    some_js += '<img src=""<%= rails_blob_url(store.image) %>"">'  ",1538327704.0
hadees,"Without more information on what the errors are specifically with rails_blob_url it's hard to give you good answer.  However if you are totally stuck on this there are some clever workarounds you can do.  They are suboptimal but they'll get your tests to pass and then you can refactor to a better way later.

1.  Try loading the image in the erb but hidden.  You can then reference that img tag and pull out the url.   It has an added benefit of possibly showing the image faster.  I'd use a data attribute to query on and know which image to use.

2.  You can return the html from the server already setup with the content you are doing in javascript.  This way you leverage erb templates.",1538334361.0
cheald,"Container size will almost entirely be gems. Ours is around 800mb uncompressed (330mb compressed, according to ECR), though we do some tricks with the dockerfile to ensure that most of our deploys can use cached layers and only pull a few MB. /usr is around 95% of the total image size. Using a smaller base layer doesn't get you a whole lot if you can use cached layers, and might in fact be counterproductive if you have multiple containers that could otherwise share a common base layer.

We build on Debian slim base, but add a bunch of convenience tools because not having them when you need to debug a production issue sucks. The big issue with Alpine is that it uses muslc rather than glibc, which breaks all kinds of things (go binaries have been the biggest issue we've had).",1538271342.0
pavlik_enemy,"It‚Äôs pretty easy to slim down the image by using multi stage builds. The first stage installs all the development libraries, and the second stage just takes pre-build gems. I‚Äôve posted an example some time ago https://www.reddit.com/r/rails/comments/7dz6l5/some_useful_docker_stuff/?st=JMOY7J82&sh=0c4dddc0",1538316862.0
-yocto-,"We're working with Rails on a Debian image that is \~ 1.6 GB when all layers are combined.  It's too large, but we haven't gotten around to slimming it down yet.  A typical build will push a bit less to the repo.",1538278916.0
GroceryBagHead,"Not exactly sure how to change that setting, but the idea is that you never need to worry about expiry time as links are handled by `rails_blob_url` that always serves a fresh file.",1538253265.0
kinopyo,"You may want to check out this issue on rails repo: https://github.com/rails/rails/issues/31419, where people shared ideas and monkey patch to make it work with longer expiration time or even permanent link. (It‚Äôs a long thread but it‚Äôs worth to read :)",1538473549.0
jemminger,"Looks like you forgot to assign the song to a variable in your controller.

    def random_song
      @random_song = Song.includes(:slug).random(1).decorate
    end
",1538247042.0
SnarkyNinja,"/u/jemminger has the right solution. I wanted to add that you shouldn't pre-link to the ""random"" song like this - if a user doesn't click the link, you're going to wind up loading and decorating an additional song on every page for no reason.

Recommend creating a `GET /songs/random` endpoint, and linking to that:

    # config/routes.rb
    get '/songs/random', to: 'songs#random', as: 'random_song'

    # app/controllers/songs_controller.rb
    def random
      redirect_to Song.order('RANDOM()').first
    end

    # app/views/_random_song_link.erb
    <%= link_to 'Random song', random_song_path %>

Also be aware that ""random selection"" doesn't scale very well to large datasets.",1538249279.0
jasdeep13,"Depends on a lot of factors: Timelines, budget constraints & availability of developer resources etc. 

For any good developer/engineer it‚Äôs a killer skill to have and know when and when not to make these decisions of buy v/s build. 

And honestly there‚Äôs never a single true right or wrong answer ever. Every decision is almost always accompanied with trade-offs. ",1538233054.0
dakmau,"Unless you're at a big company with a team of engineers and a fat stack of cash to burn, why wouldn't you look at gems first? 

Developing features is time consuming and costly. And, if you're iterating at an early stage, you may discover later on that the feature you spent XYZ weeks on was useless.

Start with gems. Later on, if you've decided you no longer need the gem, just pull it out or modify the source code.",1538246685.0
jaryl,"I‚Äôd try to limit gems because it may lead to a memory guzzling app later on. Also, it‚Äôs more important to design up from what you need your app to be, and then find the gems that support your design. When using a gem you sometimes have to madd some architectural trade offs due to the design of the gem.",1538244075.0
in0pinatus,"Before adopting a gem, check:

‚Ä¢ It is popular,  
‚Ä¢ It is currently maintained,  
‚Ä¢ It actually does what you need,  
‚Ä¢ It is compatible with everything else you have (or can be trivially adapted), and  
‚Ä¢ It is not an overengineered framework, for something better expressed as simple and domain-specific POROs, that will leave you feeling imprisoned by the framework later.

This last one I call my Trailblazer Rule but it may also be a reason not to use, say, a decorator framework, in contexts where all you needed was a delegating presenter or a helper method. A.k.a. ""Too Much Scaffolding, Not Enough Building"". The ability to assess when a full-featured framework will create net long-term utility (rather than crippling technical debt) is a major skill for all developers, and comes from experience and experimentation; by which I mean, trying stuff out and making lots of mistakes.

In the case of an e-commerce site, I'd say it's usually a mistake to ignore the established solutions. This sounds like a maintenance boat anchor. The time to roll your own is if you're actively inventing a new e-commerce architecture e.g. you are founding the next Shopify. In which case the service core IP is your own code and should remain so to preserve agency.

Pro tip: always read the source code before adopting a gem, because I guarantee you'll be reading it later, under pressure. Aside from building familiarity, this is also my primary means for assessing whether something really does what I need or whether it contains some horrifying but undocumented gotchas. 

To answer the other specific question, I have an e-commerce system that was created from scratch. It has 54 gems in the production Gemfile group, of which four are in-house and six are privately maintained forks.",1538271059.0
jqr,"There are two things at play here, 1) locating the user, and potentially 2) drawing that position on a map.

For 1, you have several options. The best of which is literally asking the users browser for their location via the [Geolocation API](https://developer.mozilla.org/en-US/docs/Web/API/Geolocation_API). There are also other less accurate methods, like looking up IP addresses in a database. If you just want coordinates, this is all you need.

For 2, As /u/Summer_Is_Safe_ said, Apple provides an API called [MapKit JS](https://developer.apple.com/maps/mapkitjs/) which is probably what you‚Äôre after. I haven‚Äôt used this API but I would expect it also handles (1) by setting an option to show the viewer‚Äôs position on the map. If you‚Äôre wanting visual confirmation this is probably what you want.",1538233682.0
Summer_Is_Safe_,[apple maps api](https://developer.apple.com/maps/) ,1538230259.0
anonyfool,"The cheapest alternative that is open source is spinning up a server that serves OpenMapTiles https://openmaptiles.org/, so a minimum of $5 a month for a server on one of the popular hosting sites plus a few dollars a year for a domain name.",1538233835.0
yavanepl,Just use leaflet ,1538244655.0
awh,Activeadmin can deal with cancancan.  You'll want to use rolify or something like that to go with.,1538227398.0
ckifella,"I would suggest a single admin table and the use of an integer enum to specify different roles. You can combine this with 'pundit' gem to create policies for every resource you want to access.

You can add actions for each policy and validate there which role can manage each resource.

Remember that you shouldn't be worrying about requirements that aren't described yet but this is a common scenario where you get more roles or type of actions later on. By using a Boolean for ""super admin"" at first you're risking the possibility of needing a ""moderator"", ""reviewer"" Boolean in the future.

I've been through that and I'm working in refactoring an old app that started like this.",1538250230.0
fiveguy,Authorization in ActiveAdmin: https://activeadmin.info/13-authorization-adapter.html,1538229291.0
DisneyLegalTeam,"A couple of ways to do this

1. You have a column called admin_level as an enum

Or

2. You have another table called admin_level with 3 rows of ‚Äúadmin levels‚Äù created with a seed file. This table belongs to your Admin or User table. Each row would need a value for comparison. 


Whichever way you go you‚Äôll need some methods to compare a Admin‚Äôs level to the content in your controllers.  ",1538231456.0
tallbottom81,"Cancan or pundit would work great -- I think just having an admin_role column in ur user table will be enough, no need to overcomplicate ",1539069442.0
cmd-t,You forgot the planning time?,1538218580.0
Enumerable_any,"Threads share memory, processes don't share memory. I'm assuming ""worker"" means processes.

1. It's written across all threads, so you end up with two independent `@cached_books` instances (one per process).
2. Yes, but only for processes. The two processes share their memory after being forked, but once that memory diverges it's copied over. Since you're caching a constant(?) value it might be worth reading the JSON before forking in order to share more memory between your two processes.
3. If you get unlucky there is a chance of max 1GB (500MB per process) of data being allocated since you can handle at most 10 concurrent requests. However, the max memory consumed per process is 100MB since four of those five allocations will be garbage collected.",1538203994.0
cwitty1988,Basecamp uses something called tombstones which is like a stand-in for the user record and both use the parent people table (from my understanding),1538199004.0
,"Two words: Soft Deletion.  
[https://github.com/rubysherpas/paranoia](https://github.com/rubysherpas/paranoia)",1538194981.0
eddkerr,"You could create a DeletedUser class and when you delete the users record, you assign the child objects to an instance of it. ",1538186416.0
cguess,"Best guess here from your description is ""deleted user"" should be the default. What are you keeping the activity_logs for?",1538186495.0
lebigsquare,You need to specify on your user agreement that you‚Äôre storing the data for logging purposes only with a potential clean out every 6months.,1538217417.0
AndrewAtBrisaBoards,"Another option would be to have a deleted (or maybe just disabled) flag on the account. You can clear out GDPR data if necessary (such as e-mail).

With this method, you might need to be careful of edge cases. For example, you might want to show the user grayed out or something so it's clear they're no longer active. If there are interactions with users, you have to add additional code to make sure the user is active as well.

I think which is best depends on your app. I don't think there's a best answer. For GDPR, I don't know what's required of deleted accounts - or even if logging the name might violate it?",1538186356.0
Red_Rocket_,"Just through how rails works, the comments and posts wont be deleted unless you specifically tell the model to. This means that posts and comments will always be available, but wont be accessible through the Users model. If you wanted to fix that problem, you could create another model that only keeps track of comments and posts that have unattached users through a belongs_to association. Then, when a User is to be deleted, you use a [before_destroy](https://api.rubyonrails.org/classes/ActiveRecord/Callbacks.html) callback and tell all the posts and comments to be associated with the new DeletedUser model. Then when a comment or post has any DeletedUsers associated, you can have the UI reflect that. It's a little extra work all around but makes the site GDPR compliant.",1538188399.0
ProgramAllTheThings,"The professional approach to deletion is generally to do a soft delete (flag on the account). For many apps, you're actually going to be required to keep logs, including name and financial details, for a period of time, sometimes up to several years - GDPR be damned. If they paid you money, or you paid them, or you signed a contract with some other sort of compensation involved, do not delete or anonymize their data. The tax man will come after you, nobody's coming after you for the GDPR.

Regardless, GDPR allows you to anonymize the user name and other fields with pii in this case. That's what I would do.",1538228578.0
cmdrNacho,I'm having trouble following your post so i may not be answering correctly but just put the member information in hidden fields in the form post and grab the member information in the controller,1538148241.0
kobaltzz,"The quickest way would be to add an `attr_accessor :member_ids` or similar to your `Message` model. You can have this as a form hidden input in the form that will be submitted to the action of the `send_message`. Populate the hidden input with the list of ids. You could then access the ids of the members within the action via `params.dig(:message, :member_ids). ",1538150757.0
AndrewAtBrisaBoards,"I think a quick way to accomplish this would be to allow a member\_id field in your controller. In your form, you need a hidden field that links to a member id:

<input type=""hidden"" name=""member\_id"" value=""X"">

&#x200B;

Then in your controller, you can check for this variable and look up the associated member. You could denote a string like 'ALL' to send to all. The code would look something like:

if params\[:member\_id\] == 'ALL'

  @send\_to = Member.all

else  
  @send\_to = Array(Member.find(params\[:member\_id\]))

end

&#x200B;

Now you can use @send\_to.each to create the messages.",1538407512.0
waiting4op2deliver,Read the rails guides...  Why isn't it everyone's first instinct to read documentation? Especially quality documentation that countless people have toiled for.,1538144313.0
tinco,"The Rails Guides are still the way to go. Just read them all, bundled together they're like a book. Nothing significant changed in the past 10 years in Rails, there's just some new features, and some slight api changes, read the guides and you're good to go.",1538144822.0
denverghost97,The Hartl Rails Tutorial is solid. ,1538154723.0
acdesouza,"Agile Web Development with Rails.

You, probably, could go directly to depot creation.

https://pragprog.com/book/rails51/agile-web-development-with-rails-5-1",1538160864.0
faitswulff,"I'd consider looking at the change logs. Since you've been out of the game for a while, perhaps look for ""new in Rails X.XX"" blog posts to catch up from where you were.",1538139082.0
ramses-lopez,"\+1 Create your own application.

Pay special attention to the basics:

\- Routing 

\- When & how to use controllers / Models correctly

\- ActiveRecord

\- Maybe overall knowledge of callbacks & built-in validations

\- \*IMPORTANT\* When and How use associations (has\_many, has\_many through, has\_and\_belongs\_to\_many) !! you've no idea how many people blows up on this one

&#x200B;

My suggestion, try to model a Invoice that can have many items inside, with different prices and quantities. You must be able to change the price of an item in the invoice without altering other invoices... (actual interview problem :P)

&#x200B;

&#x200B;",1538158614.0
DanTheProgrammingMan,https://thoughtbot.com/upcase,1538171652.0
JohnTheScout,"Honestly, the sooner you just start building your own app, the better. Just start building, and when you get stuck read the rails guides for a relevant section. They're pretty good. The rails api documentation is also pretty good, if you know what you're looking for and just need to know how it works. ",1538174983.0
manys,"With those time constraints I would just dive into Hartl and skip the stuff you already know how to do. Other than that I think your plan is solid.

From v2 the big things are going to be strong parameters, 'where' syntax for (ActiveRecord) queries, and env/initializer changes. There are also ActionCable and ActiveJob which supplant some stuff that used to require special gems. 

That's what I remember right now, sitting on the toilet.",1538177113.0
freakytiki34,"Definitely going to recommend scanning through documentation. Not in depth, just skimming. That, and if you have a go-to app to build when you want to play with a new framework, build that in Rails 5.

Crap, I learned rails during the 4-5 transition, and I've only been out of it for a year. I _never_ worked with even 3, and that's _still_ ahead of where you left off. Still, you can't go wrong with skimming documentation and then building a thing. Maybe I should do that too.",1538185962.0
scs85,"I would go check out [gorails.com](https://gorails.com) Chris does a great job and there's a lot of useful tutorials on there, it's a great community as well.  $19/mo I believe is the membership fee.  There's some free videos in there too you can checkout as well.",1538136907.0
sac_boy,I would trust that the Timeout#timeout function works and just test that you are passing the appropriate value to it based on mode.,1538126663.0
myme,"In the code that calls this, allow to pass in a different strategy for the timeout, and set its default to the actual Timeout method:

    def self.foo(timeout: Timeout.public_method(:timeout))
      timeout.call(mode == :index ? 6 : 45) do
        ...
      end
    end

this way you can pass in a double when calling it in the spec:

    timeout = double(call: nil)
    described_class.foo(timeout: timeout)
    expect(timeout).to have_received(:call).with(6)

or if you need it to run the block, something like this:

    timeout = -> (threshold) { yield }",1538126993.0
dom_eden,"A request object is only available in an actual request - so you need to nest this domain variable into the relevant method/action in your controller. 

e.g. 

def create
domain = request.host_with_port
...
end",1538116816.0
internethostage,"Did you try this inside an action? (new, index, create, etc)",1538117034.0
noodlez,"Your ssh has two t flags.  I wouldn't be surprised if thats causing the issue, with the first empty one either using a null connection or some sort of default, though I've not tested it myself and I'm totally spitballing here.",1538081897.0
MathewManslaughter,"The error is referencing that the runner can't verify the ssh key of the server you are trying to connect to. Not the private key you supplied.

You need to add the host keys of the remote server to the ""~/.ssh/known_hosts"" file for the job to complete.

You can get these keys using the ""ssh-keyscan \<ip/url\>"" command. ",1538081594.0
Randy_Watson,[Maybe this is what you're looking for](http://www.blacktm.com/blog/ruby-on-webassembly#the-wasm-ruby-gem),1538075246.0
ActiveModel_Dirty,"I don't think there's anything that robust for Rails. I know there's this gem [https://github.com/blacktm/ruby-wasm](https://github.com/blacktm/ruby-wasm) for using WebAssembly with Rails, but to be honest I would not start a project with it. Just a little too early/not officially supported for me to have any faith in it.",1538075175.0
Trout_Tickler,"Query is kinda vague but if you want wasm in ruby there's [ruby-wasm](https://github.com/blacktm/ruby-wasm), if you want to write web apps using only ruby and no js there's [hyperstack](https://hyperstack.org/).",1538111017.0
anonyfool,On your local system or on a server?  On a server it's usually integrated with Apache or nginx and runs when the chosen server runs as a service on linux.  Don't recall using it locally on development even when production uses passenger.,1538067329.0
spinlock,"This is an operating system question not really a rails question.

Different flavors of unix start deamons in different ways. You've got systemv, sysd, upstart, etc... There are other tools you could run on top of your OS like monit or pm2.

If you don't want to get into any of that, Heroku uses a procfile to start processes: https://devcenter.heroku.com/articles/procfile

I would suggest trying Heroku first so you can spend your time writing ruby instead of dev-ops :)",1538075018.0
seainhd,"go into your application.html.erb file

<%= params.inspect if Rails.env.development? %> 

Same with you le ENVs or whatever you want to see.",1538016997.0
SminkyBazzA,"There's a Chrome extension called RailsPanel that might be able to help.

https://chrome.google.com/webstore/detail/railspanel/gjpfobpafnhjhbajcjgccbbdofdckggg

Params for sure, the rest you'll just need to write to the Rails logger and then it'll be visible here too.",1538033583.0
madebylotus,"Had no clue this existed, great find!",1538098663.0
your-pineapple-thief,"I've written custom formatter for rack and controller actions some time ago which changes request logging info to more readable format and also pretty-prints params hash at the end of each request, I could share it if you are interested. As for the flash, you could write some kind of after\_action filter for your application\_controller to pretty print flash contents to the log with my favorite method of all times, puts.",1540566023.0
modnar42,"Without knowing more about your application, it‚Äôs not clear how this would be advantageous. Generally that timeout is set based on qualitative standards of the user experience. Maybe you could monkey with it a little to give more users in the queue a chance, but you‚Äôll be sacrificing some percent of completed requests to do so. At least, I assume so or the default timeout would have been set lower to begin with. 

That said, I guess I have two questions

1) if you‚Äôre going to automate something based on queue depth, why not auto scale the application?

2) What problem motivated you to pursue this solution?",1538012233.0
CaptainKabob,"That's really weird, were you able to figure it out? 

I was curious and traced down how the list of previews are generated. It made me wonder whether you are doing anything weird odd with autoloading, or if you have a syntax error in one of your previewer files.

1. the controller that renders the list of previews: [https://github.com/rails/rails/blob/master/railties/lib/rails/mailers\_controller.rb#L15-L18](https://github.com/rails/rails/blob/master/railties/lib/rails/mailers_controller.rb#L15-L18)
2. The controller calls \`ActionMailer::Preview.all\` which is implemented here: [https://github.com/rails/rails/blob/master/actionmailer/lib/action\_mailer/preview.rb#L81-L84](https://github.com/rails/rails/blob/master/actionmailer/lib/action_mailer/preview.rb#L81-L84)
3. It manually requires all of the Preview files. [https://github.com/rails/rails/blob/master/actionmailer/lib/action\_mailer/preview.rb#L122-L126](https://github.com/rails/rails/blob/master/actionmailer/lib/action_mailer/preview.rb#L122-L126) 

&#x200B;",1538173346.0
genzume,"I believe you need to cache the files being pulled in during the bundle step. I don‚Äôt have a gitlab ci for rails but for my React project I have this in my config to cache the build step before I run tests.

    cache:  
      path:  
        - node_modules/

I forget exactly where ruby installs dependencies too. But a similar solution should work for you. Best of luck. ",1537989852.0
rraallvv,"This [answer](https://stackoverflow.com/a/36412321/1436359) did the trick.

What's needed to start Peatio in daemon mode is:

```
bundle exec passenger start -p PORT -d
```

... and to stop it:

```
bundle exec passenger stop -p PORT
```

The port number is not needed for port 3000 (default) in most cases.",1538066484.0
AndrewAtBrisaBoards,"1. Brisa Boards
2. Open source data organization and productivity app. For regular users, it's a place to write down notes/tasks/goals in labels, then expand those entries into kanbans, sheets, or whiteboards to organize and make progress.
3. Rails backend with postgresql (uses pgsql arrays and jsonb fields), VueJS frontend. Auto-generated Ruby/JS client libraries. There's also an IndexedDB ""backend"" so the app can be tested and UI developed without running a backend server.
4. [https://brisaboards.com](http://brisaboards.com) \- Demo on home page with the IDB backend so users can play around without personal info saved on the backend.
5. [https://github.com/BrisaBoards](https://github.com/BrisaBoards) with separate backend/frontend repos.
6. I've been programming for about 15 years, but more on the devops side than proper developer.
7. So much! Just posted in this sub about API auth/tokens. I definitely want to build a community around this app, find a direction, make the API useful for prototyping ideas, syncing data, and making in useful in more ways than just productivity! Also want to make super easy deploy options.

For developers, it's kind of a general purpose data organizer, where entries have classifications, which can be a new board type, an extension to the info in the entry, etc.

Would love feedback on the idea as a whole, ideas to improve it, etc.",1538009772.0
n8chz,"1. Anagram finder
2. Anagram finder
3. AJAX server written in straight-up Ruby (no rails or anything) CGI over Apache, Jquery script in page for sending and receiving requests from same.
4. https://astoundingteam.com/anagram/
5. https://gitlab.com/n8chz/anagram/tree/master/web-anagram
6. hoping to lose amateur status before I die
7. What is a good source of Ruby hosting?",1538093001.0
ViniStock,"1. Sail
2. A Rails engine to provide live settings for applications (feature flags, knobs, gauges and others). Currently, comes with the model and a control dashboard.
3. N/A
4. N/A
5. [https://github.com/vinistock/sail](https://github.com/vinistock/sail)
6. Programming for about 5 years. Around 3 years with Ruby on Rails.
7. I am looking for collaboration on expanding the types of settings supported and making the dashboard look more elegant. Suggestions and contributions are welcome!",1538227506.0
blackcomb-pc,mojave y/N?,1538998116.0
josh_c,"Complete noob here. 

I‚Äôm trying to get nested forms to work with cacoon. Does anyone here have experience with that? 

I don‚Äôt want to waste anyone‚Äôs time if not. I can post code specifics if anyone out there can and is willing to help. I‚Äôm completely stumped. 

Thank you!",1538777723.0
mhluska,"1. Cryptocoin\_payable
2. Enables any Rails model to have cryptocurrency payments
3. Ruby gem
4. [https://rubygems.org/gems/cryptocoin\_payable](https://rubygems.org/gems/cryptocoin_payable)
5. [https://github.com/Sailias/cryptocoin\_payable](https://github.com/Sailias/cryptocoin_payable)
6. Moderate
7. Forked from Bitcoin\_payable by Jon Salis",1539522523.0
icerpro,Nice! I‚Äôm just getting my final tests green now.,1537906983.0
Dudesivoro,"This guide seems cool, but a lot of sentences/text blocks don't make sense to me, anyone else or is just me?",1537933836.0
The_Grue,"One of the ways I have done it in the past is to have a timeout included in the JWT. The client software reads the JWT payload and constantly checks to see if the timeout is less than X amount of time remaining. If it is, a request is made using that same token to a refresh endpoint. The refresh endpoint reads the token and verifies the signature to ensure that it is valid, then will provide a new token with a new expiration.",1537899892.0
supertopher,"You could set no expiration, but keep a whitelist. Then only the tokens you decide are valid. That's what we ended up doing. We came to the conclusion JWT is some sort of four letter word, but haven't decided which yet. 

Here are a couple discussion over yonder that might be insightful:

[0] https://news.ycombinator.com/item?id=16517412

[1] https://news.ycombinator.com/item?id=17877332",1537929091.0
archlich,"What kind of data are you protecting? Oauth is used for apis. It was for Twitter the last time I checked.

If you‚Äôre doing system to system communication and you‚Äôre in charge of both endpoints I‚Äôd just go with a pki system and utilize client certificates to authenticate systems. ",1537934078.0
AndrewAtBrisaBoards,"The app itself is a kind of generic data store, meant for organizing data and productivity. The current code is on GitHub at [https://github.com/BrisaBoards/brisa-backend](https://github.com/BrisaBoards/brisa-backend) (there's also brisa-frontend for the Vue frontend).

&#x200B;

If the idea pans out, I think having an API will be useful both for automating adding entries, syncing data, and even generating or exporting the data.",1537897552.0
xxxmralbinoxxx,"Someone mentioned whitelisting tokens, but conversely, blacklisting tokens could be another option. ",1537932736.0
bralyan,"Not familiar with the browser, but rails has some restrictions by default on how it can be shown. Look up running rails in iframes, might give you someyhing to start with.",1537893930.0
eh_dang,No. This is my personal experience but my company found it to be convoluted and did not like the fact that we had to buy the book just to get information. We did end up buying the book which was also convoluted and heavy on bashing rails.,1537885159.0
ActiveModel_Dirty,"I like Nick, albeit he's kind of a nutjob, and I think there was a time where Trailblazer was probably more useful than it is now. I've found as certain design patterns and conventions have started becoming more and more prevalent, we have less need for a framework like Trailblazer.

For large rails apps I've used both service objects and engines as a means of isolating business logic and to me, services are a good route to take.

I think the thing that's appealing about Trailblazer is that it's a ""packaged"" design pattern that forces you to stick to it. Which can be appealing at some level and an easy way to get started, but ultimately there's nothing preventing you from just picking a different design pattern and sticking to it, which will result in more flexibility for you and newcomers down the road. 

After you do get started with Trailblazer, you're stuck with it. And there may come a time where you wish you would have just put in the time blaze your own trail.",1537891447.0
jdickey,"Over eight years experience in Ruby; a good five of that in Rails. Take that for what it's worth as you read the following.

Three years ago or so, I was really gung-ho on Trailblazer. I agree with a lot of what Nick says about Rails; yes, it's nicer now, but the basic architectural flaw *can't* be addressed in a Rails Way app, and it's built up a *ginormous* defensive reflex in the community to anybody who says the emperor might not be dressed as well as he thinks.

Having said that, I haven't poked at Trailblazer for well over two years. We're Rails-free at work now (we've been a Hanami shop for almost a year and *loving it*, but that's an aside). I've started a couple of side projects with modern Rails, and found myself making extensive use of the [dry-rb](https://dry-rb.org/) ecosystem, occasionally switching in [ActiveInteraction](https://github.com/AaronLasseigne/active_interaction) for simple services.

Rails is a *fantastic* way to organise the 3% of a project's total effort that involves creating the basic app and building out the first two or three features. Beyond that, every successful Rails app I've ever seen (in-house or otherwise) has built its own architecture layers on top of/in spite of Rails' MVC components. [Greenspun's Tenth Rule](https://en.wikipedia.org/wiki/Greenspun%27s_tenth_rule) applies here, too. Bob Martin's 2011 Ruby Midwest keynote, [_Architecture: The Lost Years_](https://youtu.be/WpkDN78P884) remains _disturbingly_ applicable to a ""pure Rails Way"" application.",1537934084.0
kulehandluke,I'm planning to give a small project a go with Hanami https://hanamirb.org/ for similar benefits - perhaps it's worth a look?,1537890848.0
wmjbyatt,"I like Trailblazer, but I find more portability and better team dynamics by just using Interactors and ditching the rest of the framework.",1537894432.0
Serializedrequests,"Well, any Rails app of any complexity needs architecture on top of Rails. That's a given. I found Trailblazer and jumped on it for a project, and it's been mostly an improvement, but it's not perfect.

**Good stuff:**

* **I love Operations for service objects**. Operations are a great service object pattern. You might consider **dry-rb** instead though.
* **Reform is great for form objects** (Every new version I hope that `include ActiveModel::Model` be good enough, and every time it isn't).
* The concepts directory is a nice way to organize a project.

**Bad stuff:**

* The loader will happily overwrite Rails objects with concept modules. I spent **weeks** tracking down a bug caused by this.
* The Operation API has numerous small gotchas and confusing aspects that you **will** smash your head into. Writing operations is not like writing normal Ruby classes.
* For some reason **Operations** **do not tell you which step failed. WTF.**
* Which keys operation steps store values in are poorly documented, and the result object is extremely difficult to inspect.
* Using the full Trailblazer architecture for CRUD takes forever. Don't do it unless you need to.
* The cells API has lots of gotchas. I gave up on it.
* Quality of maintenance is not as high as mainstream Rails code.
* Quality if documentation is not as high as mainstream Rails code.
* I'm not interested in diatribes, no one architecture can rule them all.
* Major bugs with **requiring** pieces of my concepts tree from other pieces. Almost every shared module I had to give some kind of a workaround name and directory so it wouldn't get overwritten by the Rails autoloader or god knows what.

**Cells:**

* Nice idea, clean. ActionView eventually creates a mess. In practice, it makes tiny edits horrendously time-consuming as you try to track down every include you need just to format a date, and you end up creating a BaseCell class with all your helpers and all the Rails helpers included anyway just so that you can do ANYTHING.
* haml/slim support is buggy, and cannot be used with ERB.",1537966440.0
faitswulff,`ERR_EMPTY_RESPONSE` looks like a Chrome thing - what do your server logs say? Can you recreate?,1537883277.0
AprilSpektra,">Customers are livid

Seems like an overreaction",1538087129.0
cmd-t,"Locally you mean? You could use pry and add a breakpoint in an initialiser:

```
class InstanceUser
 def create(*args, **kwargs)
   binding.pry
   super
  end
end
```

Then you could call `traceback` or something.",1537887854.0
ProgramAllTheThings,"I'm currently going through this right now. I used webpacker. It's been an interesting experiment, but I wouldn't recommend it. I will be separating it into a Rails API and a separate Node / React frontend.

Webpacker is just really fragile and it puts you into dependency hell. Rails ""supports"" modern frontends in name only, in my opinion; they don't *really* fit into the framework, and you end up with this unnatural coupling. It feels like you're building two separate apps anyway - you might as well make it true - each part will be easier to manage individually.

> Is using React (or any other front end framework) always the right choice for a Rails app? Or are there times where I should just stick to the default view templates and erb?

If you need an interactive front-end, use a frontend framework. Complex projects need frameworks, but simple apps don't necessarily need it. That said, frontend frameworks do seem designed to make growth easier. But a pure Rails app is way faster to get off the ground.

> How do I handle authentication with devise if I use React?

I'm not using devise, but my setup is pretty similar. You'll authenticate with calls to the api from the frontend; it's not really that difficult, Rails still provides its cookie magic.

> What are some common ""gotchas"" that I should know?

[CSRF tokens](https://blog.eq8.eu/article/rails-api-authentication-with-spa-csrf-tokens.html) - you should be passing those back with every request, basically.",1537842921.0
zenzen_wakarimasen,"I am currently using Rails and React with Webpack and works like a charm.

One of the main advantatges is that, as you have all the code together, you don't need to think about versioning the API.

Things to take into account:

- For authentication, I use the normal Devise views. Once the users get the cookie, `axios` will use it. I have an Axios interceptor that, when it detects a `401` response, reloads the page, so Devise takes over.

- CSRF token. You just need to configure Axios, so it adds it to the headers.

See this file: https://gist.github.com/6temes/e76d57765a42de5cbfee867753e967a9



> Is using React (or any other front end framework) always the right choice for a Rails app? Or are there times where I should just stick to the default view templates and erb?

React is not worth it unless you are building a consumer app with a lot of interactivity and you have good people doing front-end.

The app we are building, we have two sides. The user's side, and the agents side (internal). I really thing that we should have built the internal part using only Rails ERB. Our velocity would be much higher and we would have less bugs.

 
",1537850320.0
AndrewAtBrisaBoards,"I love Rails, but I really don't like the idea of tightly coupling 2 apps that are so separate. So I just build my frontends separately. If, for any reason, I decided to switch away from Rails, my frontend is ready for whatever framework I want.

&#x200B;

For the app I'm working on now, I'm using poi (I think this is more for Vue than React, but not 100% sure) and hacked an option to specify the API backend. It makes even more sense for me, because I built a fake backend using IndexedDB (all data is stored in the browser), so if I don't specify a backend URL, it defaults to idb.

&#x200B;

\*\*edit\*\*

And to answer some of your other questions:

&#x200B;

\- A frontend framework isn't necessarily always the best choice. For example, getting a site indexed with frontend frameworks is a PITA, and it adds quite a lot of complexity to new projects. But, obviously, there are a lot of benefits to having a SPA experience.

\- Looks like it's pretty easy to use devise with React: [https://medium.com/@iamjane/devise-with-react-webpacker-and-rails-dacbf9ae0233](https://medium.com/@iamjane/devise-with-react-webpacker-and-rails-dacbf9ae0233)

\- I've built a few apps where I just used cookies for auth. So the login page wasn't part of the SPA, and once they were logged in, I redirected to the SPA. I had to expose the authenticity\_token that Rails provides for non-GET requests and add it to backend API calls.",1537853345.0
jordanaustino,"Short answer, no there is no right way. I would likely look at using webpacker though, or I might consider just keeping them as separate apps in seperate although this requires more infrastructure setup, deploying your front end is pretty cheap and simple in comparison to the API. 

To your other questions:

Personally I lean towards front end frameworks as I prefer the seperation of front and backend concerns but that doesn't make it correct. Especially for lightweight apps using Rails views can make sense and lots of places successfully deploy production apps at scale this way. There are tradeoffs both ways you go.
 
For authentication IIRC this is one shortcoming with Devise. I've personally Ally used knock which requires some of your own custom building around for instance forgotten passwords and sign up, not ideal. There is also devise-jwt although I'm not particularly well versed in it.

Then one thing I can think of you might need to be concerned about is if you need SSR, Ive heard this can be done with react rails but I haven't done it personally and it sounds like it has some gotchas. Needing or for seeing  this might push me toward separate repos for back and front end (essentislly  node front end, and rails backend apps).",1537843663.0
chadcf,"> Is using React (or any other front end framework) always the right choice for a Rails app?

You will find varied opinions on this but I think everyone will agree it's not *always* the right choice. 

Personally, I think 90% of apps that use a JS frontend don't really need it. You can do a lot of responsiveness just with UJS and turbolinks in a rails app, and avoid many of the drawbacks of a js frontend. But there are many who will disagree.

As for how I personally would keep the frontend and backend completely separate. Makes things a little more complex but it makes it easier to swap things out down the road, have different people work on frontend vs backend, switch to the newest JS framework when everyone realizes what was hot 2 years ago is no longer hot, etc.",1537844670.0
jillian_sucks,"You could try this out. 

https://github.com/LaunchAcademy/make_it_so

I've used for side projects before, it's pretty nice.  Generates a react-rails app with webpacker and everything already set up.  It comes with devise already configured too.",1537845364.0
Ologn,I used graphql recently on a rails API backend for a React front. ,1537848946.0
demoloition,I can't offer a ton of advice just because I'm not an expert at this yet. I can tell you though that I would stay away from using react-rails and instead go the webpacker/Rails SPA method. That's what I'm doing now.,1537843238.0
_matthewd,">Is using React (or any other front end framework) always the right choice for a Rails app? Or are there times where I should just stick to the default view templates and erb?

The default is the default for a reason. If you want to use React, then using React is an excellent choice... absent that specific desire, the default setup works well for plenty of small and large applications.",1537844797.0
justAGuyFromBrooklyn,"If you want to tinker, check out graphQL.",1537848424.0
gregnavis,"I worked on projects that used both \`webpacker\` and a home-grown integration via \`webpack\`. Both approaches can work but I'd assume doing something non-standard with \`webpacker\` might require you to dig into the source code.

\> Is using React  (or any other front end framework) always the right choice for a Rails  app? Or are there times where I should just stick to the default view  templates and erb?

Technology choices are driven mostly by fashion and in the case of most SPAs I saw it was a bad architectural decision.

You need to start with a problem statement and work backwards towards a solution, not the other way round. If what you're trying to do is simpler to do with React + Rails then go for it. If ERB is simpler then that's your choice. Remember it's a spectrum and there's nothing preventing you from using React for a dozen of highly-interactive controls (Facebook started React when working on chat). I worked with developers who reasoned along the lines of ""One page has an interactive calendar component therefore I will convert the whole freaking app into using React"". Yeah, that makes sense.",1537863571.0
yuyuyuyu_,"Don't use devise, when you will change something. It's  too difficult when you custom it.

&#x200B;",1537867083.0
bulldog_in_the_dream,"> Is using React (or any other front end framework) always the right choice for a Rails app? Or are there times where I should just stick to the default view templates and erb?

Most of the time you don't need an SPA. You really only need it for very interactive UIs. With regards to responsiveness, Turbolinks with sprinkles of e.g. React takes you a long way. ",1537876954.0
alec-c4,"Check that articles - it may be helpful for you

https://evilmartians.com/chronicles/evil-front-part-1
https://evilmartians.com/chronicles/evil-front-part-2
https://evilmartians.com/chronicles/evil-front-part-3",1537878362.0
yuyuyuyu_,"Use **Rails API with a React Front End or only rails, depend on  something.**

If the project only you, otherwise the project must be frontend and  api, only select your love.

If in the team, depend on your team leader",1537868316.0
schwarzfahrer,"I think you're probably  looking for a feature called [review apps](https://docs.gitlab.com/ee/ci/review_apps/). These are especially useful when a single remote development environment doesn't suit you or your teams needs. I've never used those offered by Gitlab, but if they are anything like on Heroku, this will create a new environment for each branch you push up.

&#x200B;

Edit: if you want the ability to push \*any\* branch to your staging server whenever you want, you can bypass Gitlab entirely and use your deployment tool locally. I'd suggest writing some bash scripts to automate this so you can type nice commands without having to remember all the various options required.",1537841313.0
bootsmcfizzle,Just make it a CI bash task. Then the ‚Äòbutton‚Äô would be merging into master or a production branch. ,1537842322.0
faitswulff,"You can probably use `#ordinalize` to good effect here:

    arr = [123, 456, 678]
    arr.each_with_index.map {|item, index| Hash[item, index.ordinalize] }
    #=> [{123=>""0th""}, {456=>""1st""}, {678=>""2nd""}]

If you want the full word, that might take a bit more doing, though.",1537803234.0
losangelesvideoguy,"A lot of the answers here seem to be focusing on creating the list of words (first, second, third, etc.), but if you don‚Äôt have that many and you‚Äôre just trying to build them into an array of hashes, the straightforward way to do that is:

    arr.zip(%w(first second third)).map{ |x| Hash[x] }

This takes your array `arr`, turns it into an array of two element sub-arrays, and then converts each sub-array into a hash.",1537824213.0
442401,"Gem [numbers_and_words] (https://github.com/kslazarev/numbers_and_words) will convert integers into ordinal numbers.

With that, you can do:

    require 'numbers_and_words'
    array = [123, 456, 678]
    array.map.with_index { |x, i| { x => (i + 1).to_words(ordinal: true) } }
    => [{123=>""first""}, {456=>""second""}, {678=>""third""}]

",1537805496.0
OldManInternetz,"This solution requires the ""twitter_cldr"" gem, but should do the trick: 

    require ""twitter_cldr""
    arr = [123, 456, 678]
    arr.each_with_index.map{ |n, i| {n => (i+1).localize(:en).to_rbnf_s(""SpelloutRules"", ""spellout-ordinal"")} }

The result is `[{123=>""first""}, {456=>""second""}, {678=>""third""}]`.

If you don't want to use twitter_cldr (it's a fairly large package to download for such a small problem), you can probably define a function to return a word based on `i` instead. Less elegant though!",1537803029.0
nameless_cl,"    require 'ordinalize'
    arr = [123,456,678]
    arr.map.with_index(1){|x,y| Hash[x, y.ordinalize] }
    
    [{123=>""first""}, {456=>""second""}, {678=>""third""}]",1538216240.0
,[deleted],1537802783.0
GroceryBagHead,Rockstars don't work for equity. ,1537795475.0
SkyPuncher,"Oh great...let me add this to my list of ""the next big thing, but we can't pay you"".

Here are some thoughts:

1. You come across as a giant ass in this post. ""Legit web app"", ""Rockstar"", ""someone awesome to jump in"", ""the chops and bandwidth"", and ""ONE super qualified person""...lol

2. You and every other person in the world believes they have a ""defined target market and all of the pieces for huge success"".  The latter is a bit ironic since you're clearly missing a ""bandwidth"" component for completing this job. Unless you have contracts with a client and are literally waiting for X, Y, or Z to be finished to go live, you essentially have nothing meaningful.

3. The fact that you already have devs on the team who are unwilling/unable to commit to finishing this project is a pretty serious red flag.
",1537797734.0
oztrax,"Just a thought.....but you and your partners keeping your day jobs doesn't fully communicate that you  believe your idea will work. It may be easier to find another equity partner (and investors, if you go down that road at some point) when you demonstrate that you are really, truly ""all in"". :)",1537796448.0
boonestock,http://whartoniteseekscodemonkey-blog.tumblr.com/,1537795861.0
TODO_getLife,If you have all jobs then you can all get money to pay for someone. Nobody works for free.,1537805416.0
brentbasham,"Also to clarify, it‚Äôs B2C so the contract point is a moot point.",1537798006.0
brentbasham,We don‚Äôt want to take any seed capital and would prefer to comp a new dev (if it works out) with ongoing potential income. I realize there are no guarantees and fully expect a discussion before connecting. If no match is made no harm done.,1537795883.0
SnarkyNinja,"First piece of advice is to extract what appears to be a fairly complicated piece of logic out of your model and into a dedicated query object. You can then write tests for the query itself in isolation from your actual models. Here's a quick-start.

    # app/queries/conflicting_events_query.rb

    class ConflictingEventsQuery < ApplicationQuery
      def initialize(user, event)
        @user = user
        @event = event
      end

      def relation
        user.events.where(call: conflicting_time_range).or(user.events.where(end: conflicting_time_range))
      end

      def data
        relation.to_a
      end

      private

      attr_reader :user, :event

      def conflicting_time_range
        event.call..event.end
      end
    end

Also worth mentioning, I didn't try to unpack the logic in your `conflicting_events` method, but it is _far_ too complicated for a single method. You should consider including [rubocop](https://github.com/rubocop-hq/rubocop) in your workflow, as it'll warn you about this and other style/maintainability issues ahead of time.",1537755852.0
jemminger,"Does it matter that your 'call' date is after your 'end' date?
",1537744720.0
bralyan,"https://stackoverflow.com/questions/40987545/search-a-series-of-date-time-entries/40993033#40993033

is in SQL, but should help.

There are also gems for this - https://github.com/tandusrl/acts_as_bookable",1537746160.0
spamburglar,"First bit of advice is I wouldn't have the column named `end` on your `Event` model. `end` is a reserved word in Ruby as I am sure you know. Better to use the convention of attributes that end in `_at` for `Time` and `_on` for Date. So in this case you could go with `end_at`.

As to your specific issue. I think you are making it more complex than it needs to be. Since we know the time frame of the event we are checking, we only need to know one of two things: if an event call time or end time in that event's time frame. So you can do two queries that will check those two things with `Event.where(call: time_frame).or(Event.where(end: time_frame))`

However, looking further at your model it looks like you are storing the date separately and then the `call`, `start`, and `end` with some weird date from the year 2000, so not really sure what's going on there.",1537764890.0
cmd-t,It seems you have the relationships set up backwards. Wouldn‚Äôt a Competition belong_to a Game? Can a Game have multiple competitions or would it be the other way around?,1537726301.0
in0pinatus,"u/cmd-t suggested swapping the 1:1 around, which is probably the wisest solution since it does away with needing nested attributes at all.

However, if you can't change the schema, one way to do this is write your own receiver of the nested attributes setter message to ensure the game association is set first, i.e. maybe something like

    class Competition
      def game_attributes=(attributes)
        if !game.present? && attributes[""id""].present?
          game = Game.find(attributes[""id""])
        end
        super
      end
      # ...

(totally untried & untested code, I just want to give you the idea).
",1537753601.0
bobbyfloss,I started using pry-remote https://github.com/Mon-Ouie/pry-remote works well with foreman and docker,1537718638.0
Trout_Tickler,"I actually wrote a vscode plugin called [mux](https://marketplace.visualstudio.com/items?itemName=elken.mux#overview) to do something similar.

Using a simple JSON schema like:  


    {  
      ""windows"": [  
        {  
          ""title"": ""yarn"",  
          ""command"": ""zsh"",  
          ""panes"": [  
            {  
              ""isHorizontal"": false,  
              ""command"": ""yarn start""  
            },  
            {  
              ""isHorizontal"": true,  
              ""command"": ""yarn test""  
            }  
          ]  
        },  
        {  
          ""title"": ""API test"",  
          ""command"": ""zsh""  
        }  
      ]  
    }  

You get [this](https://raw.githubusercontent.com/elken/mux/master/.github/muxOutput.png). Haven't worked on it in ages (been meaning to) so there's bound to be bugs.",1537713992.0
olbrich,Reminds me of this built-in feature of iTerm2 ([https://blog.andrewray.me/how-to-create-custom-iterm2-window-arrangments/](https://blog.andrewray.me/how-to-create-custom-iterm2-window-arrangments/)). ,1537714597.0
phillnom,I use [tmux](https://github.com/tmux/tmux) \+ [tmuxinator](https://github.com/tmuxinator/tmuxinator) to handle this sort of thing.,1537721448.0
,[deleted],1537723317.0
icerpro,"Invoker is super easy to configure and set up. You can run processes and rails servers, and it includes local domain shortcuts for the servers that you start up (`http://myapp.test`). 
An invoker.ini can be set up on a project or global basis. 

https://github.com/code-mancers/invoker",1537732583.0
dreamer_soul,I do that by hand and just leave the terminal on till the next restart,1537713059.0
valadil,"Not my cup of tea, but one of my buddies wrote this: https://rubygems.org/gems/threeman/versions/0.2.1. It uses the same procfile as foreman, but launches each worker in a separate intern tab. ",1537713251.0
elite_killerX,"FYI, you absolutely can use the mouse with tmux. Source: been doing it for over 2 years...",1537794315.0
StuartGibson,"At this stage, I‚Äôve stopped relying on system Ruby and gems for any development and instead run everything in Docker containers, isolating all dependencies and giving you a consistent environment. ",1537649665.0
eyesofsaturn,It makes little to no difference.,1537673176.0
ylluminate,Been using Mojave great with Rails + RVM with most recent drop of Xcode. No problems at all. Various IDEs work great too.,1537655985.0
kmossco,"The editor/IDE you will use shouldn't be affected by the Ruby/Rails version you have installed. With that in mind, I recommend installing it whenever you need it and ignore the new MacOS release. Think it like this: weekend is here, do you want to spend some weekend time playing around with Rails? If so then install it. If you want to do it during the week, then just wait for the new MacOS.

Note that new MacOS versions tend to be a bit broken at the start, so expect some casual annoyances. But should be fixed within the first few patches. They shouldn't interfere with your Rails install though, never had that happening to me. And I personally recommend using Rbenv, but don't focus too much on which is better. Between all the version managers out there, just try the one you understand the docs and the API the better at first glance. If you reach a point you outgrow your version manager, then you will be able to use your newfound knowledge in Rails and your system to make a more educated choice.",1537664729.0
witchofiza,"It shouldn‚Äôt matter. I wouldn‚Äôt worry about it but like others pointed out, enjoy the weekend and install later but if you‚Äôre itching to get going you shouldn‚Äôt have issues. ",1537674613.0
toobulkeh,"forget RBENV, RVM, and CHRUBY.

Go with asdf.",1537672353.0
Serializedrequests,"No, install away, just use rbenv or rvm to install a ruby of your choice to your home folder, install rails, done.

MAYBE rebuild Ruby after updating your OS.

Do NOT use the system Ruby or Gem command.",1537822435.0
TODO_getLife,"Do it now. I would also wait for a few weeks after the Mojave release at least before installing it, it always breaks something.

 Use whatever IDE you want but make sure you install ruby via rbenv or rvm.",1537647912.0
justalever,Docker is definitely the best path but it's a little complicated to set up. If you can't figure that out you could get away will installing locally. I'm not sure what's really changing with Mojave but I bet you'll be fine. I have a video/playlist dedicated to Ruby on Rails if you have interest. https://YouTube.com/c/webcrunch ,1537673185.0
allcentury,when you create a new message I don't see where you assign or let the user assign the receiver. ,1537641680.0
intentions_are_high,This isn‚Äôt directly related to your the question but you should consider a ‚ÄúConversation‚Äù model that has many messages and belongs to the two users. That‚Äôs typically how we‚Äôve set them up in the past. ,1537644904.0
AndrewAtBrisaBoards,"Did you solve this?

&#x200B;

The code is a bit messy, but I can think of a couple things:

&#x200B;

1. In your send message form, you should have a hidden field for receiver\_id (note: recipient sounds better).
2. In your controller, you can use @message.receiver\_id = params\[:receiver\_id\]. It's a little more railsy to use @recipient = User.find(params\[:receiver\_id\]); @message.receiver = @receiver
3. I don't think you need the foreign\_key in your belongs\_to :receiver.

If all else fails, use rails console to try some things manually. eg x = [Message.new](https://Message.new); x.receiver = User.find(some\_id); ...; [x.save](https://x.save)!. In your controller, you can log some info as well: [logger.info](https://logger.info)(""New message:  Receiver #{receiver} #{message} ..."")",1537855205.0
Serializedrequests,"""belongs_to : receiver"" should not be optional if it is required. That would tell you right away that the ID isn't getting through when it fails to save. For an added bonus, make the database column ""not null"".

Then you have to see where you think it is coming from and work backwards to your form and review the logs to see what params are actually being sent.",1538063554.0
davidnquach,"I don't think anyone has answered your question correctly yet but I believe you are using `expect.to receive` incorrectly. You should be calling `expect.to receive` before you call the controller method. Expect to receive will set a watcher on the method and then when you call the controller method which calls the method you're expecting it will recognize that the method is called.

Ref: https://relishapp.com/rspec/rspec-mocks/docs/basics/expecting-messages",1537566223.0
headykain,"You'd be better off asserting on the expected result instead of whether a specific method was called. Test the output instead of the implementation. In your case it seems you want to know that a field on a model was updated after the user hits the index page.

`expect { get :index }.to change { model.last_used_at }`",1537564759.0
jaryl,"I think you want to use an instance variable for thing, so with the @ sign in front, and use that instance.",1537564770.0
hmaddocks,This is a fairly common problem with testing `expect to receive`. Think about what is `thing` in the context of your test? Is the `thing` in your test the EXACT same object as the one in the before action? The `find` will create a NEW object.,1537564842.0
manys,"does rspec have anything like TU/minitest's [assert_difference](https://apidock.com/rails/ActiveSupport/Testing/Assertions/assert_difference)? You just want to know if it changes at all, right?",1537594147.0
daddyfatknuckles,"you can set it up to do `organization.users` with either a `has_many :users, through: :apartments` or just a method like `apartments.flat_map(:users)` on the Organization model",1537542849.0
dothefandango,"`User` has `Organization` through `Apartment`

`belongs_to :organization, through: :apartment`

I believe that's the right syntax. If all goes according to plan, then you can call `user.organization` and retrieve the Organization object that comes back. SO then in the User model you would write a method like 

    def forOrg(org)
       User.where(organization: org)
    end

And then finally, to get that array of Users in the controller, you would do `User.forOrg(:organization)` with `:organization` being the org that you're looking to find all the users in

I'm not sure if that's 100% right because I'm a little foggy right now but it's definitely close. If a user can belong to multiple apartments/organizations, then this is all set up wrong",1537539923.0
ThorOdinsonThundrGod,If you type `rails -v` into your console what do you get? you might not have rails installed if that's what you're getting,1537539886.0
kobaltzz,"Just a thought, how are you trying to run the application? Are you just doing `ruby application_controller.rb` or hitting a run button within your editor? If that is the case, then I can see `application_controller.rb:1:in `<main>': uninitialized constant ActionController (NameError)` being the proper error.

With a Rails application (and like any framework), there is so much that goes on behind the scene. You cannot simply execute a single file like this since there are so many dependencies. Within your terminal and at the root of the application, try running the application with `rails server`. This will launch an instance  of the application which you could then visit `http://localhost:3000` to view the website.

If you are using a remote editor like C9, then you may need to use something like `ngrok` to open up a portal to the application to view it in a separate browser tab remotely.",1537540009.0
kobaltzz,"Hello, not sure what went wrong with your app.

However, I created a fresh rails app (commit 'base') and I added in the `hello` method and the route. Launching the app `rails server` and navigating to `localhost:3000` works without any issues.

You can check out the repo and the commits to see if that helps.

https://github.com/kobaltz/hello_world",1537539396.0
nefarius13,"https://stackoverflow.com/questions/35924108/uninitialized-constant-actioncontroller-nameerror

I'm not sure if you've googled your error. But it looks like this is similar to what you're facing. Try that if you haven't already. ",1537563855.0
davenit,try running with `rails server -b $IP -p $PORT`,1537550799.0
BaconGlock,"I think i had this recently with a local install. I created a folder in my typ dropbox/repositories/appname and then navigated to it in terminal and did a ""rails new appname"" and then went to run ""rails server"" i was getting this kind of stuff. The thing was that rails created an appname folder inside of my appname folder (dropbox/repositories/appname/appname) and i hadn't gone into the new appname folder yet. When i realized this i just deleted the top appname folder and went back to dropbox/repositories and did the rails new appname there. This got me what i wanted.

So...make sure you have entered the new folder that ""rails new appname"" creates before you trying running ""rails server"" or ""rails generate anything"". Hope this helps. #noobshelpingnoobs",1537570321.0
icerpro,"Yes, what‚Äôs the question? üòÉ
Think about what happens when you do implement v2 endpoints. You could break any integrations using your undefined v2-v1 endpoints. 

Can you use the v2 endpoints where available? 
Or can you finish implementing the v2 endpoints?
",1537534367.0
piratebroadcast,"Since routes work from the top down, could you try to have it hit version_1 first, then if not there, hit the next version_2 routes lower on the page? This is an interesting question and looking forward to the eventual solution.",1537535637.0
ProgramAllTheThings,"I would do the following:

1) Don't link to v2 routes when they don't exist in the first place, thus avoiding having to muck about with the routes.

2) If for some reason I wanted to do extra work, direct the routes to the controller explicitly, like

    get ""/version_2/users/:id"", to: ""version_1_users#show""

Edit: you can probably wrap all the v2 to v1 routes in a scope or namespace depending on your setup.",1537537845.0
davenit,"I know the question is how to implement, but I would think it's probably best just to return a message to the user that this endpoint doesn't exist and you should use the other versioned endpoint.

If you want to make this happen, you should probably create a before\_action User.find(params\[:id\]) method in the version\_2 controller and if not found, 301 redirect to version\_1 controller -> redirect\_to users\_path(id:params\[:id\]).

Hope that helps!",1537553349.0
Hazz3r,"I'm not massively familiar with React but I'm aware of two ways to implement it with Rails.

&#x200B;

The way you're describing is two separate apps. A React Front End App, that just serves a React App, and interacts with a Rails API App.

&#x200B;

Or,

&#x200B;

You can have a Rails Web App that serves barebones views, or views with sections intended for React App elements, and then mount your components in your views. There are multiple gems that aim to solve the problem of getting React components into your Rails app:

&#x200B;

[https://github.com/shakacode/react\_on\_rails](https://github.com/shakacode/react_on_rails)

[https://github.com/reactjs/react-rails](https://github.com/reactjs/react-rails)",1537483868.0
aarkerio,"I do it this way:

https://github.com/aarkerio/schnellentest/tree/master/lib/frontend/react ",1537503899.0
arjunrp,"Please check this: https://twitter.com/arju_rp/status/1023059607487307777?s=19

Might be useful for you.",1537507921.0
imsinghaniya,"Is it using react-rails gem?
It was the best thing to do sometimes back.

If it's a newer app it may be using react via webpacker.",1537527952.0
noodlez,"This isn't a rails and JS question.  This is a JS and mapbox question.  

If the data coming back from the $.ajax call is the data you want to be seeing in the popup, the issue is that you're not interfacing with the Mapbox API correctly and that doesn't really have anything to do with Rails.",1537473982.0
LeastProfessional,"Are you referring to wanting infowindows? So when you click the marker, it will show an infowindow with rails information that has been passed in?",1537518027.0
jbernardo95,"[https://rubygems.org/gems/need\_for\_type](https://rubygems.org/gems/need_for_type)

&#x200B;

A little terminal type racer to help you improve your typing skills.",1537450797.0
aarkerio,"I recently found Hamster:

https://github.com/hamstergem/hamster

Very cool gem indeed. ",1537899777.0
shinyl2,"[https://github.com/grodowski/undercover](https://github.com/grodowski/undercover)  


Got it from Ruby weekly a while ago:

>**Inspects files in a git diff and warns on methods, classes and blocks which need test coverage.** Use it locally or as part of an automated build to shorten your code coverage feedback loop!

&#x200B;",1538054661.0
rylanb,"I think you need to add `config.include Devise::Test::ControllerHelpers, type: :controller` to your RSpec config.

I have `spec/support/devise.rb` with

    RSpec.configure do |config|
      config.include Devise::Test::ControllerHelpers, type: :controller
    end
        ",1537369347.0
iammirv,My question would be have the tests ever worked before with \`current\_user\`?,1537378690.0
ProgramAllTheThings,"Post the relevant test code for your controller?

Did the tests ever work? I wouldn't think the application helper code would be accessible in tests, you probably have to include it with config.include ApplicationHelper in your spec_helper.

I have a Rails 5 project, and I'm using the following in my controller tests to handle authentication: 

      before(:each) do
        @user = create(:user) # creating user with factory_bot
      end
      
      let(:valid_session) { 
        {
          user_id: @user.id
        }
      }
    
Then the requests look like:

    get :index, params: {}, session: valid_session",1537381932.0
AmSpaceRabbit,"Not possible, sadly. There‚Äôs a discussion about it at https://github.com/rails/rails/issues/32790",1537362506.0
Swarmcloak,As far as I know there isnt a way to do this right now. ,1537362183.0
typpex,Whats are the pros and cons of Shrine vs Carrierwave?,1537416026.0
OlNav,"Try using Paperclip gem from thoughtbot you can specify a folder to upload to.

Like /avatars/upload_digest377599382737474.jpg",1537368595.0
rvaen,I haven't used activestorage with AWS but if it works like disk you add the desired path in the storage.yml file in config. Probably as path after your bucket name. I would assume default is in the root dir.,1537362139.0
toadkicker,"You can use the `as` keyword to define your path name as you like ([doc](https://guides.rubyonrails.org/routing.html#using-as-in-nested-resources)):
    
    resources :projects do
        member do
          namespace :users, as: 'project_users' do
            resources :questions, only: [:index]
          end
        end
      end

results in:
    
      project_users_questions GET    /projects/:id/users/questions(.:format)                                                  users/questions#index
                     projects GET    /projects(.:format)                                                                      projects#index
                              POST   /projects(.:format)                                                                      projects#create
                      project GET    /projects/:id(.:format)                                                                  projects#show
                              PATCH  /projects/:id(.:format)                                                                  projects#update
                              PUT    /projects/:id(.:format)                                                                  projects#update
                              DELETE /projects/:id(.:format)                                                                  projects#destroy
    ",1537343498.0
iammirv,"**Short version:**

Your troubles are happening because you are nesting your user routes in your project routes and this is almost always a bad design as it doesn't reveal the intention of your website/application design

**Long version:**

You should mostly keep your routes as reflections of your database design to make it easy to work with ...

Users do not always belong to a certain project, they might work on more than one project & nesting your user resource inside your project resource is going to cause you to write a lot of extra code to overcome that poor decision.

You should instead setup users & projects as their own resources and then route from there.

This stackoverflow question shows how to have a resource belong to multiple other resources in rails & very relevant to what you are trying to do ... [https://stackoverflow.com/questions/18664332/add-a-common-route-for-multiple-resources](https://stackoverflow.com/questions/18664332/add-a-common-route-for-multiple-resources)",1537363344.0
coderhulk,Have you had a look at Pundit?,1537310857.0
DeltoidSchizachyrium,"This might be helpful, or rather not, but I‚Äòd advise to always ask the object you are trying to perform an action on if that action is permissible.

I.e. I really think that destroyable? method belongs to the model, such as any other validation logic... Maybe simply try the other way round: Car#destroyable_by?(user)    ?

That said, pundit IS a good gem and could provide a solution",1537336360.0
DeltoidSchizachyrium,"Two other things just came into my mind, sorry ...

1. this could be a case where [Double Dispatch](https://en.wikipedia.org/wiki/Double_dispatch) could make sense, though that introduces some tight coupling
2. as Avdi Grimm would put it, if you have some eligibility logic that seems to fit neither domain model, chances are you are missing one in between, e.g. a Rule object that [mediates](https://en.wikipedia.org/wiki/Mediator_pattern) between the two classes. Check [this free Rubytapas](https://www.rubytapas.com/2018/07/03/rule-object/) episode.",1537339680.0
prozaker,"Someone suggested pundit which it could help you solve the issue.

Another option could be to use form objects. 

Instead of passing a Car you pass in a CarForm. 
",1537319149.0
jaryl,"Pundit should be used for authorisation only, depending on how strictly you want to do so. Also, it depends on how complicated the logic is for checking if the car is destroyable. If your app grows, you probably don‚Äôt want such model specific logic to be in your pundit policies. 

Use a form object. Include active model valuations so that you can easily represent errors in the front end. You can have one custom validation to check if the user can perform the action and another to check if the car can be destroyed. 

I‚Äôd throw in a form object almost right away when it involves logic between more than one active record model, unless it‚Äôs just nested attributes.

Also, you can move the logic to check if the car can be destroyed to the form object. Chances are, this piece of logic won‚Äôt be used by any other parts of the app and putting it in the model contributes to the fat model problem over time, increasing cognitive load when reading the models, which are effectively global. ",1537323829.0
Oecist,"Easiest way to do that is to put a hidden field on the form with the receiver_id in it. As long as it's part of the form, it should become part of the message_params sent to the create action. Bam.",1537302621.0
jemminger,"Your form needs to specify the receiver_id in your form, e.g.

    <%= f.hidden_field :receiver_id, @the_other_user.id %>

",1537323515.0
deedubaya,"You'll probably want to implement SAML with 

https://github.com/onelogin/ruby-saml

SAML integrations are not trivial. Godspeed.
https://developer.okta.com/standards/SAML/

",1537296939.0
lindsayb610,Hi! Might this help? https://developer.okta.com/blog/2018/09/18/simple-authentication-with-rails-and-omniauth (I work at Okta!),1537821664.0
iammirv,Never heard of it - but are you in the ruby on rails slack channel too?,1537291530.0
slendermann29,"not sure if helping, but i would implement a service to call the endpoints that i would need using [this](https://developer.okta.com/code/rest/) docs or browse the source code(starting with tests) of [this](https://github.com/Shopify/oktakit) gem to see wether it is enough to get the job done",1537297469.0
rubyross,"Hey check out this blog post:

https://blog.cloud66.com/adding-sso-to-your-rails-application-with-saml/

It describes how to implement SAML with devise.  The SAML integration example is even with OKTA.  I have done this and its not as hard as people make it out to be.",1537312125.0
timlawrenz,We were fairly successful with SAML and devise. There is a gem that adds SAML capabilities to devise.,1537313925.0
appothecary,I‚Äôd love to see something like Passenger written in Crystal. I know it‚Äôs probably not ready for prime time though. ,1537325975.0
CollectiveOfCells,"I suggest you also take a look at Julia ([https://julialang.org](https://julialang.org)).  


A comparison: [http://jpfairbanks.net/2017/07/17/golang-and-julia-frenemies/](http://jpfairbanks.net/2017/07/17/golang-and-julia-frenemies/)

&#x200B;",1537303305.0
dark-panda,"I would absolutely drop support for all three for future versions. If there‚Äôs a need for back ports or LTS on those ancient software versions, perhaps someone else will step in and provide it, not unlike with Rails 3 and older versions and RailsLTS. ",1537291752.0
lostapathy,"Please do.  We as a community are too nice about supporting users who run on otherwise unsupported platforms, and I think it‚Äôs a nontrivial drag on the ruby ecosystem at this point.",1537301921.0
bramley,"Without knowing anything else about your setup, my advice would be: don't. Controllers aren't supposed to be called from anywhere that isn't handling a web request. If you have functionality in one that needs to be used in another, your functionality is living in the wrong place.",1537287471.0
pikopuyo,"Like others have said, any solution depends on your use case, but one possibility is to use the session. It is commonly used to store things like user id because it will be retrieved for every request of the same client and is encrypted, so users shouldn't be able to manipulate it.


You can use it in your controllers like a hash: store with `session[:something] = value` in the first controller, then `session[:something]` in the second controller will return you the value. The actual place where the data will be stored depends on your configuration, but I believe that the default is an encrypted cookie.


More details here: https://guides.rubyonrails.org/security.html#sessions",1537290305.0
joshoheman,"I'll re-iterate /u/bramley's comment.

In case you have a valid need for this, there are scenarios where this makes sense, I would suggest you consider using the user's session. This article '[How Rails Sessions Work](https://www.justinweiss.com/articles/how-rails-sessions-work/)' covers the concerns that you'll need to be aware of.",1537288040.0
JsonScott,"What‚Äôs the use case? 
Sounds like you should be creating a service that both controllers can call. ",1537285895.0
world_on_wheels,"I had a similar case. Ended up with params in the url, just encrypted them with https://api.rubyonrails.org/v5.2.1/classes/ActiveSupport/MessageEncryptor.html

Alternatively, you could use session or even DB, depends on your use-case.",1537289799.0
MynameisB,"Figured it out: I made the mistake of thinking that a loaded Word document would have multiple templates and tried accessing it by Templates, but the template must be accessed by the ActiveTemplate method.


    require 'win32ole'

    document = word.Documents.Open('path\to\file.docx')
    tmpl = document.AttachedTemplate
    tmpl.AutoTextEntries.each { |ate| puts ate.name + "" | "" + ate.value }

    ",1537307149.0
Hell_Rok,"For an `AND` query I think you want something like this:

    scope = Activity.includes(:tags)
    tags_to_match.each do |tag|
      scope = scope.where(tags: tag)
    end

But if you want activities that have *any* of the tags you can just do:

    Activity.includes(:tags).where(tags: tags_to_match)

&#x200B;",1537245545.0
ALTopedia-Jake,"Okay, this post may have slipped off the radar, but for posterity, here's how I ended up addressing this issue.

After digging around a little more, it looks like what I was looking for was an SQL INTERSECT query. Unfortunately this type of query isn't implemented in ActiveRecord. So I had to build the query myself, using the following StackOverflow posts as a guide:

https://stackoverflow.com/a/33558154
https://stackoverflow.com/a/11299725

    def self.find_with_all_tags(search_tags)
          intersect_query = """"
          search_tags.each_with_index do |tag_id, i|
            return nil unless tag_id.is_a? Integer # will this actually thwart any sort of injection attack?
            intersect_query += ""SELECT activity_id FROM taggings WHERE tag_id = ?""
            intersect_query += "" INTERSECT "" if i != search_tags.length - 1
          end
        activity_array = []
        Tagging.find_by_sql([intersect_query, *search_tags]).each do |tagging|
          activity_array << tagging.activity
        end
    activity_array
    end

I'm sure there's a lot lacking in my knowledge of Ruby or SQL, but I'm able to build an SQL query that does a proper AND query with the tags. The query could get out of hand if too many tags are specified, but at present I don't anticipate more than about 150 or 200 on the live site.

I wonder why ActiveRecord doesn't support INTERSECT queries. Is it considered poor data modeling to rely on them? Are they fairly obscure as far as SQL goes? I don't know much about NoSQL databases, but is this a sort of query that would work better with them?",1537681268.0
some_guy_over_here,What's the error? ,1537225784.0
mr_patsy,"Is it an xcode error? Run that line ""gem install nokogiri -v '1.8.2'"" then post the error that is spits out.",1537228589.0
daddyfatknuckles,i hope the formatting only looks this bad on mobile ,1537240940.0
cmd-t,Sounds like you didn‚Äôt properly set up your job queue in development. The default setting is to run job immediately. ,1537244690.0
Code4Greatness,It could be a file permissions issue. I'm going to check tomorrow. I saw in my server log that active_storage couldn't access certain files in my temp folder.,1537318945.0
Randy_Watson,"[Maybe this will help](https://jtway.co/5-steps-to-add-remote-modals-to-your-rails-app-8c21213b4d0c)

If you provide more information and some code, I can help more.",1537207527.0
cmd-t,"What do you mean with ‚Äòa modal‚Äô. A form can‚Äôt be within certain elements, but HTML doesn‚Äôt have a modal element. Are you using a div? Some kind of framework? What the code for the form (roughly) and how is the modal generated?",1537209604.0
Mallanaga,Nope. Not possible.,1537213569.0
ActiveModel_Dirty,"You're going to need all of it at one point or another, so no time lost. If you just learn more rails you'll learn more about each of those things anyway so might as well do that.",1537204417.0
Serializedrequests,"I found it difficult to start on Rails when I had a similar experience level. The issue is that Rails is very ""implicit"". You put files named certain things in a certain place and framework does all this stuff behind the scenes. You never have to write a ""require"" statement, and there is also a large amount of metaprogramming, which I found highly confusing as a newbie to both Ruby *and* Rails. For some reason many tutorials think scaffolding is a great feature to start with. It is not and you should avoid it; you will learn *nothing* about the framework from it. It is primarily a power tool for pros to get off the ground quickly.

Which is all to say, you might prefer to learn a more ""explicit"" framework first. If you want to stay in Ruby, try Sinatra first. It is very explicit. You have to ""require"" everything you want to use, and it will be a lot easier to understand what is going on, but harder to make something complex.

I actually got started on Django in Python. I really appreciated its high level of explicitness. Everything you want to use has to be required, but it has Rails-level functionality.",1537225672.0
sylvezine,"Learning some essential Ruby on Rails would be good for you. At least to dip your toe in and see if you like it. Else, if you‚Äôre into front end, going deep on Node and a JS stack would be good. 

Check out this guide I put together on Github: 
https://github.com/heyspacetime/awesome-rails-education

Good beginner material there. It‚Äôs what I went through starting with RoR and I‚Äôm a designer/front end. ",1537240871.0
LeastProfessional,"Learn your basics like controllers, models and the views. The MVC framework is used universal through most languages (Laravel etc). When I was learning, I was using CodeSchool at the time (I believe it's called Pluralsight right now) and did the 'Rails for Zombies' course but I found that the course just throws you in and you have to google most things but it has a solution button so it's all good!

Having had this experience, i'm sure that there are better ways to learn which other *reddit*o*rs* will probably recommend. As regards to CSS, learn [SASS](https://sass-lang.com/) . SASS is great and makes writing *complicated* CSS easy (nested classes, variables and mixins just to name a few!). As regards to JS, just practise, learn the methods and just get to grips with JQuery and Javascript.",1537259084.0
LeastProfessional,"I would create a 'Dropdown' model where the users could add, edit, update, and destroy certain links and assign those links to  They could do this a number of ways, you could either add a new model called 'Dropdown links' or something and set the relationships between the Dropdown and Dropdown links like this.

Dropdown.rb

`class Dropdown < ApplicationRecord`

`has_and_belongs_to_many :dropdown_links`

Dropdown\_link.rb

`class Dropdown < ApplicationRecord`

`has_and_belongs_to_many :dropdowns`

Now you can do Dropdown.dropdown\_links which will return all the 'Dropdown links' referring to that dropdown in which you could just loop through them in the view! You will need to assign this dropdown somehow to page or link somehow through a page model of some sort. Remember, this is just one way that you could do it and theres a ton of different ways of doing it!

Happy Coding!",1537193723.0
midasgoldentouch,Why not have a car model and then populate the drop-down using those records?,1537196584.0
cmd-t,"Some advice:

>The replacement cost of the new app is $40k upfront costs w/ $10k per yr for maintenance, neither of which are acceptable for our size organization and budget. Since it's a simple CRUD app and not really that difficult to build I figure this will be a good opportunity to build upon my knowledge and experience in web development. So there's the background.

You understand that you'll now be responsible for something someone else quoted 40k + 10k y.o.y. for? And that you told people you could build it for cheaper, and that you are going to do it using technology that you aren't really familiar with? You are gonna have a bad time and you should not take this responsibility upon yourself. If you can, make sure people know that you are just trying, that you will take no responsibility for the code and that you won't be able to maintain it unless you get specific hours to do so.

Other than that, you got some pretty good advice already on how to do it. The problem is that you haven't told us *what* the dropdown choices are, which makes it hard to model your domain objects. This is the first thing you should be doing.

You seem to have some sort of 'Category', I guess it's something like a sedan or a truck. That is a great first object to model.

    class Category < ApplicationRecord
    end

Next, we have Ford, Chevy, etc. This is clearly a Brand. Why not model that as well, we might only have a subset of all available brands, which might even change. And other domain objects are probably related to the Brand.

    class Brand < ApplicationRecord
    end

Now, is there a relation between your Category and Brand? I don't know. I can imagine there is. Some categories might have a subsection of al brands. That means there is a n-to-n relationship between brands and categories. This is called a many\_to\_many relationship in rails. Does every Category 'have' every Brand? Then there is really no real relationship between the two. I can't really tell from what you showed here, but I'm pretty sure they are determined by the current available models.

Next, your Model definitely belongs to a brand. I think it also might belong to a certain category, since a Model might be a hatchback or station wagon. In that case, we have the following. I'm gonna call Model Make, because I get confused talking about Model models.

    class Make < ApplicationRecord
      belongs_to :brand
      belongs_to :category
    end
    
    class Brand < ApplicationRecord
      has_many :models
    end
    
    class Category < ApplicationRecord
      has_many :makes
      has_many :brands, -> { distinct }, through: :makes
    end

Now you just need three controllers. One for each model. You can then easily fill a dropdown with something like

    # controller
    @category = Category.find params[:category_id] # I have no idea, but somehow you get the category.
    
    # view
    <% @category.brands.each do |brand| %>
      <%= brand.name %>
      <% @brand.makes.where(category: @category).each do |make| %>
        <%= make.name %>
      <% end %>
    <% end %>

with whatever markup you need for the dropdown.",1537211593.0
Wapen,Payment Express? What version of spree are you using?,1537174335.0
442401,"When the Rails team release a new version, they sometimes make changes to default behavior for some methods. In order to not break your app during update, this file will be inserted to configure Rails to use the old defaults.

For example, when rails 5.1.2 was released, the default method of submitting forms generated with the `form_with` helper was changed from `:local` to `:remote`

In order not to change the behavior of your existing code, this file with the line 

`Rails.application.config.action_view.form_with_generates_remote_forms = false`

was inserted into your `\config` folder

* You may leave that line in place and carry on as before (local submits)
* You may go through your views and add the option `local: true` to all `form_with` helpers and then comment out this line and carry on as before (local submits)
* You may comment out this line without making changes to your views, in which case any forms generated with `form_with` will become remotely submitted unless option `local: true` is specified.

If all the lines reversing new defaults have been commented out and your tests are passing then it should be safe to delete this file.",1537122512.0
jistjoalal,"[http://ruby-doc.org/stdlib-1.9.3/libdoc/erb/rdoc/ERB.html#class-ERB-label-Recognized+Tags](http://ruby-doc.org/stdlib-1.9.3/libdoc/erb/rdoc/ERB.html#class-ERB-label-Recognized+Tags)

Thats an embedded ruby comment. Just like any other programming comment it is completely ignored, except by the programmer.

[This might help with speeding up page loads](https://www.rubyplus.com/articles/2921-3-Tips-to-Speed-Up-the-Page-Loads-in-Rails-App)",1537111344.0
enricopostolov,Since it is a comment it will be directly ignored.,1537115512.0
systemnate,"Totally ignored. It's just commenting out that section of code.

Edit: You can confirm this yourself by opening up the partial and adding <% fail %>. You will see that the page does not fail, thus indicating it is not loading. ",1537111361.0
seainhd,Totally ignored,1537114525.0
gregologynet,"You can test this kind of thing by throwing in a binding.pry
<%# import 'pry' && binding.pry %>
Will open a pry console if the code is bring executed",1537176430.0
chipperclocker,"I‚Äôd associate all of those related records to some anonymous version of your User model.

All of that application and offer data belongs to a user, even if you don‚Äôt know the user‚Äôs email address or other profile-ish information yet. Create a guest user when someone starts your flow, and maybe consider cleaning them up on a regular schedule to prevent all of your partially-completed abandoned guest users from wasting space.",1537047479.0
seainhd,"My previous employer (500+ rails devs) had numerous prolific rails engineers and our solution was surprising when I found out.

We created real user records for every guest visitor.

Would destroy after 60 days if the users never converted.

If they already had an account we would merge their actions into their previously existing account. 

FYI this approach is fairly cumbersome and wasteful of resources, but improves the general user experience.",1537071731.0
Bsmoder,Would I have to rewrite Devise create action so I can securely pass guest id?,1537230824.0
user_has_no_username,"If you post some code,  we can help point you in the right direction.",1537043655.0
amicloud,">Add a condition if the line read has no value in first column to add to the last line (basically i want each ""Card no: , Terminal: and others to continue on the line that has a date on it)

I really am having a hard time figuring out what you want to do. And also, the format of that .csv if kinda ridic.

If you could post the end format that you need that'd help.

Assuming that you want the end product to be like this: 

    14 February 2018,Card no: xxxx xxxx xxxx xxxx,Terminal: xxxxxxxxxxxxxx xxxxxxxx,Date: xx-xx-xxxx
    13 January 2018,Card no: xxxx xxxx xxxx xxxx,Terminal: xxxxxxxxxxxxxxx,Date: xx-xx-xxxx Auth. code: xxxxxx

The code to accomplish this is 

    require 'csv'
    
    rows = []
    CSV.foreach(""example_data.csv"") { |row| rows << row }
    
    # Flag w+ will overwrite an existing parsed_data.csv or create a new one if it doesn't exist
    CSV.open(""parsed_data.csv"", ""w+"") do |csv|
    	rows.shift # Remove headers
    	rows.each_with_index do |row, i|
    		# Creates a new row containing the values of the corresponding cells if the current row's
    		# 0th column is not blank. This assumes the structure of the .csv is consistent!
    		csv << [rows[i][0], rows[i + 1][3], rows[i + 2][3], rows[i + 3][3]] if row[0]
    	end
    end


If I misunderstood what you are trying to do with the data let me know. 

If this were me, I'd first be trying to get the source .csv in a more reasonable formatting however!

",1537083246.0
BeerNirvana,"This should do it : 

    csv_file = './test.csv'
    new_file = File.open('./new_test.csv', 'a')

    new_row = ''
    CSV.foreach(csv_file, headers: true) do |row|
      if row['Date'].present? && new_row.present?
        new_file.puts new_row
        new_row = ''
      end    
      new_row += row.to_s.chomp
    end
    new_file.puts new_row if new_row.present?
    new_file.close
",1537102293.0
442401,"Your task sounded interesting, so I thought I would have a go myself.

Please don't accept this code as a ""correct"" or ""idiomatic"" answer. As I said, the task sounded interesting so I thought I'd have a go for my own enjoyment and education. Any and all comments welcome

    class Punk17erParser
      require 'csv'
    
      attr_reader :source
    
      def initialize(source)
        @source = source
      end
    
      def parse
        CSV.foreach(source) do |row|
          row[0] ? start_new_file(row) : append_to_current_file(row)
        end
        write_current_line_to_file
      end
    
      private
    
      def start_new_file(row)
        write_current_line_to_file unless current_line.empty?
        @current_line = row
      end
    
      def append_to_current_file(row)
        @current_line += row
      end
    
      def write_current_line_to_file
        file = File.new(""#{current_line[0]}.csv"", 'w')
        file.write current_line.to_csv
        file.close
      end
    
      def current_line
        @current_line ||= []
      end
    end
    

Usage: `Punk17erParser.new(""`*<file>*`"").parse`

Will create new CSV files in current directory according to rules in OP.

Because the requirement didn't specify what to do with a header row it treated as any other row. Special treatment of headers is left as an exercise for the reader. :-)",1537109600.0
coderhulk,"I'm not going to propose a whole solution unless you're still looking, however one of many ways you can handle the validation.

```
require 'delegate'

class TransactionRow < SimpleDelegator
  def valid?
    field(""date"").present?
  end
end
```

A simple version of using the class would be something like:

```
def parse(filename)
  valid_rows.each do |row|
  end
end

def valid_rows
  rows.select(&:valid?)
end

def rows
  sanitized_csv.map { |row| TransactionRow.new(row) }
end

def sanitized_csv
  CSVSanitizer.(filename)
end
```

The sanitized csv is something I like to do when being provided files from 3rd parties. It ensures a universal newline and also converts all the headers into a format I like as well as any other changes required to make the CSV consistent.

Hopefully you find this helpful.",1537315199.0
Nrdrsr,"1) Read the entire CSV into a hash or array or CSV row collection

2) Partition the structure into two, eg. In the case of arrays, create two arrays, one with the true values, one with the false values or no value or whatever the other case is

3) Add array and array 2

4) Write combined array to CSV file 

There are more optimal ways to do this too, but this is the simplest. If your data isn't super large I wouldn't waste time on optimization. ",1537048274.0
punk17er,"Well you kinda read my mind. :)
But I thought not to complicate the request too much.
I can't thank you enough.",1537188214.0
hellooo_,i've done a fair amount of work w/ CSV parsing. i think your example CSV above is broken. if you can paste a correct CSV i can help,1537049563.0
bulldog_in_the_dream,"I'm in a similar situation. Played around with Rails about 4-5 years ago. After that I've worked primarily as a frontend dev with Angular and React on large projects where frontend and backend have been separated.

Now I'm looking at Rails again since I think the above approach is overkill for personal projects (and overused in general). So far I have only been toying with Turbolinks, but from what I can see it's really well integrated in Rails. For instance, doing form POSTs, DELETEs etc. with redirect also have Turbolinks support. That would require a certain setup in Django and also the addition of middelware to handle redirects. In Rails it basically comes out of the box. Very nice!

With the webpacker you have in modern Rails it's also trivial to add e.g. a React component to a page. So far, just from playing around, I've found that Turbolinks and sprinkels of React works out fine together, and gives that responsive SPA feel without going all the way. Maybe it's because I haven't been bitten by anything yet, but so far I'm really liking what I see!

Here's [a short explanation of Turbolinks](https://medium.com/@bonfirealgorithm/spa-like-responsiveness-with-turbolinks-2657d0f013e0) which also mentions alternatives like Unpoly and Intercooler.",1537017193.0
toobulkeh,"Turbolinks is a complete departure from regular JS or jQuery. It's fine if your developers understand it and work with it from the start.

That said, we often remove it from all projects by default, as the gains in production aren't worth the hassle.

Why not try it with Django?",1537017961.0
polarpress,Yes,1537017684.0
intentions_are_high,"That doesn‚Äôt seem like reason enough for me. If you‚Äôre more comfortable with python then stick with it as you‚Äôll be much more productive. If you Turbolink like feature, check out pjax, it will let you fetch html pages via Ajax and inject them into the dom. You‚Äôll have to do a little serverside setup but in the long run, it should be faster then trying to get back into rails. 

Also, side note, I hate turbolinks, lots of other rails devs do too. It causes a lot of problems. ",1537018167.0
deedubaya,"Modern turbolinks is backend agnostic. The turbolinks-rails gem does have a rack middleware that sets some headers for you, but it is really simple https://github.com/turbolinks/turbolinks-rails/blob/master/lib/turbolinks/redirection.rb",1537022025.0
adrienpoly,"As an example, I am posting two examples I did with Rails/Turbolinks

**A TodoMVC with Rails/Turbolinks/Stimulus** 

[https://github.com/adrienpoly/todomvc\_rails\_on\_stimulus](https://github.com/adrienpoly/todomvc_rails_on_stimulus)

&#x200B;

**A booking engine example** 

[https://github.com/adrienpoly/rails\_stimulus\_flatpickr](https://github.com/adrienpoly/rails_stimulus_flatpickr)

This last one really take the full advantage of Turbolinks to get a SPA look & feel with very little Front end code.

Here is a full article I wrote to explain this example ([https://dev.to/adrienpoly/introducing-stimulus-flatpickr-wrapper--5c23](https://dev.to/adrienpoly/introducing-stimulus-flatpickr-wrapper--5c23))

&#x200B;

If you go with Turbolinks, put you JS in Stimulus Controllers, **it will just work out of the box**.

&#x200B;

&#x200B;",1537170694.0
BaconGlock,"Here's the django middleware you need: https://stackoverflow.com/a/48273733/523051 i'm the OP of that question.

My relatable story: I have been doing frontend/static webdev for many years and finally committed to learning programming/backend stuff and went through, what at the time was one of the only classes available there, a udacity.com course for beginner python. I made it thru and, shortly after, Steve Huffman (reddit founder) started a udacity course for webdev and it was...mindblowing. He was teaching with google app engine and by the time i got through it i knew everything i needed to get started building my [great app idea]. Flask was just starting to pick up steam and was very similar to the GAE I was fairly familiar with so i ran with it. Slowly but surely and piece by painstaking piece, i built up from a single file to a solid and well thought out folder system of my own thinking, blueprints, jinja, sqlalchemy, memcache, redis, handmade login system using bcrypt, etc etc. the whole nine yards. It was a pretty advanced setup towards the end now that i think of it but i was finding that i was spending way too much time having to do basically everything from scratch, and this began my journey for something better.

The obvious first step was django. It all made sense, in theory,  and i immediately loved how much less effort it took to get something going than with flask. Everything was plug-and-play with existing modules and at first it was looking like this was my new love. But things quickly turned sour when i found that there were roadblocks everywhere i turned that i either had to spend days working through why it wasn't working like i wanted and/or accept defeat and just live with all these things that just bothered me how it needed to be done. Rails was something i'd been looking at for awhile and honestly, turbolinks was the major draw for me. All these DHH proclamations about it being the secret sauce for a single/small team developer to be able to do phone apps using turbolinks with the same web code was just so crazy enthralling that i couldn't help but be upset i was missing out on that opportunity. But ruby was so mindblowing to me that i just couldnt wrap my head around it. With python you import all your functions into the file you want to use them in and this is how i learned and knew to read and follow code. With rails, ~everything is auto-imported so trying to make sense of any code i looked at made zero sense to me and i didnt want to spend the time to figure it out. This lead to me trying to get turbolinks working with django which led to that SO post/answer. I did get it to work but there was just too much other django bullshit to keep me content.

I ultimately decided to just commit to learning ruby/rails and i went on a tear where i just set python down for awhile and jumped in with both feet to the ruby world and slowly but surely, it clicked more and more. Once i completed THE rails tutorial, it was blindingly clear: rails was everything I ever wanted in a web framework. I consider and proclaim it to be god's gift to a solo webdev. Everything is so magnificently well thought out, optimized, and cohesive to ensure the ruby philosophy of ""programmer happiness"" is well represented. Everything about it makes sense to me. Everything about it is as painless as can be and i can do things with a single command line that would take me hours/days/week to hook up and connect all the wires by myself with flask. Even the function importing from python i now find to be just an unnecessary time spender. With rails i can spend 5 minutes typing command lines and boom, i have ultra solid web app with login system ready and waiting for me to code in my real functionality. Try that with django. And now i have turbolinks too.

IMO, django/flask are for the people that love to program and tinker with things and do all the research and get everything just right by handcrafting everything along the way. I used to be one of those people. But at some point i realized ""i just want to get some shit done and launch something."" Those are the people rails is for. It's a productivity dream come true and i think everyone should give it a real chance and try to do something substantial with it before dismissing it. If you can let go of your needing to define and control every tiny aspect, then there is a paradise waiting for you where all the basic stuff that really doesn't matter have been taken care of for you and you can get going making some real headway on the actually important stuff. Rails gets a solid two thumbs up from this guy. Bravo to anyone that contributed to making it the glorious thing that i find it to be.",1538022845.0
Usually_Kills_Jokes,"You want to form clusters that represent topics of content based on some chosen attributes of that content. Depending on your data these topics can specific or broad. You can use information about a users interests or content they've viewed to determine which topic clusters they're most interested in. From here you can label new content to a cluster and notify users that you've identified to be interested in that cluster.

There's a lot of steps here and while a clustering algo like k-means can be a simple entry point, a full recommendation engine is a more involved. It's a well understood topic so there's probably some off-the-shelf code out there to get you started. [Here's](http://scikit-learn.org/stable/auto_examples/text/document_clustering.html) an example of clustering text docs using k-means with scikit-learn",1536980690.0
cmd-t,"You probably want a search engine like elasticsearch take care of these things for you as much as possible. These already do stemming, FTS etc. ",1536990724.0
dark-panda,"I‚Äôd recommend you start reading up on natural language processing, semantic analysis, and machine learning. This is a rather large and complex field you‚Äôre talking about here. ",1536979256.0
tastycakeman,"I did come across this small library https://github.com/geoffreylitt/simple_recommender, which seems like an interesting approach.",1536990759.0
kr3wn,Classify words by their parts of speech and count frequency w/ synonyms  ,1537033780.0
MrPopinjay,Could you explain a little more by what you mean by adserver and ad module? What do you expect them to do?,1537009854.0
jemminger,"I'd suggest giving the new version its own layout, and only include the BS4 stylesheet in that layout.  Old pages will get the existing old layout that uses the BS3 stylesheet.

Just make sure you're not including the BS3 stylesheet into your application.css via sprockets if you're also using the same application.css in the new layout.  ",1536952538.0
latortuga,"Hey, I did this!

I will say, it was not particularly fun. Asset precompiles take forever because you're compiling two whole bootstrap frameworks. But it did work out fine and provided a very smooth transition for us. The way we did it, the BS3 code was basically in the global namespace, and the BS4 code was all namespaced under a special class that we used to enclose new work. So `.bs4` was very common inside views that had to share components between new and old.

If you can, though, I definitely would go for the ""run separate layouts and stylesheet stacks"" approach because shipping 1 framework to your users will be substantially smaller and easier to work with (even development compiles are painful with 2 bootstraps).",1536962198.0
KioshiUnderMoon,It needs money,1536937317.0
AprilSpektra,No I won't.,1536966560.0
mrfrosti,"Heads up - your `valid` attribute is likely going to raise a `DangerousAttributeError`. Might be best to rename his column to something like `is_valid`:
```
ActiveRecord::DangerousAttributeError (valid? is defined by Active Record. Check to make sure that you don't have an attribute or method with the same name.)
```

Now to your question: There are a few ways to do this. As @ac1234567 mentions, you could do a `distinct` provided that the rows are truly unique (all column values are distinct in the returned rows). Since the id is distinct, we could omit this from our select:
```
Post.select(:is_valid, :user_id).distinct
```
This however does not retrieve the id, making the record pretty difficult to work with since you need the id to update/delete.

A better approach might be to use group by. Depending on your database and version, you might be able to get away with:
```
Post.group(:user_id)
```
This is considered non-deterministic however because we haven't specified in the query _which_ row to keep, and which to drop resulting in ambiguity, and unpredictable behavior. SQLite, and MySQL lets you get away with it, but PostgreSQL will not. To fix the ambiguity, we need to specify _which_ record to keep by using an aggregate on any columns that aren't in the group by. We can use max (maximum in some databases) to specify we want to keep the one with the higher id:
```
Post.select(""max(id) as id"").group(:user_id)
```
You could also use `min(id) as id` if you wanted to keep the lower record `id`. This query again excludes columns from the select. If you needed the user_id, we have to explicitly include this in the select:
```
Post.select(""max(id) as id, user_id"").group(:user_id)
```
Notice that we are able to specify `user_id` without an aggregate. This is because it is specified in the `group by` clause.

Hope this helps!",1536929240.0
ac1234567,Post.where(valid: true).distinct,1536925897.0
janko-m,"I think what you want is

SELECT DISTINCT ON (user_id) * FROM users ...

But how to generate it with ActiveRecord I don‚Äôt know; it has #distinct, but it doesn‚Äôt accept column arguments.",1536926214.0
,[deleted],1536905127.0
seainhd,"Since your data is relatively small, I think the easier approach would be RENAMING your larger table in a migration.

Then in another migration you would transfer data.",1536968393.0
AnLe90,"You seem to be accessing the wrong keys. You have two keys at the highest level, quiz and questions.You‚Äôre probably looking for Params.require(:questions).permit(:answers)",1536898688.0
cmd-t,"If you really want help you should post the code of your form and your controller. From the data that gets posted, it seems you might be doing some things that run contrary to rails conventions.",1536910995.0
demoloition,"If I'm understanding the question correctly then you can put this in any of your controller's methods to access the current params: `params`, which it's an object.

Since it's an object, if you wanted to just get the `:question` value you would access it like this `params[:question]`.

I recommend reading [this from rails docs](https://api.rubyonrails.org/classes/ActionController/Parameters.html) because it seems you are misintrepretting what `quiz_params` method is for.",1536893338.0
AnLe90,"Ohh try params.require(:questions).permit(4, 5). I feel like your params aren‚Äôt structured correctly. Questions should‚Äôve been nested under quiz. Your form field names and Id are probably not correctly named",1536937307.0
442401,"Try this one:  

    def quiz_params
      params.require(:questions).permit(""4"": :answers, ""5"": :answers)
    end

See it in action: [https://repl.it/@fig/nestedparams-1](https://repl.it/@fig/nestedparams-1)

Having said that, even if this works for the time being, I'm inclined to agree with others in this thread who are questioning your Model relationships. I'm getting a strong whiff of technical debt.",1536965630.0
skulifh,"I'd recommend using [Active Storage](https://edgeguides.rubyonrails.org/active_storage_overview.html). It's basically the go to tool for Rails to handle file uploads. It allows you to easily decide on how and where you want to host your files/images and it also has a very good support for 'thumbnail' versions of images you upload, just to mention a few.",1536832861.0
toadkicker,I just wrote a story on using Shrine here: https://medium.com/p/bbcc470a327f?source=linkShare-f8354741d7e6-1536853433,1536853470.0
Red_Rocket_,I've used [CarrierWave](https://github.com/carrierwaveuploader/carrierwave). It makes the process super easy and has a nice tutorial on the gem page. I've referenced to local and cloud storage with no real problems. ,1536857592.0
cmd-t,That‚Äôs not a list. It‚Äôs a string. ,1536818143.0
hellooo_,"can you include some code? are you including the entire library directly in your style sheets or linking to a CDN in your application.html.erb? if it‚Äôs the former, have you precompiled your assets before deployment?",1536811337.0
ethboy2000,You won‚Äôt get much help with ‚Äúit doesn‚Äôt work‚Äù. You need to be a bit more specific than that if you want people to spend their time helping you.,1536817275.0
nubil,"maybe you need to run this command? 
""bundle exec rake assets:precompile""",1536823045.0
LeastProfessional,"1. Is the css file being located in the DOM?
2. Do you have rails fingerprint enabled?

&#x200B;

You need to be a little specific about what is being thrown.

What is the code that the DOM is rendering?

Are you using stylesheet\_link\_tag, using the <link> tag or requiring (//= require ...) in a master scss/css file?",1536827189.0
ActiveModel_Dirty,"I'm not sure I understand your question. What on the server do you need to access? Are you trying to update rails or are you trying to push new code to production? 

&#x200B;

Generally that's done by deployment tools like Capistrano, you should not be editing source code on a live server.",1536805691.0
Ologn,"A lightweight way to do this is use a version control site like github and then push the code from your computer, followed by pulling the code from the server. Direct editing of code on a live server could be problematic. ",1536806937.0
midasgoldentouch,"Actually, there's a method called `with_attached_images` that you can call on the model to reduce the number of queries. Just replace images with the name of whatever it is you're attaching.",1536771787.0
ConfusedVorlon,"Frankly - they don't do a great job of explaining how the service works, and I was suspicious about signing up. The experience has been absolutely fantastic though. Feel free to ask if you have any questions about how it works in practice.",1536766661.0
ethboy2000,I actually came across something similar the other day with ActionCable and PuffingBilly. Give me some time and I‚Äôll dig out what I did as I can‚Äôt remember now.,1536831734.0
kidtaicho,"> REQUIRED RUBY VERSION: >= 2.2.0

:( sitting here on 2.1",1536778879.0
isunktheship,"1. StatJacks
2. StatJacks is a Fantasy Sports (Football/Baseball) draft optimizer - we aggregate years of player statistics and project player value.  Our current products are draft kits (useful on draft days), but we plan on expanding to support in-season analytics, as well as DFS (Daily Fantasy Sports) and auction drafts.  We currently interface with the Yahoo! Fantasy Sports API, PayPal, Stripe, MailChimp, and eventually CBS and ESPN.
3. Rails 4.1.6, mySQL, jQuery, Bootstrap, Font Awesome - our Javascript ""framework"" is vanilla, we finally have time to look into React
4. https://statjacks.com
5. *Private - no longer a pet project - I'm sorry, delete this if it breaks the rules*
6. 5 years RoR, 10+ years developing web applications in industry.  Titles are relative, technically mine is Senior Software Engineer.
7. Looking for advice on.. UI/UX, best/recommended practices to test React in a headless fashion.  Best/recommended deployment practices (especially when scaling ec2 instances on AWS).  I have little experience writing deployment scripts.. and then we eventually want to set up local CI, push to github when tests are green. (Familiar with Jeknins, but Circle CI seems to be the latest hawtness)

---


Honestly I'm probably better at answering questions, considering my app isn't a personal pet project anymore, but it's still my baby, even if she's ""off the grid"".

I can speak to end-to-end product development, how we formed the business and went legitimate, hurdles we encountered along the way, costs of transitioning from pet-project to real-world application.

The idea of StatJacks happened almost 2 years ago, and code really ramped up 1 year ago, we almost launched in time for MLB 2018, but delayed until NFL 2018.  It's been one heck of a ride!

The app is self funded, just paying monthly bills to keep the lights on; Google domains, AWS, Github, ngrok, and a few paid assets (images/videos).  Startup costs aside, the whole thing costs about $50/mo to run.

We haven't considered outside investment yet, the product is excellent, but we need to clean it up and build a bigger user base.",1536775946.0
aberen,"1. GoGetSpoiled
2. Spoilers as a service, small site where people can submit movie spoilers and get movies spoiled at random on the frontpage. There's also a minor API behind it that's not totally finished yet. Upcoming is also the ability to spoil TV shows down to specific episodes. Thinking about making a URL shortener service that spoils a movie before it sends you to your link. It's basically just a goof site. (Keep in mind that mobile is not 100% done yet)
3. Rails, Postgres, TMDB Api for movie data.
4. [http://app.gogetspoiled.com/](http://app.gogetspoiled.com/) (Staging URL)
5. *Private repo unfortunately*
6. Been a Frontend Developer for the better part of a decade. Been toying with rails on/off for the last couple of years.
7. Looking for eyeballs on the experience, does anything stand out as being odd in the submission flow?",1536829498.0
tuttiq,"1. [DevJobs.jp](https://DevJobs.jp)
2. A site that features good companies to work in Japan as a foreign software developer
3. Ruby on Rails + Vue.js
4. r/https://devjobs.jp
5. It's private for now
6. We're a team of 3 software developers and 1 designer currently working full-time in Japan and working on the site as a side project on our spare time. Some with more experience than others, but at least 2+ years working with web development. This project was the first time I used Vue.js though!
7. We basically want to help other foreigners find jobs that don't suck in Japan (despite the image Japan has of not so great work culture, good jobs do exist!). We're also interested in learning more about what foreign developers value when looking for jobs/companies in Japan, so we made [this survey](https://goo.gl/forms/DWR8VV1HZo3xoPnm1) to find out more about it (please answer if you're a developer in Japan or interested in moving to Japan to work).",1536912319.0
MattRay0295,RemindMe! 12 hours,1537086336.0
tubignaaso,"Rails, good. React, good. Connecting them, it works fine.

Mostly you just pass props into the component via data attributes in the DOM. Or if you‚Äôre doing an SPA, you‚Äôll just be using Rails as the API.

And now that Rails uses webpack as its asset pipeline, including React should be way easier than it used to be.

Server side rendering though...good luck. I‚Äôve not been able to get great performance no matter what JS backend is chosen. I suspect you‚Äôll never be able to get great performance doing SSI without going straight nodejs.",1536683872.0
ProgramAllTheThings,"I'm currently working on a React/Redux on Ruby on Rails app. I've had several years of Rails experience, but just picked up React recently and this is my first personal project with it (outside of those done for class).

My experience so far has been pretty good, but not because it's been really easy. Webpacker makes it possible to use them together, and it works fine, but there were a few gotchas along the way. It really feels like I'm building two separate apps at once - one being a Rails API, and another being a React app that connects to it. The nice thing about it is that I'm able to use one repo instead of two, and I can run all of my tests from one repo (and have circleci do the same). I'm not really sure this is worth the increased complexity. Probably isn't, no sane person should do this.

Routing was annoying to get working. I'm basically only rendering a single html page and various json routes from the Rails app and using React Router to handle everything. Effectively a SPA. I have an api call that goes out when the React app is first loaded to check authentication status and reroute accordingly.

However, I worry about the fragile nature of this unholy union and webpacker, especially given that there's seemingly a new vulnerability alert every other week for some dependency of a dependency of webpacker.

Another issue is that there really isn't that much in terms of resources about using React on Rails on the internet. Here are a few blog post I have found valuable along the way:

https://x-team.com/blog/get-in-full-stack-shape-with-rails-5-1-webpacker-and-reactjs/

https://blog.heroku.com/a-rock-solid-modern-web-stack#bonus-round-single-page-apps

https://blog.codeship.com/using-react-inside-your-rails-apps/

https://blog.eq8.eu/article/rails-api-authentication-with-spa-csrf-tokens.html

I will probably divorce the applications sometime in the future, which may require a slight change to api calls (not sure of what the hosting situation will be and whether credentials: 'include' will be required for fetches). But it's working fine for now and it's fun.",1536695635.0
amalagg,Anyone used Hyperstack?,1536707134.0
iammirv,I've really liked working with vuejs over react - but never done professional business pages or SEO support.,1536691382.0
adrienpoly,"I think at the end of the day it really depends what you want to do. React was made because Facebook needed a framework to handle highly interactive UI with notification and real time refresh.

Not all application require this level of complexity or this level of interaction between the components within the same page.

I have done a few React on Rails project where only some part of the application was the React component. For those project it was a nice architecture.

I found this article very interesting to go a bit further into this topic:

[https://m.patrikonrails.com/do-you-really-need-that-fancy-javascript-framework-e6f2531f8a38](https://m.patrikonrails.com/do-you-really-need-that-fancy-javascript-framework-e6f2531f8a38)

&#x200B;

Also  if you are looking at a sample project, I created  a little playground app for using React components with or without React on Rails gem

[https://github.com/adrienpoly/React\_Rails\_Playground](https://github.com/adrienpoly/React_Rails_Playground)

&#x200B;

And since early this year I am now using Stimulus JS for most Javascript sprinkles. Really like the way this framework works.

happy Rails!

&#x200B;

&#x200B;

&#x200B;

&#x200B;",1536698473.0
AnLe90,Rails React super fun. I've built a bunch of apps. PM me if you wanna learn how to set one up super easy,1536710944.0
djbutterchicken,"I only started a personal project using it and I was sort of disappointed as it ruined the rails opinionated experience which I really like about rail.

In saying that I'm sure it's fine if I put a bit more time into it.",1536706761.0
SuccessfulBread3,"It really depends... React is such a fad at the moment. It has its advantages for sure. As far as integrating it with a rails app, it's not always a good idea, it really depends on the size of your project. 

React was designed in such a was that multitudes of workers could work on code without disturbing each other... But that doesn't necessarily make it easier to work with alone. I personally think for anything with more than a few models it's overkill. But that's just like... My opinion man.",1536758503.0
Serializedrequests,"Gem works great.

The problem is React is not an architecture, React is just a view library for turning some particular JavaScript object into some particular DOM tree, which is great as far as it goes. It doesn't abstract over server communication. It doesn't give you a sane and controlled way to mutate the state of your AI. A serious SPA is VERY hard work, and needs an architecture backing it. That is why folks also use Redux and all manner of other tool.

Personally I got tired of the npm install 10 different libraries grind and learned Elm. It's not perfect, and takes a long time to make anything in, but my SPA toolchain is exactly ONE tool, and the resulting apps never break, and integrate well with Rails.",1536785753.0
bulldog_in_the_dream,"In addition to creating a rails project with --webpack=react, you also seem to have to install the react-rails gem to be able to include React components with ```<%= react_component(""ComponentName"") %>````

Is that correct, or can you acheive the same without also installing the gem?",1537017537.0
internethostage,"I was pulling my hair with this one... driving me absolutely nuts. The solution that worked for me was to add `config.active_job.queue_adapter = :inline` to config/environments/development.rb

[Source: Rails issue](https://github.com/rails/rails/issues/33500)",1536738234.0
some_guy_over_here,Are you printing anything after that line? Any errors? Does it hang? Is the image successfully attached after? What are you using for storage? Is redis running? ,1536672074.0
jevon,"Can you not use the CSV gem to import/generate the exported CSV, so that you don't need to worry about sanitising strings?",1536657292.0
coldfarmer,"Maybe you were doing it wrong. How about making the input content sanitised as a pure text, then export?

&#x200B;

Or maintaining a black/white list for key words that might break the exporting will be a massive task to do",1536656148.0
Pr0phet,"Wrap all your columnar values in double quotes such that to arrayize a csv row would look like (note: Mobile is forcing fancy quotes):

row[1..-1].chomp.chop.split(‚Äò‚Äú,‚Äù‚Äô)

Then your only validation task is to prevent ‚Äú,‚Äù in the input, or escaping the strings with \

You can also use the csv class in Ruby‚Äôs stdlib to handle everything. 

http://ruby-doc.org/stdlib-2.5.1/libdoc/csv/rdoc/index.html",1536658845.0
saturnflyer,"You might be interested in reading https://github.com/csv11/docs/blob/master/why-the-csv-stdlib-is-broken.md
and then trying https://github.com/csv11/csvreader",1536696520.0
,[deleted],1536636365.0
ProgramAllTheThings,"You're going to need to use javascript to either ping the server for expiration of the session, or redirect at the time it's supposed to expire.",1536604344.0
daddyfatknuckles,"if you‚Äôre only doing this before requests(reloads etc), you can also put it as a before_action on your application controller or if you use some kind of sessions controller",1536624690.0
kornbred,"Your issue is you are trying to use an enum for something that shouldn't be an enum.  Enumerated values are intended to be a set of constants.  You are wanting to use the value type dynamically by setting at runtime;  that frankly is not going to work.  You are getting an integer value in the DB column because that is what is stored for enums:  [https://api.rubyonrails.org/v5.2.1/classes/ActiveRecord/Enum.html](https://api.rubyonrails.org/v5.2.1/classes/ActiveRecord/Enum.html)

&#x200B;

What you want to use is a string column.",1536583045.0
toobulkeh,"For #1

Tricky question!
Your problem has nothing to do with routes, but /u/XDLMA0 was on the right track. You're using the HTTP verb `PATCH` to ""complete a list item"".

This particular short-hand method, requires Rails UJS to be working. Even though Rails 5.2 includes UJS by default, it still uses the asset pipeline to be included:

https://github.com/mirzaciulian/todo/blob/master/app/assets/javascripts/application.js#L13

If you look at your browser console, you'll see a JS error that there's an `unexpected =`. This is because The asset pipeline syntax for inclusion is actually a JS comment:

```
//= require rails-ujs
```
is the CORRECT syntax for including other JS files, even though that looks like (to most syntax highlighters) a comment -- it's actually valid code.

So basically put `//` on lines 13-15 of `app/assets/javascripts/application.js`, and your JS will be included properly.

Here's a PR to be more specific: https://github.com/mirzaciulian/todo/pull/1

Hope this helps.",1536513332.0
XDLMA0,"Okay, so I did some investigating.

According to this stackoverflow link, if you use link_to you need to have jquery. 
https://stackoverflow.com/a/37443942

Jquery however, is not included in Rails 5 anymore.

This link suggests using button_to instead. Using button_to works when I was testing it. This should work for both your complete and delete problems. 
https://www.viget.com/articles/delete-in-rails-without-jquery-and-ujs/

I hope this points you in the right direction. 

(Would also be happy if someone with a deeper understanding of jquery could comment)",1536511847.0
,[deleted],1536512719.0
kornbred,"TBH, I haven't dug into your repo to see where your problem lies, but from the information you provided in your question, I have some advice.

Avoid nesting actions on specific members under a parent in your routes.  What I mean is this:

    # GOOD
    GET /todo_lists/5/todo_items
    PATCH /todo_items/14/complete
    
    #BAD
    PATCH /todo_lists/5/todo_items/14/complete",1536535844.0
the_fiber_optics,Did you try running ‚Äòrake routes‚Äô in your terminal to see what routes are defined?,1536511630.0
tastycakeman,"I just realized that this probably doesnt have to be here in /r/rails, but maybe other rubyists/rails type folks might have helpful opinions about this anyways :)",1536475371.0
eyesofsaturn,"When I was writing Rails, I was pretty happy with Jest. It's also one of the most widely used frameworks right now. On my current node project I use Mocha, and I'm pretty happy with that too. Hard to go wrong with either.",1536515292.0
sdn,"Why do you need version 0.21.0?

Latest is 1.1.3",1536475609.0
spamburglar,Just checking of you copied and pasted this that `follow_redirecy` is supposed to be `follow_redirect`?,1536469988.0
rick_and_mortvs,"Rather than trying to test the response within your controller action, I would try just debugging the API interaction in a rails console session. That way the api stuff is isolated and you can see what response is actually being returned. ",1536500323.0
KingPretzel,Here‚Äôs a ruby implementation to check out: https://github.com/jimryan/civic-sip-api-ruby/blob/master/README.md,1536444356.0
alexdeluxe,It looks like you are trying to push the error hash into the @logs instance variable but it hasn't been initialized because you haven't called the function and it's causing that error.,1536389664.0
fuckthesysten,"yeah, it should be like this:

```ruby
def logs
  @logs ||= []
end

def log(errors)
  logs << {errors: errors}
end
```

There's a couple of changes:
- no need for the accessor, since you're always only reading
- `#logs` also initializes the variable, instead of always overwriting it (`||=`)
- `#log` now uses the `#logs` reader
- all of these are instance methods, if you wanted this to be class variables, wrap it within `class << self`

Keep in mind Sidekiq has a logger https://github.com/mperham/sidekiq/wiki/Logging",1536426222.0
jemminger,"In Ruby, backtraces usually contain the most relevant info at the top.  Try searching for `cannot load such file -- 2.4/pg_ext`
",1536358949.0
ilovestl,Do you have libpq-dev installed on the machine?  (Or the equivalent libraries?),1536378655.0
Dudesivoro,"Try Wsl on Windows, it works but is slow though",1536432192.0
Jakdak22,pg 0.19.0.pre20160409114042 came up as a fix. ,1536628129.0
Code-Master13,"Yes, you can do this. I've got this exact setup in an app I'm working on.

ModelA 'has-many' Model B's / Model-B 'belongs_to' Model-A

Model-B 'has-many' Model-C's / Model-C 'belongs_to' Model-B

Model-C has no relation to Model-A

I've even set up a form that creates all these items at the same time wired up.

If you have any questions, or are running into anything I'm happy to help. I still consider myself a beginner, but I am doing this relationship setup right now. ",1536349584.0
seainhd,Can you please use real names of models everyone better understand?,1536379600.0
weedisallIlike,"Never did that but the only think that came in mind is Recursion. Just do to B -> C what you did for A -> B. Don't be afraid of trying! When I say recursion is because these things should be automatic, shouldn't be a different 'syntax' for each deep nested case (unless for me doesn't feel right). If you wanna confirm these things, go to Rails source code on Git and see for yourself how it's implemented.

Sorry if my awnser didn't help you :/",1536347578.0
jasdeep13,"Ruby is not a compiled language, So that delay you are seeing is not because Rails is ‚Äúcompiling‚Äù.  It could be due to some other factors like: 

- A large codebase
- Something crazy going on in your initializers
- Your codebase making external requests to some 3rd party services during boot time (trust me, I‚Äôve come across such projects during my professional career)
- Your computer just not having enough firepower/specs

If you can provide some more details about your project and environment, perhaps we can help out? ",1536327885.0
drunken_thor,This seems like something you should be talking to someone at your company about? Did they just give you this project without guidance? Maybe there is a reason that they are aware of?,1536333710.0
djcp,Is it hard to use the keyboard with your tiny hands? How did you learn rails so quickly when  you're not even teething yet?,1536341391.0
trippingman,Is this compiling the assets that takes so long or loading the ruby files (which are not compiled by the way)?,1536328542.0
abadabazachary,just spin up an ec2 server or a digitalocean droplet with rails already installed .. get a super expensive one... they are prorated by the hour.  you can very easily prove once and for all that your laptop is the problem (or not),1536341458.0
schneems,"3 minutes is not reasonable. 

Consider adding `bootsnap` to your codebase if you haven't already. Also `spring` can help (but i hate it). ",1536374975.0
,What do you know about has_many_through?,1536286738.0
rakedbdrop,"Yea, has_many :likes, through: :photos",1536289655.0
fp4,"You may want to do a counter cache as well:

https://stackoverflow.com/questions/8991118/has-many-through-with-counter-cache",1536297454.0
ClemDev,"In user.rb add `has many :likes, through: :photos`",1536290871.0
lostapathy,Check out the [association_count](https://github.com/buren/association_count) gem - it's great for eager load counts without resorting to counter caches,1536332874.0
janko-m,"    SELECT count(*) FROM likes
      WHERE photo_id IN (
        SELECT id FROM photos WHERE user_id = '<USER_ID>'
      )

So just translate this query into ActiveRecord. I don't know if AR supports subqueries, but I'd expect something like the following to work:

    photos = Photo.where(user_id: user_id).select(:id)
    Like.where(photo_id: photos).count",1536479868.0
seainhd,Doesn‚Äôt a like reference a user and a photo?,1536296635.0
lfv89,Actually there is exactly such a thing for Rails as well: rebuilding-rails.com,1536283646.0
internethostage,"There is another course called ""owning rails"" that I haven't personally gone through but some people from where I work said was ok. (Its a bit expensive in my opinion...)
  http://owningrails.com/

There is also [Destroy All Software](https://www.destroyallsoftware.com/screencasts/catalog) which has been highly recommend to me yet I never got around to properly checking out/subscribing. I think the author builds a framework from scratch.",1536288735.0
toobulkeh,"So it sounds like you're looking for a two piece that might not exist. The gap being how have the inner workings of rails changed from 3 to 5.

I can't answer this question well, but it might be a safe assumption that it really hasn't changed. So that book you mention might be the best bet.

Just an idea.",1536279654.0
nateberkopec,The book you're looking for is [Crafting Rails 4 Applications](https://smile.amazon.com/Crafting-Rails-Applications-Practices-Development/dp/1937785556/ref=dp_ob_title_bk). It was the first book that really opened the internals of Rails up to me. Written by a former core team member.,1536288567.0
dwitman,I was told once that there is a tutorial out there that basically walks you through building rails from scratch. I've never found it. ,1536280154.0
tekkn0lust,You may have some luck with The Rails 5 Way by Obie Fernandez.,1536368320.0
SagaciousCrumb,"Because they changed some default behaviors in Rails 5 migrations, they added the ability to define which version of rails created the migration, so that when it was run it would use the defaults that were set *at the time the migrations was created*. 

&#x200B;

More here: [https://www.ombulabs.com/blog/rails/upgrades/upgrade-rails-from-4-2-to-5-0.html](https://www.ombulabs.com/blog/rails/upgrades/upgrade-rails-from-4-2-to-5-0.html)

&#x200B;

You can find sed/awk scripts that will bulk-update all your migrations to add the version specifier.

&#x200B;",1536241085.0
neotorama,"Same question, Do i need to update all my migration files too?",1536241089.0
swrobel,It's backwards compatible with old migrations. That's the whole point of the versioned syntax.,1536243207.0
fiveguy,"My hunch is that at some point in the stack, a guess is made for which formatter to use for each value. If it looks like a number, that code calls `to_f` on it.

    irb(main):001:0> ""17e000308"".to_s
    => ""17e000308""
    irb(main):002:0> 17e307
    => 1.7e+308
    irb(main):003:0> 17e000307
    => 1.7e+308
    irb(main):004:0> 17e000308
    => Infinity
    irb(main):005:0> ""17e000308"".to_i
    => 17
    irb(main):006:0> ""17e000308"".to_f
    => Infinity

Can you post your view code, by any chance? Maybe its how you're handling the output? ",1536240343.0
tom_dalling,"When you say that ""numbers are output as Infinity,"" do you mean that the raw CSV/XLS text contains infinity, or is it only when you open it in Excel? I know that Excel will try to interpret strings as numbers.",1536243501.0
n8chz,"Must say, as an end user, I'd rather see that in a browser window than `NaN`. /s",1536300602.0
cutety,"TL;DR; - Yes, as long as whatever you're using as the sidekiq queue isn't the in-memory queue (e.g. redis, postgres, mongo, etc...)

Basically, your sidekiq image will look exactly like the image you use for the main rails app (you can just even use the same one), but the `CMD` will be something like `CMD bundle exec sidekiq -C config/sidekiq.yml` instead of starting the rails server (e.g. `CMD bundle exec rails s -p 3000 -b '0.0.0.0'`).

I won't get into the intricacies of how to actually scale the containers up & down as that is highly dependent on how you have them deployed (e.g. using `docker-compose`, `docker swarm`, `kubernetes`, etc...). But, a simple example (using docker swarm) would be setting up a cronjob that runs a rake task that checks the sidekiq queue size, and if it's above some threshold scale the containers up, and below scale them down:

    # tasks/sidekiq.rake
    namespace :sidekiq do
      task scale: environment do
        if Sidekiq::Queue.all.map(&:size).sum > 5000
          # if the queue size is greater than 5000 have
          # 5 sidekiq containers running
          system ""docker"", ""service"", ""scale"", ""sidekiq=5""
        else
          # otherwise only have 2 running
          system ""docker"", ""service"", ""scale"", ""sidekiq=2""
        end
      end
    end",1536194630.0
proyb2,"In case, you can also try Crystal version for speed and smaller memory usage:
https://github.com/mperham/sidekiq.cr",1536206596.0
ProgramAllTheThings,"The game has some sort of state, right? Like selected_tiles = [] ? You need to have those Ajax requests create / save this object on the server, and render the view based on that state.",1536182819.0
Send-or-Bust,"Some kind of frontend framework accompanied by a state management system (such as React/Redux) would be a better tool for the job, but you could also read in the session details into your JavaScript variable on page load, if you're set on only using Rails.

&#x200B;

For example:

`index.html`

    <script>
        CURRENT_SCREEN = '<%= session[:current_page] %>'; // Note: This session variable needs to get set any time you change the screen to something different.
    </script>

In this example, you could then use `CURRENT_SCREEN` anywhere in your view where you'd need it to render the page.",1536187520.0
beneggett,"I'm sure there are many ways you **could** go about this. 

You could just store two fields on your `UserForm` one for `guest_user_id` and another for `user_id` (initially blank) 

`guest_user_id` could take any session param you choose to set in the controller, eg. `session[:guest_user_id] = ""guest-#{SecureRandom.hex(6)}""}""` or whatever logic you like there for randomization.  and just pass it in with your form or in your controller. 
  
I wouldn't be too concerned about pulling the actual rails auto-generated session identifier, add something to the session that you have control over.

Then when a user is created, do an action that cleans up any `UserForm` that matches the `guest_user_id` and sets the `user_id` from `nil` to the new users `id`. 

Good luck!",1536100098.0
Send-or-Bust,"Since the form data for ""guest"" individuals will be temporary in nature, I would personally not store them in a database. I'd consider going the route of using the client's browser for storage and stuff the PORO into the session (e.g. `session[:user_form] = user_form_object`). Once they create a user you can take whatever is in `session[:user_form]` and place it in the database. This design will prevent inaccessible form data (assuming your sessions have expiry dates) from being persisted and will prevent the need for some kind of system to clean out old, unused form data.",1536104626.0
ClikeX,"Totally off topic of your question, but... Depending on where you offer your service and what you store, you might want to check if this fits in with GDPR.

As it sounds like users will unknowingly store their information.",1536151908.0
FuzzyConflict7,"I don't have time to devote to helping you fully, but I would answer a few questions that you have. What are some of the things you're struggling with?",1536456271.0
_matthewd,"You want \`Date.current\` instead of \`Date.today\` (and \`Time.current\` instead of \`Time.now\`). It's considered too dangerous (to e.g. other libraries) for Rails to override the built-in methods, so we provide a similar-but-different name instead.",1536031012.0
GroceryBagHead,"`Time.zone` is using timezone found in your `application.rb` file or if timezone is explicitly set somehow. `Date.today` and `Time.now` is going to use server time so you should not use those. Always go through `Time.zone`

You should add Rubocop to your project as it will bitch at you if you're doing it wrong.",1536027230.0
gmfthelp,"[This](https://robots.thoughtbot.com/its-about-time-zones) might be of use

edit:

I've just had to implement something to check the time of the app (UTC) against the time zone of where an event will take place to make sure actions don't happen after the starts_at time

I think it's right but time zones are so damn confusing.
    
    def closed?                                                                    
      current_time = Time.current                                                  
      Time.use_zone(time_zone) do                                                  
        current_time > Time.zone.parse(""#{starts_at_date} #{starts_at_time}"").in_time_zone('UTC')
      end
    end",1536054617.0
redbeard0x0a,"You typically want to use `Time.zone` when in rails. Like /u/GroceryBagHead said, it defaults to the timezone set in your application.rb and also works within a request's specified timezone. (This doesn't have anything to do with the browser's timezone, but is often set based on an account/geoip/etc).

It is usually combined with something like this in your controller (assuming your user has set a timezone):

```
# app/controllers/application_controller.rb
around_action :set_time_zone, if: :current_user

private

def set_time_zone(&block)
  Time.use_zone(current_user.time_zone, &block)
end
```

You can set your `set_time_zone` method to fetch a timezone based on a geoip, a cookie or some other method of determining which timezone a user is subjected to.

Timezones are a pain to deal with because there are so many different things to pay attention to, you can read more with [Thoughtbot's article: _Its all about Timezones_](https://robots.thoughtbot.com/its-about-time-zones).

In short, Use UTC as your default, use Time.zone, Date.current and Time.current (like /u/matthewd said). Oh, and read that article...",1536071825.0
lostapathy,"The direct answer has been covered well, so I won't get into that.

This exact issue is what got me to finally setup Rubocop and make it a part of my build pipeline.  It's certainly not perfect, and the defaults aren't always my favorite, but it's great at smoking out and then preventing issues caused around simple but often-confusing details like this.",1536072106.0
hmaddocks,"Reports are generally composed of two things, the query and the formatting. You should treat these as separate objects. Create a query object and then a formatting object that takes the query as input. This provides several benefits;
* You can provide several different formats for the same data, eg CSV and xls. 
* You can vary them independently especially if you have a ‚Äúdecorator‚Äù object between them 
* And it makes both much easier to test. 

You can pass in an array of values into your formatting object ie mock the values, and not touch the database and you can more easily test your query without having to worry about creating files or formatting issues. 
When you test your formatting ode make sure you are testing the format and not the values. 
I‚Äôm also helps if you can compose your query from Relations, eg functions that perform a small part of the query that return a relation object. ",1536025929.0
fortunehunterman,"I've checked the first few bytes of the file to make sure the file signature matches the expected output and made custom rspec matchers so I can say something like:
    it { expect(File.open('filename.xls', 'rb').read).to be_an_xls }",1538502695.0
pa_dvg,"First and foremost you should reality check the amount of time you spend bullet proofing the report against the consequences of it being wrong. If it‚Äôs just some guy in department c will be mildly annoyed, the. dont invest energy that can certainly be better invested elsewhere. If this is used in invoicing and it being wrong means you charge a customer the wrong thing then it‚Äôs got more serious consequences.

That being said assuming you want validation it‚Äôs like anything else where the smaller you can decompose the problem the better off you will be.

Someone said separate data generation from formatting. Good start. I‚Äôd go a step further and have an object for every value of consequence. Your formatting object should hand off every complex computation to an object that just does that, allowing you to have a series of stupid simple objects that do one thing and are easy to test.  Bonus: you can reuse them to expose the data from the report in other places like the html or api",1536030916.0
toadkicker,I would just do either feature or request specs and call it good.,1536019508.0
musicnerd47,I‚Äôm working on prettier for ruby! https://github.com/kddeisz/prettier-ruby,1535974530.0
leaning7,Try rubocop with autocorrect enabled ,1535962754.0
______________------,[https://github.com/ruby-formatter/rufo](https://github.com/ruby-formatter/rufo),1535968130.0
TODO_getLife,"You mentioned atom; Out of interest, did your theme just update for Ruby in the latest update? Mine looks all weird now. I think they changed how they highlight ruby syntax now. Looks terrible.",1535990741.0
guywithFX,I use Atom as an editor for all languages and the ruby-syntax package with atom-beautify works well enough for me most days. I also toggle rubocop inside of atom for syntax and formatting. ,1536014558.0
vinvasir,"If you can afford Rubymine (e.g. with a student license or through your employer), it does a decent job out of the box. Not as good as prettier, but then this is Ruby, so we don‚Äôt have to deal with as much callback / promise-laden legacy code.",1536159943.0
gaffneyc,"We did exactly this on [Dead Man's Snitch](https://deadmanssnitch.com) a year or two ago. I would say the technical side was the easiest part of it since we ended up doing a top to bottom review of the app to make sure everything made sense in a new team / project sense. Reimagining the app as being Project based took the most work to get right.

‚Äã

From a high level technical perspective we created a new Project for each User that used User#name as the name of the Project. We then associated the User with the Project as an admin and migrated and shared resources to the Project. We updated all of our routes to be namespaced by Project (we call them Cases but since \`case\` is reserved it caused all kinds of hassle), for example \`/snitches\` because \`/cases/:id/snitches\`. We added legacy routes for existing bookmarks / emails to redirect to the new  URL. I would avoid trying to reuse User IDs for your Team IDs if you can get away with it since it can get really tricky.

‚Äã

Since we moved most resources to Project we added  \`current\_project\` to our ApplicationController that acts similarly to \`current\_user\`. For the most part we were able to do a search and replace to update most of our controllers.

‚Äã

I would recommend having some sort of intro or drip the first time customers log in to encourage them to update the team name. Also, we do all of our data migrations in raw SQL which meant the actual migration took all of a minute, try to avoid migrating with Rails models since it can cause downtime.

‚Äã

I'm happy to help answer any other questions. And if you wanted some help with this, our team at [Collective Idea](https://collectiveidea.com/services) has been consulting on Rails for the last 13 years.",1535925493.0
polarpress,How about Team has many users through team_users & User has many Teams through team_users,1535924764.0
paneq,There is a whole book on exactly that topic: https://leanpub.com/multi-tenancy-rails-2,1535962908.0
jryan727,"What version of Rails? 

UJS (at least now and for as long as I can recall) binds to the document with a filter for the relevant feature. So the click event originates on the <a>, bubbles up to the document, and UJS‚Äôs confirm handler handles it because the element has a data-confirm attribute. This method results in less bindings but also allows elements inserted after page load to work without additional work. 

Something else must be going on here. What do you see in your JS console?  ",1535890952.0
slendermann29,Usually it's the order in which rails ujs lib is loaded in application.js. can you paste the content of that file ?,1535887426.0
harbogast,"Are you sure the UJS code works properly when the partials are rendered inline?

jryan767's explanation is correct, and I'd think something has broken your UJS, and it's unrelated to your partials. ",1535895393.0
fangxing204,check this https://stackoverflow.com/questions/203198/event-binding-on-dynamically-created-elements,1535904520.0
greymalik,"Rubocop is opinionated. If you don‚Äôt agree with it then you can create a rubocop.yml file to configure it more to your looking - check their docs for specifics on how to do that. 

Also, when Rubocop reports a violation, I urge you to google the violation to learn why they made that rule before you opt out. There are well-thought out reasons for their rules (about which of course reasonable people will disagree). But this is a great learning opportunity for you. ",1535807859.0
TODO_getLife,"Double quotes are used for string interpolation, single quotes for normal strings. So rubocop has a cop that sticks to this rule. I think it makes perfect sense.

At the end of the day it's up to you and your team but rubocop is there is provide a solid standard that most ruby developers sticks too and evolve from the base cops.",1535808772.0
devilisssh,"Like everyone else is saying, you can tweak the .rubocop.yml file according to your needs. Also, when you are working with rails, you can enforce Rubocop to use The Rails Style guide, this way:

    Layout/IndentationConsistency:
      EnforcedStyle: rails

And regarding using single quotes instead of double quotes for performance gains is just a myth. Someone has actually measured their performance here:

[https://www.viget.com/articles/just-use-double-quoted-ruby-strings/](https://www.viget.com/articles/just-use-double-quoted-ruby-strings/)

Hope it helps :)",1535834626.0
firstpantsthenshoes,"Rubocop ‚Äîauto-correct is your friend ;)

Like other users have mentioned, this tool is highly opinionated. At work we took the stance that a string is a string and we shouldn‚Äôt have 2 ways of defining them so we stick to double quotes everywhere. No need to change quotes for interpolation.

I‚Äôm on my phone and can‚Äôt get the article but I remember reading about it not making that big of a difference anymore. We use the #frozen_string_literals flag everywhere anyway.",1535813982.0
sshaw_,"I think this single/double quote business is (another thing) inherited from Perl.  

Also see: https://ruby-doc.org/core-2.5.1/doc/syntax/literals_rdoc.html#label-Strings

Double quotes and Ruby 1.8 style hashes FTW!@#",1535915306.0
pixenix,What you can do is overwrite the generator in the project or maybe submit a pr to rails to fix their generator,1536258637.0
xenilko,Feel free to correct me but double quote is a tad slower because it has to make sure nothing needs to be interpreted while single quotes is just a normal string storage. So single quotes for strings and double for interpretations ( i.e: ‚Äúsome #{variable}‚Äù),1535807239.0
seainhd,"You should try yourself and post the code.

Help is easier when we can see what you‚Äôre looking at.",1535810920.0
IllegalThings,"To start, I'd move those ""tagged\_with"" methods onto the MultipleChoiceQuestion model. Then in the controller I'd just have

    # Controller
    @published_questions = MultipleChoiceQuestion.published
    
    # View
    <%= @published_questions.microbiology.foundation.sem1.count %>

Honestly, I'm not really sure how this acts\_as\_taggable gem works, but this doesn't come off as the type of relationship you want. I get the feeling based on what you wrote that there are at least three separate relationships... subject, level (foundation/etc), semester. If thats the case I'd break those apart into their own separate relationships as opposed to shoving everything into a tag.

That's where I'd start. Beyond that its sort of hard to come up with more suggestions without seeing the rest of the code.",1535943702.0
DeltoidSchizachyrium,"Asked this question: https://www.reddit.com/r/rails/comments/9ax6kx/is_there_a_dropzonejs_or_similar_active_storage/?st=JLJ5O7BQ&sh=1f2c954d, decided to do it myself and write it down. ",1535789982.0
PM_ME_RAILS_R34,"Why not use the default Rails sessions?

By default it uses `ActionDispatch::Session::CookieStore`, which is like normal JWT except fully encrypted instead of just signed. 

Server side is still stateless, and it works virtually exactly like you describe. I suspect you can't find any search results because people in your situation just use the default `CookieStore` that does exactly that :) 

[More info about Rails sessions](https://www.justinweiss.com/articles/how-rails-sessions-work/)",1535770194.0
muzfuz,"AWS Cognito uses JWTs for auth, it works quite well with rails apps. The docs are pretty good, take a look. ",1535791794.0
rylanb,"We've done the merging of a signature image onto a PDF.

Gems: `pdf-forms`, `prawn`, and `combine_pdf`

Code that combines: 

    combined_file = CombinePDF.load(template_path)
    combined_file.pages[render_config[:page_number]] << signature_pdf(render_config)
    combined_file.save(template_path)


`template_path` is the form in the tmp folder and the `signature_pdf method`: 

    
      def signature_pdf(render_config)
        signed_pdf = Prawn::Document.new do
          image open(render_config[:url]), at: [render_config[:left], render_config[:bottom]],
                                           width: render_config[:width]
        end
        CombinePDF.parse(signed_pdf.render).pages[0]
      end",1535732747.0
tdehnke,What did you use for a signature solution?,1535726969.0
mannotbear,"Instead of trying to create the table yourself, use ‚Äútable_for‚Äù.

It‚Äôs in the docs here https://activeadmin.info/12-arbre-components.html#table-for",1535720296.0
qrevolution,"if you DO go that route, you need a tr for every user:

&#x200B;

  `users.each do |user|`

   `tr do`

`user.each do |u|`                  

`[u].each &method(:td)`              

`end`

`end`

`end`",1535726802.0
archlich,Is passenger installed or compiled? I didn‚Äôt see it in your dockerfile. ,1535713364.0
fxionn,does somebody knows when is the release of Rails 6 üòç ?,1535644163.0
faitswulff,"Good writeup, thanks! Since digging around getting Rails Direct Uploads to work with APIs, I've come to the opinion that the Rails team prefers shipping a feature before it's polished, which is understandable but can be pretty painful to users. This seems like one of those cases.",1535645439.0
TODO_getLife,"Hmm interesting. Good to know something like this is coming. Gotten quite used to the ENV variables route mind you.

",1535647426.0
cyancynic,We started using [EnvKey](https://www.envkey.com).  Its not free but it does save a lot of hassle.,1535669006.0
innou,"Found a decently clean work-around in the Github discussion around credentials assuming you trust every developer on your team, https://github.com/rails/rails/pull/30067#issuecomment-372760099",1535671128.0
SagaciousCrumb,"For #1, you scope the index page for the subreddit (assuming Subreddit has\_many :posts)

in PostsController:

`def index`

  `@posts = Subreddt.find(params[:subreddit_id]).posts`

`end`

As the other commenters have said, typically you only nest 2 levels deep unless it's really useful not to. Using two models is a link\_to is fairly common in this situation. 

&#x200B;

One approach is to have the comments :create route nested, because the create needs to know what post the comment belongs to. Then, if you allow linking to individual comments, create the show/edit comments route at the top (unnested). You don't need to know the subreddit or post IDs (from the URL) if you load the comment, you can load those from the associations.

&#x200B;

If you don't allow linking to individual comments you only need the :create controller methods/routes (and it woudl be in the nested part)  because you won't use the other CRUD methods anyway, comments are always shown on the post show page, so they don't need their own methods. ",1535648072.0
midasgoldentouch,"I wouldn't necessarily do that. I'd think of it this way - comments are polymorphic, and can belong to posts and other comments. Where does that approach take you?",1535639341.0
midasgoldentouch,"Also yeah, the rails guide warns about nesting too deep.",1535639378.0
IllegalThings,"As others have said, I just wouldn't have nested resources in that way. I'd have each resource at the base url,  ""/subreddits/1"", ""/posts/2"", ""/comments/3"". This would solve (2).

&#x200B;

For (1), yes thats fine. In the subreddit index, I'd actually do Subreddit.find(1).posts and get the posts that way.",1535944575.0
yads12,"So the first thing to realize is that `each` iterates through an array and then returns the array. You use it as an example for manipulating values inside the array. What you want is the [`map`](https://ruby-doc.org/core-2.5.0/Array.html#method-i-map) method. This method will use the return value of your block as the result for each item in the array. 

~~The second thing is strings and symbols are different keys inside a hash. `elem[:id]` and `elem['id']` will return different values. Since your keys are strings you need to use strings to index in the hash.
~~
The third thing is it's unclear what you want to return. Are you hoping to return an array of values for each element or just a pared down hash?

If you want an array of values you can do something lie:

```
arr.map { |a|  [ a['id'], a['slug'], a['type'] ] }
```
",1535638671.0
jqr,"Use map or collect instead of each.

Map translates an Enumerable into an Array by iterating through it and returns the results of the block executions.

Each iterates through an Enumerable. It does nothing with the results of the block executions, and the only use is to do some side effect within the block. It returns the Enumerable.

In normal use, each is all about block side effects, map is about the returned values.


Edit: returns.",1535638526.0
MrPopinjay,"> The learning curve is steep, you will need to learn OTP. 

You don't need to learn OTP to use Elixir and Phoenix. I would recommend doing so though, the rewards are great.

I'd also challenge the idea that adoption is slow, at least here in London.",1535639342.0
waiting4op2deliver,"Rails good.
Stimulus bad.
Active Record good.
Turbolinks bad.
Active Jobs good.
Action Cable bad.",1535628493.0
Serializedrequests,">If you need speed, try Trailblazer

I think this is wrong. Maybe Cells are fast, but the only parts of TB I care about are Operations and Forms, and I'm sure those are **not** fast.",1535640896.0
joelbluminator,"Thanks for the write up, hope to make it to the next meetup :-)",1535700267.0
d0ug,"First off, props for the initiative, this is exactly the sort of thing I started doing before finally landing a job as a dedicated web developer :)

Are you saying you'd like for a field to be optional, but if it is filled out, it needs to follow a certain convention? If so, you're looking for [conditional validation](https://guides.rubyonrails.org/active_record_validations.html#conditional-validation). Note that you can use this conditional validation to validate other fields as well, so ""don't validate 'field a' unless 'field b' is present"" is a use-case of conditional validation.",1535575080.0
SureLetsDoAnother,"Awesome! Welcome to crafting software!

Your form fields are getting marked as ""readonly"" after a failed validation because the failed value still exists for that attribute even though it wasn't saved to the DB. That's important because your view is using an object that was *initially* built from what is in the DB. Once the validation fails you're displaying the same view again, using the same object. Only this time your object doesn't perfectly match what's in the DB. It's values have been updated, but since they failed validation they weren't persisted. The problem is that the ""readonly if a value is present"" logic won't filter out values that are invalid, because it doesn't know anything about that.

Depending on how deep your are into Ruby on Rails, the advice I'm about to give might seem really weird.

I'm going to assume your form is for editing an instance of a `StolenGun` record, but it could be anything. A lot of tutorials and guides would have you do something like this in your `StolenGunsController#edit` action.

    def edit
      @stolen_gun = StolenGun.find(params[:id])
      render :edit
    end

That's really good for tutorials, and for some real situations, because there's no needless complications. Your `edit.html.erb` will probably have a relatively simple form with fields that correspond directly to the attributes of your record. It's usually best to keep it simple.

So to keep it simple I'd suggest moving past the basic controller example, and start making an object specifically for your form.

It could keep track of which attributes to display as read only, which will probably be important when you want to add editing abilities to admins.

 Like this:

    def edit
      # I'm going to assume you have a current_user helper method or something similar
      @stolen_gun_form = StolenGunFormObject.new(params[:id], current_user)
      render :edit
    end

The class would look something like this:

    class StolenGunFormObject
      attr_accessor :stolen_gun, :readonly_fields

      def initialize(stolen_gun_id, current_user, readonly_fields_list = nil)
        @stolen_gun = StolenGun.find(stolen_gun_id)
        @readonly_fields = readonly_fields_list || build_read_only_fields_list_for_user(current_user)
      end

      private

      def build_read_only_fields_list_for_user(current_user)
        # If the current user is an admin, then just a hash which defaults key values to false (meaning they are not readonly)
        return Hash.new(false) if current_user.admin?
        attributes_with_values = @stolen_gun.attributes.select { |key, value| value.present }
        attributes_with_values.transform_values { |value| true }
      end
    end
    

This may seem like a crazy amount of extra work, but it'll almost certainly be worth it if you have to start getting particular with who's allowed to edit which fields and when.

Let's go through an example with a form. I don't know exactly what your form looks like, so here's a basic one.

    <%= form_for(@stolen_gun_form.stolen_gun ) do |f| %>
      <%= f.label :case_number %>
      <%= f.text_field :case_number, readonly: @stolen_gun_form.readonly_fields[:case_number] %>

      <%= f.label :case_worker %>
      <%= f.text_field :case_worker, @stolen_gun_form.readonly_fields[:case_worker]%>

      <%= f.label :owner_name %>
      <%= f.text_field :owner_name, @stolen_gun_form.readonly_fields[:owner_name] %>

      <%= f.label :serial_number, @stolen_gun_form.readonly_fields[:serial_number] %>
      <%= f.text_field :serial_number  %>

      <%= f.submit ""Save changes"" %>
    <% end %>

Typing out `@stolen_gun_form.readonly_fields[:case_number]` and the like gets repetitive, so in real life you'd clean it up a bit. 

There are two nice benefits to this seemingly extra work. Just like before, your view will be re-rendered with the same object and its potentially invalid attributes. However, that won't matter because you set the list of readonly fields when you created the object, so the original readonly fields will remain no matter how many attempts the user needs to get something right.

Secondly, you won't have to change the view's code in response to changes in how readonly fields should be determined. Your view doesn't care if it's super complicated to figure it out, and it doesn't need to know how to do it. All it needs to know is that it can check its form object for what it needs to know. Somewhere else in the code can be responsible for figuring out that stuff.

Speaking of which...

I actually don't like a `before_update` callback for this. The logic would run every time the record is updated, whether you expect it to or not. If anything else needs to update these records, the `before_update` then something is going to have to tell `before_update` that it's okay to do so. It'd probably be simpler to have something else figure out what to send to the record for updating, instead of having it figure out which of the given attributes it is supposed to allow. That way every situation that has to update the record can be responsible (on its own) for figuring out what to update, and then just tells the thing to do so.

This is basically the reasoning behind strong parameters in Rails, and the reason why things like model-level attribute protection has been removed.

And for most situations like you've described, you'd probably want to do just that, using `ActionController::Parameters` to create an allowlist for only the things you want to get through. If that sounds pretty similar to what we just did with the `readonly_fields` then you're on a good path. They're probably pretty closely related, and might just be an inverse of one another.

That would mean that you might have a single class responsible for giving you a list to use for something like `readonly_fields`, and another list of for permitted parameters to update, both derived from the full attributes list for `stolen_gun` and whoever the `current_user` is. You could move all the logic for list building out of the other classes and into it.

That way crazy changes to your permissions will only change your list builder class logic. `StolenGunsController`, `StolenGunFormObject`, and `edit.html.erb` won't have to change when permissions change.

For example:

Admins can edit everything, but they're tired of having to fix mistakes for people. It's time to give department heads the ability to edit.

Now department heads can edit everything, but there's no way they're doing someone else's paperwork. Team leads need the ability to edit all attributes on a form, *but only when the record was created by one of their direct reports.*

If you do it right, you'll never have to think about (or make changes to) your controller, model, form object, or view.


Good luck!

P.S. Don't overthink ""doing it right."" Ideally you make it ""just right enough"" to keep going without overspending your time. Exactly what ""just right enough"" actually means is often impossible to say in the moment. You'll get a better feel for it over the years.
",1535594794.0
TerminalVector,I would use a before_update callback to run a method before each record is saved. Then in that method you can call .changes on the object to see what changes were made by the user and raise an error if they shouldn't be allowed. Then you make the fields read-only (if they are set) in your view using erb. If you look at the rails docs on controller callbacks it'll give you something to go on. ,1535580336.0
ralampay,"You might be forcing that logic that you need too much on the model side. Since you mentioned you would like to have some logic in the view layer, i suggest doing those things in the way you render your form. It's not clear to me yet but if you have your code up on github or some repository, i'd gladly take a look and provide some tweaks if you want.

Also props on taking the initiative to do something like this.:)",1535587534.0
rh-dev,"# Yorkshire Historic Dictionary

Picked up Rails for a 5 month contract and it's just coming to a close. As is always the case, there's plenty of stuff I'd still like to finish but time has been limited. Using Rails 5.2 and not much else - a couple of JS libs. There's a fuller description of both the tech and the project in the readme, but basically it's a digital version of a book that is soon to be published, focussed on one man's research into old words from Yorkshire.

## Links:

- [Github](https://github.com/digital-york/yorkshire-dictionary)

- [Live demo](http://yhd.herokuapp.com)

## Experience:
I did a little Rails for a university project a few years ago, but then nothing, so basically 5 months learning on the job.

## Looking for
Any feedback at all, good or bad. I've done all the design too so any feedback on that equally appreciated - anything I can do to clear it up.

### Thanks for looking!",1535559296.0
rossta_,"# Rails 5 Local SSL Demo App
I recently set up SSL for local development and system tests over wildcard subdomains. Rails 5 system tests, along with recent improvements to Puma, Capybara and headless browsers have made local SSL easier than it used to be‚Äîthough it still takes a bit of work. So, I've put together this demo app and a companion blog post to help others hopefully.

##Links

* [Github](https://github.com/rossta/local-ssl-demo-rails)
* [Blog post](https://rossta.net/blog/local-ssl-for-rails-5.html)

##Dependencies

    gem 'rails', '~> 5.2.1'
    gem 'puma', '~> 3.12'
    gem 'webpacker', '~> 3.5.5' # optional

    group :test do
      gem 'capybara', '~> 3.5.1'
      gem 'selenium-webdriver', '~> 3.14.0'
      gem 'webdrivers', '~> 3.3.3'
      gem 'rspec-rails', '~> 3.8.0' # optional
    end

##Notes

**Experience**: I've been building Rails apps for over ten years professionally and on the side.

**Looking for**: Feedback or any questions about how I could make this demo more useful.

Thanks!",1536265039.0
GroceryBagHead,Post what your routes look like.,1535554220.0
niborg,I'm not sure anyone understands what you are asking. Please post your routes.rb file and your controller and where this `next_comment` method is located (presumably a model?).,1535555861.0
Frizkie,"Sounds like this is because you don't reset your sort number on a per-post basis. 

Do a post.comments.pluck(:sort).sort. This will give you a list of increasing sort numbers for your comments. Then write a couple lines of code that grab the next largest number in that list, and once you have the sort number, find the comment in the list that it corresponds to.",1535561067.0
ecstasyx,[v5.1.0+ has Rails 5 support added](https://github.com/RolifyCommunity/rolify/blob/master/CHANGELOG.rdoc),1535504368.0
CiscoEMT626,I've been using it in a 5.2.1 app I'm developing. So far no problems.,1535510088.0
posixpascal,Also using it very lightly for a Raild 5.1 project without any issues. I‚Äòm using mostly add_role and has_role? to show different actions in the admin backend. ,1536486183.0
kermit_was_right,"Maybe all of this is a little skewed by my Bay Area perspective, but 3 years of professional dev experience should make you a mid-level developer, not a junior one. I'm not surprised they're eager to hire you. But you might be undervaluing yourself. ",1535506776.0
IllegalThings,"Read the book ""Never Split the Difference"". Personally, I listened to the audiobook, and thats pretty well done. It covers negotiating in general and not salary specifically, so I found it extremely helpful outside of things you'd traditionally consider negotiating. i.e. what cards should we include in this sprint. Super relevant to salary negotiations too. ",1535511531.0
healthyside,"Maybe Robert Half‚Äôs [salary calculator](https://www.roberthalf.com/salary-guide/technology?utm_campaign=2018_Salary_Guide&utm_medium=Marketing_Collateral&utm_source=technology_Salary_Guide&utm_content=Salary_Calculator_Link#calculator) would help? 

They‚Äôre usually pretty up to date with salary ranges in a variety of jobs in the creative and IT fields. 
",1535509801.0
Auguryan,"I'm a junior developer in Ontario Canada, the going rate here seems to be in the $40,000 - $60,000 range. You'll find an accurate number by looking at salaries on pay scale for areas with a cost of living that is similar to San Antonio. ",1535500077.0
thrownthrownawayzz,"Maybe ask in /r/cscareerquestions, a lot more users there that might be familiar with this stuff",1535507215.0
RoboErectus,"You sound mid level, not Junior.  In SF you'd get between $135-165k plus equity (assuming that's how you show up in the interview) and tons of perks like commute reimbursement, catered meals, etc that I informally value at another $10k.

Idk what this converts to outside of the magic unicorn land, but the data is out there if you want to get a rough idea.

You should expect equity to add about another 50-100% of your salary.  So make sure this is a place you'll be happy and will do well.

After you've been working for a few years, education is less relevant.  But most places will also pay for classes and conferences.

The only difference I see in boot camp or self taught developers vs traditional school or masters is that the higher education leans to solving crazier problems in novel ways.  But that's a gross generalization.

We (the industry) are moving more towards concepts like fair offer where we give a more objective level based comp based on experience and market research.  Negotiation overwhelmingly favors certain groups and disfavors everyone else.

Negotiation tips: you can almost always just ask for $5-10k more and get it.  Sometimes they'll balk, so you can ask for a signing bonus instead.  You're a direct apply so they saved a shitload on sourcing or relocation.  Sourcing can cost 25-100% of a year's salary.  Really.

If for some reason they're holding out on money, you can almost always just ask for more vacation days if they're still not doing unlimited.  Sometimes they'll say no to $5k but not blink to two more weeks PTO which is actually more ü§∑.  Salary is usually the hardest thing to get when joining, there are lots of things you can ask for instead.

If they say ""oh we'll give you a raise in 6 months depending on how you do.. "" most of the time that doesn't pan out for a lot of reasons.  Most importantly being that the industry sucks at performance reviews and stuff.  I don't think people are lying when they say this, but the reality is that it's the hardest thing to deliver.",1535517729.0
DehydratingPretzel,"In Dallas I'd expect a JR RoR dev to make somewhere between 50-75k probably starting out. 

SA is probably slightly less than Dallas.",1535555350.0
appothecary,"Overestimate your salary. If you think you're worth 60k go in saying you're looking for 80k. They'll most likely talk you down to a more reasonable number that is still over your original thinking of 60k.

I don't know the job market or cost of living down there nor do I know the benefits that come with the job (this is a big factor in my salary negotiations) so it's hard to say exactly where you need to be in negotiations.

If you were interviewing with me I would consider you mid-level at 3 years of experience depending on your work.

",1535509244.0
fiiiiiine,"Easiest way is probably an additional model that represents the service at time of booking, and one that represents services currently available for future bookings. So rather than just one `Service` model, you have, say, `AvailableService` and `BookedService`.",1535498596.0
toobulkeh,"While instance models and events work just fine, I've also solved this by changing the UX a tad. A user's delete can become archive or edit can become clone and archive the old one.",1535517087.0
lewispb1,Can you share the whole project on GitHub?,1535482580.0
DeltoidSchizachyrium,Hmm... this thread seems to be of use: https://github.com/rails/rails/issues/32251,1535465286.0
jaroh,"As I am wont to do, I'll toot my own damn horn and suggest checking out my thing here - [shubox.io](https://shubox.io) 

&#x200B;

It does what you're looking for minus the active-storage part (which can be handled with webhooks and persisting those payloads)",1535490578.0
oztrax,I posted a link then realized you were looking for Dropzone info and that it wasn't covered in that tutorial....oops.,1535463752.0
DeltoidSchizachyrium,"If I understand dropzone correctly, my problem boils down to obtaining that direct upload url WITHOUT actually having a file input field. That way I could probably instantiate dropzone manually?",1535464734.0
ActiveModel_Dirty,"You can scope your search to the relevant course in the controller.

&#x200B;

So in your controller you have 

&#x200B;

`@section = Section.find(params[:id])`

&#x200B;

Instead of searching through Sections as a whole, you want to search through a particular course's sections. I'm going to assume you have this laid out with typical `before_action` s so I'll assume that in my example:

&#x200B;

`class SectionsController < ApplicationController`

  `before_action :find_course`

  `before_action :find_section`

&#x200B;

  `#more code, endpoints, etc`

&#x200B;

  `private`

  `def find_course`

`@course = Course.find(params[:course_id])`

  `end`

&#x200B;

  `def find_section`

`@section = @course.sections.find(params[:section_id])`

  `end`

&#x200B;

`end`",1535437769.0
AviatoAviator,"Add :selected=>params[:gender] to f.select options.

See https://stackoverflow.com/questions/623458/rails-select-helper-default-selected-value-how",1535417876.0
pacMakaveli,The third patan of ‚Äò‚Äô‚Äôoptions_for_select‚Äô‚Äô‚Äô needs to be the something like ‚Äò@user.gender‚Äô,1535423684.0
jryan727,"You need to specify the selected option when manually passing the collection to #select via #options\_for\_select as the second parameter.  A perhaps better option, though, would be to use the [enumerize](https://github.com/brainspec/enumerize) gem or Rails' native [enum](https://api.rubyonrails.org/classes/ActiveRecord/Enum.html) which will handle building the options from the available values and setting the currently selected value.  

&#x200B;

Also, don't forget to permit the :gender attribute if using strong params. ",1535504739.0
opsidao,"That is not a rails app, it is a JavaScrippt application that seems to be based on some template to use Foundation and compass (which are two other libraries on their own).",1535414992.0
schneems,"It looks like they don't have a Gemfile in that repo. The only saving grace you have is to make an empty Gemfile and then run

    bundle exec rails s

It will fail because you're missing some dependency, then you add that into the Gemfile. Rinse and repeat until it works.

However it looks like that code is quite old 4/5 years since last update. Your time would likely be better spent finding a more recent example.",1535407996.0
SidDefinition,"That's a js app, it's literally says in the readme you need Bower to install dependencies",1535428409.0
jimbarbara,"Thanks for the help.  When looking at the Readme, I saw that Ruby 1.9+ was required, in addition to Foundation and Compass.  I assumed that meant it was a Ruby app.  ...my bad  :-)

I decided to run Xampp on my windows laptop and see what it would take to get this code up and running.  I did run bower and there are issues with zurp foundation...so just downloaded it to a directory and ran bower install in there... I continued to see other fatal unable to access errors with other dependencies to get from git.   I guess this is beyond my years of teaching physics and enterprise software implementation.  ;-)   

I realize this is no longer really a question for this Reddit forum, but if anyone has a few moments to see what it would take to get this running locally and can direct me to a procedure... I would greatly appreciate it.

‚Äã",1535641743.0
cars10k,"`Movie.distinct.joins(:wishes).where(wishes: {profile_id: [1,2,3]})`",1535402912.0
headykain,"Your query in Arel:

```
Wish.select(Movie.arel_table[:id]).having(Arel.star.count.eq(3)).joins(
  Wish.arel_table.join(Profile.arel_table).on(
    Wish.arel_table[:profile_id].eq(Profile.arel_table[:id]).and(Profile.arel_table[:id].in([1, 2, 3]))
  ).join_sources
).joins(
  Wish.arel_table.join(Movie.arel_table).on(
    Wish.arel_table[:movie_id].eq(Movie.arel_table[:id])
  ).join_sources
).group(Movie.arel_table[:id])
```

Source: scuttle.io",1535419459.0
HellzStormer,"If you are ready to use a gem to make activerecord more powerful, there is https://github.com/MaxLap/activerecord_where_assoc.

With it:

`Movie.where_assoc_count(3, :==, :wishes, profile_id: profiles)`

If you want a pure ActiveRecord way:

`Movie.join(:wishes).group(""movies.id"").having(""COUNT(1) = 3"").where(wishes: {profile_id: profiles}).pluck(""MAX(movies.id)"").map(&:to_i)`",1535469375.0
ptrboro,"It depends on the logic you want to represent in your db.

Is it possible for a user to have planet in another user's solar system? Or solar system in another user's galaxy? If yes your models look good. ",1535365916.0
Rockster160,"A few redundant associations there, like mentioned in the other comment.

If a user is the only owner of planets/solar systems within galaxies, you should be using has-many-through instead of direct associations. If a user can own a galaxy and other users can own planets within that galaxy, then you should be good to go. :D 

(I'm also quite interested/curious why you need these models)",1535384913.0
drwl,"Last I checked, It's the same as the rails 4 one with some slightly updated. Michael Hartl's tutorial is pretty good https://www.railstutorial.org/",1535345647.0
dom_eden,"I learned Rails (and programming generally) using this tutorial 4 years ago and really liked it at the time, so it has my recommendation. ",1535366041.0
sekmo,Totally recommend it!,1535398292.0
appothecary,"I prefer to put application wide partials in `app/views/application`. Then you can reference them with out the path.

This way `app/views/application/_header.html.erb` would be `<%= render 'header' %>`",1535253953.0
ralampay,"Try `render partial: 'layouts/header'`. As far as i know, just using render will follow a relative path whereas explicitely including partial will render relative to views dir.",1535256637.0
manys,I use `shared/header` in an `app/views/shared` directory.,1535258162.0
,[deleted],1535265049.0
lfv89,"Just published some of the Rails Console techniques that I use myself to increase productivity.

I hope you can get something new out of it, and I'm always open to constructive criticism. 

Enjoy!",1535251427.0
kobaltzz,I recorded a screencast on Infinite Scrolling which doesn't have any dependencies other than jquery (which could be rewritten in vanilla) https://www.driftingruby.com/episodes/infinite-scrolling,1535251240.0
manys,Why isn't it displaying them? It'll (probably) say in either the rails log or the javascript console.,1535242696.0
lift_heavy_things,Your server needs to only know about UTC and you need to do tz translation in the client. Dont mix timezones into server land.  If you do it this way testing is trivial and locale remains where it belongs: in control of the user. ,1535230368.0
LarsP,"> If a due date is set to 28.08.2018 23:59 UTC

You're confusing two concepts here. `28.08.2018 23:59 UTC` is a time stamp, not a date. `28.08.2018` is a date.

If you take care to separate them, things should get clearer for you.",1535232205.0
micheldeouf,Here is a tutorial to integrate a google map into your rails app : [https://anadea.info/blog/how-to-integrate-google-maps-into-ruby-on-rails-app](https://anadea.info/blog/how-to-integrate-google-maps-into-ruby-on-rails-app) ,1535235030.0
jak_p,"Mapbox and Leaflet are great for that, but yes it takes some effort and reading the docs / examples to get started. But it should really be straightforward in the end. Initialize your map in the view with Javascript, then fetch your data from your Rails server and add each point on the map. ",1535217364.0
noobercakes,Check out gmap4rails ,1535209798.0
niborg,"My side project is a map heavy rails app that uses mapbox/leaflet. It took a lot of work with the leaflet api. Unless you want the most simple of maps, there isn't going to be a simple solution. You're going to have to do it the hard way I'm afraid!",1535220206.0
daddyfatknuckles,"i think google is going to be the most reliable, well documented option for this. i‚Äôve had good luck with it in the past",1535226228.0
bravo_sierra,"[Google's solution](https://developers.google.com/maps/documentation/javascript/earthquakes) is pretty basic.

I use Leaflet or [Openlayers](https://openlayers.org/) for this depending on the project, and often use Mapbox for a baselayer. You can also do it with Mapbox alone.

Both support heatmaps and clustering. Selecting a point/shape and having a pop-up or displaying information in a div is standard.

If you have a lot of data for the map (>1,000 points), or if it receives a lot of traffic then it can be more complicated.

The first thing is to expose your models as geojson, which you can do with Rails' built-in jbuilder.",1535267580.0
Rogem002,"Carrierwave is pretty awesome, but based on your info, if this is a new build you should be using [Active Storage](https://guides.rubyonrails.org/active_storage_overview.html).

Echoing /u/manys, we'll need some code samples to help you debug.",1535225120.0
manys,">However, when I want to remove multiple files it does not. If I remove the record the documents are attached to it will remove all the files.

Needs more detail here.",1535213164.0
c0m3tx,"Helpers and partials can be used to DRY up views, but without some code I am unable to give you more examples :D",1535200715.0
Rampocalypse,Take a look at the presenter pattern - [http://nithinbekal.com/posts/rails-presenters/](http://nithinbekal.com/posts/rails-presenters/),1535202823.0
intentions_are_high,"I agree with the other responses. 

Definitely check our presenter/decorator patterns. You can move all of your presentation logic there. 

Use partials, split a single view into components based on privileges. You‚Äôll end up with a lot more files but trust me, it‚Äôs much more manageable long term. 

Using these two will clean up a lot for you. ",1535207780.0
so_just,https://github.com/komposable/komponent,1535210008.0
justalever,Reusable partials and helpers are your friend. If you're into Vue or React you can also define custom components that act like partials and do a but more on the interactive side. There's a bunch you could try. ,1535223944.0
xionon,"What you want is whats known as a ""has many through"" relationship

So imagine you have two tables to start:

    characters
    id | name

    items
    id | name

You want characters to have items, but you don't want 100 copies of `broadsword` in your database. What you need is a table in between the two of them, helping you calculate a user's inventory.

    characters
    id | name

    character_items
    id | character_id | item_id

    items
    id | name

So, when `Character(id=1, name=""bob"")` gets access to a new item `Item(id=1, name=""broadsword"")`, you create a new `CharacterItem(character_id=1, item_id=1)`

Here's the relevant documentation, which will do a better job of explaining than me: https://guides.rubyonrails.org/association_basics.html#choosing-between-has-many-through-and-has-and-belongs-to-many",1535164106.0
SureLetsDoAnother,">IE: So and So user has X,Y,Z items (Sword/Shield/Axe whatever...) and also has X,Y,Z skills. I guess i'd just do a normal has_many relationship right? is there a more intelligent way?

There might be.

The [has_many :through](https://guides.rubyonrails.org/association_basics.html#the-has-many-through-association) (or the similar has_one :through) association is useful for situations that might be like yours.

In your scenario, a character would have`item_list` models, which would itself have many `item` models. This may not seem immediately relevant, but the third model provides you with more than a simple `has_many`.

Since `item_list` is it's own model, it'll have its own attributes and validations. As a basic example, the `item_list` could be assigned a name. You could do more though.

If characters should only be allowed a one a certain item at time, you could validate that relatively easily this way. It'd be slightly awkward to have to do it from the character. 

You could limit the number of total items in a list. You could limit the total weight of items in a list. You could make the total allowed weight in the list an attribute of the list, and update it in response to a character statistics. If it updates to be lower than the current total weight than you drop items from the list.

>Secondly:

> What's the best way to be able to ""Save"" multiple items to a user? IE: ideally the user could type in a name of something (lets say an item) and add it to a list, and then continue to add them (Sort of like a dropdown that lets you select multiple options). Im not really sure what this is called? A Multiselect or something? How are these saved and created as Inputs? (Since this is better than adding one at a time)

It depends.

Are the items already created somewhere, and the user is just adding them to their character's item list?

If so, then you have several ways to go about this, but you're probably looking for something like the [<datalist>](http://blog.teamtreehouse.com/creating-autocomplete-dropdowns-datalist-element) element.

You'd populate the values with the names of the items already in your database.

If the items are not created, then you'd need to allow the form for the item list to [accept nested attributes](https://api.rubyonrails.org/classes/ActiveRecord/NestedAttributes/ClassMethods.html) for items. This will allow users to create items for the item list *as* they create the item list.

Either way, you'll end up with a way to add a single item to an item list (either by selecting existing or creating new ones).

But you wanted to add multiple at once, and that's going to require a bit of javascript.

There are a few ways of doing this, and a quick bit of googling will lead you to several decent ones. Basically, you'll have a button or link for 'Add Another Item' that triggers a bit of javascript, which adds another instance of your single item fields.

>Thirdly: Ideally you could do this on mobile. Is rails a bad idea for making a ""Mobile"" Web-App?

Do you mean visiting the web app using a mobile browser? No, it's not a bad idea. Especially for something simple like this.

Do you mean as a mobile application that communicates with Rails as a back end? Still not a bad idea, but probably a little more complicated (and more work) than what this might need.",1535170411.0
tonyta,"We just switched to sidekiq at Reflektive: http://www.jpchou.com/blog/2018/06/24/sidekiq-ifying-emails-at-reflektive/

Sidekiq allows higher concurrency through multithreading for whenever you need it. If you compare the issues, pulls, and changelog on each project, you‚Äôll see that Sidekiq is very well maintained. Its maintainers (especially, Mike Perham) are very keen on shedding dependencies and not polluting all objects with its interface. It also has a pro version with some nice bells and whistles. 

One benefit of Delayed::Job is that you can just use your main datastore which might be helpful early on. (Edit: But it should be easy enough to spin up a free/hobby Redis instance on Heroku.)",1535118683.0
Rogem002,"I've been using Sidekiq for the last 2 years and I've been really happy with it. Plus I think Heroku encourages usage of Sidekiq right now.

The big difference between the two is DelayedJob uses the database to store upcoming jobs and Sidekiq uses Redis. ",1535118604.0
lift_heavy_things,"Sidekiq is fantastic and one my favorite pieces of software to work with. The api is straightforward, its fast, it comes with monitoring out of the box, if you buy the licenses Mike Perham is amazing (Ive gotten replies to support emails in like 10 min). I cant endorse Sidekiq more enthusiastically. Redis is not hard to setup and in fact its really nice to have your queues not live in your main cache. ",1535121794.0
2called_chaos,"We never got into Sidekiq because it has a redis dependency and we don't have redis in our ecosystem yet. And didn't want to introduce it just for this. We run good with DJ.

On the other hand DJ has the worst perfomance but unless you do a lot with delayed tasks it doesn't really matter from my experience.

I found this [""comparison"" page](https://stackshare.io/stackups/delayed_job-vs-resque-vs-sidekiq) but I find it funny that Sidekiq's strongest point is ""being simple"" but I would argue, there's nothing more simple than DJ.

",1535118374.0
justAGuyFromBrooklyn,"Sidekiq is effective, just make sure it‚Äôs running as sidekiq and not activejob, activejob has much higher overhead. The instructions are in the sidekiq APIdocs",1535122896.0
oztrax,"We started with DelayedJob and then moved to Sidekiq. We like them both and Sidekiq is pretty easy to add to a Heroku app but Sidekiq does require more ""stuff"" running in your development environment, like Redis and maybe using Foreman to start your app and Redis at the same time.",1535118957.0
ignurant,"Sidekiq is quite nice, and also easier to use than it looks. Years ago I used DelayedJob because I already had the DB laying around, and I was intimidated by Sidekiq since both Sidekiq and Redis for new concepts to me.

After I took the time to explore it, I was stunned at how easy it was to use. I use it both in and out of rails. I think the hardest thing with Sidekiq is the question: ""Do I have Redis lying around somewhere?"" If yes: Then I would always choose it first.",1535119226.0
stephenmurdoch,"Sidekiq wins over DJ for me, but I'm probably gonna give Sucker Punch a try on my next site: [https://github.com/brandonhilkert/sucker\_punch](https://github.com/brandonhilkert/sucker_punch) \- it doesn't need Redis, runs well on Heroku (from what I have read), and the author, Brandon Hilkert, seems to know what he's doing. 

It's actively maintained, and there are 0 open issues on github too, which makes me think it might be worth a shot. 

As always finding the right too for the job is a matter of trial and error, so I'll give it a go and maybe report back on my findings.",1535131170.0
jeeperbleeper,Be sure to look at the Que gem too. ,1535118680.0
swrobel,"Sidekiq: threads
DJ: processes

Choice is easy when you need high concurrency ",1535120982.0
jemminger,"Third option:  https://github.com/chanks/que  Uses postgres as the store, no dependency on Redis.  It's a good option if you're running a few thousand jobs here and there since it runs on your web dynos.  If you're going to have constant pressure of 10's of thousands or more then you probably want to look elsewhere.",1535133103.0
jasdeep13,Sidekiq undoubtedly.,1535138521.0
Rogem002,"I normally just create the file `app/assets/stylesheets/active_admin.scss`, with contents like:

    // SASS variable overrides must be declared before loading up Active Admin's styles.
    //
    // To view the variables that Active Admin provides, take a look at
    // https://github.com/activeadmin/activeadmin/blob/master/app/assets/stylesheets/active_admin/mixins/_variables.scss in the
    // Active Admin source.
    //
    // For example, to change the sidebar width:
    // $sidebar-width: 242px;
    @import ""active_admin/myapps-variables"";

    // Active Admin's got SASS!
    @import ""active_admin/mixins"";
    @import ""active_admin/base"";
    
    // My Custom styles
    @import ""active_admin/my-custom-styles"";

    // Overriding any non-variable SASS must be done after the fact.
    // For example, to change the default status-tag color:
    //
    //   .status_tag { background: #6090DB; }


Then just override a few of their [default variables](https://github.com/activeadmin/activeadmin/blob/master/app/assets/stylesheets/active_admin/mixins/_variables.scss).

You will need override the CSS set in [app/assets/stylesheets/active_admin/_typography.scss](https://github.com/activeadmin/activeadmin/blob/master/app/assets/stylesheets/active_admin/_typography.scss#L27) to adjust the font size.

> Change the menu location, from the top to the side

This can be done with just CSS (Though it'll be a lot of CSS), ~~though you might want to monkey patch over   https://github.com/activeadmin/activeadmin/blob/9a33a081c99d9aa19045d46155ffe5f51ea76710/lib/active_admin/views/pages/base.rb#L49 to add some extra divs to make it easier to work with.~~",1535115188.0
RhialtoTheMarv,"It's hard to say what's going on without seeing some of your code and getting info about the file, but basically Paperclip is trying to save your bacon here: it's possible for nefarious users to try to upload a file that reports to be one thing (an image, for example), but is actually another (some kind of executable, for example).
Have you tried uploading a different file of the same type to see if that works? If so, the problem is with your initial file.
It is possible to turn off these validations, but it's not a safe choice. (You can pass `validate_media_type: false` to the `has_attached_file` method, usually in your model.)",1535075369.0
Draglung,"Hey guys I'm the writer, wanted to post about my learnings and share with you guys! Would love any feedback!

‚Äã",1535069283.0
manys,"I would not want to put all that logic in the view, but the first thing I'd do is put the collection in an actual array or constant.",1535071608.0
tintub,"I would go with the association.  It's easier and faster to pull out applications by topics covered, if that was ever a need, or counts etc., but more important to me though is that with the array there is no database-level referential integrity.  You can't define the IDs stored in the array to be a foreign key from the topic table.  I wish you could, but you can't.  So then you leave yourself open to bugs where e.g. someone's application is associated with a topic that no longer exists.",1535070739.0
awh,"I'd use an association.  If there's ever a need to translate the certification topics, or change the name of one, you'll thank yourself for it.",1535082968.0
mr_aes,"I could be wrong but you could implement both a helper and some JS so that the view stays clean and neat while you offload the logic bloat to a helper method. If the logic needs to be really complex, throw it into a service object. ",1535103709.0
firstpantsthenshoes,"We were thinking about uploading then to our shared drive and adding a task on deployment that copies the files over to our server. But it added new security flaws and didn‚Äôt solve our issue entirely. Having them in a different git repo either. What if you need a new key added to your views? You‚Äôre still needed anyway.
Bottomline instead of moving to a CMS just yet we decided to give phraseapp a try. I can let you know how it goes. There are other solutions but that one looked well-documented & full-feature.
You can import your files and sync them to github.",1535068082.0
lordbalron,Try moving them to the database? [https://github.com/svenfuchs/i18n-active\_record](https://github.com/svenfuchs/i18n-active_record),1535070548.0
oztrax,"Outsourced service maybe, like: https://qordoba.com/product-managers/

I haven't used this but it looks like a possible solution...",1535121266.0
solak,"https://phraseapp.com/ or some other service this type.

The team can manage the translations, but you'de be still reponsible for fetching the changes and deploying them. There are convenient rake tasks to help you, so it's not a big hassle.

Otherwise you can go with the translations in database approach.",1535383490.0
GroceryBagHead,"Unless you're starving for RAM, there's zero reason not to set up a small VM for development purposes. One benefit is that you can just delete it and redo if something got messed up. 

Also you can just create a ready-to-go VM instance and give it to your students so you don't waste a week of them fucking with their computers.",1535036660.0
andygauge,Ive used windows subsystem for linux for over a year now exclusively. Bash is a windows 10 feature which includes a second HAL and kernel. I put the db on windows and do the rest within WSL.  Totally recommend it.,1535040971.0
ProgramAllTheThings,"I develop with Rails on MacOS, Linux, and Windows.

The setup for Windows is much more difficult, but it works pretty perfectly now. I found that [this post helped a lot](https://medium.com/ruby-on-rails-web-application-development/how-to-install-rubyonrails-on-windows-7-8-10-complete-tutorial-2017-fc95720ee059). I think there was a step or two that I found I could skip, having already had some things set up. This does *not* require installation of bash for windows, which may be much easier. I've found the native Windows setup to be much faster and easier to work with than a VM once I got everything running.

I did have to add a line or two to a Gemfile when I encountered some issues in some gems - gem 'wdm', '>= 0.1.0' if Gem.win_platform? and gem 'tzinfo-data', platforms: [:mingw, :mswin, :x64_mingw, :jruby] were the changes, I believe.

The only difference now between developing on Windows and Mac/Linux, from my perspective, is that I still haven't found a good replacement for terminal/bash in windows (I did some setup for tab completion, but I'm really missing bash utilities, etc). I recently installed Bash for Windows, but I haven't done any testing yet.",1535050653.0
2called_chaos,"I mean it's gotten better but I guess there's still some edge cases. Also I was taught to make your dev-environment as close as possible to your production environment...

But it's certainly possible https://gorails.com/setup/windows/10",1535034805.0
dangerdave17,I recently completed a boot camp that was rails focused and two of the students were on Windows machines and it was definitely doable but there were a few things that were very difficult. ,1535035408.0
so_just,bash on windows is great,1535042162.0
kobaltzz,"They could definitely go the Docker or Windows Linux Subsystem routes. I'd likely go the route of Docker for students since this method is a bit less invasive than the WSL. Also, using Docker will give a more clear uninstallation path that WSL.

[https://www.driftingruby.com/episodes/intro-to-docker-on-windows](https://www.driftingruby.com/episodes/intro-to-docker-on-windows)

[https://www.driftingruby.com/episodes/ruby-on-rails-development-with-microsoft-windows-10](https://www.driftingruby.com/episodes/ruby-on-rails-development-with-microsoft-windows-10)

Either way, Docker, WSL, or VM, you are doing some kind of virtualization with the Ruby interpreter living inside of a Container/VM.",1535045135.0
FurCollarCriminal,"Ive used Cloud9 IDE to build a rails app before on a windows machine. IIRC its free and allows you to do everything through a web browser. Perfect for a use case like this, where projects are short lived and for thr purpose of education only",1535048660.0
RebornOrDontCry,"On Windows 10 I work like this: 

-> Install Ubuntu 16.04 in Microsoft Store 

-> Activate Window's Subsystem for Linux kernel

-> Download and install VS Code

-> Set default Bash Terminal

And now I do not feel any discomfort in the work",1535065345.0
Rampocalypse,"We ended up in a situation where we had to move from Linux to a Windows environment because of the on-premise/enterprise nature of our application. That being said there where definitely some challenges but its very doable. This blog post helped a lot - [https://www.hanselman.com/blog/AnnouncingRunningRubyOnRailsOnIIS8OrAnythingElseReallyWithTheNewHttpPlatformHandler.aspx](https://www.hanselman.com/blog/AnnouncingRunningRubyOnRailsOnIIS8OrAnythingElseReallyWithTheNewHttpPlatformHandler.aspx)

Also, jRuby helped our performance a great deal, and allowed us to run our app in java which is very windows friendly.",1535204059.0
aarkerio,"1) You shouldn't develop to Windows on a Linux system.

2) The web is a linux world.  ",1535037053.0
A_Jacks_Mind,"Ruby on windows: here be dragons

Edit: perhaps the windows subsystem for linux works well with ruby, I have no experience with this",1535045135.0
sdn,"Rails will work on windows (see the Rails Installer), but there are many issues with gems that require native compilation. Since rails locks the version of your gems, deploying cross platform is a problem since ... platform specific gems may not work exactly as in test/development, if at all.",1535045758.0
Simonchibao,I tried both VM and WSL and I much prefer the VM way.,1535072721.0
eyesofsaturn,Use Vagrant or Docker and you'll enjoy an easy life.,1535084748.0
mr1337,"> Windows

\*hisses\*",1535040773.0
fluffyturd101,"I am currently using windows to build a rails app (only because I dont have a mac) and its definitely possible. When using postgresql things can get... Iffy, and setting up ruby, rails and/or rvm could make you want to slam your head into your keyboard, but past that I haven't had much problems",1535036271.0
Dee_Jiensai,"If you teach them rails just to teach general programming, you could go windows.

If you teach it so the pupils can eventually have their own website running somewhere, you need to do it on linux. 

A rails website will never be running on a windows host in the wild.  
If you don't include teaching basic linux skills, they will never be able to get their website running on their own.",1535093983.0
Rogem002,"[draper](https://github.com/drapergem/draper) - I picked up a project with lots of `<%= resource.somevar? ? 'Say this' : 'or that' %>` logic in the views. This helped me move it back into a nice tidy ruby class.

[auto_strip_attributes](https://github.com/holli/auto_strip_attributes) - My users kept adding extra whitespace when they were submitting forms. This removed the extra unnecessary data before it went to the database.

[chartkick](https://github.com/ankane/chartkick) - Makes adding super pretty graphs & charts to your pages pretty easy.

[html_validation](https://github.com/ericbeland/html_validation) - Validate your HTML is valid as part of your test suit. So handy for catching  missing `</div>` and such.

[pa11y](https://github.com/pa11y/pa11y) - Not a Ruby gem (but I think it has a wrapper for Rspec), it spots accessibility errors in your webpage & suggests fixes.",1535029209.0
advisador,"[Interactor](https://github.com/collectiveidea/interactor) & 
[Interactor::Contracts](https://github.com/michaelherold/interactor-contracts) These two combined make for excellent service objects. I usually create an `ApplicationService` object and include these two to use as a base for all Service objects

[ensurance](https://github.com/bsharpe/ensurance) Very handy for arguments to service objects.  

    def my_method(thing)
      thing = Thing.ensure(thing)
  
      <do something>
    end
In this way, I can call `my_method` with an id, or a record of Thing, or a GlobalID and it works.  Console life becomes much easier

[shrine](https://github.com/shrinerb/shrine) Having recently implemented attachments in Rails in both ActiveStorage and Shrine, I can easily say the Shrine version was easier to implement and more robust.

[annotate](https://github.com/ctran/annotate_models) Sure, it's an oldie, but it's a goodie.  It's the first thing I add to a Rails codebase.  Being able to view the DB schema in the Model files is priceless.",1535037023.0
BluePizzaPill,"I've finally found a usecase to include the [`attr_extras`](https://github.com/barsoom/attr_extras) gem in my project. It gets rid of boilerplate code for simple constructors and attribute readers/writers etc.

For example:

    class InvoiceBuilder
      def initialize(invoice, employee)
        @invoice, @employee = invoice, employee
      end
    
      private
    
      attr_reader :invoice, :employee
    end

becomes
    
    class InvoiceBuilder
      pattr_initialize :invoice, :employee
    end

It can do almost all combinations of initializers and accessors, supports optional/required keyword arguments and object equality operations. All in a library with a interface of maybe 8 methods.",1535035547.0
Ronald-Ray-Gun,"I recently released [Guac](https://github.com/mattboldt/guac)! It's a simple local git repo management tool. I grew tired of `cd`ing into each of my repos and pulling changes, checking statuses, etc., one at a time. So I made a gem to update them all at once!

https://github.com/mattboldt/guac",1535042478.0
some_guy_over_here,I love [simple command](https://github.com/nebulab/simple_command). Great for organizing complex controller actions into reusable ruby classes. Have a controller action whose logic you need in a rake? Just call the command! Great for organization and code reuse.,1535031732.0
juanhuttemann,You should definitely check this web [http://awesome-ruby.com/](http://awesome-ruby.com/),1535168334.0
gaune,Drop me a PM if you want,1535016164.0
cruyff8,I'd be happy to do so.,1535024704.0
rakedbdrop,"I‚Äôm also around
",1535027065.0
hmans,"Wait, what. You're paying for a bootcamp, and they're asking you to find external, unpaid mentorship?!",1535034730.0
davidnquach,You might want to use instance variables in your controller to pass data to your views. Using the models directly in your view IMO is an anti-pattern.,1534998271.0
SerKnight,"```ruby
<input type=""number"" name=""points"" max=""<%= Car.max_points %>"">
```",1534998461.0
seainhd,"Can you give more info like model names and view code where you want the max applied?

This is fairly easy if we know database models and such.",1534997286.0
faitswulff,"Sorry to be an ass, but can you reformat this with four spaces to denote code instead of backticks? Reddit is a pain in the ass sometimes, but then, I think everyone should just use GitHub Flavored Markdown.",1534979071.0
polysaturate,Which particular file is throwing this exception from the back trace?,1534994082.0
davidnquach,"If you want to update the alias partial I would use ajax with rails since you're calling with the option remote: true. Create an alias.js.erb file that contains the JavaScript to update the alias element. Whenever the link is pressed rails will recognize it as an ajax call and render the correct js file for it based on the name. 

EDIT:

The reason you're getting unknown variable or method form is because the ""form"" variable in the block is not being passed to the controller like you think it is. When you click the link no other information is being passed to the controller. The controller just renders your alias partial thus your partial does not know about the ""form"" variable.",1534999890.0
Chesh,It preserves the original file names just fine as far as I can tell in the blob record itself. Where are trying to access the file from?,1534979796.0
toadkicker,I would suggest Shrine over Active Storage.,1534972876.0
robertross,We use nginx with open resty ,1534952813.0
toobulkeh,"A gateway will never get the performance or security doing it yourself will get.

It's a good stop gap if you don't have the funds or time and don't care about either of those.",1534948159.0
TotesMessenger,"I'm a bot, *bleep*, *bloop*. Someone has linked to this thread from another place on reddit:

- [/r/rubyonrails] [Rails destroy | Uncaught SyntaxError: Invalid or unexpected token \[added js logs\] ‚Ä¢ r\/rails](https://www.reddit.com/r/rubyonrails/comments/99d6yt/rails_destroy_uncaught_syntaxerror_invalid_or/)

&nbsp;*^(If you follow any of the above links, please respect the rules of reddit and don't vote in the other threads.) ^\([Info](/r/TotesMessenger) ^/ ^[Contact](/message/compose?to=/r/TotesMessenger))*",1534943512.0
justAGuyFromBrooklyn,"Not to be that guy, you have a syntax error. Check the changes you made, there‚Äôs some sort of error in the js lib",1534945980.0
so_just,"Yes, https://github.com/kpumuk/meta-tags and https://github.com/kjvarga/sitemap_generator",1534941757.0
kobaltzz,"I recorded some old screencasts on this topic a few years ago

https://www.driftingruby.com/episodes/sitemap-generator

https://www.driftingruby.com/episodes/meta-tags",1534985317.0
JanDintel,"I always start at the database schema. This gives me a good overview of the entities that are stored. But you can also deduct some of the design choices that are made in the application.

After that I continue to the controllers. The controllers are the layer between the application and the outside world. It gives you a good idea what's happening in the application and which requests it normally receives.

Only after I've seen the database schema and the controllers I look in the more interesting models.

When the application has it's own acceptance test, it might also be worthwhile to go through it, since it describes the use cases of the app.",1534927317.0
voodooGQ,"Always the test/spec directory first, assuming there is decent coverage. Gives you a good understanding of how it works in a real world scenario. Then the schema, then the models. ",1534941357.0
faitswulff,"As others have said, specs and db schema. But I generally run `rails/rake routes` to examine its public interface before diving into the schema.",1534943935.0
DuroSoft,"1. Database schema
2. Models
3. routes.rb
4. controllers in order of decreasing number of lines",1534974950.0
spinlock,"It depends on the project. 

Some projects are organized around service objects while others will stick to a traditional MVC approach.

Some projects are just APIs and some render web pages on the serve.

Some projects will put most of the business logic into React Components.

Anyway, ask the people who contribute to the projects you like what they're doing. That should also give you a good idea of how it will be to contribute to their codebase.",1534962129.0
hibe1010,"i would say it depends a lot on the project. as others already pointed out the database schema almost always gives a really code overview of the domain the application is covering. checking the routes will give you an idea how to interact with the application. If it is a classical customer facing web application by checking those two you should already quite a solid understanding of what is going on in that application.

&#x200B;

if you are lucky and there some feature specs are the best way to figure out what the application is doing.

&#x200B;

the Gemfile is also really helpful but for that you should already be familiar with most of the common gems.

For me personally it is very helpful to just start up the application and play around with the interface. Either with the Front-End (if there is one) or by trying to make calls to the API. 

&#x200B;

If there are more complex models involved I like to start up the rails console and playing around with the models to see how they behave. Same for service objects and so on.

&#x200B;

The initalizers can also be interesting as in some rails application they might do quite some important stuff.

&#x200B;

i am not sure if checking the unit tests is more helpful than actually diving straight into the code (unless they are written really well).",1534967206.0
etagwerker,"This is a great question and I don't know the right answer. Here is what I usually do:

\- Gemfile: The amount of dependencies is usually a good indicator of app size.

\- app/models: This gives me a good idea of how many models are in the application.

\- app/controllers: I like to read some of the controllers to assess how fat they are.

\- app/views: I like to read through some of the templates. Sometimes there are code smells in there when the view knows too much.

\- config/routes.rb: This gives me an idea of the amount of endpoints.

\- db/schema.rb: This gives you a good idea of the database structure.

\- spec/test folder: This gives me an idea if there are any tests.

\- SimpleCov: If the app has a test suite, it is a good way to see how many files are covered or not.

\- flay/flog/heckle: You can run these tools through the codebase to find code smells. More info here: [http://ruby.sadi.st/Ruby\_Sadist.html](http://ruby.sadi.st/Ruby_Sadist.html) \-- CodeClimate does something similar (it is free for open source projects) 

\- Run bundler-audit on the project. This will tell you how many security issues it has. 

&#x200B;",1534975052.0
cyancynic,"Pull it up in RubyMine, checkout db/schema.whatever and app/models first.


",1534984444.0
tnypxl,I'd start with unit tests. A lot can be gleaned there.,1534985531.0
Verdana11,"Late to the party here, but I would say Models first. Sure, db relationships are super important, but it should be fairly easy to figure out the core models quickly. Once you know about the objects you're dealing with, learn how they're dealt with - the Controllers. 

This is coming from someone who is working with some insanely complicated business logic - the repercussions for creating and updating/saving core models are *widespread*. 

In Rails, if you don't know how the model handles itself, you won't know what the controllers are *really* doing. ",1534990379.0
SizzlinSteak,routes > schema > User > Most Important Model > controllers > Gemfile > system tests,1534944745.0
chelseas08,What does Rails logs say? What browser console logs say? Without knowing what errors are happening it is hard to debug. ,1534915732.0
matteoredz,"Instead of pasting full layout, paste Rails log and browser console log!",1534927364.0
stepfresh,"Try prepending your lines of code with 4 spaces to ensure they appear as code blocks.. 

    like
    so

It'll make your post significantly easier to read and potentially debug.

Have you checked the logs on production when attempting to delete the record to determine the cause of failure? Maybe add a `rescue` block to your destroy method and output the stack to your logs, with something like the following:

    Rails.logger.debug($!) ",1534915142.0
manys,"I can't read all that so I'll just suggest  

    <%= button_to content_tag(:i, class: ""..."", style: ""...""), @job, method: :delete %>

Don't use links (GETs) to change the database.",1534915682.0
,[deleted],1534916397.0
BLITZCRUNK123,"I just put it in `app/models`, that seems to be the commonly accepted place for POROs/PORCs (i.e. Plain Old Ruby). It's probably not ideal, but at least it gets preloaded by default.

I've also thrown around the idea of an `app/lib` with my team, but we haven't committed to that yet.",1534864345.0
Uysim,For me I always place it at app/services,1534864129.0
matteoredz,"It depends on what pattern you would use.

If your class wraps some non-database logic, but related closely to your app, you could create a service class.

Otherwise you could put your class code in /lib adding the path to application.rb preload system",1534864655.0
slendermann29,"I would put the logic that generates/stores/parses/converts images somewhere in app/services, and use that from a model, e.g. User model that has an avatar column, whenever i need to perform those operations. Basically if it's in the model where you want to do it it's ok to have something in app/models, but it's good to move these kind of operations outside of model, to avoid creating fat models.   


Also models should only be concerned with validation and querying/state changing logic, not to mention that you would want to do your image processing somewhere in the background, within a job on a Sidekiq/Resque/DelayedJob worker, which is another reason to hide that logic from the model, and encapsulate it within a service",1534868390.0
spinlock,"I'm working on images in my app right now. I've put all of the shared logic in `app/models/concerns/imageable.rb`.

Note: all of my models have a `jsonb` field named `data` to manage most of their ... data. Image urls are stored as an array of strings in `data['images']`:

    # model.rb
    class [Model] < ApplicationRecord
      include Imageable

      def self.data_attributes
        {
          ...
          images: [
            :string,
            array: true,
            default: (1..4).map { ""https://placeimg.com/135/135/tech/#{rand(100)}"" }
          ],
          ...
        }
      end

      jsonb_accessor :data, self.data_attributes
  
    # imageable.rb
    module Imageable
      include ActiveSupport::Concern
      ...
      module Admin
        def self.included(dsl)
          dsl.send(:member\_action, :add\_images, method: :post) do
          data = [resource.data](https://resource.data)
          data\[""images""\] = resource.images.concat(params.require(:images))
          [resource.data](https://resource.data) = data
          [resource.save](https://resource.save)!
          head :ok
        end

          dsl.send(:member\_action, :delete\_image, method: :delete) do
          data = [resource.data](https://resource.data)
        data[""images""].delete\_at(params.require(:image\_id).to\_i)
          [resource.data](https://resource.data) = data
          [resource.save](https://resource.save)!
          redirect\_back(fallback\_location: admin\_dashboard\_path)
        end

        dsl.send(:action\_item, :images, only: \[:show\]) do
          render ""shared/upload\_images""
        end
      end

You then `include Imageable` in any model that needs to manage images.

I'm also using `ActiveAdmin` so I `include Imageable::Admin` in `app/admin/[model].rb`. That creates the action items and endpoints to upload images.

Test with Rspec:

    # spec/models/concerns/[model].rb
    require 'rails_helper'

    RSpec.shared_examples 'imageable' do |parameter|
      let(:model) { create(described_class.to_s.underscore) }

It does make it a pain to include the `shared_examples`:


    # spec/models/[model]_spec.rb
    require 'rails_helper'
    require Rails.root.join('spec/models/concerns/imageable')

    RSpec.describe Review, type: :model do
      subject(:review) { build_stubbed(:review) }

      it_behaves_like 'imageable'
",1534872030.0
jaryl,"If your code is specific to your application then it should firstly be somewhere within the app folder. If your code makes use of say your images or user model then it is specific to your application and shouldn‚Äôt be in the lib folder. 

Within the app folder, you could create a folder such as services, and park it there. For projects I work on we typically have a lot more folders, such as decorators, presenters, form objects, etc. If you establish a set of guidelines as to what goes into those folders, then it makes a lot of sense to group by convention. 

Otherwise, you can still put it under the standard models folder. Even if there is no ActiveRecord code, it still models some sort of behaviour or entity, and thus it is not a wrong place to put things; for e.g, a form object is merely a model of a form.

I‚Äôd only worry about creating a folder if I am having a lot of models that have a similar implementation, such that I can label them that I start moving them into their own folder.",1534876208.0
blingwat,We almost always put it in lib. ,1534868161.0
OtavioHenrique,"It depends of what you learned or prefer, I think everybody follow one pattern that they prefer or company/project use. 

In general, we've three choices:
- models/
- services/
- lib/

At my current work, we use a pattern that I like:

- At `models/` If we have an PORO that have business logic of a persisted object (Rails Model), we create a folder with the name of these model and put this PORO inside it.

Example (only for example):
```
models/
‚îú‚îÄ‚îÄ document/
‚îÇ   ‚îú‚îÄ‚îÄ document_validator.rb
|   ‚îú‚îÄ‚îÄ document_downloader.rb 
‚îú‚îÄ‚îÄ document.rb
```

```ruby
module Document
  class DocumentValidator
  end
end
```

- At `lib/` we put more generic POROS, that all the project can use, usually we put integration classes, for example:

```
lib/
‚îú‚îÄ‚îÄ amazon_s3_downloader.rb
```
(All the project may use AmazonS3Downloader)

- At `services/` we put classes the sounds more like ""services"" that really do a service, and don't belongs to specific model logic, like `event_hub_service.rb` that put events at our Kinesis, or our A/B test service.
",1534908807.0
Attack_Bovines,"I don‚Äôt have a complete answer, but have you explored the :domain option when setting a cookie?

https://api.rubyonrails.org/v5.2.1/classes/ActionDispatch/Cookies.html",1534832305.0
chris_software,So you want the cookie to be unique on each site? Is there anything you can use to make the cookie name unique?,1534837765.0
chelseas08,"Wow, interesting problem:).

I think u/chris_software is right and you need to pass unique token/app\_id/domain inside iframe for different domains/clients. Either passing a token or just domain may work? When you have that unique token or domain, you set it as cookie too. And when your app checks cookies it will check a cookie for User A and cookie for token/app\_id/domain and based on that customizes the data.",1534845822.0
anonyfool,"OK, I created an iframe embeddable widget within Rails, and don't think I ever encountered this problem but maybe I did not test for it.  I did encounter the issue that Rails by default disables CORS so nothing calling our Rails server worked in iframes so I had to whitelist the servers that used our site in iframes and enable CORS in the Rails controller functions I used.",1534863839.0
amadman114,"I think you might be over thinking it

Let's say you wanna set `repeat_customer` value to true per domain

`session[request.domain][:repeat_customer] = true`

Unless I've missed something, you now have a cookie set per domain.",1534867060.0
posixpascal,"How about prefixing the cookie with the site domain? You could generate these widgets per site like:
<iframe src=""//your-rails-app.com/site/deadbeef/widgets/A""></iframe>

And in your rails app prefix the cookies with deadbeef in this case. For siteB use a different identifier and you have successfully scoped your cookies per site. 

",1536487110.0
seainhd,"You should stop being vague and say EXACTLY what you want to happen and where you‚Äôre stuck.


It sounds like you‚Äôre saying ‚ÄúI‚Äôm stuck who can help me?!?‚Äù

The better question is ‚ÄúI‚Äôm on XYZ and cannot do ABC.‚Äù",1534829624.0
Randy_Watson,"If this has nothing to do with the database, where are the practice pairs being generated from? It sounds like what you are doing is better served purely on the frontend and you might be overcomplicating this. 

Let me step back a second and walk you through the data flow in rails. Imagine we have a **Foo** model and its views and controllers. The controller maps CRUD actions (create, read, update, delete) actions. These actions are just ruby methods in the controllers that are associated with a route in the routes file. For example:

    https://myrailsapp.com/foo/new

This would map to the **FooController** new method. When the rails server sees this, it executes whatever methods exist inside the method and then looks for the view file. The view files is then returned to the browser. 

    https://myrailsapp.com/foo/index
    https://myrailsapp.com/foo/1

In the above routes, the first one would call the index method and return the index view. The second method would do a database lookup of the **Foo** model with an id of 1. If it finds it, it returns the show view with the specified model. 

This is the convention over configuration part. However, you are not calling your database so there are several ways you could accomplish what you are trying to do.

1. Have a single controller method that has the practice pair. Use javascript to create your messages and user interaction.

2. Use view helper methods and Javascript to work with your practice pairs.

3. **Not recommended**: Use view logic.

4. **Not recommended**: Pass variables between controllers in your view. 

I'll tell you how to do number four, but I really think you should be doing this on the client side. In your view, you can pass information to a different controller as follows:

    <%= link_to ""Controller2""
        :controller => ""controller_2"", 
        :action => ""update"", 
        :pair => @pair %>

That would create a link that passes @pair to the update action of controller 2. You would actually have to set the variable first, otherwise it's just nil.

That all being said, I really think you should look at setting this up client side if you are not dealing with the database.",1534806558.0
ethboy2000,"If the pairs are pretty simple pieces of text, instead of rendering your ‚Äòcontroller1‚Äô new template from ‚Äòcontroller1‚Äô create, you could redirect to the ‚Äòcontroller1‚Äô new action instead and pass the pairs as query string parameters.

This would serve two purposes:

1. It makes sure you‚Äôre on the correct path so that when you hit your back button it‚Äôs actually trying to GET your new action.
2. It stores your pairs in the query string. Otherwise, where else is it supposed to persist this data without getting really complicated? That way, when you hit back, you‚Äôre actually going back to /new?pair1=bob,julie etc. instead of a blank new template.",1534837153.0
twochains,"Not a lot. You lose the in-process fallback asset compilation when the dev server isn‚Äôt running, but that‚Äôs infeasibly slow for large front-ends anyway.",1534786591.0
AprilSpektra,">for a client

If you haven't already, you 100% need to consult with a lawyer to ensure that you fully own this work and are legally capable of selling it. You may think that if this client didn't pay then you're in the clear, and you may be right, but that will depend on the laws of your jurisdiction, the contract you signed, and the particulars of the falling out you had. These are questions that only a lawyer can answer.",1534787501.0
JohnBooty,"Oh wow, that's fantastic!! That's a need I never knew existed until you filled it. =)",1534789381.0
jasdeep13,something like this for VS Code will be super useful!,1534786422.0
kblks,There's no way to be 100% sure unless you control the other site and can pass tokens around to verify visits.,1534733900.0
posixpascal,"Give the site owner a unique link to your site (e.g. https://yoursite.tld/ref/<cryptic-token>) and then in your controller you query your db to map the cryptic token to the link you generated. 
Although depending on your requirements this might not be what you want because using this strategy you:
-	still don‚Äòt know if the user clicked the link on the embedded site
-	user can copy the link somewhere and let other people click on it without going through *embedded site*

On mobile atm. ",1536487404.0
edgarlepe,What does your config/routes.rb look like?,1534664967.0
fp4,"    [[t('.on'), true], [t('.off'), false]]",1534599861.0
c0m3tx,"`helper_method` is used in order to be able to call controller methods in views. I think it is a serious code smell using `action_name` in a case-when, as it reduces decoupling forcing you to update `user` method every time a new action is added. I think the first one is more ""Rails way"" than the second one.

A good example for `helper_method` usage is for retrieving current logged in user: it has many uses in controllers but can also be useful in views, for instance to show user name or registered email address.",1534588774.0
Rogem002,"Your formatting has gone a bit weird btw!

I massively prefer the `helper_method` approach, mostly because it stops me putting instance variables into my views & helper methods, plus it encourages them to be considered somewhat immutable. But also because I have a super generic CRUD controller I normally inherit from:

    class CrudController < ApplicationController
      def index; end

      def show; end

      def new; end

      def create
        resource.attributes = resource_params
        return render :new unless resource.save
        redirect_to url_for(resource), notice: t('.notice')
      end

      def edit; end

      def update
        return render :edit unless resource.update_attributes(resource_params)
        redirect_to url_for(resource), notice: t('.notice')
      end

      def delete; end;
      
      def destroy
        return render :delete unless resource.destroy
        redirect_to url_for(resource_class), notice: t('.notice')
      end

      private
      # I inherit this class, then just override the resource_class and resource_params methods.
      def resource_class
        raise NotImplementedError
        # Customer
      end

      def resource_params
        raise NotImplementedError
        # params.require(:resource).permit(:some, :keys)
      end

      # Sometimes I override the resource method also if I need to scope things off 
      # the current users and such.
      helper_method :resource
      def resource
        @resource ||= if %w(new create).include?(action_name)
                        resource_class.new.decorate
                      else
                        resource_class.find(params[:id]).decorate
                      end
      end

      helper_method :collection
      def collection
        @collection ||= resource_class.all.decorate
      end
    end


This keeps things fairly generic between my projects & don't have to worry about what exactly `resource`/`collection` is when building out a view.",1534589727.0
sendtojapan,Alternate idea: Add a private `attr_reader :user`.,1534638152.0
SminkyBazzA,Use `each` to loop through @book.languages in place of the render line.,1534582101.0
snowboard44,"i do not, but thanks for sharing. this looks pretty awesome. i've tried every PDF rails gem out there, but its always a pain to style more complex pages - considering page margins/page breaks/headers/footers etc.",1534576186.0
Rogem002,"I have no experience with that service but I'd be a little sceptical because their copyright on their site shows 2017, which seems like lazy development.

I normally just use the [wicked_pdf](https://github.com/mileszs/wicked_pdf) gem, which similar to what is running behind the scenes on those APIs anyway & is a little bit easier to work with then Prawn.

Also: PDFs are the worst! I've always found most clients require them, but never actually use them.",1534584332.0
vflo,"Hey, we use it quite a lot for our app and have been for a few years now. Our users love it as they can customise printing documents themselves with a ton of available components. They recently rebranded the whole thing from ActualReports and improved the API.


Can probably answer questions you might have about the service.",1534585285.0
deedubaya,Shameless plug for [BreezyPDFLite](https://github.com/danielwestendorf/breezy-pdf-lite) (open source) and [BreezyPDF](https://breezypdf.com) (SaaS) [demo](https://ruby.demo.breezypdf.com).,1534597440.0
anonyfool,"You would want to use some sort of add on like PostGIS for Postgresql, many databases do not have geospatial filtering built in, so that your app doesn't load markers that are not visible on the view of the map, assuming users have more than a trivial number of markers.  For a MVP/first pass it's probably not that important but once you get over a few dozen entries you would want to limit the query or use something like k-means for clustering instead of showing every point (not sure if google maps does this for you, also, since google is lowering the limits for usage til it starts charging, probably should investigate that).",1534539796.0
georgeclaghorn,"It‚Äôs a little suspicious that you don‚Äôt see the failing PUT request in your app logs. Do you have anything in front of your app, like nginx or a load balancer?",1534560181.0
el-rotny,"I was having a similar problem with NGINX today. I was pretty stumped at first because I couldn't see the error, it was just coming back in the browser console as a permission denied. Just like you I had to do some mods to nginx to see the errors because it was a global nginx error rather than an error on the virtual server. I found this thread helpful [https://github.com/denji/homebrew-nginx/issues/124](https://github.com/denji/homebrew-nginx/issues/124)

‚Äã

In short, its a permission issue when the buffer is trying to be opened by nginx. failing on `open()`

Ran these commands

    sudo chmod o+x /usr/local/var
    
    sudo chown -vhR nobody:admin /usr/local/var/run/nginx

This is what you want to see happen

`2018/08/21 13:17:58 [warn] 18125#0: *1 a client request body is buffered to a temporary file /usr/local/var/run/nginx/client_body_temp/0000000001, client: 127.0.0.1, server: xxx, request: ""PUT /rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWRXSFZ5VjB3NWFWQTRhM1Y0YTJrNVJFWTJVM0YzV1haR0Jqb0dSVlE2RVdOdmJuUmxiblJmZEhsd1pVa2lEMmx0WVdkbEwycHdaV2NHT3daVU9oTmpiMjUwWlc1MFgyeGxibWQwYUdrRCtrSUJPZzFqYUdWamEzTjFiVWtpSFVSNmEwbG9OamRuWm5sWGMydElRME13Ym5Cek1HYzlQUVk3QmxRPSIsImV4cCI6IjIwMTgtMDgtMjFUMTc6NDM6NDcuOTAyWiIsInB1ciI6ImJsb2JfdG9rZW4ifX0=--46d67e3c2267691c498fffbe92917bf33b14fced HTTP/1.1"", host: ""xxx"", referrer: ""https://xxxx:3000/auth""`",1534883451.0
drwl,"Could you provide more information? Rails version, how your application is setup, etc. It's not immediately clear from this post.",1534532317.0
KingPretzel,"Look into AnyCable. It‚Äôs a Go or Erlang drop in solution for performance hiccups with ActionCable. My app is in 5.1, so I‚Äôm not sure if 5.2 has brought better cable performance, but check it out. ",1534514967.0
Uysim,I use it for my production too. It is great. According to my research online they said it has the problem with performance. But I never meet it in my real production ,1534519495.0
MrPopinjay,We found ELBs to be completely broken with websockets. I'd recommend upgrading to AWS ALBs.,1534520833.0
spinlock,"I don't have production experience with ActionCable but, in my tests, Phoenix performed _much_ better. It's also one of those solutions that doesn't scale. If you run _lots_ of traffic, your js polling is going to scale up better.

So, definitely look at your application and how Action Cable works for you. I'd suggest using **puppeteer** to run headless chrome and see how many connections you can support.

But, if you're working on a low traffic site, Rails is probably good enough.",1534524726.0
Shigawire_,"When the API or Websocket Sever is on another (sub)domain, don‚Äôt forget about CORS and, equally important, the allowed_request_origins configuration:
https://guides.rubyonrails.org/action_cable_overview.html#allowed-request-origins",1534516627.0
faitswulff,"It's a bit sad that there haven't been any responses. MINASWAN, no?

You can try #rubyonrails on IRC. Once I settle on a macOS client for it, I can meet you there (most likely) under my username.",1534478753.0
depa,I would love to help. Feel free to DM!,1534485539.0
LivingAnywhere,"Hey you, I do quite some mentoring (rails/javascript/docker/graphql) also have experience with low self esteem and depression among developers, I didnt have any specific PTSD students but I'm happy to help you out. Just give me a PM and we can schedule a Skype talk, or if you like we can chat online. Up to you :)",1534492200.0
ClemDev,I‚Äôd be down to help a bit but can‚Äôt commit any fixed time to it. Post a couple repos here with some questions and I‚Äôll gladly look over it and give you advice and recommendations on how to improve it. ,1534513337.0
etcook,I run a small close knit dev community and slack chat. We help out when we can. Just DM me.,1534549589.0
toadkicker,"Not sure what part of the world you're in but I would get out on sites like meetup.com and find a group of folks who meet at cafes or similar and code together. You're not an impostor, so stop acting like one! Also if you're interested in chat rooms for Ruby, I'm in a bunch of Ruby and Javascript channels on Slack. PM your email address and I'll send you invites.",1534480665.0
jabbaroni,"How are you truncating your keys and IVs?

You are using base64 encoding but mention ""characters"". If you want to truncate your key/IV to 16 bytes, you need to `Base64.decode` them, truncate them (e.g. with `[0...16]`) then re-encode. 

And actually your IV is already 16 bytes.",1534577230.0
cmd-t,The default locator just passes the model_id string to the find method of the model_class. You‚Äôll need to define your own Locator that special cases your Temperature model and delegates other models to the default locator. See https://github.com/rails/globalid/blob/master/lib/global_id/locator.rb,1534440968.0
madebylotus,"Hey - we made www.gemprospector.com to help guide users to newer dependencies (just ruby). This would seem like a natural fit as part of our product, and had been in our backlog for a long time. 

Want to shoot me a message so we can meet and chat? Definitely some potential to collaborate. ",1534452627.0
LivingAnywhere,"Hey you! I think that vulnerabilities are super important and should be a part of the dev workflow. We have bundler-audit a part of the ci workflow. However, what I really want, since you're making a product is a full fledged suite. So not only check my rails, but check my whole docker image for vulns. And then suggest an upgrade path, and maybe even tries to upgrade the gems in a separate branch. ",1534441316.0
recycledcoder,"Kickass idea. Supply chain scanning as an integral part of CI doesn't get enough airtime. 

You may want to target the compliance market (e.g. PCI-DSS has supply chain requirements that are thoroughly market-addressed on the OS side of things, but virtually un-addressed on the application libraries side). 

I think it might be worth at least a landing page, possibly some SEM.",1534445385.0
,Is it possible to use octotrack if I don't use Github?,1534454822.0
lift_heavy_things,Try using the backtrace method and checking if it includes your template path. ,1534430509.0
varnima,Upload to github on your profile. Then run it with Heroku. All will take you like 5-10 mins if you know what are you doing and 30 min if you don't know and watch a video how to do it.,1534431129.0
edgarlepe,"Did you already set up the web server (nginx/Apache), application server (puma/unicorn/passenger/etc.), and database?",1534450859.0
somerandomteen,Have you tried using [the one-click app for this](https://www.digitalocean.com/community/tutorials/how-to-use-the-ruby-on-rails-one-click-application-on-digitalocean) on DigitalOcean?,1534492654.0
Rogem002,"Any settings in `config/environment.rb` are overridden by what is set in their environment specific configuration (e.g.  `config/environments/heroku.rb`). It is pretty weird `eager_load` would be affecting that.

What do you have `config.action_mailer` configs set to in staging.rb/heroku.rb?

Also, Heroku has a default environment of `production` (You can check what yours is by running `ENV['RAILS_ENV']` in the heroku console). That could be throwing off your configuration a little. ",1534416485.0
Rogem002,"GitHub and CodePen are pretty awesome, a personal blog is even better :)",1534414889.0
slendermann29,"if you don't mind them to be open sourced, you could create an npm package for free. You can check out[ this](https://medium.freecodecamp.org/how-to-make-a-beautiful-tiny-npm-package-and-publish-it-2881d4307f78) tutorial on how to get started with that",1534880307.0
cmd-t,S3 is extremely cheap tho. ,1534416943.0
madebylotus,"Managing a directory of administrators is not very different from managing a directory of some other resource in your app.  If you're adding an ""admin"" section to your app for the first time, and it's highly internal and likely to grow, you'll probably see benefit from using a 3rd party admin gem such as ActiveAdmin or RailsAdmin.

If you have existing infrastructure in place and/or don't want to manage integrations with these very large libraries (ActiveAdmin can be a bit of a pain to keep up with over the years) then writing something custom might be a better solution.  Have to evaluate if the return on your time investment is worth it.

For a startup or MVP, I'd almost always go with a 3rd party admin panel solution.",1534365696.0
toadkicker,[I wrote an article about this](https://medium.com/@toddbaur/using-devise-and-pundit-with-rails-5-to-delegate-authorization-to-users-22f2c83d0244?source=linkShare-f8354741d7e6-1534394600) ,1534394633.0
slendermann29,"Does the generation on the fly happen on every request mapped to that controller action ? If so then you should consider using something like active\_storage or carrierwave(though it has become kind of obsolete) and i assume you would also  process and upload them (like in S3) within a background job. I would go against server file system storage since you probably have multiple instances of your app in production behind a load balacer, so that way its better to have a centralized store",1534880741.0
,"* **Name of your project**:  Orionx prices

* **A short description**: Web aplication to see the prices of the cryptocurrencies in the [Orionx exchange](https://orionx.com), plus some indicators and the international prices of the cryptocurrencies that are in the exchange.

* **Link to Live app**: [https://orionx-prices.herokuapp.com](https://orionx-prices.herokuapp.com)

* **Link to GitHub**: [https://github.com/oicitrapdraz/orionx_prices](https://github.com/oicitrapdraz/orionx_prices)",1534354630.0
cmd-t,Why are your params optional when they definitely don‚Äôt seem to be optional? (Or Strings for that matter). ,1534399882.0
fiiiiiine,"In the future, fyi it's much more helpful to include the error message in posts like this. But I can already see a couple problems:

You're passing just the post_id to `User#vote`, not an actual `Post` object.

Also you should be calling `User.find`, not `find_by` (`find_by` takes a hash of key-value pairs, e.g.: `User.find_by(username: ""LeonidFilbert"")`",1534345300.0
mistakes_are_gold,"Good job! Keep up the good work and wish you a goodluck in your future! 

",1534332382.0
ClikeX,">I am 17 years old

Totally off topic here. Just want to say that it's awesome that you're already working on a project like this.

>I am looking too for intership in rails - Can I apply for it by having a repository? (:

Yes. Any code you have that shows your skills will help. 

Just a repo isn't really enough though. Also have some sort of CV with your skills, and a motivation letter for wanting to do the internship.

Good luck with your project and finding an internship! Hope it works out for you.",1534332559.0
mf_dk43,who did the design on this site?,1534347472.0
meatbox,"to say that security is lacking here, is an understatement and a half...",1534352120.0
TotesMessenger,"I'm a bot, *bleep*, *bloop*. Someone has linked to this thread from another place on reddit:

- [/r/rubyonrails] [\[UPDATE\] New non-profit organization created in ruby on rails (: ‚Ä¢ r\/rails](https://www.reddit.com/r/rubyonrails/comments/97hkr9/update_new_nonprofit_organization_created_in_ruby/)

&nbsp;*^(If you follow any of the above links, please respect the rules of reddit and don't vote in the other threads.) ^\([Info](/r/TotesMessenger) ^/ ^[Contact](/message/compose?to=/r/TotesMessenger))*",1534333901.0
Herpiles,"I had the exact same issue setting multiple attributes using Rail's store to write to a jsonb field. Rails unfortunately stringifies and escapes stored JSON and makes each attribute not queryable. For example, the following using `store` creates the undesired, stringified stored jsonb field. [It seems to be a regression related to how a default value is set on a jsonb field.](https://github.com/rails/rails/issues/25594)

`
    store :jsonb_field,
            accessors: %i[attribute_1, attribute_2], coder: JSON
`


Turns out, Rails 5 attribute API does not stringify stored JSON, and you can tuck this behavior away nicely into a concern if you still experience this behavior.

    # frozen_string_literal: true

    module Accessors
      extend ActiveSupport::Concern

      class_methods do
        def has_accessors_for(field, *accessors)
          attribute field, :json

          accessors.flatten.each do |accessor|
            # create getters/setters on the given jsonb field for each attribute
            define_method(""#{accessor}="") do |val|
              self[field] ||= {}
              self[field][accessor.to_s] = val
            end

            define_method(accessor) do
              self[field] ||= {}
              self[field][accessor.to_s]
            end
          end
        end
      end
    end


You can then very easily mimic the behavior of `store` in any model without stringifying JSON with:

`
has_accessors_for :jsonb_field,
                           %i[attribute_1, attribute_2]
`",1534528635.0
Schrockwell,What version of ActiveRecord?,1534334698.0
valadil,"I‚Äôve bumped into that too but haven‚Äôt had the chance to solve it yet. What‚Äôs weird is it‚Äôs inconsistent. Some of our records save fine, some are a hash by stringified (I suppose since the string is json, Postgres don‚Äôt care).",1534372193.0
dom_eden,"Why do you care about how it is stored in Postgres? You say that it‚Äôs being set and retrieved correctly, so there doesn‚Äôt seem to be an issue here unless I‚Äôm missing something?",1534348264.0
TotesMessenger,"I'm a bot, *bleep*, *bloop*. Someone has linked to this thread from another place on reddit:

- [/r/rubyonrails] [Cryptovalley - startup in ruby on rails created in RoR + one question](https://www.reddit.com/r/rubyonrails/comments/97bbn8/cryptovalley_startup_in_ruby_on_rails_created_in/)

&nbsp;*^(If you follow any of the above links, please respect the rules of reddit and don't vote in the other threads.) ^\([Info](/r/TotesMessenger) ^/ ^[Contact](/message/compose?to=/r/TotesMessenger))*",1534274855.0
null-undefined,"I moved from the .NET world and 90% of the same concepts apply in rails. The only caveat I‚Äôll add to that, is getting familiar with the command line. It seems to be a hang up for a lot of things people moving from windows style dev where everything is in a drop down menu. Put together a small app in rails and make sure you understand all of the concepts it presents, and you‚Äôll be fine. ",1534265062.0
d4be4st,This is an awesome read: https://infinum.co/the-capsized-eight/i-moved-from-django-to-rails-and-nothing-terrible-happened,1534265941.0
brainbag,"I started professionally developing more than 20 years ago; I've also taught many classes, and hired a lot of people for development roles, including in Rails. When I'm hiring someone, I care a *lot* more about whether they're a good developer than what language or framework they know. 

Unless I'm hiring for a serious senior position, the most I expect of a developer is to have a basic understanding of how Rails works, and how it can be refactored. Basically, what I care about is whether they can come up with solutions to programming problems (which are pretty much the same in any language) more than what language they can do it in.  

For example, I might ask a few questions about how the backend cycle works in Rails (request to response), building a controller from scratch, refactoring a messy model into [better patterns](https://codeclimate.com/blog/7-ways-to-decompose-fat-activerecord-models/) given a few hints, etc.

As far as ""MUST HAVE 3 YEARS"" - writing job descriptions is hard even when you know exactly what you're looking for - and businesses almost never know what they really want for an employee. Even early in my career, I never paid much attention to the job description. I'm self taught, and most of them *absolutely must have a degree in CS* - but most of the time they didn't care about my education if we were a good fit. 

I wouldn't put too much stock in it - if you like a position and the company, by all means send in a resume, even if they don't have open positions! I've gotten several jobs simply by saying ""hey I'm looking for what to do next and your company seems really great, do you have any open positions? Here's my resume.""

Long story short - be confident, bold, and don't eliminate yourself from the running before you start.",1534280060.0
BeerNirvana,Sure - I moved from Oracle to Coldfusion to Rails. It's easy when you are a senior.,1534266019.0
recycledcoder,"Yeah, I'd been coding for 15 years (Perl, ASP, PHP, Python, etc.) before my first ruby/rails job. Did that for a couple of years - no worries.",1534268601.0
ahmeij,"From a hiring perspective I see it as follows. Ruby (on Rails) engineers are hard to come by, I dont know of any ruby oriented development company that is not struggling to hire when they are looking for more people.

I've started a number of companies with products build on Ruby on Rails and a consistent problem is finding extra help. Obviously everybody is looking for the sheep with 5  legs, lots of experience, lots of frameworks, lots of schooling, teamplayer but also a hero, etc etc. But in the end anyone who can show they are a decent developer with a decent grasp of the rails framework will be hired.

In other words, depending on the area you live in (and the availability of startups/scale-ups there) I would not worry much about finding a job. I'd apply for those jobs with 3years+ experience requirements and explain my background, I'd be surprised if the actual number of years rails experience will be what would lead to not being hired.

Personally I moved about 9 years ago from an obscure language to Ruby. Initially to increase development speed for the company I then worked for, after 2 years I started for my self, building software for my startups and hiring help where needed. I'm checking out other platform and languages as they come along, however Rails is continuing its development in such a briljant way making it so easy for me to build something from scratch and maintain it for years, I have not been seriously tempted to move away from Rails.",1534325707.0
megatux2,I moved from 8 years of Java to Ruby and RoR. Nice fresh air,1534284034.0
zinovyev,"Moved from PHP several years ago. Just several months and some good books and courses were enough to become a well-payed ruby programmer: ‚ÄúEloquent Ruby‚Äù, ‚ÄúThe Well Grounded Rubyist‚Äù, Rails guides from the official web site and some webinars at Udemy =)",1534276232.0
personwithcomputer,"Yes, I went from Java (8 years) to .NET (4 years) to Rails (6 years). Never looked back.

When I do hiring, I look for understanding of the basics of client and server infrastructure, request/response, multithreading, etc. The language isn't as important, though HR will generally add ""MUST HAVE X YEARS"". Having an at least cursory understanding of how Rails implements the infrastructure really helps, as well as OO concepts (e.g. law of Demeter)

I also look for clarity of communication. Can you explain a concept to me as if I were a first-year CS student? Do you use jargon unnecessarily? Are you able to be honest about something you don't know rather than trying to BS? Can I give you simple requirements of a system (e.g. minesweeper) and you tell me which objects should exist (ie. perform OO analysis and design)?

Here is a [humbling list of back-end developer questions](https://github.com/arialdomartini/Back-End-Developer-Interview-Questions) I am personally working through. I've found it very helpful (though I'd challenge some of them, they are excellent food for thought).",1534292700.0
Randy_Watson,"If you have 4 years development experience and have done a professional project using Rails 5, you should be fine. ",1534271729.0
kermit_was_right,"It‚Äôs like that with everything - people are always looking for that perfect fit and always *need* tons of years of professional experience with every layer of their stack. But in reality people hop tech stacks all the time, and the more experienced the management and senior devs on the team are, the more flexible they tend to be. If you‚Äôre a solid engineer with a good head on your shoulders and solid communication skills, a lot of the time these things become ‚Äúnice to have‚Äùs. The big barriers are often HR rubes in mid-sized companies (big boys have dedicated recruiters that understand the job better) who filter on keywords.

Now is also a great time for these shenanigans because it‚Äôs impossible to find people and positions stay open for months on end.",1534272310.0
megatux2,I moved from 8 years of Java to Ruby and RoR. Nice fresh air,1534284087.0
beneggett,"HR people write qualifications like that in job postings
Engineering managers care about talent and relevant experience

Good luck in your transition!",1534287483.0
valadil,I switched from drupal to rails. That switch was easier than learning the new jobs data model. ,1534292056.0
bawiddah,"In JavaScript, you have the event loop. In Ruby you have meta programming. Both have their challeneges. But the core of application development is similar enough. I switched from PHP to Rails without much issue. ",1534304237.0
Jauny78,"I learned with Rails and worked on it 1 year while very junior and then moved to python and node for my work for 4 years.
I recently quit and now have founded a design and engineering studio and use Rails by default when I have the choice because it's so much faster and easier to write clean code. Also, a lot of companies I talk to (my main network is YC) are mostly on Rails.

As someone who's been working and doing 300+ interviews both at small startups, FANG and now my own consultancy, I can guarantee you you'll easily find great Rails job if you are any good at programming in general, even if you don't really know Rails.

Hell, I'll give you freelance work if you need, I'm often on the lookout for good senior engineers :)",1534326883.0
AfterQuality,Perl > Php > Python > PHP > C# > PHP > Node > Ruby,1534269011.0
oztrax,"I went from PHP to Objective-C, then to Swift and now Ruby. Swift I grew to like, Ruby is great. PHP and Objective-C I do *not* miss at all. :)
",1534340842.0
mcglothlin,"Literally just got an offer for a Senior Rails Engineer position a week ago and I start on Monday so I feel like my experience is relevant here. I've got twelve years in the industry mostly in Java but with experience in a few languages including one professional Rails app a few years back.

Might depend where you live a bit but here in Minneapolis there's a shortage of experienced senior developers. I tried to get some info from recruiters about the shape of the job market because I haven't been in it for awhile and I was curious and it seems like between CS grads and coding bootcamps there's a glut of junior devs but not that many talented senior devs. 

If you know your stuff and you can demonstrate an ability to pick up new languages and skills you probably won't have too much trouble landing a Ruby job. A couple positions including the one I got specifically said they'd consider comparable experience in other languages but if a place is having trouble finding senior rails people they probably will even if they say 3+ years experience REQUIRED or whatever.",1535081299.0
railsr7,"> been programming professionally for 4 years now using NodeJS/Express in the backend

> doesn't know how to use search",1534278236.0
choonggg,"Better yet, self hosted heroku on DO https://github.com/dokku/dokku",1534264952.0
superbilk,"Just one thing: hatchbox.io
It makes deployment to DO really easy. Took me about 5min. ",1534265606.0
SidDefinition,"What are you unsure about? To deploy a rails project to a server you gotta use Capistrano. These two are very good guides on how to deploy rails to digital oceans

Here on [Digital Ocean](https://www.digitalocean.com/community/tutorials/deploying-a-rails-app-on-ubuntu-14-04-with-capistrano-nginx-and-puma)

and here by [GoRails](https://gorails.com/deploy/ubuntu/18.04)",1534262951.0
seainhd,ding dong [https://www.digitalocean.com/community/tutorials/how-to-use-the-ruby-on-rails-one-click-application-on-digitalocean](https://www.digitalocean.com/community/tutorials/how-to-use-the-ruby-on-rails-one-click-application-on-digitalocean),1534271300.0
exroz,"I would also recommend HatchBox. You can deploy in a couple of minutes using DO, Linode or Vultr.

I have used Heroku, Capistrano and manually deployed rails and hatchbox is similar to Heroku because of its simplicity while being way cheaper.

Hope it helps",1534301185.0
Jauny78,"Digital Ocean have very good tutorials on how to setup their droplets to get Rails working. Although, they are all on specific subject and it's a little tricky to get one stop shop article giving the big picture with step by step tutorial.

So I wrote a post doing exactly that. I setup my blog in rails and got it running on an Ubuntu 16 box, with NGINX and auto deploys with Capistrano.

Here it is: http://jonathanfromgrowth.com/automated-deploys-for-rails-5-puma-nginx-ubuntu-16-with-capistrano-on-digital-ocean ",1534327070.0
adrianvalenz,This is what you need my friend. BEST tutorial out there for doing just this: [https://gorails.com/deploy/ubuntu/16.04](https://gorails.com/deploy/ubuntu/16.04),1536399767.0
cmd-t,"This isn‚Äôt really trivial. What you could do is join tags twice. I‚Äôm not sure if this is possible by specifying two relations (person has many short_tags, happy_tags) and use where, or you could use something like the array_agg function from Postgres in combination with select and group. ",1534263652.0
_matthewd,"The first thing that comes to mind is:

    ['short', 'happy'].inject(Person.all) { |relation, tag| 
      relation.where(id: 
        PersonTag.
          includes(:tag).
          where(tag: { name: tag }).
          select(:person_id)
      ) 
    }

.. which looks terrible, but given appropriate indexes, might at least perform reasonably well. (e.g. compared to a COUNT-based subquery)",1534263711.0
manys,"Sure, it can be trivial, if you migrate your data to a graph db.",1534266984.0
seainhd,"There is no native rails way to solve this.

I'd try something like

    tag_names = ['short', 'happy']
    Person.joins(:tags).where(tags: {name: tag_names}).group('persons.id').having(""count(persons.id)=#{tag_names.size}"")

my syntax might be off a bit but this should get you close. ",1534271675.0
dfmtl,"You could try either adding an attr_accessor for the room to the user model or copy the devise generated views into your app and tweak them yourself 
‚Äòbin/rails g devise:views‚Äô
Or better still look into building a form object that represents the concept of a sign up",1534263992.0
xilplaxim,"I would override the sessions controller's create method.  Change the last line from ""respond_with resource, location: after_sign_in_path_for(resource)"" to redirect to the selected room, or a default room if nil.

https://github.com/plataformatec/devise/blob/master/app/controllers/devise/sessions_controller.rb

There are a few other options [here](https://github.com/plataformatec/devise/wiki/How-Tos) under workflow customization, but for your use case this seems the most straight forward approach.",1534379984.0
Randy_Watson,"**params** is just hash that gets passed from request to request. So, if you have a :category key, params would look like:

    params = {category: ""This is my category param""}

The params hash is mapped to whatever is in the url that made the request. So, imagine you have a question show view. This view shows a single question. The url is s follows:

    https://myrailsapp.com/question/1

In that case, the :id is mapped to the 1. So it looks like:

    params = {id: 1}

Now let's go a little bit farther with this. Imagine you have an index view, but you want to filter by category. Your URL might look something like this:

    https://myrailsapp.com/questions?category=foo

Now you will have a params hash that appears as follows:

    params = {category: ""foo""}

Params is just a variable that holds hash. The hash keys and values are set by the URL making the request. 

    @category_id = Category.find_by(name: params[:category]).id

You have retrieved your category id, but you could just retrieve the entire record by chopping of the .id part. 

So, do this:

    @category = Category.find_by(name: params[:category])

The @category instance variable will contain the id and the description. So, just call @category.id or @category.description when you need them.",1534252268.0
editor_of_the_beast,"The polymorphic association comments are correct, though I'd like to ask a couple of questions about the domain since polymorphic associations can be a design smell. 

What is a CampaignInstance? Why does a Campaign have_many CampaignInstances? Generally, words like ""Instance"" or ""Data"" in a model are a smell - they don't really mean anything. For example, isn't an object instance of the Campaign model a ""CampaignInstance"" conceptually? Is there a real-world concept that a CampaignInstance represents?

Assuming CampaignInstance must exist (though I would suggest finding a better name), why would it and Campaign both have many ContactLists? Is it possible to use  one list for the Campaign itself? There would be no need to think about this if that were possible. The best way to solve problems is to avoid them :)",1534249456.0
c0m3tx,"If I understood you, just use a polymorphic association.

For instance,

```
class Campaign < ApplicationRecord
  has_many :campaign_instances
  has_many :contact_lists, as: :contact_listable
end

class CampaignInstance < ApplicationRecord
  belongs_to :campaign
  has_many :contact_lists, as: :contact_listable
end

class ContactList < ApplicationRecord
  belongs_to :contact_listable, polymorphic: true
end
```

Then in the migrations, create contact list with two extra fields, contact_listable_id (integer) and contact_listable_class (string)

Haven't checked the code since I'm not on my work PC, but for more information on polymorphic associations check https://guides.rubyonrails.org/association_basics.html#polymorphic-associations",1534248701.0
vmcilwain,"This is the sage confusion that /u/editor_of_the_beast and /u/darkclark discovered. It's a really bad name for what would now be called a campaign event

This scenario is basically so a campaign can use a combination of groups of contacts (contact lists) to send a newsletter but also for each campaign event where the newsletter actually sends, an addition group of contacts can be added just to that event. 

It's a little over the top and still possibly confusing I will admit but it's what the stake holder wants.",1534293855.0
darkclark,"You could make the many to many table also be polymorphic.

* contact_list_id
* contacter_id
* contacter_type",1534248940.0
Randy_Watson,"I'm a little confused by your database design. If a Campaign has many CampaignInstances (it is the parent record), why do both parent and child reference the Contact List model? What I mean by that -> is there some reason it has to be this way?

Depending on what you are doing, my way may or may not be valid. I would only reference ContactList models via the CampaignInstance model and add a through association on the Campaign model. The downside is that all ContactList instances have to be associated with a CampaignInstance to be associated with a Campaign. However, if you don't need to associate the way above, it will streamline your associations.",1534272327.0
qrevolution,"Stripe may be calling your webhook multiple times -- you may want to ensure that you're returning a 2xx code in that method to let Stripe know everything was processed on your end correctly. Otherwise, Stripe will attempt to retry:

https://stripe.com/docs/billing/webhooks#understand

https://stripe.com/docs/webhooks#responding-to-a-webhook",1534197437.0
SminkyBazzA,"Log the details of each webhook call, or look at the event logs in Stripe, to see if you're accidentally sending the email twice because of multiple Stripe events about the same charge.",1534197237.0
Nemya_Nation,I learnt that amongst other things I should say!,1534186177.0
ethboy2000,DM me. Been a Rails developer (professionally) for 4 years. Looking to improve myself so might be a good opportunity for me to do that by teaching someone else.,1534189212.0
dooogall,Would anybody be interested in a UK Rails Slack channel?,1534230360.0
ramongr,"I'd recommend taking a look at Thoughtbot's https://thoughtbot.com/upcase/
It has loads of information and challenges, hope this helps",1534242719.0
GroceryBagHead,"See: http://awesome-ruby.com/#-navigation

But there's nothing magical about generating site navigations. You kinda have to do it by hand most of the time.",1534185323.0
feyn,"I wrote the [navtastic gem](https://github.com/aramvisser/navtastic) because I couldn't find anything either. It's very basic, but does enough what I want. You could take a look at it.",1534228263.0
Celsian,"An asynchronous worker would help here, someone could kick off an export, the worker would handle the actual export and you could have it provide the user a link in a reports control panel or email them a link. I haven't used Heroku in a while, but I think one worker used to be free, but if not, you'll incur a small fee for utilizing one.",1534174224.0
drwl,"I'm reading this from my phone, but it might be possible you're doing the n+1 problem for loading. I would google that and eager loading in rails. 

Another way to confirm this is to look at the logs and see how many database calls there are per amount of records. ",1534255580.0
madebylotus,"I've solved this a couple ways in the past:

**Async Worker**

Offload the task of creating the actual contents of the CSV to a background worker, such as Sidekiq, and have the browser client poll for a ""finished"" status to then push the data as a download to the browser.  I have implemented with actual database models, bit of state machine, used paper\_clip to store the attached CSV and a rather slim controller method for instance.

I have also used ActionCable to pretty nicely show progress generating the CSV and to show the download immediately when available, avoiding polling the server.

**Streaming Content**

These days I vote for this option.  Using live streaming and lazy record loading, I can immediately push the HTTP headers to the browser for file name and content type, then lazily load the collection from the database, and for each record convert to CSV output and stream to the browser socket.

The 30 second timeout on Heroku is only a time for how long *before the browser receives the first part of a response*.  You don't have to provide the entire response, just get something started to the browser.  This is why the streaming solution works so well in my opinion.  Far less code as well!

I hope to one day finalize a library I'm working on to provide easy ""exporters"" to stream CSV to the browser for this very purpose.",1534355954.0
sdn,If you‚Äôre getting Stack Level too deep you might have an issue with your code... how are you traversing your array?,1534171476.0
KingPretzel,"At what point are you getting the stack level error?

I would recommend adding a Sidekiq worker to process all these actions since it's a huge list and multiple queries in each. For example:

`populate.task`

    namespace :db do
      task populate: :environment do
        $restaurants.each_with_index do |r, index|
          PopulateRestaurantWorker.perform_in((index * 0.25).seconds, r) # stagger the scheduling or you can schedule via #perform_async to enqueue all at once
        end
      end
    end

You can then move the rest of your logic into a `PopulateRestaurantWorker.rb` file for db interactions and processing. That way all the retry logic would be contained for each restaurant and an error raised from one restaurant wouldn't block the remaining.

`restaurant.cuisines = r[:cuisines].map { |c| Cuisine.find_or_create_by(name: c) }` seems odd to me as well. Is this where you're getting the stack level error?",1534174257.0
AfterQuality,Can't you just do a count of the lines and run it as batches?,1534171147.0
Serializedrequests,"Having done exactly what you're doing many times, I can assure you that your will kick yourself whenever you find the small error that is exploding your stack.

Use a debugger if you can.

Long running complex imports work just fine with ActiveRecord, but you should divide the data into batches so it doesn't use up all the memory available.",1534259619.0
ethboy2000,Can you give us some context? Where are you getting this ruby or json file from? Might it be better to generate a CSV of data and read `each_line`?,1534173596.0
ProgramAllTheThings,"I think the stack level too deep problem might be caused by the model definitions. The code above shouldn't be causing it BUT there may be some infinitely deep recursion, probably an issue with a belongs_to / has_many definition. Posting error with some more context (line numbers) might help, as well as model definitions.",1534174052.0
ethboy2000,"It means you can read each line of the CSV, do something, then read the next line, rather than loading everything into memory at once. 

Stack level too deep though usually means you‚Äôve got a circular dependency somewhere.",1534175747.0
lostapathy,"I'm not seeing it offhand, but pretty sure I agree with those who say this is probably related to some accidental recursion in a model.

I would comment out the bulk of your inner loops and logic, get that going, then add pieces back in until it works.  There's no reason a data file this small cannot be loaded via this general strategy.",1534178559.0
norsegaud,"Is your JSON always the same structure? You could split up by key and then tie it all together using a belongs\_to on request in a helper method. That'd complicate things, but be far less information in one row. Probably much faster too.",1534190080.0
so_just,"I'm using rswag. Had to switch from swagger-docs to rswag because the former doesn't support swagger 2.0.

It also allows me to basically generate swagger docs from the specs. I think it's pretty cool",1534070341.0
d4be4st,you can try dox (https://github.com/infinum/dox). It generates API blueprint documentation from rspec tests.,1534092454.0
belgoros,"You cab also take a look at [swagger-blocks](https://github.com/fotinakis/swagger-blocks/) gem, the [reference](https://github.com/richhollis/swagger-docs#related-projects) was provided from swagger-docs README (I've never played around with none of them) :).",1543847404.0
seainhd,"OMG!

Use a freaking enum.

Do not waste a table and association just for this.

Rails has enums built in. They‚Äôre not frowned upon at all.",1534079486.0
m_hr,What values can a difficulty rating have? I'm a bit confused about what you're trying to achieve.,1534059316.0
tucker-,"There is nothing wrong with using has_one. You just have to remember that the foreign key is in the model that has the belongs_to declaration.

Are you using STI (single table inheritance) ?
",1534059705.0
cmd-t,"You don‚Äôt really have a question in your post so I‚Äôm not sure what you are asking. Has one is just a has many with the condition that you have at most one relation model. The other model has a belongs_to relationship back to the model with the has one relationship. Since you want the difficult rating model to belong to different models it will need to have a polymorphic belongs to relationship. 

An enum is also a smart idea if the difficulty rating is just a flat value and not something that needs to be backed by a model. What are the possible difficulty rating values? An enum is just a integer field with some syntactic sugar and helper methods. ",1534059383.0
gelfin,"It isn‚Äôt unusual to use has_one, but your database architecture intuitions here are, let‚Äôs say, interesting.

Are your question types different enough to justify having a whole separate table and model for each one?  Or can the type of question be a column in a ‚Äúquestions‚Äù table you then filter with something like:

    scope :practice, -> { where(‚Äúquestion_type = #{QUESTION_TYPE_PRACTICE}‚Äù) }

Then, in any case, however you want to define ‚Äúdifficulty‚Äù (integer, enum, string), that‚Äôs a value, not a relation.  You shouldn‚Äôt be trying to pull that in by a join at all.  You‚Äôll end up with a difficulty_id column in your question table you‚Äôve got to join to in every query, that‚Äôs, what, just a single non-index column with a string representation?  You‚Äôd end up optimizing with something like:

    scope :easy, -> { where(‚Äúdifficulty_id = ?‚Äù, EASY) }

...and why not just start there?  Then taken together you are able to do things like

    Question.practice.easy.where(‚Äúquestion_id NOT IN ?‚Äù, already_asked_questions).sample


",1534087475.0
AndreaDaedra,"Thanks to thelp of Igor Drozdov I was able to figure out what was wrong (in case someone gets here with the same problem).

I defined my associations with:
`association :sender_account, factory: :account, strategy: :build` 
 `association :recipient_account, factory: :account, strategy: :build`

When the strategy was not needed as it didn't save the accounts and therefore the tests were failing.",1534054426.0
carlosramireziii,"*In regard to associating* `Transaction` *with 2 accounts...*

Typically the Rails convention for `belongs_to` is to name the ID column after the name of the model you are associating with. In your case that would be `account_id`. However, when you create a model that joins 2 other models of the same type (e.g. `Transaction` belongs to 2 different `Account` records), you can no longer follow that convention.

In this case you need to name the ID column for each association something unique. You were on the right track with `sender_account` and `recipient_account`. Using those association names, your `transactions` table would need to include a column `sender_account_id` as well as a `recipient_account_id`.

Once you have those columns in place, you need to set up the associations in the `Transaction` model. Normally you would put `belongs_to :account` and Rails would automatically infer everything about the association, however we can‚Äôt follow that convention because we have 2 account associations, not 1.

In this case, you set up each association using the unique names we gave it. Because the names don‚Äôt match the class of the association, you also need to specify what type the association should be using the [`class_name` option](https://apidock.com/rails/ActiveRecord/Associations/ClassMethods/belongs_to) (in your case `Account`).

    class Transaction 
       belongs_to :sender_account, class_name: ‚ÄúAccount"" 
       belongs_to :recipient_account, class_name: ‚ÄúAccount‚Äù 
    end

Hope that helps!",1534042541.0
dom_eden,"Quick tip - don‚Äôt call your model Transaction, name it something else. Transaction is a reserved word in ActiveRecord: I‚Äôve learned this from experience. ",1534065907.0
,"The has one relationship is used very infrequently.  What would your user have to have 'one account' - unless multiple users can have the same account?  The account information should be paired with the user shouldn't it?

Why can't you just link the user to transactions directly?  

Aside from that - you'd use has_many_through to connect a user to transactions.
",1534039581.0
ralampay,"If you really don't want to use javascript for this then you can just have `@subscriber = Subscriber.new` in a method in your `application_controller`.

Something like:

```
class ApplicationController
    before_action :load_subscriber

    def load_subscriber
        @subscriber = Subscriber.new
    end
end
```",1533990175.0
Getkong,Aren‚Äôt you going to want it to be set to what Stripe returns after they subscribe instead of always a new one?,1533991431.0
rylanb,Other options would be just to do `form_for Subscriber.new` in the modal or you could load it via Ajax when they clicked on the link so that you weren't creating unnecessary resources in app controller on every view in the site even if it won't be used. ,1534003193.0
SagaciousCrumb,"You've got it pretty close to right. 

    User
    has_many :reservations
    has_many :hosts, through: :reservations # you wouldn't necessarily need to defin this relationship, but could
    has_many :properties, through: :reservations # you wouldn't necessarily need to defin this relationship, but could

    Reservation
    belongs_to :user
    belongs_to :property

    Host
    has_many :properties
    has_many :reservations, through: :properties

    Property
    belongs_to :host
    has_many :reservations
    has_many :users, through: :reservations

",1533996324.0
,"I'd take a step back and look at relational database design.  One to One, One to Many, Many to Many relationships.  Cross Join Tables are your bread and butter here.",1533997829.0
rArithmetics,No way could $500 be worth it,1534003277.0
bluesydney,"Go research the Michael Hartl books and courses. A small amount of money for great value and community. 

Just a satisfied student :-)",1533981595.0
toadkicker,I would wait for a udemy.com sale and pick up a couple course for $10 or so.,1533978599.0
choonggg,"Don't think it's justifiable, ember is good don't get me wrong but there are easier to learn view library like Vue or React which are in demand and can be picked up easily. 

The rest is pretty easy to Google. Rails API etc",1533997474.0
,Divergent question - what are the better udemy courses out there these days for someone who knows the basics but has been out of practice for a while...,1533997664.0
HarryCallaghan,"I don't know about that in particular, but it looks really expensive, I woulnd't go for it. Specially if the integration between Rails and Ember is via API, cause you have a hundred tutorials and courses way cheaper doing the API part, and for sure a lot of Ember courses on how to integrate Ember with any given API.

If you don't need specifically Ember (which is probably your case) but still want a full fledged course on how to integrate Rails and a modern JS framework there are this two options a lot more affordable than this course you mention:

1) https://learnetto.com/users/hrishio/courses/the-complete-react-on-rails-5-course. It was a subscription courses platform focused on the different ways to integrate React and Rails, via API, via gems etc, but it looks like now is free (and probably abandoned, but still the content is from september 2017 I believe)

2) On Udemy, for 10$ you can get this course https://www.udemy.com/angular-on-rails-course/ 
from Jordan Hudgens on how to integrate Rails with Angular. I haven't done myself but I like the teacher from other courses.",1534073864.0
xxxmralbinoxxx,Definitely not. I would spring for a udemy course. Way cheaper and course content is great.,1534273336.0
,"An older, but free two-part guide (Rails 5 & Ember 2.8):

https://emberigniter.com/modern-bridge-ember-and-rails-5-with-json-api/

> Our plan is to put it to work. We‚Äôll build a full-blown Ember app hooked to a Rails 5 API using JSON API, step by step.",1534078357.0
ethboy2000,Rails should be smart enough to combine these params into one attribute if you pass them to a Model new or update method.,1533936965.0
pa_dvg,"It appears customer is a method of CustomerAuthenticator, which is not an instance of octokit client. It is rightly telling you that you are placing a stub on the wrong object",1533924952.0
crowns4days,Did you already see this? https://blog.heroku.com/a-rock-solid-modern-web-stack,1533858353.0
pa_dvg,"I know you said you don‚Äôt want to use webpack because it‚Äôs ‚Äúpainful‚Äù but we packed is extremely well documented and easy to use, with one command you can have a front end react app going",1533862427.0
latortuga,Probably obvious from other commenters by now but: integrating React into a Rails app does not require you build an SPA. You can add React in whatever amounts you choose - `ReactDOM.render` is super simple. Rails 5.2 works great with webpack.,1533908061.0
Rudoxi,"I know that 2 separated repos and apps are the way to go but it includes some complexities you may not be willing to handle.... I currently maintain a product app using Rails with the [WebPacker](https://github.com/rails/webpacker). 

I did manually config webpack before in many projects and also used Crate React App and this gem is just good and simple enough.  It definitely worth a try. ",1533872816.0
htom3heb,"If you're building a single page application, it's best to make two separate repos and consequently two separate applications, where your single page app makes api requests to your rails backend. SSR for your SPA becomes really easy (if it's necessary) as you can plug in express to handle it instead of rubytheracer or execjs.

However, first consider whether you *really* need a single page app. Rails is better suited to a monolith as a generalization.",1533869571.0
hardwaregeek,"I just do it the dumb way. I have a monorepo with the Rails app normally (this is required for certain deployment styles like Elastic Beanstalk and default Capistrano) and the React app in a folder called ‚Äúclient‚Äù. I did it this way to allow for people to clone the project and get started super easily (literally run a setup script then a watch script). Running both instances is a pretty simple shell script. However if you want more flexibility (let‚Äôs say the API isn‚Äôt tied to a specific client), I‚Äôd do two separate repos. ",1533878221.0
redbeard0x0a,"You mentioned you don't like to use webpack - however it is what is used by Rails 5.1 (along with yarn) for the rails native react/vue/whatever support. (this is without adding anything that is separate from what rails is distributed with). Something to look at...

A new project starts with something like this:

\`rails new --skip-coffee --webpack=react\` (I don't know if you can use it with the \`--api\` parameter",1533914000.0
fentanyloverdose,react-rails gem although you've tried it is great for using sprinkles of react and then having regular ol SSR pages elsewhere. You can use components in any reg ol html page cuz it's integrated with the asset pipeline.,1533924630.0
seainhd,Use the force,1533876495.0
bosstwizz,Sweet!  Can't wait!,1533836348.0
vagabondjames,Great idea. Will try to tune in.,1533840219.0
Oo0o8o0oO,Looks like I missed this. Is it available anywhere? This is such a cool challenge.,1533860761.0
niborg,"If the test file gets too nested/complicated, I usually consider it code smell that what I'm testing may be doing too much. If I can't refactor to a better code structure, then I might bite the bullet and do something similar to what you are doing, but keep a few top-level or second-level contexts.",1533719763.0
,[deleted],1533734859.0
lifeismusic434,"You‚Äôre not the first one to run into this problem. Take a look at this article: https://robots.thoughtbot.com/lets-not

I avoid using `let` and `before` in all my specs. If I need to share some setup between examples, I will define a method inside the example group, and call that method directly inside the example. ",1533727650.0
ethboy2000,"I‚Äôm forced to adopt this very style on the current app I‚Äôm working on because the main developer doesn‚Äôt like let or before blocks.

Being the professional I am I write my tests in the style of the rest of the test suite, however I don‚Äôt like it.

I find that every test becomes very convoluted and tedious to write. I find it very easy to miss scenarios and test cases when setting my tests up like this as it‚Äôs hard to track what‚Äôs been tested and what hasn‚Äôt when you‚Äôre not using contexts and every test is so lengthy to read.

The test descriptions can also end up being very long as you try to describe the context and behaviour you‚Äôre expecting in each one.

Overall I‚Äôm not a fan. As others have said, if you‚Äôre finding that using let and before blocks is causing issues, it‚Äôs probably a code smell.",1533739882.0
unsignedotter,"If you don't like the deeply nested, 'inheritance'-heavy style of rspec, why not use minitest instead?

I think this is one of the main advantages of rspec:

    subject(:config) { described_class.new }
    let(:config_data) { { } }
    
    before do
      subject.load(config_data)
    end
    
    context('when config is empty') do
      it 'uses default values' do
        expect(config.hostname).to eq('localhost')
      end
    end
    
    context('when config ...') do
      let(:config_data) { { hostname: 'fake-hostname' } }
      it 'returns fqdn' do
        expect(config.hostname).to eq('fake-hostname.example.com')
      end
    end

You could use [shared examples](https://relishapp.com/rspec/rspec-core/docs/example-groups/shared-examples) and shared contexts to avoid deep nesting.

But if you like pure Ruby, less DSL and test methods which you can actually read, I think minitest is nowadays a good choice.",1533732530.0
HelloAnnyong,"I personally find that `before` blocks can be okay (especially when you limit them to certain contexts) but `let`s become complete clusterfucks in larger spec files, and I've naturally moved away from using them. And when I do use them, I almost always use the `let!` form (which forces the object to be evaluated, instead of doing it lazily.)

",1533740527.0
morphemass,"As others have said, not using let/before usually means that you are testing the wrong thing, testing too much, or your code is difficult to test. 

- let should be used for things that *change* in the context of each test.
- before should be used to set up the conditions common to each test.
- shared_examples are the place to test common behaviour.
- shared_contexts are the place to set up common dependencies.

I see a lot of newcomers to rspec duplicating a lot of code by failing to refactor into these test 'building blocks' and it is an absolute *nightmare* to maintain because when the requirements change, it might impact on 100s of tests.

Should I also mention that let is lazy loaded and unless you are also very careful you can dramatically impact the performance of your test suite? In the past on a 5K+ suite, I've cut it from 10 minutes to under 3  by refactoring away from instance variables that were all doing unnecessary work. 

The one place I do agree with though is in shared_contexts - unless these are properly documented (e.g. 'use this context to set up for database access') this can make the tests difficult to understand and maintain.

Basically if I get a PR with instance variables in it I request that let blocks are used and (IMO) most senior Ruby/Rails devs will do likewise, so I don't think you are doing anyone any favours here.

P.S. Specs should also be small - if my spec hits over 100 lines of code it suggests to me that my code is doing too much (probably violating SRP) and I need to refactor. Keeping them small makes them easy to read and maintain and so is probably one of the most important bearings on the quality of the tests.",1533769849.0
oowowaee,"This would not fly where I work, and I would make you rewrite your tests.  As others have pointed out, if this is an issue, the problem is probably the way you're writing your tests.",1533765553.0
your-pineapple-thief,"If you have to scroll to see the \*context\* of the spec (which let and before blocks are), your contexts are too broads or your class isn't so much single responsibility. With generous use of context blocks I very rarely run into such issues - with context more finely defined most of the things are close to the \`it\` block, and some implicit context (like I'll obviously create and sign in user in request specs which test my API with mandatory authentication, it's ok it's at the top of 100-200 LOC spec file) is really ok.",1534232098.0
Simonchibao,"I believe there is no right/wrong, let/before can be useful or not, depends on many things (size of the spec, use of contexts, does it make sense to run something before every spec).",1533723962.0
tom_dalling,"As always, it depends. Merging the setup into the tests, the individual tests become easier to read, but both the tests and the subject being tested become harder to refactor (i.e. every subject change requires changing multiple tests).

There might be a way to refactor the tests so that the `let`s are less annoying, but we'd have to see the code.",1533726736.0
alibutu,"I like every single test to read like a scenario, including setting up all (or most) of the building blocks you need for that test. 

This way, your test is understandable by itself and anyone reading it doesn‚Äôt need to scroll constantly to find out what‚Äôs going on. 

If you need some complicated setup, extract it to methods with very explicit names like ‚Äòsubscribe_user_to_topic(user, topic)‚Äô",1533761348.0
valadil,"I‚Äôm a big fan of using them to dry up tests. For something that happens before just one assertion, I don‚Äôt really care if it‚Äôs in a block or a local var. 

I‚Äôve only ever used minitest fwiw. ",1533769484.0
spinlock,"I think it's great to make your tests simple and easy to understand. But, how much longer will they take to run? Keeping the runtime of your test suite down is the only way for a team to maintain velocity as an app grows.",1533769715.0
felondejure,Thanks for opinions. They gave me some insights,1533797484.0
ActiveModel_Dirty,"Have you looked at database cleaner? [https://github.com/DatabaseCleaner/database\_cleaner](https://github.com/DatabaseCleaner/database_cleaner)

It can be configured to work however you want, basically. So you'd just decide at which stage you want to wipe your test database and then not have to change much.",1533717625.0
seainhd,"I hate to say this but you‚Äôre ‚Äúover optimizing‚Äù the rails stuff.

add a variables SCSS file, that file becomes your config file for the colors. Extract blue from your css files INTO the variables file.",1533705231.0
ethboy2000,"Sounds like you need to look into Sass. It lets you use variables in scss files and compile them into proper css when you run the app.

You could define your button styles and have a colours.scss per app where you modify your theme colors.

That‚Äôs simplistic and I‚Äôm no expert, but I know enough to point you in that direction!",1533702629.0
toadkicker,Sounds like you are building a theme generator?,1533704207.0
dooogall,"I've created an app recently that let users control some of the basic colour/typographic setting for the pages they create ( r/https://voucher-works.com ). These are set as variables in the User model but could be created/set dynamically.

The variables are then used in a `<style>` block within the `<head>` in the application.html.erb

As long as the CSS styles you declare in the <head> are **after** the `stylesheet_link_tag` they'll override whatever is in your application.css.",1533715578.0
whobitchisdis,"It‚Äôs not a very pretty solution, but if you must have dynamic css with variables stored in the database or something, you can render a .css.erb view with a controller.

I used a base style sheet for all the static stuff and then the seperate dynamic one only for the small set of dynamic css I needed, then add a link to that view in your layout head.",1533724658.0
justalever,"I have a YouTube channel devoted to a lot of Rails app builds to help get you started. Working on a complete course but in the meantime you might find it of use. 

https://YouTube.com/c/webcrunch ",1533683725.0
Grimnur87,Have you tried the Odin Project? In the past 2 days I have built an offline blog using it and now I can test my own modifications.,1533665715.0
revscat,https://guides.rubyonrails.org,1533703589.0
superbilk,What‚Äôs the point with Michaels course? It‚Äôs pretty good and you should get it running. Maybe we can help with some more info,1533661134.0
sylvezine,"On my mobile, so this is the best I can offer. Check out this learn Rails guide I‚Äôve been working on: https://github.com/heyspacetime/awesome-rails-education/blob/master/README.md

Also, start simple. Especially if you are new to Rails and backend. Don‚Äôt try to mix Rails and React yet, and don‚Äôt worry about cloud based IDEs. ",1533662927.0
amicloud,"As some others have said I am sure, please check out The Odin Project! It's excellent.",1533689811.0
leemurjames,"I learned via the Hartl Tutorial and Cloud9. I found this to be a really awesome and strong intro to Rails. Personally, I'd not try to learn React and Rails simultaneously. Even if you already know React well, I'd just follow the Hartl tutorial, then experiment on patching React into it after you are finished. Cloud9 is good for beginners, or if you just don't want to avoid making a mess on your computer learning something new. That said, I'd migrate off of it as soon as possible so you don't get too attached to it.",1533828450.0
htom3heb,"The best guide is the documentation. Build your app, consult the documentation for guidance, find examples in Github repos when you're stuck.",1533681225.0
MrBright5ide,Code4startup.com was great to build an Airbnb like app. I'd start with the upskillcourses.com. where you're building a functioning membership subscription site. ,1533710354.0
fiveguy,"Use ActionController's `send_file`.
https://api.rubyonrails.org/v5.1/classes/ActionController/DataStreaming.html#method-i-send_file


    class MyController
      def download
        send_file path_of_file_to_send, type: mime_type_for_xlsx
      end

      private

      def path_of_file_to_send
        ""#{Rails.root}tmp/storage/#{sanitized_filename}""
      end

      def sanitized_filename
        # This is a naive sanitizer that strips any characters that aren't numbers, letters, or underscores.
        # Whatever you do, don't allow the user to specify the path in a
        # param, and pass that value directly into send_file. They could very easily traverse your
        # filesystem that way... i.e. a param of ../../../config/database.yml
         nonalphanumeric_regex = /[^0-9A-Z\.]/i
         params[:filename].gsub(nonalphanumeric_regex, '_')
      end

      # This is the mime type I generally use, though a few seem to work for XLSX
      def mime_type_for_xlsx
          'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'
      end
    end
  
Edit: The security issue I mentioned falls under [OSWAP A5: Broken Access Control](https://www.owasp.org/index.php/Top_10-2017_A5-Broken_Access_Control)
",1533672024.0
GroceryBagHead,Why not configure your webserver to simply show index of that directory and allow download? It's not something that application needs to deal with (unless it's on S3 or something),1533762136.0
mr1337,"Reddit is very large as far as the code goes. They have a team of engineers writing code. You as a single person can't expect to make a feature-complete copy of reddit quickly.

Start with the most basic features.

* Ability to sign up/log in
* Ability to create a subreddit
* Ability to make a text post
* Ability to make a link post
* Ability to comment on a post
* Ability to message another user

And then expand from there. Think about what each new feature needs to do and break it down into pieces that you can accomplish.",1533657524.0
Blimey85,"I‚Äôm curious how threaded comments would be handled. I know Reddit only goes so deep, then you can load more of a particular section, but I‚Äôm not sure how to handle that in Rails. For one project I used a JS library and pulled all comments, then sorted and displayed them on the client side. ",1533637838.0
choonggg,I could teach you if you don't mind. Send me a Reddit chat message ,1533632673.0
ig1bro,"Start off from what you have learnt. You won't build   

>all the key features of reddit

at once or in no time. Do things part by part. Also, I wonder what key features you consider? Make a list of them(better be a clickable one so that we know what you would have done) and maybe me or someone would advise some readings or screencasts or conference videos or anything that could help you build that particular feature. I think it is of a more mature thinking to try something on your own than simply searching for given solutions and copy-pasting them(I mean whole projects. As long as we all do copy-pasting of small features from time to time). It will take more time but it will make you think and grow as a developer. And I don't mean to offend anyone, sorry if it sounds so. Hope I make sense. 

PS: Create an open-sourced repo maybe, paste the link here and let people contribute to it.  ",1533641840.0
sylvezine,"Build a Reddit clone:

* [https://www.youtube.com/watch?v=7-1HCWbu7iU&list=PL23ZvcdS3XPLNdRYB\_QyomQsShx59tpc-&index=1](https://www.youtube.com/watch?v=7-1HCWbu7iU&list=PL23ZvcdS3XPLNdRYB_QyomQsShx59tpc-&index=1)
* [https://github.com/schneems/reddit\_on\_rails](https://github.com/schneems/reddit_on_rails)
* [https://medium.com/@deallen7/how-to-build-a-reddit-like-site-with-ruby-on-rails-7b6cd106463d](https://medium.com/@deallen7/how-to-build-a-reddit-like-site-with-ruby-on-rails-7b6cd106463d)
* [https://www.makeschool.com/online-courses/tutorials/clone-reddit-using-rails/building-reddit](https://www.makeschool.com/online-courses/tutorials/clone-reddit-using-rails/building-reddit)

Here are some other app ideas: [https://github.com/heyspacetime/awesome-rails-education](https://github.com/heyspacetime/awesome-rails-education/blob/master/README.md)",1533669377.0
Ronald-Ray-Gun,"Wait, which thing do you need? Do you need to be able to tell the origin of requests? (client ajax v.s. server side) or do you just need the two to work, and right now they aren't?

Honestly, unless it's a public API, I'd separate the two into different sets of controllers. A server facing API typically implies some heightened level of permissions - i.e. it's authenticated in some special way to allow actions. Whereas a client-facing API will need to pass along tokens (depending on your auth strategy).

However, if it's a public API, disregard all that.",1533596633.0
joesb,Just because you don‚Äôt need to include the header doesn‚Äôt mean you must not include the header. So why bother distinguishing between two case?,1533609799.0
igxrk,I guess rack-cors is what you are looking for.,1533679023.0
johnnobro,"Definitely use a gem instead of implementing the spec yourself, unless your main goal is to learn about JSON serialization.",1533586515.0
qwert302,I have used json-api resources successfully for several projects.,1533590159.0
JustinCampbell,Make sure you get authorization working first.,1533608515.0
tomek_r,"I was not a fan of jsonapi-resources and ended up moving away from it in my app, but my API had to deal with large file uploads/downloads which I think stretched the limits a bit.

Have you looked into Graphql at all? I've been playing around with it (e.g built a cocktail api https://github.com/tomekr/cocktail-yeti) and am a big fan so far.

Main site: https://graphql.org/
Ruby library: https://github.com/rmosolgo/graphql-ruby",1533617021.0
DerNalia,Use jsonapi-rb instead. Jsonapi resources has horrible implementation quality,1533610139.0
ActiveModel_Dirty,What?,1533583307.0
shayhtfc,Lots of backend developers are _very very very_ bad at design skills! I know I am! ha,1533575886.0
TheStrabusiness,"Hey there. I've been a Rails developer for about 3 years.

Do you mean front-end design skills? Front-end design was not one of my strengths when I started. It is something I've cultivated and improved upon, especially since starting my first full-time position as a Rails dev. One thing that really helped was that my team had someone making designs for me to implement. I picked up a lot just from watching what they did.

On the other hand, you can probably find positions that are more back-end oriented as well. So if you're averse to picking up more front-end design skills, look for jobs like that.

Either way, for an entry-level position, I'd be willing to bet you'll have lots of resources are your disposal to improve. You won't be expected to know everything when you start.",1533570992.0
shovel4you,"I guess it's depending on job description and expectation that you'll receive. Usually, backend, frontend and design work are divided into separate developers.
",1533571744.0
ozkarmg,"Sure you can, just advertise yourself as backend",1533574927.0
jryan727,"I run a small consultancy where we exclusively do backend development with no designs whatsoever.  But, to clarify, we will design a UI, and we will code a design given to us by a designer, we just won't design UI elements/pages/whatever ourselves.  So your skillset is totally normal.  Most backend developers won't have design skills.  

Side note: If you are looking for freelance work, find some designers - you can work with each other to deliver finished projects to your respective clients. ",1533584114.0
benjamin_dwight,"Split Landlords and Tenants into separate classes, or you'll face issues like this constantly (you could use inheritance to do this, or a module with User methods, etc...)",1533562802.0
gelfin,"I‚Äôd avoid this because :has_one and :belongs_to imply different things about the structure of the database, and giving them the same name in the same class is a code smell.

With what you are trying to do, what happens when a single user is a landlord for one property, but a tenant in a different property with a different landlord?  Say he‚Äôs a New York slum lord who would never live in one of his own properties.  What does .organization mean for that user?

I‚Äôm not sure enough what you intend ‚Äúorganization‚Äù to mean to suggest something confidently, but I‚Äôm pretty sure you need to dive a little deeper on your relationships and the resulting database architecture.  I want to say you could get away with landlords and tenants both being ‚ÄúUsers‚Äù but your DB architecture would be a little more complicated.  You‚Äôd solve the problems by starting from the assumption a user can be a landlord and a tenant at the same time.  Maybe a ‚Äúproperty‚Äù table associating users to organizations (as a landlord) and a ‚Äúresidence‚Äù table also associating users to organizations (as a tenant).  Then a user has_many of both properties and residences (both possible if uncommon cases), either of which may be empty for a given user.",1533570185.0
JamesAppleDeveloper,"I would keep within the same two models if the core is simply those two types of users. There‚Äôs definitely no reason or way to add an if statement to a relation like this (or there shouldn‚Äôt be)

I would create a join between users (tenants) and organisations to keep my top level user model from having an organisation ID.

Then change the linguistics of organisation and organisations to something like owned_organisation and organisations.

Depending on your real life use case you might find that having users be two seperate types creates inflexibility later on when requirements inevitably change. We can tell someone is a landlord by them having a owned_organisation and we can tell someone is a tenant because they belong to an organisation.

Imagine you need to add a user who‚Äôs only role is to administer the website content. They wont be either a landlord or a tenant. How will you handle this?",1533591114.0
Dajae67,"
B
",1533564338.0
LeonidFilbert,[https://i.imgur.com/BTDfnFP.png](https://i.imgur.com/BTDfnFP.png),1533559275.0
LemonAndroid,Put all code in the description in code blocks with proper formatting.,1533560098.0
hernanat,"Is this a homework assignment *edit* not that I wouldn‚Äôt want to help you otherwise, but knowing what your knowledge level / intent for doing this is would be helpful. ",1533443794.0
internethostage,"Haven't used it, but I imagine that the api returns a unique id for a movie. If this is the case, you could save it on the comment/review. 

Example: <Comment id: 1, movie_id: 3214, title: ""Mehh"", body: "" Watchable but not great"">

Then when loading from the api, you check for comments with that movie id, and if any, load them.

Thats how I would (possibly naively?) approach it.",1533459600.0
435444,Wow this post got downvoted to hell. It's a great question and we should be more supportive of new developers to keep the rails community alive. ,1533483846.0
webdevbrent,Think of it this way. You are storing info when a movie is being reviewed. Otherwise you are just simply query some data.,1533440602.0
mr_aes,There's a tutorial which is a bit older and whose focus was on implementing an advanced Ransack search form but it involves building a sort of movie site..you might find some nuggets in there..check it out here [https://www.sitepoint.com/advanced-search-ransack/](https://www.sitepoint.com/advanced-search-ransack/) ,1533648023.0
jessedev69,"I would highly recommend using the HttParty gem. It allows you to easily make API requests in your controllers and receive the json responses that you can use however you see fit.
I used this gem when I was just beginning, and I still do to this day!",1534192314.0
c0m3tx,"Use a custom validator inside your model.

For instance

```
validate :title_words
VALID_WORDS = %w(when who which)

def title_words
  return if VALID_WORDS.contain( self.title.split("" "").first.downcase)
     errors.add(:title, :invalid_start)
end
```

It will add an error on title when you try to save the record unless it starts with one of the VALID_WORDS array (I made it non case sensitive)",1533412939.0
,"Here's how I'd do it - but there's probably some way to  do it with validations.

Use an Array or hash of the acceptable starting words, when the data is submitted you cut out the first word (at the first space) and see if it's a member of the array - if not you render the form.

Keep in mind people spell things weird if you want to allow that, and case matching matters.

You could also do it with some JS pre form submission validation as well.",1533412236.0
alibutu,"Why would you want this? It‚Äôs not very compatible with  I18n if you ever plan on translating your app. If you are trying to ‚Äúforce‚Äù your users to ask certain questions you could define question types in the model, and use the UI  to force users to pick one f those and then finish the sentence. 


Like

[dropdown/custom element what | how | when] [text input]",1533476643.0
Mallanaga,"I personally wouldn‚Äôt namespace like that. This is object oriented programming... everything is an ‚Äúentity‚Äù.

As for the errors, rails is very ‚Äúname-y‚Äù, so it infers class names, relations, and file names. Using class_name to override is normal, but put it in quotes. The strings load immediately, where the constants need to be initialized.",1533395295.0
SminkyBazzA,"Your last paragraph is what I've always done when the associated class doesn't match the name and isn't in the same namespace as the object class.

As to why it works without it, maybe the Rails autoload magic doesn't work through chained associations. I'd have to read the docs to figure out why.",1533458989.0
_matthewd,Sounds like a bug to me. Please do [open an issue](https://guides.rubyonrails.org/contributing_to_ruby_on_rails.html#reporting-an-issue).,1533408258.0
justalever,"As far as I'm aware, Trix annoyingly doesn't work with Rails 5.2. I ran into this myself",1533432874.0
ekodev,"In you gem file,

gem 'trix', git: 'https://github.com/bcoia/trix.git'",1533465773.0
RISCfuture,"Just stick something between users and tasks. Like user `has_many` categories, categories `has_many` tasks. User `has_many` tasks through categories.",1533335927.0
webdevbrent,PM me. I can help,1533355159.0
TotesMessenger,"I'm a bot, *bleep*, *bloop*. Someone has linked to this thread from another place on reddit:

- [/r/ruby] [The Case of the Flaky Test Suite (x-post \/r\/rails)](https://www.reddit.com/r/ruby/comments/94aq3v/the_case_of_the_flaky_test_suite_xpost_rrails/)

&nbsp;*^(If you follow any of the above links, please respect the rules of reddit and don't vote in the other threads.) ^\([Info](/r/TotesMessenger) ^/ ^[Contact](/message/compose?to=/r/TotesMessenger))*",1533311635.0
harisb2012,"nah man, it‚Äôs your timezone setting for rails app",1533308377.0
kingshane,"In my opinion, it has always seemed to work out better for me to just build a project you're actually interested in than just doing the seen-a-million-times-over Twitter clones and such. 

It can be anything, just try to build in some actually useful/useable features.

For instance my first ever personal RoR project was a Bracket Building Competition sort of thing for the show The Bachelor since my wife and her friends had been doing it on paper for years. I made sure to add in Devise, built a admin tools, and added in a way for the people in each league to post a recap of the episodes which would email out to their friends. It's become a great talking piece in interviews as I can talk about what I like about how I did it or what I thought I could do better if I redid it.",1533308367.0
Hazz3r,"/u/kingshane has hit the nail on the head. Anyone can follow a tutorial and copy an existing thing. Instead, focus on a piece of software that solves a problem for you and feeds into your passions. Not only will you learn, it'll more closely mirror how you'd be expected to work day-to-day, and you'll start to stretch your design muscles a bit more.

One thing I will suggest, try and familiarise yourself with new libraries that haven't been a part of Rails for very long, like ActiveStorage, CurrentAttributes, or ActionCable, and create something that exhibits that knowledge. Dabble in JS libraries like Stimulus JS or React.

Try and put together an app that you won't be able to find a tutorial for, and make sure you familiarise yourself with a deployment method, like Capistrano or Ansible. Having that knowledge will go far in interview.",1533309763.0
agency95,"Build something useful that has some interesting features. When I was starting out I built a Hootsuite clone because I was a marketing manager at the time and wanted my own solution. Just build something without following a tutorial that does something cool. Tutorials DO NOT teach you to program. You'll realize there are a million things to think about when you aren't following a blueprint.

Things I'd learn: Sidekiq (or another gem for background jobs), more ActiveRecord knowledge from a performance perspective, testing, OAuth, ActionCable, and JavaScript if you haven't already.",1533311080.0
TheStrabusiness,"\+1 to /u/kingshane's response. Try to build something useful to yourself, or something inspired by the people/problems around you. It doesn't have to be monumental, just something to get you going.

In my personal experience, I was able to land a RoR at a startup having built an application for a managing family's members business. It was a client-management/invoicing system. I was self-taught and built it from the ground up by following the docs and the tutorials.  The project demonstrated I was a self-starter, knew the fundamentals of Rails and could bring code to production (my family member actually uses the application I built, it's hosted on a DO droplet).

One nice feature I built in that my interviewers really enjoyed was the Invoice/Estimate to PDF feature I built in using PDFKit. Another was the automated payment reminder letters that the system would send out. I was excited to talk about building these aspects and served as a great demonstration of the passion and care I put into the application.",1533311874.0
Fredifrum,"I also agree it's better to build something that you find useful or interesting rather than a clone of an existing app.  The best app is one you care about and will be motivated to work on.

I wouldn't worry about using an specific gems, no company is going to care weather or not you've used devise or anything else, learning Rails is enough and will give you a leg up if the company also uses it.

One thing that would recommend trying to add an API integration of some sort.  Maybe make an app the has payments and integrate with Stripe.  Or make a reddit crawler that hits your app to keep track of things it's found.  My first non-trivial Rails application was a text-based chatbot for me and my roommates, that used the Twilio API for text message interfaces.  Using an API like this is a really great way to make your app a lot more interesting/impressive without doing a ton of extra work.",1533315965.0
cavedave,"Is there an startup incubator in your town.
 Or even a startup weekend? The advise above is good. But if you have skin in the game of your own startup that will incentivize you

Basically I am saying you can get a non paying job. But one with a new startup so it is not like a big company is ripping you off. And you‚Äôll learn a hell of a lot",1533327674.0
strzibny,"As someone who interviewed some people before I can tell you that you should present 1, clean code 2, with automatic tests 3, where there is at least one interesting problem solved outside of crud (think geolocation on Postgis with a map or whatever you find interesting).",1533825185.0
michaelzero,You could build my business idea for me haha.,1533384180.0
rylanb,Devise / Pundit for me. ,1533244121.0
jryan727,"Devise for authentication, Pundit for authorization. Been my preferred combo for years. ",1533244818.0
athix,"Sorcery + Pundit is what we roll. Not having to deal with the bloat of Devise was one of the main motivators for picking it over Devise.


^^^^^That ^^^^^said ^^^^^Sorcery's ^^^^^source ^^^^^code ^^^^^could ^^^^^use ^^^^^some ^^^^^spring ^^^^^cleaning ^^^^^:S",1533247957.0
niborg,There are some hacky patterns in pundit that through me off. Give a good look at active_policy gem. Well maintained and similar to pundit.,1533261513.0
obviousoctopus,"Sorcery, as I don't want to deal with Devise once I start customizing things. 

Pundit for authorization as it is simple and polished.",1533246518.0
r3b00t-,Sorcery for me.,1533268671.0
Quantumbinman,Devise.... but the other replies make me feel like I am doing it wrong :-/,1533270546.0
adambutler,"I love the simplicity and elegance of Sorcery and would choose it over Devise for most projects. Also pundit for authorization works great.

One exception is for side projects where I often use Devise since it's more opinionated and gives you more out of the box. Having limited time for these projects it helps to free me up to focus on the business logic.",1533292192.0
faitswulff,Reading through Sorcery's `README` and got to `#current_user`. Then I remembered how abstract/obfuscated all the code is in Devise to handle multiple model types. I hated that about Devise. How often does anyone actually use Devise for anything other than a `User` model?,1533295698.0
saygun,I use Doorkeeper for most cassd,1533244495.0
jevon,"I'm using Omniauth because google-oauth2 and facebook and github, plus Doorkeeper to provide an OAuth2 endpoint",1533252331.0
oztrax,Pundit is great. Nice and straightforward.,1533254570.0
ActiveModel_Dirty,"I like Clearance for authentication, Pundit for authorization.",1533265031.0
chriscarpenter12,Sorcery because it was super easy to tie into our existing user table. ,1533296772.0
pabuisson,"`Devise` for authentication here (not a fan), and nothing for authorization... yet.

Therefore really interested in the answers here.",1533303896.0
TheStrabusiness,At my company we're using Oath for authentication and Pundit for authorization. Plus a very simple roles system. It's a great combo. ,1533571552.0
jessedev69,"Bcrypt forever!
Devise is a bit too mysterious for me..
Bcrypt takes a bit more set up, but is well worth it in the long run when you need to make changes to your auth system",1534192389.0
stephenmurdoch,"If it's a small site with one or two users then bcrypt with has\_secure\_password. I normally just copy+paste code from the last website I built to save time, espeically when it comes to the password\_resets and controller tests.

If it's a bigger site and the client is happy to pay, then I usually try to encourage them to also have social media login options.

I was recently looking into implementing 2fa/mfa/u2f or whatever the hell it's called now, and like the idea of adding authy/twillio into the mix too.

It's worth noting that DHH recently wrote a gem called google\_sign\_in [https://github.com/basecamp/google\_sign\_in](https://github.com/basecamp/google_sign_in) \- has anyone used it yet?",1534467191.0
CiscoEMT626,"Anyone working on an authorization system that's more complicated than user or admin?

This app is going to have several different access levels based on roles. 

Anyone still using the Rolify gem for this kind of thing? Some other good gem out there? Or do you just roll your own?

Thanks!

\-Ian",1533314621.0
madmate,"The first challenge is missing ShareholdingsController. Are you sure you have created the controller (with correct name)?

Challenge 2 calls `includes` on the model instead of ransacks `result`. If I remember correctly this is explained in ransacks readme. ",1533232868.0
ActiveModel_Dirty,"Could you be a bit more specific? What are the 'advanced' things you're trying to do? I'm not sure what 'assassination' refers to, is that something related to fault tolerance?",1533230141.0
this_is_not_nil,Related? [HTTPS kills HTTP Referrers](https://smerity.com/articles/2013/where_did_all_the_http_referrers_go.html),1533210619.0
prh8,"You could do SSL termination at the load balancer level, that's very easy with AWS Application Load Balancer",1533222464.0
I_AM_GODDAMN_BATMAN,Offload the ssl layer to real web server like nginx or apache http server.,1533216356.0
justAGuyFromBrooklyn,Just don‚Äôt force ssl and configure as reverse proxy. Rails is a lesser version of Apache/nginx ,1533211471.0
lift_heavy_things,Have the app always send a header that is checked in application controller in a before action. You can store it in the session if you want but I‚Äôm not sure I see a huge value in that. ,1533167013.0
some_guy_over_here,Sounds like a use case for a header. Wrap your calls from your mobile app to your back end in a class that always passes the header and you have nothing to worry about,1533170673.0
uokesita,I also think session will do,1533166317.0
cwitty1988,If you don‚Äôt want to use a header you could also set a custom user agent and check that server-side,1533176165.0
tjdracz,Send a header through a middleware or just have a variable in ApplicationController based on request host that you set in before_action,1533228004.0
X678X,"Something I just read up on and learned about are ActionPack Variants

https://guides.rubyonrails.org/4_1_release_notes.html#action-pack-variants

Basically, it allows you to display different pages based on the user agent. Maybe it'll be of help to you!

Another example of defining variants yourself:

https://richonrails.com/articles/action-pack-variants-in-rails-4-1

",1533393307.0
ActiveModel_Dirty,"I mean, all of the motives you outlined are valid. The counter-arguments and the larger picture of it all is where it falls apart though.

Having to use commas and \`!==\` syntax are... trivial reasons to call coffeescript superior in the context of that motive. The operators are all nice things, but we're just talking about syntactic sugar at this point, which I don't believe is a valid reason to pick a language or framework outside of the early stages of development.

The vast majority of the reasons we're seeing people switch away from coffeescript, outside of what you've already outlined, is because there's just no compelling reason to maintain and track another JS framework if you don't need to. If, for example, you want to use React in your application (or leave it open to the future), it's much easier to have your codebase written in the base-level language that React works off of than it would be to try to integrate coffeescript into react and have them play nicely. The app I'm working on right now uses Coffeescript and Vue.js and I hate it. Albeit we only use Coffeescript for things like constructors and some light one-off services, I'd much prefer it was all just ES6. Also of note that at that point you have three dependencies vs two.

ES6 is an indication that JavaScript is headed in the right direction, a hope we did not have in the early days of coffeescript v1. Now that we see where it's headed, we don't need *all* the niceties that coffeescript provides because we know that JavaScript is now flexible enough to be able to implement the things that developers *really* want.

I, and I imagine a lot of others, hold the belief that you should have as few dependencies and potential for breakage/inconsistency in production code as you possibly can. While, yes, some browsers need to transpile ES6 to ES5, those browser versions will be phased out because JS is a language that is capable of setting new standards across the board, where as Coffeescript is not. I.e. there will come a day that ES6 does not need to be transpiled, that day won't come for Coffeescript. It's also less effort for the transpiler to move from ES6 to ES5 than it is CoffeeScript to ES6 then to ES5 (or does it compile straight to ES5?).

Outside of that, the update cycle is going to be much slower than with ES6. ES6 gets updated when ES6 is updated. Coffeescript will need to wait for the ES6 update and then update itself after the fact, leaving you using potentially older or vulnerable code for longer.

And just my own personal opinion: I don't really like coffeescript. The reasons are kind of similar to some of the things you like about it, but I find debugging it significantly more difficult than debugging Javascript. Especially if you use the dev tools, you're never going to see coffeescript in there, so you're forcing yourself to use both either way, and that level of context switching gets annoying. Because on the left you're looking at JS then your brain has to reverse-transpile the next move in your code to Coffeescript.

It's also just much easier for me to keep track of complex logic with the explicit curly brackets and such everywhere.  In general I'm not a fan of indentation-based logic.

Edit: Also you mentioned lodash and this is just more a question of curiosity for you since I have not used a ton of Coffeescript 2. ES6 allows you to only import the components you need from Lodash, similar to ruby, by saying (for example) `import isEqual from 'lodash.isequal'` which skirts loading the entire thing on each page that uses an underscore. Did they add that functionality to Coffeescript as well?",1533155036.0
cutety,"**TL;DR;** If you like CoffeeScript, and are using it, then by all means keep using it. Just be aware that until it provides some unique capabilities that can't be achieved in ES6 (i.e. like CoffeeScript before ES6 did) that not a lot of people are going to be also interested in using, especially outside Rails development.

> Why would you migrate from coffee then, if most of ES6 you can have with coffee 2 (and more)?

Because if you want to have any non rails developer (and probably a lot rails devs) work on your code (e.g. a JS dev) they'll have to learn CoffeeScript and all it's special little things. CoffeeScript doesn't offer anything except an alternative syntax, and whether or not you think that syntax is better is personal opinion.

> Indent based blocks, like ruby.

Ruby doesn't have indent based blocks, just like JS, Ruby does not care how your code/blocks are indented, unlike Python. This is completely valid Ruby:

    def fn(foo)
    puts foo
              puts foo + foo
      foo.tap do
    puts foo
          end
    end

    fn 1
    #=> 1
    #=> 2
    #=> 1

I used to think that was an advantage of Python, but I've since grown to hate it, and is one of the reasons I don't use Python anymore.

> Not having to put commas between every object property

Personal preference, but I really don't see how this is in anyway an advantage.

> The holy grail existential operator: value? intead of `value !== 'undefined'`

Yes, JS nil/null checks can be verbose. But, only if you want them to be. You can define a function that does this, or download a library that does that for you (I use ramda.js), so then I just call `isNil(value)`. This has the benefit of being immediately obvious to someone reading it, while the `?` operator you have to, again, know CoffeeScript syntax.

> Insanely better operators

The only two I see that don't have a comparable operator in JS are `in` and `%%`. I've never had to use `%%` for whatever that's for, and you can just use `[3, 4, 5].includes(foo)` instead of whatever they show as the alternative.

> No need to state return, just the value in the last line.

Another personal preference. Typing `return` in JS doesn't bother me, and not having to use it in Ruby doesn't bother me. Some would say though that `explicit > implicit`, but again personal preferences. Also, JS does have implicit returns for single line arrow functions `() => true` returns `true` without having to explicitly return it.

> -> instead of function

So, now if someone is coming from JS and working with CoffeeScript code, first glances they `->` will likely assume that it is the same as `=>` and won't bind a `this` context given that appear to be the same operator. So, again this is confusing for someone coming to CoffeeScript while offering no major benefit. I almost never have to use `function` in any of my JS anyways as arrow functions are good enough, and the cases I do actually want it to bind a `this` context are for object methods, in which case I'd use `{ foo() {} }` which is the same as `{ foo: function() {} }`.

> The amount of time and pain these and other features spared is incredible to me. IMO, it fixed most problems people hate js for, that ES6 didn't fix.

I literally don't see a single thing on that list that isn't in ES6 outside of a few syntactic sugar things like `if then` vs `? :`. Or comprehensions, which I though were a terrible/confusing language feature in Python and I think the same for CoffeeScript, instead you should using JS's bread-and-butter, higher order functions, `forEach`, `map`, `reduce`, `filter`.

> Yeah, so? Isn't ES6 code transpiled when not supported, for example, for browsers?

Most modern browsers fully support ES6 (save for modules), and (eventually) in the future you won't need to transpile ES6 for full browser support. You'll always have to transpile CoffeeScript.

All the stated advantages you've outlined are more-or-less personal preferences, you didn't provide a single thing CoffeeScript decisively does better. That's why people are ""abandoning"" it, ES6 is a great language, does everything CoffeeScript does (just in a non-ruby like syntax), thus it provides no major advantages at the cost of having to learn an entirely new syntax, as well as force others to learn it if they want/need to work on the project. Compared to something like TypeScript (another superset), which has a syntax that is not radically different and provides compile time static typing, which is a huge benefit/motivator for adopting it and learning it's (much smaller) syntax and quirks.",1533158929.0
flanger001,"I disagree with every single point in #2, except the holy grail existence operator which I would classify as ""decent"" but not worth switching over.",1533156006.0
jeremywoertink,I still use it. I also use it outside of rails with grunt. I dig it. ,1533189383.0
RISCfuture,"I think the big difference is that using ES6 (or better yet, ES2017+) allows you to use Babel and Webpack, which are much more actively developed and better supported by debuggers and web browsers.",1533155115.0
mlengurry,I could be wrong but coffeescript feels like a Rails thing. A bit like Stimulus - would anyone outside of Rails use them? ,1533155976.0
wbsgrepit,"This is Meh,   I think the reason I have left (not walking, but running away from) using coffee was that I have to read and use JS too.   What advantage does it bring me to need to context switch and consider all of the sharp bits to both Coffee and JS all day.   JS ES6 is better than it was when coffee was created and is no longer painful enough to balance that tradeoff. ",1533229662.0
noodlez,"I don't think this is particularly mysterious.

CoffeeScript was good and the best thing out there for a little while.  

ES6 came in and improved upon what existed.  At the same time, the entire JavaScript ecosystem was rapidly developing and moving in the direction of React/Vue/etc..  People picked up ES6 and the JavaScript community rapidly evolved and matured on the back of ES6.

CoffeeScript 2 launched into a crowded space.  ES6 is well-established, TypeScript is gaining steam, and there are a bunch of other options in the space as well that do sorta similar things (Dart, Babel, etc).  

Its just not ""more better"" enough to pull people away.  Which tbh is kind of saying something, because JS devs seem to love having their own flavor of whatever to slightly optimize against their personal preferences.  The fact that ES6 has staying power shows to me that the community is maturing and CoffeeScript2 is just the loser in the timing/maturation of the community.",1533171292.0
patleb,"It really is just a matter of preferences. For me, I think that CoffeeScript is the best compromise between working with both Ruby and JavaScript (being Ruby the primary language). I've done a fair amount of Opal and Javascript as well and I found out that CoffeeScript really brings the mental switching to a minimum. Although, we decided to keep the same code style between CoffeeScript and Ruby and added a bunch of wrappers to core classes and Lodash to make it object-oriented with a Ruby syntax, so we can write Coffeescript as if it was Ruby-like most of the time:

    filtered_values: (query) ->
      values = @cached_values.each_with_object [], (value, label, memo) ->
        unless value.blank() || label.downcase().excludes(query)
          memo.push { value, label }
      values.sort_by('label')

Also, if CoffeeScript would not output a sane-uncluttered JavaScript, I think I would really prefer to stick to vanilla JavaScript since the debugging would be way more challenging than it should.
",1533186067.0
TotesMessenger,"I'm a bot, *bleep*, *bloop*. Someone has linked to this thread from another place on reddit:

- [/r/coffeescript] [Let's discuss: I don't get people's abandonment of coffeescript](https://www.reddit.com/r/coffeescript/comments/93yvvn/lets_discuss_i_dont_get_peoples_abandonment_of/)

&nbsp;*^(If you follow any of the above links, please respect the rules of reddit and don't vote in the other threads.) ^\([Info](/r/TotesMessenger) ^/ ^[Contact](/message/compose?to=/r/TotesMessenger))*",1533213466.0
colly_wolly,"I think coffeescript only made sense if you know Ruby well. Otherwise there are far too many implicit rules to understand when reading code. 

Plus there is a shit load of vanilla JavaScript out there already. We don't really need another syntax.  You are going to need to understand vanilla JavaScript whatever.

Plus its transpiled, which is going to make debugging more difficult. ",1534922743.0
your-pineapple-thief,"Coffeescript has its own quirks and questionable features. What is the value of using \`and\` and \`or\` booleans over \`&&\` and \`||\`? Having just one set of boolean operators means less time wasted on agreeing on code style of your codebase. And if you don't waste this time - congratulations, you now have different codestyle on your codebase, which hurts readability.

Indentation as syntax is also a thing I ABSOLUTELY hate a lot. whitespace-sensitive syntax could introduce a lot of subtle bugs (just one space char in passing anon callback as function param completely changes resulting code - why would I want this?).

Another big reason is that all that react/vue code is in ES now. all the packages on npm, all the documentation, all articles, all books - so if you develop in those you really have to know ES. And if learn ES, why on earth would you then waste time learning coffeescript? There are no important language features which coffee has but ES has not.

On implicit returns - this is really double-edged sword. First of all, if you dont need return value in your function, now you are returning value which is essentially wasted. And depending on your last statement in the function, this value can be nontrivial datastructure, and returning stuff like that from each function call in a big enough project WILL affect performance in a measureable way, and mobile devices aren't that snappy at running lots of code.
At really, is it really THAT hard to type SIX characters? I don't think so. Explicit is always better than implicit.

I don't think that trying to pretend that your javascript is ruby will improve your understanding of javascript internals, how the language and VM works. Cause javascript isn't ruby and will never be. It's a functional language with some bizzare prototype inheritance thrown in, and you would do yourself a favor by actually learning and understanding bizzare inheritance and true nature of the language. And note, this is coming from a man who's full-stack ruby on rails developer (4 years of experience). 

Bastard nature of the language. Coffeescript is very clearly not Ruby. And it isn't quite Python. It's a bastard child of both, and in my opinion the language just isn't designed well enough. Features are not coherent or consistent or well thought, it was an experiment which caught rise in popularity. It feels to me features were added just for coolness factor without much thinking.

Syntactic sugar is sweet, but too much sugar can cause diabetes. Don't know about you, but I'm alright with few extra keystrokes if it makes things more explicit. And I have, you know, text editor. and this nice little program really helps with typing less in javascript. I dont think your language should try to do work which your IDE can. I enjoy terseness of Ruby, but to me coffeescript is clearly far inferior to ruby design-wise.

ES is a standart. It is standartised language with careful consideration for new features and some actual direction going on. Updates are yearly and you can use proposals if they are really nice without much waiting. I can run ES6 in my chrome console to quickly try things no problems, without transpiling or context switching or whatever, and it will run just fine.",1533188031.0
sinsiliux,"The only real difference that in first case `@line_item.cart` and `@line_item.product` won't generate additional sql queries and return `product` and `@cart` objects.
In second case they will generate additional queries and thus could potentially be slower if you ever access those in your newly built line item.

The other difference is stylistic. First variant is generally more:

1. Idiomatic - so other ruby developers will find it easier to understand.
2. Expressive - so other developers can understand intention of your code better.
3. Shorter - means other developers need to read less and thus it is easier to understand the code.",1533153717.0
dooogall,"Okay I'll go first.

This is Voucher-Works, a Rails app that lets businesses create and sell online gift vouchers. Payment is handled through Stripe, and with their Connect setup businesses can get paid as soon as the transaction clears.

After each sale, customers are emailed a copy of their voucher which includes a unique code, as well as given an option to download a PDF which is generated server side on-demand.

The voucher itinerary (dashboard) uses action-cable to update multiple users instantly to prevent pesky customers sharing vouchers and using them at different locations.

There's also a bunch of effort gone into automating the design of the vouchers, uploading a logo or image will automatically create a suitable colour palette, then users can easily customise the typography and text.

[https://voucher-works.com](https://voucher-works.com)

I'm a web designer/developer by trade and most of my work is WordPress but I've really enjoyed creating various side projects in Rails over the last five years.

If anyone has any advice on how best to promote the site and increase sign-up I'd be very grateful!",1533149743.0
diegojromerolopez,"[Babik](https://github.com/diegojromerolopez/babik), a implementation of [Django](https://www.djangoproject.com/) QuerySets in Ruby on Rails.

[Django QuerySets](https://docs.djangoproject.com/en/2.0/ref/models/querysets/) are a powerful tool to make queries easily, especially when dealing with foreign conditions. This is a implementation based on ActiveRecord that eases the construction of complex queries and complements the standard ActiveRecord API.

This version has suppport for PostgreSQL, MySQL and SQLite.

Open to comments, suggestions, wishes and, of course, criticism.

PD: Repost (AutoModerator removed the thread were I wrote several days ago).",1533740274.0
cmd-t,Just go with the most recent supported version unless you have a very good reason not to. Also use docker and you‚Äôll never need to worry about what is supported on windows again. ,1533113461.0
jryan727,"A few thoughts:

1) Why rspec 3.5? It‚Äôs likely untested/unsupported with Rails 5. Latest is 3.7 I believe. 

2) When you try to locate a nonexistent record with #find, AR raises a RecordNotFound error, which Rails is configured by default to map to a 404 error. Does it do that in a controller spec/test env? I forget. Maybe the 500 is the AR::RNF being raised and rendered as a 500? Something to look into. 

3) Can you pass the post object in the params hash? Will Rails call #to_param on that? I don‚Äôt remember. Try passing just the id. params: { id: post.id }

4) Is the post persisted? Why are you asserting a 404 in the first place? Sharing the controller code might be helpful if nothing else pans out. ",1533101401.0
Nitrodist,"Try with bundle exec. 

What's the full stack trace?",1533115743.0
losangelesvideoguy,"One example of where you would use it is if a Task can belong to more than one User. In that case, you would have a model called something like TasksUsers, which would then belong to both a user and a task. This is called a join model, and is essentially what Rails does behind the scenes when you set up a `:has_and_belongs_to_many` relationship. I actually recommend never using `:has_and_belongs_to_many`, and always setting up your join models manually, as the end result is exactly the same except that it allows you greater flexibility to control the way in which records relate to each other.

Another example would be if each Task had multiple Notes that were attached to it. In that case, if you wanted to get a list of all the Notes attached to a given User, you could add the following code to the User model:

`has_many :notes, through: :tasks`

And then calling `notes` from within a User would return a relationship containing a collection of every Note attached to every Task that is assigned to that User.",1533092474.0
tedowler,"a Task could have many Steps (things you need to do in order to complete the task).
in that case:

    class User
      has_many :tasks
      has_many :steps, through: :tasks
    end

hope that helps : )",1533092015.0
OktoberForever,"Often you would use the join model as an object in and of itself. So rather than simply adhering to convention and naming the join table ""TasksUsers"", perhaps you can inuit this relationship as having a reason to exist on its own and attributes it might need to have independent of the other two models. For instance, with Users and Tasks, maybe the join model is a ToDoList that belongs to both Users and Tasks, but the ToDoList needs a :name attribute or a :notes attribute. Users would still have_many Tasks through the ToDoList, but now the join model itself is a lot more useful and has a reason to exist beyond simply associating two other tables.

This might also make it easier to interact with your data if, for example you wanted to simply deal with the `ToDoList.tasks` instead of the `User.tasks` .",1533099806.0
PM_ME_THICK_LADIES,"You could do make something like Trello. A user has many tasks, and tasks can have comments and attachments. The user can have those through tasks. Maybe you also add reminder notifications for specific steps of the task. ",1533103065.0
GroceryBagHead,"You do want to copy over migrations from the engine into your app. This way you can actually see what is being migrated and maybe you'll want to tweak something. Also when removing engine, you're not magically removing database stuff. Still gotta migrate again. 

TL;DR: copy migration files into your app.",1533061907.0
fp4,https://devcenter.heroku.com/articles/custom-domains,1533075782.0
intentions_are_high,"Yeah, that makes sense. We use Cloudinary a lot and that's essentially what we do. Typically, we save some extra meta data, though. Our \`Asset\` or \`Media\` object schema usually looks like:

* `src` the unique ID for the Cloudinary asset
* `caption` text that accompanies the asset
* `media_type` type of asset, e.g. `image`, `video`, `document`
* `meta` JSON column, we typically save a bunch of meta data in here like image dimensions, type, etc.
* `provider` e.g. `cloudinary`, `youtube`, `vimeo`, etc.

This might be a bit more than you need, but it's scalable. We usually make our \`Asset\` object polymorphic too, so it can be added to multiple different types of objects.",1533056887.0
5larm,"Since you're using ActiveStorage, you could use the DirectUpload class that comes with the direct upload engine directly.

[https://github.com/rails/rails/blob/master/activestorage/app/javascript/activestorage/direct\_upload.js](https://github.com/rails/rails/blob/master/activestorage/app/javascript/activestorage/direct_upload.js)

You'll have to read through the source, but basically you create a new upload with three parameters:

\- file: file object from your form

\- url: the url to create a direct upload (the controller action that activestorage provides)

\- delegate: an object that implements stuff like ""directUploadWillCreateBlobWithXHR"", and "" directUploadWillStoreFileWithXHR"", which are basically your hooks to configure the XHR it's using under the hood.

The upload doesn't start until you call the create method with a callback. The first argument is for an error, and the second is an object with some metadata about the new blob. The main thing you're interested in here is the ""signed\_id"". You can retrieve urls to the stored file using this, and I believe it's also the id you use to create attachments by assigning it to the macro fields for ""has\_attached\_whatever"".

This is the same JS that would run if you build a form with direct\_upload: true, but the DirectUploadController class would be orchestrating things and resetting the form if something failed.

Big fat caveat: ActiveStorage is convenient, but really inefficient for hosting public files on a website that gets a decent amount of traffic. Each file requires an extra request to your app to generate a signed url that gets redirected to. Each individual client will cache this after the first request, but its still not great.

ActiveStorage is still pretty new, and this particular usage is undocumented as far as I can tell, so don't be surprised if future versions break stuff.",1533077959.0
redbeard0x0a,"Just FYI: Using a multi-part form upload also uses Base64, images are huge regardless if you are doing it by JSON or multi-part form. You only really see the issue with JSON is because you have to do the coding to handle the bas64, where as multi-part is already implemented and handled automagically for you by the browser and by rails.",1533047509.0
Mac-Hdz,"You could have a small Rails/ActiveStorage app to handle uploads then post generated ids and urls to your main Rails app with a webhook or messaging service.

This would remove the file upload burden from your main app and scaling for file uploads is independent of your main app.",1533084416.0
belgoros,"You can take a look at [draft-api](https://github.com/belgoros/draft-api) I created just for playing with around. It works fine, the only problem I can't resolve for the moment is updating an existing model without changing its previously attached file.",1541535979.0
,"Can you buy a prepaid credit card? I used Heroku years ago and didn't have a credit card at the time, so I used a prepaid one and it worked perfectly. ",1533038669.0
niborg,Biggest thing I look for is meaningful open source contributions or a personal project.,1533011694.0
olivierlacan,"Talk to software consultancies in your area that might be in need of extra help to get your foot in the door; go to every single meetup you can find that could have other Ruby/Rails developers present; if you can afford it go to a Rails conference (RailsConf has a [scholarship program](https://railsconf.com/scholarships) that can allow you to attend the conference for free); as others pointed out try to do anything useful with any of the open source dependencies you've used on your Rails apps in the past even if it's just documentation improvements; try to find a mentor (prepare a list of specific questions for your mentor(s)) in the industry who can give you feedback on your open source or closed source work and give you some tips for your resume, job applications, interviews, and job offer negotiation process; learn as much as you can so that no one has to care whether or not you have a CompSci or software degree, plenty of successful people in the industry don't; whenever something surprises you, read the source code and try to understand as much as you can for example by using debugging tools like Pry to step through the layers of the stack, it will build your confidence and expose you to different sets of Rails/Ruby conventions and practices.

Finally, remember that most Rails work is CRUD work. It's not *that* advanced. Most of the work isn't creating complex algorithms to deal with complex business domains. It's often simply making something reliable, testable, and that people can collaborate on. If you haven't collaborated on a Rails project before, look for any opportunity to do so. Open source is one, volunteer or small freelance work is another. If you've been working with Rails for about 3 years, your knowledge should already be valuable and you should be applying to consultancies and product companies that hire in your area or remotely. You will be rejected but every single time you will learn. This happens to senior people with years of experience in the industry too, there's absolutely no shame in that.

Bon courage!",1533030037.0
julian_j,"I agree with most of the comments, keep doing meaningful projects that allow you to expand your skill set and build your resume, go to meet ups and network (thats how to get the other 80% of the jobs) and apply using the shotgun approach, its all about getting in front of the right people at the right time!  


Be prepared for rejection and move on! 

Sincerely,

Non-CS background RoR Engineer",1533038541.0
nomp,Is there a local company you could build a web or mobile app for? You could do it for less than normal. Also see if you can take one college course on anything computer related. Something like hmtl5 and JavaScript etc. This still goes on your resume and shows you are interested in higher education. ,1533033644.0
mischiefunmanagable,"donating time and energy to open source projects, and crawling angel.co",1533008114.0
bralyan,"Every place I have worked has been hurting for developers. Do open source projects go to meetups, blindly apply to jobs. Are you in the midwest?",1533183830.0
Quantumbinman,"This has been talked about recently, just noticed they have a half-price deal on right now. Could be a good time to jump in if, like me, you have been on the fence about it for a while.

Deal covers single apps and the ""all apps"" package",1533006823.0
cutety,"A must use is [oj](https://github.com/ohler55/oj), it‚Äôs faster than the built JSON parser/marshaller, and setting your app to use it is as easy as adding an initializer and copy/pasting the snippet from the README, so not too many reasons to not be using it.

I‚Äôve been migrating my apps away from AMS to Netflix‚Äôs [fast_jsonapi](https://github.com/Netflix/fast_jsonapi) as it‚Äôs faster, and (at this time) more actively maintained/developed. The one possible downside being it forces you to use the [JSON:API spec](http://jsonapi.org/). My apps were already using the JSON:API AMS formatter, so the migration is fairly easy, but if you‚Äôre just using the default AMS attribute format, you‚Äôll need to be aware that migrating to fast_jsonapi will completely change the format of the serialized JSON.

Since ~~you lose strong params~~ strong params don‚Äôt work out of the box with JSON:API formatted request params, and fast_jsonapi doesn‚Äôt provide a similar api, I‚Äôve been using [dry-validation](https://dry-rb.org/gems/dry-validation/) to validate/parse params in create/update actions.

[rack-attack](https://github.com/kickstarter/rack-attack) for throttling/rate limiting.

I also use redis heavily for cacheing, but that‚Äôs not specific to API only apps.",1532977312.0
Serializedrequests,"Well I would advise against active\_model\_serializers as the authors themselves say not to use it: [https://github.com/rails-api/active\_model\_serializers](https://github.com/rails-api/active_model_serializers) The README lists several alternatives. I made my own replacement library, since I couldn't migrate to any of those: [https://github.com/wmakley/simple\_serializer](https://github.com/wmakley/simple_serializer)

I have found it to be too complicated for my use case, I don't know how most of its classes or API's work after using it in my app for several years, and eventually suffered too many frustrations. It makes it surprisingly difficult to just serialize an object.",1532977185.0
qwert302,"I've successfully used https://github.com/cerebris/jsonapi-resources which does damn-near all the heavy lifting for you.

I wrote a testing library for json api formatted request specs that I've found useful https://github.com/Ross-Hunter/jsonapi_expectations.",1532980987.0
dom_eden,I have to agree with u/cutety - AMS looks like its dying at this point. I‚Äôve been moving to Fast- JSONAPI from Netflix which seems a lot better and should be maintained for some time to come. My main complaint with AMS is the crappy docs - I wanted to have my JSON keys underscored instead of hyphenated and couldn‚Äôt figure out how to do this with AMS using the JSONAPI adapter. Throw in the Fast-JSONAPI performance improvements and it seems a no brainer.  ,1533027319.0
tk425,stdlib,1533007028.0
dfmtl,"While not the Rails source code, the book rebuilding rails is a good start for understanding the core concepts involved.",1532966334.0
_matthewd,"I do recommend working from the code -- mostly because it allows you to hand-wave / intuit how some parts work where you have a reasonable idea, and then dig in to the first spot where you go ""hey wait, but how does it [..]?""

A true front-to-back run-through seems likely to be difficult to follow for that: either it skips everything interesting for a whirlwind tour, gets bogged down in detail immediately, or it jumps around a lot: I think the jumping is necessary, but would feel arbitrary if it's not based on where you feel you need to understand next.

That said, I've heard the author say good things about [Rebuilding Rails](http://rebuilding-rails.com/). Or for a slightly different angle, there's Gary Bernhardt's recent [Web Framework From Scratch](https://www.destroyallsoftware.com/screencasts/catalog#web-framework-from-scratch). 

For me, though, the source is the way to go: there are generally a few layers, so each level of understanding is available before you have to go into the detail of the next step down. I know it's easy for me, as a member of the core team, to say ""just look at the source, it makes sense to me""... but that's also how I gained the understanding ¬Ø\\\_(„ÉÑ)_/¬Ø (OTOH, different learning styles are a thing.)",1532966677.0
felondejure,I loved Rails 5 way book. I still go back and look and it as referecence from time to time.,1532993064.0
lenn4rd,"Have a look at [Real World Rails](https://github.com/eliotsykes/real-world-rails)‚Äîseems like the perfect repo for your question.

(BTW great attitude of yours!)",1532944056.0
toobulkeh,https://github.com/thoughtbot/guides,1532954172.0
felondejure,"Follow thoughtbot's codebase. They are one of the most respected in the industry. 

I have followed them for 2 years now and it did have a lot of positive effects on my code. 

They are also maintainers of one of most popular gems like Factory Bot, Paperclip, and many more.",1532958396.0
,">I've started a new RoR position as a Junior, working with legacy code, as the only dev in the company. My worry is that a lot of the code doesn't follow good industry standard best practices.

Yeah, this is going to be the case in a lot of places. It comes after some combination of time, bad hiring, management rushing devs, poor practices. You do *not* want to start going around refactoring old code as a junior. That's how you a) break things because you don't know why things are the way they are and b) waste a lot of time doing things that management will never notice or care about.

Refactor things if you're asked to. In a couple of years, refactor things when you want to or need to. But generally refactoring means having to tell your bosses: ""I spent a bunch of time working! But it all works exactly the same! What do you mean you wanted new features or bug fixes?"", which is a bad idea for a junior.",1532979666.0
athix,Something I would recommend doing is enabling rubocop and working through the TODO list as you get time.,1532978735.0
headykain,Gitlab CE is a pretty interesting repo.,1532943614.0
norsegaud,Matt Brictson made a rails 5 template. Study the reasons why he chose to do what he has: [https://github.com/mattbrictson/rails-template](https://github.com/mattbrictson/rails-template),1532969151.0
ptrboro,"Redmine has pretty solid codebase and it is pure MVC: [https://github.com/redmine/redmine](https://github.com/redmine/redmine)

But unfortunately nobody in the business use pure MVC anymore. You can also learn a lot from Spree Commerce repo. It can be hard to understand at first because it consists of few modules - core, backend, frontend and api (don't be fooled by naming, backend means admin panel, frontend is user panel). I strongly recommend you to start with Core module as it implements service objects - the main and basic concept of modern Rails programming.

But even Spree still contains a lot of legacy code and it won't be a good example of good production code.",1533041074.0
Nickman666,"I dont have the time to go into details, but let me tell you how I would tackle this:

1. Set up the form. So the form in your view need all the fields that you want from the user. Behind the form you neen a controller with an action that will accept data from your form. (Permit the params, route to post, and tell the form that the data will be submitted to this route)

2. Take the form data and turn it into JSON.
In your controller, take the form data and give to a service class that will serialise the data and turn in to JSON. You can use a gem for the second part. 

3. Send the JSON to MapBox. Back in your controller, take the JSON and send it to the MapBox API. You can use Net::HTTP or a wrapper like HttParty for this. Also you probably need to authenticate against the MapBox API in some way. Please check the docs of MapBox how to do this.

If you need help with a certain step feel free to ask I will try to find time to help you.

Have fun! ",1532786943.0
varnima,"I also want to have data from my app to go on a map, a heat map that can show you how much order you have in one region, so if you find out let me know here on pm",1532780885.0
PM_ME_THICK_LADIES,"Use a gem for it like the linked below. The readme has an example of how to use it. 

[https://github.com/mapbox/mapbox-sdk-rb/blob/master/README.md](https://github.com/mapbox/mapbox-sdk-rb/blob/master/README.md) 

Any reason you‚Äôre not using google maps api for it? You could do it all through he JavaScript api. There are endless stackoverflow posts about it, as well as google docs. 

[https://developers.google.com/maps/documentation/javascript/examples/places-autocomplete-addressform](https://developers.google.com/maps/documentation/javascript/examples/places-autocomplete-addressform) ",1532848293.0
anton-k,Could you check your CSV against the dynamic a.id value instead of 1?,1532727510.0
Ologn,Rspec by design runs tests in random order. This not working is a sign that your test is bad. You can turn it off in rspec's config.,1532754923.0
ethboy2000,"Do you mean the test object database ids are increasing on every test run?

This is just your database auto incrementing on each row created. The previously used id information isn‚Äôt lost between test runs.

As an aside, your test objects will be just be created in the order you specify, assuming they are actually being executed in order. However if for example you‚Äôre assigning each one a variable name in a `let` block then they will get created in the order they are referenced, unless you place a bang in front of the let variable name.

For example:

```
let(:object_a) { FactoryBot.create(:object) }
let(:object_b) { FactoryBot.create(:object) }

it ‚Äúcreates objects as they are referenced‚Äù do
  object_b
  object_a
  expect(object_b.id).to be < object_a.id
end
```

The above should pass.

However if you were to change the let blocks to this:

```
let!(:object_a) { FactoryBot.create(:object) }
let!(:object_b) { FactoryBot.create(:object) }
```

then the test above would fail, simply because by using `let!` you‚Äôre telling rspec to call these blocks (in order) before the test is run, rather than just whenever they‚Äôre referenced.

I hope that makes sense and I hope I didn‚Äôt misunderstand your question. If so let me know and I‚Äôll try and explain whatever it is you‚Äôre struggling with.",1533141020.0
hmaddocks,Think about what you are testing. Will that column always = 1? No? Then what should the value be? A formatted integer? A certain field of the model? Do you really what the values are or do you care that the row is valid CSV?,1532747282.0
DoubleJarvis,"Not going to ask why you want to do that in the first place, but check FactoryBot's `create_list` method, is seems like it always works consistently; something like `a, b, c = create_list(:object, 3)` should work.",1532780956.0
oztrax,"It's usually a good idea to have test data and tests not depend on  specific ordering or IDs, but I had a similar issue.

Check out the ""--- !omap"" trick described in the docs if fixtures might work for your situation...

https://api.rubyonrails.org/classes/ActiveRecord/FixtureSet.html",1532730402.0
excid3,"A slight variation on this that I would recommend is make something you actually use every day, not just want. If it happens to fit both, then perfect. 

If you use Slack every day, clone it, and get your friends to use your version with you. Then you'll be forced to work through all the rough edges you built. You'll learn far more of the details and nuances that way. These are the things that are hardest to teach too because they're time consuming and you don't realize how important they are until your feature works 80%, but with an incredibly annoying last 20%. You have to feel that annoyance to appreciate it.

You can do this with about anything. Replace google calendar, [gist.github.com](https://gist.github.com), you name it. Just start with the basic features you need to make it usable every day and start adding in the extra features you commonly use. You'll end up with a long todo list quickly when you use it every day.",1532705697.0
No_Fake_News,"I don't prefer to jump right in to big projects. If I do then I'm spending too much time looking things up in documentation / Stackoverflow throughout the project.  Reading books provides a nice outline of the API and how it works, and further reading can give me the tools and ideas to tackle problems better and reduces Googling time.

I switch off from read / working through a certain amount of books / tutorials, then I build a project (or single feature) that is approximately at that level of knowledge (since there will always be things not accounted for there will be growth).  After the project it is completed to whatever specifications, I'm back to reading / testing bits of code to prepare for the next project at a higher level of complexity / professionalism, or building on the previous one.  

That works for me.   ",1532710104.0
jhnhrpr,"For what it's worth, here's how I recently approached 'making something I want', starting with a single page... 

1. Thought about the basic version of what I wanted to see: a simple countdown app that shows the number of days to a given milestone date, for goal setting/tracking. Basically a page with a giant number in the middle, showing how many days to go until a certain date, with a title and description underneath it. 
2. Fired up Webflow and designed the page (desktop and mobile/tablet layouts). This could have been coded by hand or with another WYSIWYG editor, but I know my way around Webflow and was able to make what I wanted in 10-15 minutes.
3. Exported the HTML and CSS code from Webflow.
4. Created a new Rails app.
5. Copied the Webflow HTML and CSS into the right spots in my Rails app. 
6. Looked at the page for the parts that should be dynamic (from the database) and created a model with only the attributes I needed to make the page I created dynamic, ran the migration, added some dummy data to the database (can be manually in the console or as db seeds).
7. Added the necessary controller code and changed the static text to dynamic in the ERB template.

Voila. 

From that point, I've been tweaking things, adding other features, etc. It starts with what I want to see (the user experience/interface), actually designing/coding the front end of that, then adding the code I need to make that work. 

You don't have to know what the finished/final state of your app will be. You can start with the 'essence' or core functionality of what you want your app to do and then build from there. 

What's the one thing that is absolutely essential to what you're building? Usually you can identify one thing. Much of the rest of the stuff you build works to support that one thing. 

I also did this with a comedic weather video app I worked on a few years ago. It occurred to me at the time that the really important part of what I was building was querying a weather API and mapping its possible weather conditions to certain pre-determined weather categories (based on the videos that my friends had already shot). This seemed like the toughest thing I had to do, which in retrospect after more experience/comfortability with programming seems fairly trivial. Anyhow, once I figured out how to make that work, the rest of my job was tacking on other stuff and making it look good. 

For your property listings page, it sounds like you may be able to get started with a Rails scaffold (specifically the index and show pages, for a master-detail sorta thing) and customize them to your liking. 

Hope this helps. Good luck. ",1532706797.0
wbsgrepit,"100% true.     Consider,  one of the main detractors of learning is the personal cost of time+effort.  It is simply human nature to value and appreciate both more when you are doing something that interests you vs some canned example.   Ask yourself,  would I rather spend 120 hours on an app that helps me <insert something I am very interested in here> vs making a todo-app or twitter clone.",1532716357.0
djfrodo,"As others have said I think writing something you want is the *best* way to learn how to program.

How I would start is by figuring out something you want to make. Doing ""Todo List"" tutorials is pretty meaningless - it's basically copying someone's homework, you don't know the material, you just followed a recipe.

Look at your project from a data perspective. How will you store your data? Probably in an sql database - so, what tables, columns, and fields will you need.

Learn how to write at least a little bit of SQL by hand, so you'll know how sql databases work.

Active record in rails is pretty awesome and makes 80% of the work pretty trivial, it's the last 20% that will drive you crazy (basically that's programming in a nutshell, db or not, the last 10-20% is always the hardest).

Next I'd define the interface. Do you want an SPA, or do you want an old school html template site?

Third I'd learn jQuery AND vanilla Javascript. jQuery has gone out of fashion, but for the most part, coupled with good old plain javascript jQuery can do whatever you want.

Why I say this is because jumping into something like React if you don't understand Javascript is a very bad idea.

So, once you've learned sql (and just skip the NOSQL stuff and use Postgres - not MySQL), HTML, CSS, and Javascript it's really up to you what you want to do next.

Personally I'd go with Redis or Memcache for a caching layer to give Postgres some relief.

Get a good design/designer, and you're off.

In order of most simple to most complex:
HTML
CSS
Javascript
SQL
* Memcache if your website really needs it

Hope this helps.",1532740987.0
niborg,"It is absolutely the best way to learn: you are much more motivated to spend the time and solve upcoming problems when the subject matter is of interest to you. But I think your question misses the point:
>But I am curious as to how people make their ideas come to life with/without the use of courses. Where do you begin? What needs to be sorted out first? How do you structure work correctly?

Part of the process is making mistakes and learning from them. If I can give you some tips just to avoid unnecessary pitfalls:

* Get a solid foundation of Ruby before you get deep into Rails. Namespacing, keyword arguments, blocks, etc. Trust me.
* Testing. You need to understand how to test both objects (models, etc.) and requests. Just use RSpec.
* POROs are your friend. Complicated logic? Don't put it in a view, controller, or (most of the time) an ActiveRecord model.
* If you have a bunch of JS, get an understanding of how the asset pipeline manifest files work, and see if you can break it up so only certain pages load certain JS.

To start out, I would just create the models for your app, and build tests for them. Then controllers and so forth.",1532707647.0
SagaciousCrumb,"HMT (has_many :through) is useful for many-to-many associations. As in, User X can have 3 CertificationLevels, and User Y can have 3 CertificationLevels, but one of those is the same as User X (as an example). Basically the question is whether an certain CertificationLevel an have many users or not. If it can, then HMT is the way to go, and you should create a new class called UserCertificationLevels that belongs_to each of them. 


If each CertificationLevel is unique to each user (can't belong to any others), then the User can has_many :certification_levels. add a :user_id column to certification_levels.

 I hope that makes sense, this is one of the toughest parts of tails to get your head around.  ",1532701850.0
inSEsIvOlDEstar,the model is `SalesforceUser` without an `s` at the end. so `SalesforceUser.all`?,1532659635.0
fiveguy,"The ActiveAdmin code looks fine. Your app would not boot if SalesforceUser wasn't defined (you'd get an uninitialized constant SalesforceUser in app/admin/salesforce_users.rb). So we can assume SalesforceUser is a class, so we need more information about your setup.

You might as well post your model, where you're calling SalesforceUser.all, and the actual exception you're getting when you call SalesforceUser.all. 

note: op mentioned he tried SalesforceUser.all (not SalesforceUser**s**) in another comment.",1532697761.0
nordrasir,"      class GameMaster < ApplicationRecord
        has_many :games
        has_many :players, through: :games
      end
    
      class Game < ApplicationRecord
        belongs_to :game_master
        belongs_to :player
      end
    
      class Player < ApplicationRecord
        has_many :games
        has_many :game_masters, through: :games
      end

Couple of notes:

constants like class names are camel cased, eg: GameMaster not Game\_master

The associations will be looking for the CamelCased version of the snake\_cased name, so with this setup Player has many GameMasters, and GameMaster has many Players; i've changed ""users"" to ""players"" for that reason. You can change it to users if you'd like but you'd have to do \`class\_name: ""Player""\` and I think an inverse\_of call iirc. - probably not worth the effort in understanding at this stage. Best to get it working.",1532641972.0
amadman114,Looks good to me :),1532641865.0
aSigasai,"Edit:

This worked for me: changed the form to this:

    <%= form.collection_select :classroom_ids, @classrooms, :id, :collection_display, {:prompt => ""Select Multiple""}, {:multiple => true, class: 'form-control', include_hidden: false} %>

This allows the sending of an array of classroom IDs into the project.

Then, in the project controller, I added this to the params:

    :classroom_ids => []

I think it was because it was a many relationship that passing only one made problems.",1532626185.0
trindax19,https://github.com/palkan/test-prof - test-prof analyzes your test suite and tells which tests are creating unnecessary objects. Has some features for speeding tests my favorite being let_it_be which cut my entire test suite duration in half,1532635723.0
SizzlinSteak,"punchbox: Page-specific javascript. I‚Äôm enjoying their solution to page specific javascript. Not a new gem, but underrated IMO. https://github.com/kieraneglin/punchbox

rescue-with: A short and sweet alternative to rescue errors on ruby. https://github.com/ktchen14/rescue-with

strict_templates: Lets you know if you‚Äôre making queries while rendering templates. Great for refactoring. https://github.com/kellysutton/strict_templates

order_as_specified: Great way to avoid making multiple queries when you want a particular group of results to come up first, like moving featured or sponsored posts to the top. https://github.com/panorama-ed/order_as_specified

strings: Useful functions for transforming strings. https://github.com/piotrmurach/strings",1532624639.0
RepSchwaderer,Telegram\_bot. Set up a bot in telegram and start sending messages and receiving messages in Ruby! [https://github.com/eljojo/telegram\_bot](https://github.com/eljojo/telegram_bot) love using this in one of my applications,1532626166.0
sobamf,"Geocoder, complete geolocation solution",1532646609.0
Blimey85,"I‚Äôve been working with Trestle this week: https://trestle.io/ and really liking it. I setup Administrate as well for a direct comparison when deciding which to use and felt Trestle was the clear winner. It looks very nice which may or may not be important to you. It‚Äôs designed for the back-end and I know a lot of people just want it functional and don‚Äôt care what it looks like but this looks really nice and is very functional.

I created pages for my various things, added maps on a few pages that needed then via simple partials, then created a dashboard and added ChartKick.

The one downside is the sparse documentation and lack of a demo site. Both are coming at some point. I had to look at the source code for a few things but overall I‚Äôm really happy with my setup. ",1532644010.0
cmd-t,"I assume you tried both and they don‚Äôt work? If they do, why are you asking this question. ",1532581014.0
Meral_Harbes,"You find it in the docs of i18n, not the rails5 docs. i18n is a gem that rails comes with, but it's not officially written or maintained by the rails developers I believe.

https://github.com/svenfuchs/i18n/wiki/Fallbacks",1532594202.0
synergychen,Paste a function/feature and its test here/github/gist would be helpful for others to start.,1532611260.0
abdullah_slice_chop,Is the code open source?,1532609164.0
timezone_bot,"8pm MDT happens when this comment is 1 hour and 13 minutes old.

You can find the live countdown here: https://countle.com/u82277149D

---

I'm a bot, if you want to send feedback, please comment below or send a PM.",1532565973.0
fvinci,run git remote to make sure you do not already have the heroku remote set up for your repository.  These instructions should help you connect a git repo to an exisiting heroku app - https://devcenter.heroku.com/articles/git#for-an-existing-heroku-app,1532525931.0
webbc99,"For localhost, just make sure you are in the directory of the app you can wish to run locally, and then start the server with rails s. Then localhost:3000 will point to that app. If you want to run multiple local instances, use rails s -p 3001 to run it on localhost:3001 for example.

If you don't have the files locally, check them out from your git repository.",1532538603.0
jryan727,"You‚Äôd need to do it with JavaScript, because the allowable months change depending on the selected year and the allowable days change depending on the selected month and year. ",1532546057.0
redbeard0x0a,you could add a on: :create model validation and catch it on the post (instead of in the browser).,1532542134.0
atog,"It's not possible.  It would assume there is some kind of magic going on between the 3 different html select elements (year, month, day).

You can restrict the dates by using a datepicker.",1532526528.0
shayhtfc,"Save yourself the hassle and just use https://jqueryui.com/datepicker/

(You can set max dates etc using various arguments)

edit: Surely start year should be Date.today - 333 and the end date should be Date.today?",1532863720.0
walruns,Rails dev in London here. Could you say the email where I can apply? Thanks!,1532516325.0
Randy_Watson,Under the tracks. I‚Äôll see myself out.,1532524056.0
lewisflude,Maybe LRUG can help (London Ruby User Group). Check out their mailing list!,1532508834.0
gkosmo,Ask Lewagon London for good juniors ,1532517492.0
troxwalt,I‚Äôll move to London! Long commute from NYC. ,1532522797.0
LeastProfessional,Have you tried LinkedIn? Most employers use that nowadays!,1532508198.0
in0pinatus,"I used to hang out in Browns in Covent Garden.
",1532523556.0
dancesnitch,Junior rails dev here - I live in the East Midlands and wouldn‚Äôt mind joining the team to expand my current skill set.  Any openings for remote intern? Thanks in advance. ,1532558370.0
nujaud,Why not start hiring remotely?,1532595704.0
kaundinya5,Any chance of an Indian junior Rails dev applying for this job? XD,1533924835.0
pa_dvg,It‚Äôll be easier to help if you post the code your trying rather than just the error,1532778520.0
pa_dvg,"In both of your examples, you are providing a string with a file path to the attribute, you want to provide the File or IO object itself unless I am mistaken",1532911412.0
,"A) This isn't the place to look for freelance work. Try r/forhire or r/railsjobs.

B) Why is your rate so low? Even if you're in a third world country, if you have experience leading developers, I'd expect in the $50/hour range at the very least.

C) You should really consider posting your portfolio with your ad. Interested parties don't want to contact someone just to find out if they're good enough. What happens if they contact you, and your work is shit? They've just wasted minutes, if not hours depending on how fast you respond. ",1532502439.0
jstad,"Clearance is a good option. 

I am bias to Warden as I maintain it. Check out rails_warden which you can write your own strategy for verifying tokens on each request. There are extensions for warden (devise, jwt tokens, etc) that can give you an off-the-shelf solution to tie into controller actions. 

A third option is knock. ",1532478226.0
synergychen,"Two straight forward ways you could do and no extra gem or lib required, no more than 10 lines for each. You could use basic auth with username and password or token based, here is a great article https://thesocietea.org/2015/04/building-a-json-api-with-rails-part-4-implementing-authentication/, works on rails 5. The tradeoff is that they are less flexible and secure than Devise/jwt/others",1532488558.0
cmd-t,"> I have such a hard time understanding authentication for some reason.... I'm not interested in oauth or JWT

[Doorkeeper Gem](https://github.com/doorkeeper-gem/doorkeeper) with the [password grant](https://github.com/doorkeeper-gem/doorkeeper/wiki/Using-Resource-Owner-Password-Credentials-flow) is pretty simple. You can use it with devise, but I use it with `has_secure_password`.

You'll need to decide how you want to handle logins from a user. Do they need to log in every browser 'session'. Do tokens expire? What happens then? Do you want to store the token in a `httpOnly` cookie? etc.",1532514403.0
norsegaud,"I use Devise's friendly\_token.

application\_controller.rb \-

    protect_from_forgery with: :null_session
    include Authenticable  
    before_action :authenticate_user!

users Migration \-

    t.string :auth_token, default: ''

Create custom sessions\_controller.rb \-

      def create
        tries = 0
        begin
          self.resource = warden.authenticate!(auth_options)
          if self.resource.auth_token.empty?
            self.resource.auth_token = Devise.friendly_token
            raise('Unable to generate auth token') unless self.resource.save!
          end
          set_flash_message!(:notice, :signed_in)
          sign_in(resource_name, resource)
          yield resource if block_given?
          respond_with resource, location: after_sign_in_path_for(resource)
        rescue Exception => ex
          puts ""#{ex.message}""
          tries += 1
          retry if tries <= 2
        end
      end

Make it visible to the user in their profile page. Setup a re\-generate token button, etc.

I then setup a second controller named authenticable.rb \(will probably rename later\) and added \-

    module Authenticable
    
      # Override Devise stuff
    
      def authenticate_user!
        if request.headers['HTTP_CWT_AUTH_TOKEN'].nil?
          #render json: { errors: 'Cannot find header HTTP_CWT_AUTH_TOKEN in your request...' }, status: :unauthorized
          super
        else
          @current_user ||= User.find_by(auth_token: request.headers['HTTP_CWT_AUTH_TOKEN'])
          render json: { errors: 'Cannot find user with token provided...' }, status: :unauthorized if @current_user.nil?
        end
      end
    
    end

# 

HTTP\_CWT\_AUTH\_TOKEN is the POST header the user must submit \(you can change it to something else\) when they POST or GET, else I return an error.

It's simple, but my app is behind the corporate firewall. I don't have to worry about the interwebs trying to hack my shiz. Just gotta allow other apps in the company to make API calls with their user.

And yes, I rescue/retry on the warden process. Sometimes my database likes to crap out, but work on a second try. I'm working to fix it, but it's not a lot of overhead to retry.",1532518323.0
crowns4days,"Codemy.net has some great tutorials on YouTube. Some video parts are skipped in the playlist but you can find the full tutorial on their site if you pay for it. Check it out, hope it helps. 

https://www.youtube.com/playlist?list=PLjQo0sojbbxWXYhditpqZlN4oLJE4hLjP",1532520024.0
ilikecakeandpie,"Everyone started from somewhere, so I don't see why you wouldn't be able to learn. There are plenty of great resources in the sidebar to help you get started and going. 

However, it's a little troubling that you mention you have very little time. Like with everything else, it takes time to learn and master. You've got to be willing to commit the time. When I first started my career in software, I tried to commit thirty minutes to an hour a day to learning. Granted, I couldn't commit that every day, but something tech related (even if it's just reading an article or two, I suggest from news.ycombinator.com or lobste.rs) will keep positive momentum.

Good luck! ",1532459393.0
redbeard0x0a,"Rails is probably going to be the easiest way to get you closer to launch. There is a lot to learn, but if you go another route (i.e. php), there is a lot of other stuff you need to learn related to security (things that rails provides to you).

I would start with the following:

    rails new --skip-test --skip-coffee --skip-spring --skip-action-cable -d postgresql ./mysaas

Then add and configure:

* rspec (for testing)
* devise (for users)

I recommend skipping coffee (coffeescript is going out of style, stick with regular js), skipping spring (it causes weird problems here and there that can trip up a new user), skipping action-cable (start building a regular app, if you later are launched and figure you need websockets, then add it back in), -d postgresql to use that for the database (I prefer postgres, especially with jsonb data types). ./mysaas is the directory you want to create the new app in.

There are a lot of ways to slice and dice this, if you find somebody helping you out, it might be better to go with their preferences since they will know that setup better.",1532460985.0
hmaddocks,"This will give you a good start 

https://www.railstutorial.org
",1532460094.0
soapboxcinema,"It‚Äôs possible. I‚Äôve done it.

I was in grad school 4 years ago and started playing around with rails. I had no previous ruby experience, though like you, some understanding of web development and php.

After grad school I started a payroll software company with my best friend. I built an MVP that did everything except move the money and tested it with a few users. After 2 years of extremely hard work, late nights, days of utter frustration, and at least 2 new versions built from scratch, we had a real company. Last October we were successfully acquired by another software company offering HR software.

Learning rails was fun and rewarding and of course extremely frustrating at times. I made progress in fits and spurts. More importantly, I learned about product development. Here‚Äôs some advice from the mistakes I made:

Understand the problem you‚Äôre solving. Businesses don‚Äôt buy software, they buy solutions. Understand the problem and how you can solve it better than anyone else.

Start small. Really small. Solve the smallest problem people are willing to pay for. It‚Äôs easy to try and build more and more features to satisfy every customer request. Resist that urge and focus on solving problems well.

Talk to potential customers. Do this before writing any code. It‚Äôs advice that gets repeated over and over and so often ignored. Talking to businesses in your target market will help you understand the problem and how to solve it.

Best of luck.",1532470098.0
toadallyfroggincool,Sure! I would go to a local meetup though - pairing is a great way to learn and avoid some of the Rails magic gotchas,1532459320.0
jonopens,"Absolutely. I feel like it's easier the more technical your background is, but anyone can do it with enough hard work and will power to work through tough learning moments.",1532461498.0
virnovus,"If you know the industry you're working in, then that's the best way to go about it.  Also, if you have contacts that can give you feedback to get your project off the ground, even better.  It'd be ideal if you had someone to help you, especially if you have the industry contacts to make it work.",1532481743.0
Xorlev,"> data-driven business intelligence application in the medical sector

If you're going to have to be HIPAA compliant, you should probably hire someone. Otherwise, give it a go.",1532490045.0
Anjin,"OP, go to http://www.learnenough.com. It‚Äôs a series of tutorials that start off with the assumption that the reader knows nothing about programming. All the tutorials are free online, but if you want screencasts you can get a subscription that gives you access to all the tutorials‚Äô videos. 

You‚Äôll learn all the basic knowledge you need to be able to learn Rails, and then the tutorial series ends with Michael Hartl‚Äôs Rails Tutorial which someone else also recommended. We created the tutorial series because of you are a true beginner, you won‚Äôt be able to learn to really do anything with Rails if you don‚Äôt also know how to use a text editor, git, HTML, CSS, and JavaScript. 

All the tutorials use the real software that you‚Äôd use in a real development job, you won‚Äôt just be entering random snippets of code into boxes on a webpage, you‚Äôll actually be building using real stuff at every stage. ",1532495908.0
crowns4days,"Yes, you can learn Rails! I started with Rails less than 2 years ago and after developing a few small apps I moved onto React and React-Native. 

The one downside to Rails is that it does a lot of work for you. When I began coding in other frameworks like Django (python) or even React (JavaScript), I realized how much I had to configure on my own to get started. 

There are a ton of tutorials on YouTube to get you started without investing any money. Once you have exhausted YouTube, there are plenty of paid learning websites that are really good. 

Good luck!",1532520393.0
Blimey85,"It‚Äôs definitely doable but it will take time and patience. Some parts will seem very easy and some parts will frustrate you but as you learn it gets easier and things will start to click.

I started with Perl in ‚Äò99, then PHP, then Rails. I dove into Rails before learning Ruby and have picked up Ruby along the way. That‚Äôs probably not ideal but it‚Äôs worked out ok.

As others have stated, start with tutorials. Then build a few small apps to see how it all comes together. One issue you‚Äôll face is choosing which gems to use. There are gems for all sorts of things and often you‚Äôll spend more time deciding which gem to use than implementing the one you choose.

And everyone has an opinion on what‚Äôs best. Some love Devise, some say it‚Äôs overkill. Some say ActiveStorage is all you need while some swear by PaperClip, CarrierWave, Shrine, or a couple I‚Äôm forgetting. They all handle file uploads but in different ways. And PaperClip is deprecated so don‚Äôt use that.

If you have questions, run into issues, or want a list of gems that have worked great for me, shoot me a message. :)",1532565874.0
Hellochristmas,"An aside, but I‚Äôve heard a.similar story before so I‚Äôm curious - you say medicine - are you an M.D?",1532648953.0
your-pineapple-thief,"This is not how you run a business! Hire good developer, meanwhile use your expertise in medicine to be product owner, make sure your cut is larger.",1540567802.0
manys,"How are your face-to-face sales skills? The lack of them kills many of these kinds of businesses.

For most cases, learning Rails (or whatever) is the easy part.",1532466591.0
fiveguy,"You could also consider changing your log level so you aren't seeing as much output (ie SQL queries):

In config/development.rb:

    config.log_level = :info

Then fire up a console, check out your logs, and see if that's more to your liking.

As to the connection refused issue, it's possible you're being throttled by the client.",1532449134.0
beatlefreak9,"Can you filter the logs you need with grep? Something like this:

    tail -f logs/development.log | grep ERROR

replacing ERROR with whatever you want to filter by.

ninja edit: this assumes you are using a UNIX-like system (OSX, Linux); I don't know how it would be done on Windows without something like Bash on Windows.",1532446771.0
komafreeze,codementor.io,1532441053.0
ClikeX,">but I often wonder why X works and Y doesn't, or why does ruby automatically select that this variable over the other, etc. I don't just want to know, I want to understand. 

People on this sub are usually pretty good at answering questions, as well as providing context as to how it works.",1532427690.0
oztrax,"Also don't forget that you can read the source code for Rails and actually ""see"" what it is doing. Once you get used to doing this, it's a great way to get some deeper understanding.",1532439382.0
Mother_plucker,Codementor check it out,1533250603.0
taymen,"Aha! It just so happens that I used to teach Ruby on rails to people. I wouldn't mind guiding you for an hourly or some fair rate. Guide, because you doing it yourself is the best way to learn, and I can Hangouts video with you so I can help fill in the gaps of the whats and hows with the whys and whens. And if I also don't know, we can both learn the answer.








",1532434185.0
LeastProfessional,This sub is great for answers and obviously our saving grace Stack Overflow should be able to answer anything you ask.,1532428336.0
sdn,How about #rubyonrails on irc.freenode.org?,1532459254.0
nujaud,There's also the [Ruby on Rails Link](https://rubyonrails-link.slack.com) Slack channel.,1532590652.0
girmad,"Why not give them a class based on the category, and then use CSS?

EDIT: You can even include the font-awesome icon w scss https://fontawesome.com/how-to-use/on-the-web/using-with/sass",1532423005.0
LeastProfessional,"Take everything with a pinch of salt, i'm only *new* to Ruby on rails and theres probably a ton of other ways to do this.

Why don't you add company type into the div class and then use CSS to change the font-colors? Try something like this:

`<div class=""card shadow p-3 bg-white rounded <%= company.company_type %>"" style=""width:20rem; margin-left: auto; margin-right: auto"">`

This is assuming you are storing the company type within a database. You will need to sluggify the class which can be done through gems or just by creating a method yourself to do it!

If you use a framework like SCSS, you can use nesting to your advantage to write cleaner code! Although, just chaining classes is good enough! For example;

`.card.startup { color: red; } .card.e-commerse { color: blue; }` etc...

As for the font-awesome stuff, i've personally never used it but I know that you can use the 'content' property in CSS to do this. To do this you simply put the unicode value of the font-awesome icon.

`.card.startup { color: red; .fas { content: ""\f000""; } }`

`.card.e-commerse { color: blue; .fas { content: ""\f008""; } }`

This page will tell you all the Unicode values. [http://astronautweb.co/snippet/font-awesome/](http://astronautweb.co/snippet/font-awesome/).

If this doesn't work, just make a helper method that will look at the company type and return the correct font awesome icon

`def get_fa_company_type`

`case company_type`

`when ""Startup""`

`return ""fa-bookmark""`

`when ""...""`

`end`

`end`

and place this inside the <i> tag as such `<i class=""fas <%= get_fa_company_type %>"" style=""font-size: 20px; color:#F08C2D ""></i>`

What this will do is it will go into that helper method, look at the company type and return a string and place it into the class!

Just a tip, you can use your validation (if's and unless's) inside the rails tags, for example:

`<%= image_tag company.logo_url(:thumbnail), style: ""width: 40%; height:40%; margin-top: 15px; margin-right: 50px;"", class: ""img-fluid"" unless company.logo_url.nil? %>`

I probably didn't explain this very well so ask if you're confused :)

EDIT: Typos. The Programmers worst nightmare.",1532424893.0
beatlefreak9,"Perhaps a dumb question, but how would you ensure the correct amount of characters are entered at once, since I assume you would enter only one at a time? Sounds like you want some JavaScript to enforce how text is entered, and some model validation to ensure the text is correct when you save it to the database.",1532406113.0
SerKnight,You need to do your Ruby if statement outside of the JavaScript block. ,1532397821.0
SerKnight,"Something like this:

`- if @my_rails_var`

`:javascript`

`window.MyNamespace.myMainVar.key1 = ""#{@my_rails_var.key1}"";`

`- else`

`:javascript`

`window.MyNamespace.myMainVar.key1 = nil`",1532401415.0
intentions_are_high,Are you using Active Model Serializers or something similar? You can definitely have internal and external JSON payloads. How does your controller differentiate between the different requests?,1532391703.0
intentions_are_high,"Yeah, try that out. We do it all the time when we have admins endpoints that return the same resources with more, private data. Works great!",1532392971.0
i_am_pro,Good luck professing rails... ,1532365922.0
beast_master,"Can you create a syllabus?

Can you teach college-age students?

If you need help, let me know.",1532386753.0
Rogem002,What's stopping you from using [HTML5 validation](https://codepen.io/mikerogers0/pen/OwmyZL?editors=1000#0)?,1532375824.0
abdullah_slice_chop,Why not pre select one of the radio options?,1532350741.0
buctrack,"Give the text as param to the initialise method?    
Scope it to the class as something like @text = text and just refer to it from send_message",1532350553.0
tjdracz,"Are you using .slice or .permit in the strong params? Should be the latter.

If you're using rails date select, this is how the date will be sent through, period. If your model has ""date_of_birth"" attribute, everything should work as expected when you do Model.new(permit_my_params) or update/create. ActiveRecord will handle it automatically behind the scenes.

Now if you need to do something else with the date rather than saving it on the model, you will need to write a method yourself to parse the date from those three params, nothing hard.

Bottom line is, nothing wrong with your code, this is how Rails works",1532322409.0
toobulkeh,Devise and Stripe.,1532314761.0
donjuan26,"Came across
https://github.com/excid3/jumpstart
And
https://github.com/archonic/limestone

I haven't used any of them but I'm also planning on starting a saaa. 

I wish there were something like laravel spark for rails, would happily pay 100 bucks for it :) 

Also, Searching ""rails saas"" on github will get to some older projects.",1532306323.0
crawling949,"I‚Äôve been very happy with rapid rails. About $100. Integrates most things and I can get a new site with devise up in five minutes. No stripe integration, but that‚Äôs easy to do. ",1532316685.0
editor_of_the_beast,Rails is a SAAS development platform.,1532349754.0
parzo,I‚Äôm in the middle of building one now which is loosely based of Ryan Bigg‚Äôs book which I believe is called multitenant application development with Rails. If you have more time than money that will get you the skeleton of one built out without a huge amount of effort.,1532331693.0
Randy_Watson,"You have two versions of jQuery that are loading. One is in your gems and the other is in your `application.html.erb` layout template. 

I cloned your repo and made that change. It worked. I did change the id's to just ""calendar"", but other than that I just deleted the extra jQuery script.",1532299512.0
pills4,"You should write what you tried, I feel people helps you more when you show what you tried.

For example, have you tried writing on console full calendar init function? I should not ask this question, you should have answer that in your post already. The more detail the better.

Have you read turbolinks documentation? Post that there, maybe you have the wrong event name?

Maybe there is an error on browser console? Are all scripts loaded in the page in the correct order? What does each part of your code return? Try each part in console to check your assumptions and post that too.
",1532292151.0
danktamagachi,"Based on the paste in the issue link above, is it a problem with your div naming? The div is named calendar but the js is looking for event_calendar.",1532292358.0
varnima,"The problem was that i had 2 version of jquery imported in application.html.erb

<script src=""[https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js](https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js)""></script>

<script src=""[https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js](https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js)""  crossorigin=""anonymous""></script>

sooo big thanks to  [pills4](https://www.reddit.com/user/pills4) for the hints ",1532298480.0
raen79,I think anycable is your answer really.,1532327655.0
mlt-,"If you are not into single page applications, I'd make it a 2 steps/ forms approach. First choose check or card, then render corresponding page/ replace div with js from server.",1532233782.0
ohyeahbonertime,"I see no reason that you can't just use JS to remove/hide the form of checked, and in your controller action in submit conditionally call your stripe service shit",1532243105.0
PeteMichaud,"Did you install postgres with sudo?

Do you have multiple pg installations such that your rails app is hitting one and your command line is hitting the other?",1532170923.0
NaiveExplanation,Do you have postgresql installed on Ubuntu ?,1532161893.0
mlt-,Not a login role?,1532186254.0
chanweiyan,don't install pg under superuser (sudo),1532168449.0
adm7373,connected to the wrong database or wrong postgres instance?,1532228513.0
illegalt3nder,"Role, not user. ",1532204734.0
ticky_ticky_time,Show your controller,1532153980.0
SminkyBazzA,"Is there a repo we could see?

Sounds like you've somehow managed not to have a properly formed `app/models/application_record.rb`, but if it's working locally then it could be anything else...",1532115435.0
fiodi191,"You can do it like that, but it's a hack. Definitely not obvious to anyone ever reading your code later on where the variable is set.


You should store the variable in the data property of some HTML node, for example <body data-user=""<%= user %>"">. Then in JS const user = JSON.parse(document.getElementByTagName('body').dataset.user);

Or something like that I can't remember the js syntax off the top of my head.


You could also make an AJAX request for the variable. Please whatever you choose, don't use global variables, and please DON'T share random data in a non-explicit way between files. You can make global classes (/functions), because if you have an object initialization somewhere the person reading your code will know they have to look for the class in some file, that's the standard practice. With variables it is not. People will have a very hard time finding it. Also there's the potential issue that if you accidentally change the variable in one file, it may break stuff in very subtle ways in another file.


Also, you should be wrapping all your JS code in (function() { /* code */})();. It's an anonymous function, immediately invoked at load. This will prevent accidental pollution in the global space. (Wrapping it in parentheses is important, won't work otherwise.)

Edit: spelling.",1532082115.0
Blimey85,"There‚Äôs a gem for this called Gon. Which approach you decide to use is up to you but I thought I‚Äôd mention this so you‚Äôre aware that it exists. Might have some benefit for you.

https://github.com/gazay/gon/",1532100070.0
nicolasMLV,"in application.html.erb :

    <div id='current-user-data' data-id='<%= @current_user&.id %>'></div>

and in js when needed (here is jquery) :

    var currentUserId = $('#current-user-data').data('id')",1532088662.0
NaiveExplanation,"Hi, i don't know if ActiveStorage has any hooks. But maybe you could do it in your controller (quick and dirty) ",1532078197.0
TheDoc22,This seems like more of a Google Maps API question than a Rails one but as far as I'm aware the interior building photos are an extension of Street View and would be available to use with all of these embed features: https://developers.google.com/maps/documentation/javascript/streetview,1532028131.0
ShaThrust,"Were you using the partial replacement feature in turbolinks to do this before?

    render :new,  change: 'link_to my_rails_path'

If you moved from Turbolinks classic to 5 there are some key things that have changed between the two, a big one being any integration is has with rails is removed and instead going purely javascript.",1532036790.0
bananatron,"You might know about these, but there are a few meta tags you can attach to prevent view cacheing and 'previewing' for turbolinks like <meta name=""turbolinks-cache-control"" content=""no-preview"">. This might not help if it's not a cache issue :(

&#x200B;",1537517564.0
glebm,"Replace `.preview_area` with `.preview_area.config.replace`.

View hooks let you inject content before or after the element, or replace it entirely.",1531996521.0
ethboy2000,"I would start more simply and follow an existing tutorial if you have no knowledge or experience of Rails, otherwise you‚Äôre just going to get frustrated and not understand anything.

Once you have an idea of how everything fits together, then attempt your own project. Otherwise we could explain what you need to do but it still won‚Äôt be enough for you to ‚Äòjoin the dots‚Äô in your head as you won‚Äôt have a fundamental understanding of what‚Äôs actually going on.",1531934612.0
imshandi,For a caluclator app. I am not sure rails is a best fit. You can start with simple Todo app. If you are still interested in doing a caluclator app you can make use of JavaScript math functions. Use basic htmls to do build it. ,1531935474.0
diegojromerolopez,"Babik

Library to ease making database queries for Ruby on Rails.

Github: [https://github.com/diegojromerolopez/babik](https://github.com/diegojromerolopez/babik])

Experience: almost 3 months using Ruby & Rails, more than 9 years as developer in other languages.

My aim is reimplement most of the Django API in Rails, to help the developer to make queries that span through relationships. Postgres, MySQL and SQLite are supported (MSSQL will also be in the future).

Any comment, criticism or suggestion is welcome.

Thank you all!",1532535938.0
so_just,"What you need is a [form object] (https://robots.thoughtbot.com/activemodel-form-objects)

When saving the records, you can wrap your code like this:

    class CarrierForm
      attr_accessor :carrier

      def save
        Carrier.transaction do
          Carrier.create!(...) #use bang versions of create! and update! methods
          UserInput.create!(...)
       end
       true
       rescue ActiveRecord::RecordInvalid => e
         ...
        return false
      end
    end",1532173268.0
oowowaee,"I write JS unit tests, and then test page functionality in feature tests. ",1531914132.0
Simonchibao,I use them quite a lot and usually test in feature specs - checking whether page has the proper elements the js response was supposed to add/change.,1531893165.0
editor_of_the_beast,"I would use feature specs to test that the JS modified something that the user can see. Like, expect(page).to have_text modified_by_js_text",1531930696.0
Rafert,"This seems to work for me in an initializer file:

    if Rails.env.development?
      Rails.application.config.after_initialize do
        `open http://localhost:3000`
      end
    end

It's pretty much near the end of the process as described by http://guides.rubyonrails.org/configuring.html#initializers",1531881703.0
ActiveModel_Dirty,"These answers are good, but they require configuration for every rails app you work on (I'm a consultant so that's a lot of effort/things to remember).

*Slightly* more convenient (albeit also slightly janky) might be aliasing `rails s` to a different command in your bash or zsh config. So if you time your app, which is easy enough, you can do something like this and just replace the 10 with however many seconds your app takes to load. Since each app is different, I'd go with the lowest (or highest, I guess) common denominator:

`alias server='rails s & sleep 10 && open` [`http://localhost:3000`](http://localhost:3000) `&& fg'`

A wonky alternative for parity would be:

`alias rails='rails '`

`alias s='s & sleep 10 && open` [`http://localhost:3000`](http://localhost:3000) `&& fg`

I haven't used that in a while though, I mostly manage this sort of stuff in my tmux config (I have it move the server pane to a new tab once it boots and then open a browser).",1531893125.0
zqom,"We use tmuxinator for that kind of stuff. It's much better than Foreman for example in my opinion.

Take a look here: https://gitlab.com/PatrickLerner/dotfiles/blob/master/.config/tmuxinator/platform.yml

The fswatch does the magic to wait for the server to boot and then open the browser window.",1532032297.0
RISCfuture,"No need to do it with Puma specifically. In your Rails app, you can use one of the on-load configuration hooks (such as `config.to_prepare`) to call `system ‚Äòopen‚Äô, ‚Äòhttp://localhost:3000‚Äô`.

Put it in your development.rb file only, obviously.",1531881600.0
downvote_syndrome,"It truly is not worth the trouble IMO.

Just dual boot CentOS or Virualbox or something. ",1531874243.0
Nrdrsr,Ubuntu for Windows 10,1531871533.0
so_just,Checkout WSL,1531870056.0
Code-Master13,"For myself as a beginner, I found it easier to just dual-boot into Linux for my development rather than fight with the windows incompatibilities. There is WSL now, but I haven't played much with it, but seems nice. Or a VM of Linux.",1531877967.0
jevon,"I've used Windows, Mac and Ruby in the past, I'm currently using Windows 10. I use WAMP for setting up an easy MySQL, RubyInstaller + DevKit for Ruby, and Cygwin for build tools. Not ideal, it can still be quite slow to start up ruby/rspec, but it works.

(You'd be surprised how many gems and packages expect everyone is using a Mac or Ubuntu.)",1531872043.0
dr-drew,Use docker. It will make your life much easier.,1531878574.0
skryking,I run ubuntu 18.04 in a hyper-v virtual machine utilizing enhanced mode. Works extremely well in win 10 pro.,1531881413.0
GoogleyEyedNopes,"Docker!  The setup is a snap for dev/test, and since you'll already have a Dockerfile configured for your local environments you can slide easily into production.",1531885071.0
Simonchibao,"I switched from Mac to Win10 last year and went wiith Ubuntu on VirtualBox and Im quite happy with it. I dont have access to my GPU on VM but other than that everything works perfectly. I tried WSL a few times but there is always something not working (PG have to be run from Windows, some libraries not working) - its not worth the effort.",1531893279.0
somazx,"I think the safe/reliable approach is still vagrant. With WSL there are still occasional gems, or other dependencies, that won't work.

For example these articles (among others) detailing developers' journey with WSL. https://medium.com/@pl.d.wllms/rails-app-development-with-the-windows-subsystem-for-linux-part-2-7ff8df56bcfe
http://www.akitaonrails.com/2017/09/20/windows-subsystem-for-linux-is-good-but-not-enough-yet
https://richonrails.com/articles/rails-on-windows-10-via-wsl",1531871287.0
appothecary,"I have a Macbook Pro for work but a Windows machine for gaming. I tried setting up WSL for the rare times I needed to work on an app on my desktop and it was a nightmare. I prefer, in order of most to least, dual booting, vagrant/VM, WSL.",1531872416.0
kobaltzz,"I would personally go the route of Ubuntu on Windows (WSL) or Docker. I made some screencasts introducing both of these to get a new rails app up and running.

https://www.driftingruby.com/episodes/intro-to-docker-on-windows

https://www.driftingruby.com/episodes/ruby-on-rails-development-with-microsoft-windows-10",1531873794.0
jujubean67,"Docker, Vagrant or other type of *nix emulation. Windows is not worth the trouble and you'll never use Windows in production anyway.",1531897346.0
yxpow,"I work on a Rails app using older versions of Rails and Ruby and I had to do a lot of platform-specific hackery to get it up and running. Even when it's working I've managed to run into a few platform-specific issues which wouldn't be present if I were running on something Unix-based. Everything's probably slightly better now, but if you can I'd definitely recommend WSL or dual-booting Ubuntu, as ideally you also want your dev environment to be close to your production environment.",1531900226.0
MaestroGamero,"Honestly, just use a nix vm. WSL doesn't provide a great debugging experience and some gems just fail on Windows even with the devkit.",1531921890.0
nerdinand,Using vagrant might be worth a try: https://gorails.com/guides/using-vagrant-for-rails-development,1531930194.0
Haegin,"You could use docker, but setting it up will be a pain. You could use WSL, but bits won't work and you'll never be sure if a given problem isn't just your setup. You could use Vagrant, but it'll break when you try to upgrade it. And when you don't. You could use a Linux VM and it'll work pretty well most of the time but sometimes you'll miss the performance. You could dual boot Linux, and it'll work pretty well most of the time, but sometimes you'll miss being able to run that one windows app you need.

I'd pick one of the last two.

Edit: you could also buy a Mac, but if you do, make sure the company is paying.

I used to dualboot for years. Then the company gave me a mac. If I was unemployed or a student and needed a dev machine I'd buy a laptop and run/dual boot Linux. If I was working for a company I'd make them buy me a mac and use that.",1531961309.0
seugorilla,I use Vagrant but docker is great. I had issues with docker thats why Im using Vagrant,1532065270.0
pydum,"Ok guys.After some mumbles i've decided to try with WSL. I have windows 10 home and i cannot use Docker or Hyper VM. Vagrant way was also not so interesting due syncing problems with the two different OS.A newly and fresh new complete VM is interesting for the isolation, but you lose the comfort to use Win10 for the daily work.

Installation and the interopt with Windows run perfectly. Postgresql is installed in win10 and you have only set your working dir away from your linux /home directory.

Problem is the famous word writable warning problem that i've not yet resolved. Anyone have some hints?",1532078371.0
pupeno,"I got it working very nicely with the native ruby installer. I'm away from my computer, so, get in touch later if you need help: pupeno@pupeno.com ",1531873237.0
order_wayfarer,Get a VPS.,1531882799.0
pauljdavis,"If a Mac is not possible, Linux in a VM would be the best fallback.
",1531904855.0
mr_aes,"Thanks everyone for helping. The way I'd structured the controller, the form and even how I was permitting the params was a problem, which I corrected as below:

* Since a member has one shareholding then the nested form should be  `<%= f.simple_fields_for :shareholding do |p| %>`
* The shareholding controller should be: shareholding\_controller.rb and not shareholdings\_controller.rb
* Strong params for the nested model: `...permit(:first_name,....,shareholding_attributes: [:id, :member_id e.t.c.]`

With that, the form is now able to pass the shareholding parameters correctly.  Thanks again u/headykain, u/fiveguy and u/inOpinatus. :)",1531902934.0
headykain,Pluralize shareholding_attributes. Missing an s in shareholding.,1531832924.0
Guteres,"Hej has\_one not working!!! must have has\_many!!!  And will be working.  But i dont know what new controller do. If you want help PM

controller action new  default:  @model = [Model.new](https://Model.new) 

@model.hasmoneymodel.new  ",1531916058.0
Twistedsc,`ALTER USER myusername WITH CREATEDB;`,1531837500.0
felondejure,You have to grant access to the user you are creating the DB with. Open a psql console and type GRANT ALL PRIVILEGES ON ALL TABLES IN SCHEMA public TO new_user;,1531819520.0
felondejure,You can list users by typing \du in the psql console.,1531819591.0
lenn4rd,"When you create a user, e.g. using `createuser` on the command line, make sure to set the `--createdb` flag which allows that user to create databases. You can also `ALTER PRIVILEGES` for existing users, see above.",1531820344.0
michaeljchou,"This is probably what you want:
https://www.nginx.com/resources/wiki/start/topics/examples/xsendfile/",1531807000.0
jryan727,"How complex is the logic? You could potentially rewrite it in something nginx can execute. I‚Äôve done some reasonably complex stuff in Lua. But I wouldn‚Äôt necessarily recommend it. Just let your Rails app serve it. If scalability is the concern, you‚Äôll want to ditch your setup eventually anyway. Store those files on an object storage solution like S3, then authorize the request in Rails and hand the user off to a pre-signed URL. Your Rails request will be quick and predictable (not dependent on file size) and S3 will handle the rest. ",1531804902.0
ezekg,"You can get the current set of query params with `request.query_parameters`. I merge the new pagination params into that, then call `to_query`. For example,

    request.query_parameters.merge(page: { number: 2, size: 10 }).to_query",1531798885.0
Atixx,"While not answering your question directly, since you might be avoiding gems for a reason, IIRC Kamknari does pagination quite well, and gets those links just like you want them.",1531832178.0
exige1981,"Start off creating a tests at the model level.  This will make sure that the behavior of your models is rock solid.  Make sure that your validations fail if your user tries to enroll in a course they've already completed/are enrolled in.

Once you know that your model behavior is solid and you have good test coverage, then you can start to look elsewhere, specifically any methods that skip validation such as `update_column` or `update_attribute`

I tend to use integration tests to test both happy path and things that should not happen.

I only test the most important happy path stuff with system tests because it's a little more time consuming.",1531771873.0
dom_eden,This sounds like a perfect fit for Cucumber and Behaviour Driven Development - where you define a series of steps within a scenario and the test runs to verify each step. ,1531758543.0
Lightor36,"I don't know all the context or reasoning for this but have you thought about using service objects for both controllers, then you can just interface with the service instead of trying to make cross controller calls.",1531718511.0
v_krishna,"I would think handle this at the redis level. Use sentinel, or elasticache with multiple nodes, and let redis failover rather than having your app handle it.",1531697370.0
recycledcoder,"The answer lies in the desired behaviour in case of redis failure, and your application topology:

A single-node application may fall back safely, as long as it always keeps a local copy of sessions, or invalidate all sessions at the point of redis failure. But then... why externalise sessions in the first place?

A multi-node application can only fall back if all of the above are true, _and_ you can fixate a user on a given node at the load-balancer level.

While there may be use-cases in which this makes sense, by and large you will probably be better served by having a HA session store.

Interestingly, this is an instance of the [CAP theorem](https://en.wikipedia.org/wiki/CAP_theorem), or, ""distributed systems are hard"" :)
",1531698854.0
Rafert,You might want to take a look at Semian. The readme takes Redis session storage as an example: https://github.com/Shopify/semian#real-world-example,1531792046.0
programmer01135,"Use a provider class which handles this internally, although a good production architecture would have a pair of servers (at minimum) with a load balancer in front of them. ",1531697204.0
kobaltzz,"There is a very active community on slack. There are several thousand members with many active people.

https://www.rubyonrails.link/",1531695300.0
tastycakeman,i used to hang out in the IRC channels. dont know if people still hang out there.,1531693765.0
juanhuttemann,What do you guys think about making a discord server?,1531710768.0
ClikeX,"Seems like you've figured out most of it on your own already.

> I don't have to start it every time I want to work on my Rails project, like I do with rails s, right? 

This is correct. Not sure how \`mysql.server start\` works. But might not ensure that it start every time your computer reboots. So keep that mind. If you do want mysql to start on boot, you should run \`brew services start mysql\`.

But basically, Mysql is a database server that runs on your machine, its process is totally separate from Rails. 

>But I'm still very confused as to how to log into the Sequel Pro pancake app to be able to see my Rails database and be able to view the changes that I'm making in the app.

As to what is causing the Sequel Pro error. What are your settings in Sequel Pro? And check your database.yml. What settings does that one use?",1531682725.0
ScootsMcGootz,"\> So I I never have to run mysql.server start EXCEPT when I first create  the project? I don't have to start it every time I want to work on my  Rails project, like I do with rails s, right?

The MySQL server runs as a daemon, which means that it's a process that doesn't intend to be killed often, so it's almost always running in the background unless you specifically kill it. Depending on how you have it installed, you may need to restart it every time you reboot your machine (tools like Homebrew automate this for you.) The local rails server OTOH, isn't daemonized and is usually restarted several times throughout the course of development. 

If you're starting out with MySQL, PostgreSQL, or any other major DB technology, I highly recommend getting comfortable accessing your DBs and writing queries from the terminal. Tools like Sequel Pro are great for certain things like DB administration, but I've found them to be bad for learning new technology.  The initial pain of using the terminal to talk to DBs may be a little higher, but it's always been more useful than learning a certain GUI.",1531682633.0
olbrich,You can set the before filter to only apply to pages you want to suppress caching on using the 'only' and 'except' modifiers on the filter. ,1531667940.0
SignalException,"If you don‚Äôt want the authenticated controllers to be cached, then my first thought would be to create a new controller called something like AuthenticatedController, then put the before action there. Then, any controller you don‚Äôt want to be cached can inherit from Authenticated Controller instead of ApplicationController.",1531665562.0
ethboy2000,"Take a read of this http://guides.rubyonrails.org/active_record_migrations.html#foreign-keys

And now take a read of this https://en.m.wikipedia.org/wiki/Referential_integrity

Adding a plain integer column means that you could end up referencing a record in another table that no longer exists.

By using a foreign key constraint (which gets created by using t.references rather than t.integer) Rails will ensure that the above is impossible.

If you go to delete a record that is referenced by another table, Rails will raise an error and prevent you from doing so, unless you have used something like `dependent: :destroy` which will ensure Rails removes any orphaned records.",1531644463.0
slacker87,"Put a pretty little transition when the number changes, boom its a feature!",1531595613.0
Schrockwell,"This is because the main page has been cached in the browser to make that initial navigation back to that page instantaneous. Once the page is actually loaded from the server the count updates again.

You will need something like Turbolinks.clearCache(); to fix it. There is probably a more precise way to force just that part of the page to avoid caching.",1531602320.0
grimmstede,"I actually fixed this by adding a header to not show the preview of the cached page in the partial:

<meta name=""turbolinks-cache-control"" content=""no-preview"">  
",1531767845.0
parthmodi54,"Wrapping all database operations for a controller action is definitely not good idea for several reasons:

1. Some operations are independent by nature. For example, in a recent project we needed to store transaction log along with user's activity records. Transaction logging is crucial, and it should not be affected by some misconfiguration or issue in user's activity recording data. If transaction is successful, we must convey that information to end user. Failed activity can be regenerated with a daily cron job.
2. Controller actions does much more than just reading and writing to database. Some actions are IO heavy. Besides, controller actions spend time in assigning variables, looping through objects, and much more.
3. The logic will need to be designed exception driven, which not good approach at all and raising and handling exceptions is slower compared to less harmful if else blocks.",1531591684.0
Trevoke,"One of the downsides is if you kick off a job intended to run with something that you created in the database, but it's not committed yet. Instant race condition.",1531589754.0
BDubbs42,"It seems like this would also increase the occurrence of deadlocks and could negatively impact performance. At least in MySQL, transactions will lock the rows it needs to modify for the duration of the transaction to ensure the operation is atomic, and I imagine Postgres would have to do that as well. Locking rows longer than you need to forces other actions to wait longer than they should have to to use those rows, and increases the likelihood of deadlock (transaction A needs rows transaction B is locking to proceed but transaction B needs rows transaction A is locking).",1531593571.0
briarios,"Most controller RESTful actions should only involve a single commit: \`save\` or \`update\_attributes\`.

If you've got lots of other commits happening, you can use a transaction, but I think you'll need to use the bang operator on your commits to trigger a failed transaction‚Äîe.g., \`save!\` or \`update\_attributes!\`. Otherwise, I don't think you'll raise an exception.",1531590272.0
linusan,"Good question, I‚Äôm looking forward to the answers. ",1531587333.0
Seuros,start another app and use it as api endpoint,1531561502.0
jaxn,"The legacy app is relatively up-to-date. It is Rails 5.2.

We will migrate it to API-only over time, building the API in place. ",1531615138.0
lenn4rd,"Are you planning to decommission the Rails monolith in the near future? If so I wouldn‚Äôt invest too much time into this legacy app. The older it gets, the more time you‚Äôll spend on maintaining it, e.g. researching alternatives for gems that aren‚Äôt compatible anymore.

I‚Äôd rather create a new API with a technology you‚Äôre comfortable with (maybe Rails 5 in API mode) and mount it into the legacy app or put an API Gateway in front which does path-based routing.

If you need to reuse business logic from the legacy app I‚Äôd take some time to plan the migration towards something like a microservices-oriented architecture. Since you called it the legacy app, it‚Äôs probably going away soon. Don‚Äôt feel bad copying models and stuff to the new API (assuming you‚Äôre using Rails or any other framework compatible with your current ORM) and not keeping it DRY. Sometimes DRY is overrated üòâ",1531564600.0
faitswulff,"You could always use bitmasking. Basically have a binary digit for each state that you're interested in toggling. If you have one state, then you need one digit `0`, for four you'd need a four digit binary number `0000`. Each one of those maps to a different state.

Let's say you have a monster in a video game and it's got three states: `injured`, `encumbered`, and `hostile`. You could represent an injured, encumbered, hostile monster with `111`. If it's injured, but not encumbered or hostile, it would be `100`, etc.

I'm sure there are gems for this, but the top google search looked a bit outdated to me.",1531574451.0
davidpdrsn,I think adding multiple Boolean is the way to go. It is simple to understand and easy to query. ,1531554955.0
hmaddocks,Research form objects. ,1531519114.0
AvidCyclist,"I would strongly recommend Puma. The Ruby/Rails speed guru Nate Berkopec has been hard at work to make sure Puma is the easiest and fastest web server for Rails. 

Plus he wrote a very excellent book on running Rails on Puma. Check it out: 

https://www.railsspeed.com/",1531510660.0
GeneReddit123,"Those are fine if you are confident your code (as well as all the 3rd party gems in your app) is thread-safe. I can't say the same for our apps, so we use Unicorn + Nginx.",1531531643.0
nazgum,"We have launched our newer apps on puma, and recently converted our last old app running on passenger to puma.  Puma runs well, is easy to configure, easy to setup with systemd/upstart/etc, and its nice that it feels a bit more separate from nginx than passenger did.   (maybe it changed in newer passenger versions, I was on a fairly old version 4 or so, but I really disliked that restarting nginx would restart all passenger instances)",1531512121.0
in0pinatus,"old fart here, still using unicorn + nginx. very stable.
",1531515627.0
FooBarWidget,"Passenger author here. I am surprised that so many people here have issues with Passenger. This is not my experience based on support requests and Github issues, as well as our own infrastructures. I would appreciate it if people tell me what kind of issues they ran into or what they think should be improved in Passenger.",1531657116.0
latortuga,"Puma and Passenger are really the gold standards for Rails apps at the moment. Both great options, just depends on what you like!",1531517630.0
justAGuyFromBrooklyn,Puma is integrated into rails 5+,1531577340.0
GibletHead2000,Why do you need a reverse proxy *and* passenger? The latter lives inside your web server anyway so I'm not clear on why you'd need another one.,1531514100.0
greggawatt,"You need `polymorphic: true` and a `belongs_to` for likes

where is the likes model?

[http://guides.rubyonrails.org/association\_basics.html#polymorphic-associations](http://guides.rubyonrails.org/association_basics.html#polymorphic-associations)",1531503986.0
Fompsatron,"You have many comment_likers or story_likers through likes, not likeable. 

The likeable would be comment or story. By renaming the likes association to likeable you are messing up the polymorphic association methods. 

Your user has many likeables through likes. A like belongs to a likeable. ",1531504080.0
cmd-t,"You can‚Äôt. I ran into the same issue yesterday. A has_one or has_many through a polymorphic relationship needs to have a source_type specified or else the relationship definition will not validate. You can have_many liked_stories and linked_comments with the proper definition (source: :likable and proper source_type), but not a single relation of both models. ",1531508573.0
ambethia,"Something I often did in rails apps was: in the layout, on the body tag, add the `controller_name` and `action_name` as classes.

Then later in the css, you can do page specific changes:

```
.products.index .navbar {
  background-color: purple;
  flex-direction: column;
}
```",1531490322.0
Blockoland,"This should point you in the right direction:
https://apidock.com/rails/ActionView/Helpers/UrlHelper/current_page%3F

You could so somthing like this as a helper:

    def active_class(link_path)
        current_page?(link_path) ? ""active"" : """"
    end


and in the view:

    <li class=""<%= active_class(faq_path) %>""><%= link_to ""FAQ"", faq_path  %></li>
",1531483490.0
SignalException,"Rails would be capable for something like this, but I‚Äôd recommend leaning on other tools to build the entire solution. 

Rails could handle authentication serving the UI, and saving changes, but you may want to use Dropbox to expose the files to your web app so that it doesn‚Äôt need direct access to computer. That would also work well with omniauth-dropbox for logging in. Then you‚Äôll need an editor like ACE (https://ace.c9.io) to actually edit the files.

It will work, you just need to find the right pieces to build it all.",1531458210.0
jryan727,"Authentication aside, you could build the meat of this in JS. Check out the File API. You can read files (that the user selects). If some kind of backend persistence is needed (maybe authentication, or a profile, etc.), then Rails could fit in there. I‚Äôd lean on a solid JS framework, too, though, such as Ember, React, etc. ",1531805265.0
rylanb,Bike Shed,1531432456.0
andyw8,http://www.fullstackradio.com/,1531484284.0
Meral_Harbes,Care to share your curated list too? :),1531479002.0
jim_tech,"Get past the drama, Ruby Rogues is good.",1531485641.0
igxrk,I have tried custom plugin but it didn't work out for me.,1531425062.0
linusan,"I'm on RubyMine 2018.2 BETA and have configured it a bit. Here is a screenshot of my config.

[https://imgur.com/a/th2J5ni](https://imgur.com/a/th2J5ni)

I seems to be quite buggy though. The first button is for running specs. After I've used it a couple of times it got stuck on its ""stop"" counterpart (the red square).",1531466470.0
NDuggan,Off topic but do you recommend RubyMine? I personally couldn't get on with it - I didn't feel like it brought enough to the table to account for the slowness (compared with a basic text editor like ST3). But don't know if I should try it again and stick with it longer.,1531480804.0
hartfordhobo13,That‚Äôs where you do the TB config. Thanks!!,1532147208.0
hartfordhobo13,Same,1532147223.0
Meral_Harbes,"The keyword I think you are looking for is *two way data binding* (Angular term). This allows you to synchronize changes between your model and view on the client without reloading a page. Rails has [action cables](http://guides.rubyonrails.org/action_cable_overview.html) since version 5 that you could use for this between server and client.

Another way to approach this (before Rails 5) is to simply make the change in the UI (JavaScript) and post to your rails server that this has changes (ajax). This is why people are pointing you to JavaScript.

Alternatively just using Rails and JS without action cables or ajax, you can create a hidden form element, toggle that when the button is clicked on and submit the form to rails. This is untidy however in that it requires a whole page reload for a simple change on the page. But it can be easier to implement and learn. :)

Edit: Correction. Sync between model and view on Client, nothing to do with the server.",1531414886.0
Meral_Harbes,"Addition to my other post that you might have been missing. Rails runs exclusively on your server. The page in the browser has no access to the code that runs in there, it only receives pages from that server and send back what you put in forms. For everything done on the client you need code to run on each client's machine, this is JavaScript.

Also CoffeScript you use in Rails transpiles to JavaScript, it just makes it easier to write.",1531415191.0
,"People are talking about JS, but not being specific. At this point in your experience, I'd recommend making sure that you've bundled jQuery in your assets. Then you'll need to give those buttons an addition class, say ""read-button"". Then, on the page, you'll want a $(""read-button"").on(click, function() {}) event handler to change the class of the button when clicked.

You can call $.ajax() to one of your paths to do a POST and update a model within the same $on() function that's manipulating the button class. Then you won't need the actual URL in the link_to method, and you should then understand why so many links are ""stubbed out"" with ""#"" when using these sorts of techniques. ;-) You can grab a return JSON string, rendered by your API endpoint, to put back in the page DOM when you do this.

If you're generating a bunch of these in a loop, you can probably generate the HAML and the JS with metaprogramming to number each of the buttons, and create associated $on() functions for each.",1531444695.0
DuroSoft,"In addition to action cables and the classic ajax approach, you could use intercooler.js and a custom controller action.",1531440521.0
BeerNirvana,"I'm no CSS expert, but this could probably be done using the link.visited selector. ",1531425543.0
oztrax,Everyone's pointing you to javascript because that's the only way to do it. *Something* has to make a request to the server if you want Rails to know anything changed. Javascript lets you do that in the background and then swap the content on the page.,1531410005.0
in0pinatus,"Since your question is re. validity, note that the `<title>` tag _is absolutely required_ in all valid HTML5, irrespective of anyone's opinion about whether it is needed or useful. In fact, it is the only tag that you can never validly omit, and HTML5 supports quite extensive [tag omission](https://www.w3.org/TR/html/dom.html#tag-omission-in-text-html).

This is the shortest HTML5 document that I can find that passes the [W3 validator](https://validator.w3.org/nu/#textarea) without errors:

    <!DOCTYPE html><title>.</title>

You can then carry straight on with content, you don't even need a `<body>` tag. c.f. also the [Google HTML/CSS Style Guide](https://google.github.io/styleguide/htmlcssguide.html#Optional_Tags) which is certainly interested in minimising your payloads.

From a validity perspective, there's nothing special about HTML email. On paper it's just another MIME type for the email contents or part thereof, and is otherwise a regular HTML document. In practice, you're limited to what the email clients are prepared to render and what additional constraints and styles they might impose (and the inconsistencies across them in these concerns, and their bugs). But that's another question.

Whatever you do, please don't forget to include a plaintext rendering as well.
",1531436605.0
oztrax,"    <!DOCTYPE html>
    <html>
      <head>
        <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
      </head>
      <body>
        This is an automated message, please do not reply.
        <br /><br />
      </body>
    </html>

I think something like this is about as minimal as it gets....?",1531409853.0
Rogem002,"I'm not a fan of enums using integers, from what I gather this default chosen for performance. To keep my sanity, I normally just default to integers incrementing in factors of 10 like:

    add_column :websites, :subscription_status, :integer, default: 10

    class User < ApplicationRecord
      enum subscription_status: {
        uncreated: 10,
        trialing: 20,
        active: 30,
        delinquent: 40,
        canceling: 50,
        canceled: 60,
      }, _prefix: :subscription
    end",1531387452.0
this_is_not_nil,"> Default behavior supposes to use numeric as the underlying type of the column

That is a terrible default, and why I have refrained from using enums in the past.",1531385709.0
joroshiba,"A while ago I built a simple concern that does some magic for you to match postgres enums with enum functionality automatically. (I tested this with postgres 9.5 back when I wrote it).  


Goal here is to DRY up the definition of enums a bit. Only need to define them in the DB, model will match automatically.

[https://gist.github.com/bytewalls/66f337f93a6aa09af70ba1bdf6b88100](https://gist.github.com/bytewalls/66f337f93a6aa09af70ba1bdf6b88100)",1531415745.0
in0pinatus,"I've used all of the following solutions:

‚Ä¢ Rails's [optimistic locking](http://api.rubyonrails.org/classes/ActiveRecord/Locking/Optimistic.html). Uses an extra column to discover revision conflicts. If there's a mismatch on update, it throws an exception. Not a great user experience but if you're only guarding against an uncommon edge case, it may be tolerable.  
‚Ä¢ Application-level lock tables as you described - but the main problem is when to release the lock if the user abandons. As another reply suggests, websockets/actioncable are one way for a) the server to detect a client disappearing/timing out, and b) for a client to be notified that its lock was broken.  
‚Ä¢ Use a revision control system e.g. git as your document store and try to merge the diffs.  
‚Ä¢ If the data permits, use a [conflict-free replicated data type](https://en.wikipedia.org/wiki/Conflict-free_replicated_data_type).  
‚Ä¢ If your domain model enables this, record changes in the [event-sourced](https://martinfowler.com/eaaDev/EventSourcing.html) style.

Other than the first, and a special case of the last‚Ä†, I've always rolled my own implementations.

One I've never used:

‚Ä¢ Use real-time collaborative updates via an [Operational Transform](https://en.wikipedia.org/wiki/Operational_transformation). If you've ever used Google Docs collaboratively, that was an OT algorithm. Probably the most complex approach to build yourself, but also with the most wow factor. There are off-the-shelf tools you could integrate, I've had [ProseMirror's](https://prosemirror.net/examples/collab/#edit-Example) bookmarked for a while but never used it.

_____

^‚Ä† ^Double-entry ^book-keeping, ^for ^which ^I'd ^suggest ^the ^[Plutus](https://github.com/mbulat/plutus) ^gem.
",1531355934.0
JamesAllMountain,Websockets/actioncable? ,1531354249.0
allcentury,"Postgres has advisory locks, they're very good",1531354940.0
senj,"We use omniauth and omniauth-saml for our SP app. It's pretty straightforward, no real hurdles.

You shouldn't have to ""bolt on SAML support"" with Devise, as it's basically built in. I couldn't tell you the specifics, though, as I really don't like Devise and generally avoid using it.",1531335246.0
erikperik,"I started integrating SSO just a couple of days ago in my app. I already use omniauth for connecting with Facebook and Twitter, so adding omniauth-saml was sooo easy. 

Side question: How does integrating an SP with an IDP work? What information does our customers need to send us, and what do we need to send to their IT-department?",1531339171.0
raikkonen,"use the onelogin gem, you can't offload it to another vendor it doesn't really make sense.  your app either has to be the IDP or the SP.  You can offload the IDP to a 3rd party, but you still have to do the SP integration in your app.  ",1531334361.0
caadbury,Third party vendor.,1531343333.0
hcsteve,"We use omniauth, omniauth-SAML, and a couple other omniauth plugins. SAML is probably the most mature. It‚Äôs a multitenant app so we allow customer administrators to configure all the SSO settings through a control panel in the app. The omniauth-saml documentation has a good section on configuring that stuff at runtime so it points to a different IdP for each client.

In addition to a generic ‚ÄúSAML‚Äù integration in the app, we also have some special-sauce SAML-based integrations with various providers that just use omniauth-SAML under the hood. Side note, we had a really good experience working with Okta to build a branded integration and get it listed in their pre-built integrations. Makes it a lot easier for clients if they happen to use Okta.",1531359712.0
mastermindxs,"We built a CAS server using the Casino Rails Engine. Our internal apps use the CAS server to authenticate. https://github.com/rbCAS/CASino

It was easy setup both the clients and server. It lets us control user access to certain internal apps which use Devise + devise_cas_authenticatable.

Article about Casino: http://blog.codescrum.com/2015/03/31/Single_Sign_On_with_Devise_and_Casino/index.html",1531368340.0
seancookr,"It depends on what you are looking for. Unless have a need that requires you to act as the identity provider, I would go with what others have suggested.  However, if you do want to be the identity provider, I have had a very simple time incorporating [http://casino.rbcas.com/](http://casino.rbcas.com/) into our suite of applications.  You can actually have a whole host of different identity providers using this, and I have used a fork of this gem as well in order to handle external identity providers.",1531350501.0
magicmarkker,"We use a bunch of gems since we have multiple SSO configurations available to clients:
    
* gem 'omniauth'
* gem 'omniauth-linkedin'
* gem 'omniauth-azure-activedirectory'
* gem 'omniauth-salesforce'
* gem 'omniauth-saml', '~> 1.9.0'
* gem 'omniauth-oauth2'
* gem 'omniauth-openid'
* gem 'omniauth-wsfed'
* gem 'omniauth-ldap'
* gem 'omniauth-shibboleth'
* gem ""omniauth-google-oauth2""

All of these provide what we need in order to SSO using: AzureAD, Google Apps, Salesforce, AD FS, Okta, SAML2, Shibboleth, PingFederate, and if you want, JWT",1531339483.0
redbeard0x0a,"for development on a DO droplet (for code reloading, etc) you will need to run this command in your code directory:

`bin/rails server -b 0.0.0.0 -p 3000`

Then open a browser to http://<your droplet ip>:3000. (this also assumes you don't have a firewall running on the droplet).

The `-b 0.0.0.0` means it needs to bind the server to all IP addresses that the server has, not just localhost (or 127.0.0.1).

The `-p 3000` is the port to listen on (technically you don't need to add it to the command, but if you need to change the port for some reason, you can do it there and just change the url to match.

edit: add some explanation for the -b and -p parameters",1531270409.0
aiux,Does the tutorial mention puma and nginx?,1531268883.0
spohnz,I love these question and answers. I am also new to rails and love going through these. This reddit (also new to) is a great community I think. Good job guys.,1531323896.0
appothecary,"You can take what's entered in prompt and put it in a hidden form field.

`<%= form_with model: @vote do |form| %>`  
`<%= form.label :example_field %>`    
`<%= form.text_field :example_field %>`  
`<%= form.hidden_field :prompt_response %>`  
`<%= form.submit ""Submit with feedback"" %>`  
`<% end %>` 

`<script type=""javascript"">`

`$('form').on('submit', function() {`

  `// stop form submission`

  `var feedback = prompt('We want your feedback');`

  `if (!feedback) {`

`// set hidden field with answer`

`$('#prompt_response').val(feedback);`

  `}`

  `// re-submit your form`

`});`

`</script>`

Sorry this is really rough just to give you an idea that it could be done. This is using jQuery and regular javascript, but it should be easy to translate into what you need.",1531266776.0
volar92,"If you can just run s3 sync CLI as part of your assets pipeline without needing the gem, go for it :)

No need to make life needlessly complicated.

If anything, it'll save you one external dependency. ",1531234895.0
justAGuyFromBrooklyn,Use Paperclip gem. Integration with aws and its maintained,1531311552.0
jeeperbleeper,Don‚Äôt sync to s3 at all. Use Cloudfront with an origin pull model to cache assets directly from your server. See heroku‚Äôs recommendation to avoid asset sync. ,1531317457.0
toadkicker,"When they sign up using an external provider, they need to set a password in their user record too. You should get their email address and other meta from the oath call. It‚Äôs a nightmare to support both kinds. Thats why companies like Auth0 have sprung up.",1531179806.0
in0pinatus,Alternative take: do it client side. Take a look at https://github.com/basecamp/local_time.,1531175560.0
fp4,"Some ideas:

1.	Set the cache to expire on the next time the ‚Äútime ago‚Äù will actually change. It‚Äôll expire more often at the start but much less as the content ages.
2.	Store a time stamp and display time ago dynamically via JavaScript.
3.	Change your caching approach and let the ‚Äútime ago‚Äù render still take place on each request.",1531172616.0
in0pinatus,"I run a marketplace written in Rails that shifts millions of dollars a year.

I can tell you that the software elements of running a marketplace are the least of my concerns. I use a straightforward implementation of double-entry book-keeping for polymorphic entities that does most of the heavy lifting for audit and accounting purposes.  Take a look at [plutus](https://github.com/mbulat/plutus).

The financial, legal and regulatory concerns are the far more complex part, especially in regard to acceptance of payments as an agent. I am complying with (and ensuring that my principal entities comply with) the agent-principal tax rules, the anti-money-laundering laws, the privacy regulations and more besides. These are not easy hurdles for a small company and the consequences of screwing any of them up are severe.

The biggest ongoing concern we have is refund risk. It only takes one provider to fail in their obligations to leave us exposed to some potentially very large claims. We carefully manage the release of funds to minimise this risk. Basically we sync our cash movements with our opinion of what everyone's revenue recognition policy should be. One of the first things I splashed out at founding was a really good lawyer to draft a really strong Agency Agreement.

For the mechanical parts that move money around, I think Stripe Connect is very capable but also way too expensive. I do not use it, preferring a local fintech (here in Australia) who do something very similar. However it will simplify some elements for you, including the know-your-customer elements of AML and ensuring that you get to clip each ticket and thereby have a reliable revenue stream.

I recommend you have an availability plan or strong SLA because if you are down then your providers are losing money, and it will be your fault and your problem.

Whatever you do, make sure you're on top of the additional complexity of running a marketplace service. If you don't have an accounting or business management qualification yourself (or equivalent experience), I recommend making sure you're in cahoots with someone who does.
",1531122111.0
goldwinny,"If you do want to go the Stripe Connect route, I did a 3 part tutorial on how you could get the very basics going. 

https://medium.com/@ThatGuyTinus/stripe-connect-rails-part-1-22ba7204725b

Obviously it's not full featured or anything but it could at least work as a starting point.
",1531135429.0
rorykoehler,If you just want to validate use https://www.arcadier.com/,1531126188.0
dooogall,"There's three different tiers to Stripe Connect, one of which only incurs the standard Stripe transaction fee (but requires setup of a Stripe account to receive payments), so there's no monthly 'per account' charge. In terms of implementing, Connect was very quick to get up and running.",1531123045.0
BeerNirvana,You need to restart the sidekiq process on the server as part of your deploy.,1531085199.0
trustfundbaby,Deploy by pushing the branch to heroku and see if that fixes it. Check the output during the deploy as well?,1531100619.0
cwitty1988,If you have preboot enabled it may not have restarted yet,1531102848.0
ZeeGames,"I have a similar problem that started last week. All my newly deployed files go through to Heroku, except for the Javascript file. It keeps the same functionality from several updates ago.

It had never behaved this way for a whole year of updates. ",1531106309.0
jaxn,Enable Sidekiq UI and take a look at your job queue and retries. This is the easiest way to get a handle of what's going on with Jobs.,1531135559.0
cmd-t,"With index/references you mean you created those in your schema? You‚Äôll need belongs_to and has_many‚Äôs defined on your models, plus accepts_nested_attributes_for",1531079853.0
Nrdrsr,"For me personally, this is a very annoying problem right now, particularly from a performance point-of-view.

Let's say you are building a restaurant review site like Yelp or a Hotel booking site like Hotels.com

Your front-end engineering is important. There are going to be a lot of little interactive components, popups, meters, toggles, etc. that you want to show to your user. To keep your front-end engineering team happy, you want to let them use their favored frameworks.

You also want to do client-side routing for snappy page-loads, so that visitors can quickly browse between Hotels or Restaurants and make their selection. The front-end calls the API and asks for hotel-specific information and renders the page with templating.

At the same time you want to provide a great personalized experience. Most of your traffic will come from Google. Most will land on an individual category page or landing page, like ""Hotels in Dubai"" or ""Restaurants in Ann Arbor"". You might wanna show different content to an American visitor when they visit Hotels in Dubai, and different content to local who visits ""Restaurants in Ann Arbor"". The vast majority of content will be the same, but there may be parts of the page that you cleverly generate based on what you know about the user - like location, previous purchases, etc. You might even have a little snippet on the hotel page that highlights hotels which the user has stayed at before.

So how do you navigate the various use-cases here, assuming you use SSR.

One use-case is if a new user lands on the page via a search engine. In this case you know their location and you want to send them some promotional content, local currency pricing, etc. this means that your server now needs to do a whole bunch of logic and store lookups before the templating step, and then serve the rendered page to the user. You can also opt to complete the personalization logic on the client-side. What that means is that the user will first see a page that shows dollar prices and then after a few seconds it does an ugly flash and shows Euros (assuming the user is from Europe). This is even more complicated if you factor in internationalization or localization of languages.

I suspect some folks opt to go with the ugly post-server-load morphing here, where the currency toggles after the page has loaded. This will also take effect if the user has bookmarked the individual hotel / restaurant page and visits it later. This time the client-side currency toggle and other personalization (language, etc.) would be quicker.

For others who choose to do it on the server, you could potentially pre-render and cache certain parts of the HTML and store it as strings in-memory or on disk, and then append those raw strings to each other to generate a template, but that sort of solution seems very inelegant given an otherwise fairly well-engineered approach. Templating on the server for a site with a reasonably high amount of traffic is going to increase your hardware and concurrency requirements on the server, in order to enjoy the benefits offered by your front-end framework.

Templating on the server-side is also painful in terms of performance. The server has to run a rendering engine that can read your templates and spit out HTML. Ideally frameworks should make it simple to mix server side rendering with server-side pre-rendering, where a lot of the repetitive parts of rendering can be cached and assembled together. This is painful to accomplish in most frameworks (would love some suggestions here if anyone has good strategies for this).

Performance matters a lot where SEO is concerned, and more-so where users, particularly mobile users are concerned. In many domains, it's very common for visitors to be on 3G or 4G spotty connections, and they will leave your site if it doesn't load in 4 seconds, or if it takes time to become interactive. If your page has a bloated JS file or a long time to first byte time (likely if you are doing personalization or something like that), then you are going to be penalized in one way or the other.  

Fortunately, as of this year, Google actually allows you to serve a different version of your page to Googlebot, which contains only the content that you want to index. Unfortunately apart from a passing mention about this during a talk at Google I/O this year, I was unable to find a clear policy on how Google plans to enforce the obvious avenues for abuse as a result of this relaxation of policy. The worst thing that can happen is that their bot will find that your page is too different from the version you are serving users, and flag your entire site - and then your engineering team is not sleeping until the problem is fixed. Google hasn't done a good job of being clear on this, or I haven't found any clarity on this policy change.

This really needs to become an area of serious concern for the front-end framework folks. This is my #1 issue with an otherwise beautiful ecosystem of front-end engineering tools.  I don't know if I am just unaware of less painful + smarter approaches to solving these problems from a performance-obsessive point of view, or whether they genuinely exist, but thus far I have found that few frameworks offer first-class support for these use-cases. As a result you end up compromising or writing your own caching / pre-rendering pipelines which just seems like a lot of unnecessary work when you are dealing with multiple products.

The sweet-spot seems to be using Rails primarily, and relying on Vue or React ONLY for interactive components like booking widgets, calendars, filters, menus, etc. which don't really need to be indexed.",1531079357.0
randomNext,"Server side rendering(SSR) is what you will need to please Google. SSR can be a pain in the ass to manage but there are a few nice libs out there to help you out:

React
https://nextjs.org/

Or

Vue
https://nuxtjs.org/

Then there are other options as well, for example static site generators:

React
https://www.gatsbyjs.org/ 

Or

Vue
https://vuepress.vuejs.org/

That would be for publicly accessible apps running in web browsers. If you‚Äôre only building for native mobile apps then SEO should not be a concern within the app itself.",1531052119.0
ffinzy,"FYI, I'm also posting this question on [/r/reactjs](https://www.reddit.com/r/reactjs/comments/8x0y6k/do_react_or_spa_in_general_still_have_seo_problem/). I'm still confused whether to go into SPA or not because arguable SEO problem.",1531063667.0
Americanstandard,If you decide server side rendering is too much then this SAAS solution is pretty good and will fit existing applications easily:  https://prerender.io/. ,1531064997.0
SkyPuncher,"Two options


1. Do server side rendering. Keep your froentend and api completely seperate. Server your front-end via node and do server side rendering (lots of ways to actually capture this).

2. Google does run some js. Depending on how you setup your pages, you may be able to get your pages to render for Google.  It may be enough to get you started.",1531101152.0
codingideas,"Well, google has said they know how to process javascript as the google bot is itself chrome 49. They just DEFER processing the index.",1531081732.0
SerKnight,Heard this is helpful from my peers [https://github.com/nfl/react-helmet](https://github.com/nfl/react-helmet),1531083151.0
spinlock,"I‚Äôm building a server rendered app right now because seo is important. If you‚Äôve got cue or react in the front end seo will suffer. You can use headless chrome and create static pages to serve to google bot. Other than that, node is a better choice because you can do server side rendering. ",1531101056.0
D1ceWard,"Most crawlers render js (but not perfectly), more explanation -> https://medium.freecodecamp.org/seo-vs-react-is-it-neccessary-to-render-react-pages-in-the-backend-74ce5015c0c9",1531124060.0
ixtechau,">For some side project, I want to create basically a forum like Reddit. I've been thinking of using Rails because of it's development speed, but I don't know what to do for the front-end.

Why not just use what's included in Rails? Then if you upgrade ERB to HAML and SCSS to SASS you have a very powerful frontend that plays very well with Rails. You wouldn't need much else to create a forum.",1531070499.0
Schrockwell,"Do you get any warnings about `readline` not being installed? If you're missing `readline` when you compile Ruby, issues like this can result.",1530886810.0
dark-panda,"It could well be readline as Schrockwell mentions, which has had issues in the past. If so, you could try recompiling to use libedit instead, which is compatible with readline. 

Also, what does your prompt look like? Does it have embedded colours? It‚Äôs possible that the irb prompt itself is messing things up due to unclosed terminal colour modifiers. ",1530904726.0
jaryl,"Like the above commenter, too many responsibilities. I can live with most of it, although to be really purist about things a lot of the validation and other logic can be moved out, but the deal breaker here is having the organisation appear at all here. 

Creating an organisation is not the primary concern, or even secondary concern of the user model. Move that into a service object or something that removes coupling your organisation and user models together.

Also, you may want to be a lot more restrictive about what goes into the user model since it is going to be associated with a great many things. Just because it is though does not mean all the logic around validation and creating things have to go together with it. ",1530886977.0
JimmyPopp,"I like the double bangs, but Rubocop be hatin on that sheet",1530882364.0
tastycakeman,"we should do more of these public code reviews, every everyone shares random code they have for comments.",1530913622.0
qew7,Im not sure about ccreate_default_organization method and validators,1530884212.0
Simonchibao,For a rails God model it looks pretty good so far. ,1530887887.0
bxclnt,"It's *fine*. But.

* Default colour could be handled on the database level with a default value. 
* If you want to handle assigning colour in the model `self.color.presence ||= DEFAULT_COLOR` would account for the fact that someone might *set* the color to `""""`, which is truthy.
* I find this style of validation declaration somewhat unfortunate. I would bet that the question ""which validations are set for *this* attribute"" is asked way more often ""I wonder which attributes have a numericality validation"". Therefore I prefer the attribute-focussed declaration: `validates :username, presence: true, uniqueness: true` - now I know immediately what's going on with the username, and don't have to scan twenty declarations if the symbol appears anywhere else.
* The default organization should probably not be part of the user generation, since it's obviously conditional/optional. A form/service object for ""new account creation/signup"" and another one for ""adding user to existing organisation"" would reduce the User's responsibilities, make testing easier, and make business logic more explicit (at least that's what I assume the context is). 
* Also all the `on: create` validations should be in those form objects, or else you're messing around with them in every unit test. 
* Also also the `create_organization` callback, if you really want to use a callback, should probably be in `after_create`, not in `after_save`, because it really needs to check only once, I assume (but that depends on your specific business logic). I doubt someone would create an org in an update action to an existing user.
* Username is stripped before validation, but at that point it may (still) be nil and you'd get an exception. Better handle that possibility with a guard clause.
* Shouldn't `has_one :organization` have an `inverse_of: :person`?",1530900377.0
mlengurry,Hope that colour is used for inline styling ,1530880610.0
poptartsareravioli,The active record callbacks will bite you later on they always do.,1530915704.0
Omnibuser,It's sexy af tbh.,1530880365.0
davidpdrsn,"What kind of racist app needs to store the color of its users...?


jk ",1530883170.0
usedOnlyInModeration,I feel nostalgia. ,1530890778.0
ActiveModel_Dirty,"I don't mind it. Some users here are saying that the organization logic doesn't belong here, but I don't know if it's that bad. Maybe the `create_default_organization` should be moved to a service object, but `create_organization?` is fine in here. Overall I think it looks like a good, modern implementation.",1530896268.0
manys,"Fairly common 3.x-era style, particularly the validations.",1530900398.0
jeeperbleeper,All the responsibility. ,1530885544.0
morphemass,Suicidal.,1530888192.0
UnderwaterPenguin,"other folks being nit picky but honestly i feel it's pretty good.

One of the lines is way more than 80 characters, but other than that it's organized well and readable. And it's a `User` object which tends to have a lot of responsibilities in general seeing as it's one of the more important models in your app generally, but even then I don't think it's doing too much at all.",1530907118.0
,"I'd use lazy assignment for color.

And line length is too damned long.",1530889911.0
bramley,"I don't like that `create_an_organization` is an accessor but `create` is used elsewhere as a verb. I don't like that you automatically create an Organization as a callback instead of as part of the (manual) process of creating a User --  meaning it happens outside the view of a person writing or reading the controller.

But it's formatted nicely.",1530898641.0
naveedx983,"I'd move out a lot of the organization management stuff to happen in some sort of UserCreator type of thing.

depending on your rails version, be careful with falsey returns from `before_save` `before_validation` type of calls.  At some point (maybe still) - a falsey return from one of those would abort the persistence also.

I've found setting something like `DEFAULT_COLOR` to best be handled by setting a DB default - this will cause `User.new` to have `color` set to the DB default.",1530899654.0
Rogem002,"I don't like it, it's trying to do a lot of stuff unnecessarily. 
Personally, I think this is a good use case Form Object which extracts a lot of that `on: :create` logic into a tidy class which has a sole purpose of creating Users and Organization.

I'm not quite sure what `in_moderation_mode?` does, but I'm pretty sure that is hinting at a security hole awaiting to be exploited :O",1530910018.0
tumes,"Two things that seem especially wonky:

1. The double bang methods could potentially always return true if there's any chance that those attributes will come in as weird types e.g. strings: `!!""false"" == true`.
2. `moderation_mode` and `create_an_organization` make me suspect that those attributes are coming from the front end or otherwise a layer where a user could set those values. If so that's a pretty obvious security hole.",1530915014.0
jryan727,"Instead of using accessors to put the model into different validation ‚Äúmodes‚Äù, I‚Äôd prefer form classes.  They make it much clearer when and why those validations are necessary and much harder to let unvalidated attributes slip through.

Instead of creating the organization when the accessor is set, I‚Äôd prefer to see it done in the form class or controller. If it needs to happen in multiple places, you could keep the method, but just call it in the code that creates the user instead of relying on the accessor and callback. 

IMO accessors that control validations and callbacks are a code smell. It‚Äôs hard to reason about code that uses them. 

The moment I start needing different validations in different contexts, I usually move them out of the model into form classes. Much easier to reason about. Easier to test. And as the app grows, you‚Äôll absolutely find that those forms grow farther and farther apart. You don‚Äôt want to continue down this path when the app is that complex or your models will be a mess of difficult to maintain conditional validations and callbacks. ",1531359180.0
nielsbuus,"If I inherited this code, I would probably...

* Create the organization on my UsersController. If the creation logic exceeds 10 lines, I would extract it into a service class.
* Create a separate model for user colors and wrap it in a service. Then I could do `ColorService.color_code_for(user_record)`, this service can then encapsulate the default color and only create record for users with a customized color. This I do because I assume that color is not a central part of the user model, but that's just my assumption.
* Group the validations by attribute rather than constraint. `validates :address, ...`
* Put the logic regarding terms and e-mail validation (write the same e-mail address twice) somewhere else. Probably in the controller that deals with it. Maybe even client side.
* Remove moderation mode logic and validate the presence of these attributes in the controller that deals with them.
* Keep the username normalization because it's universal when working with the model (Nobody - not even admins or API calls should not be able to set uppercased or unstripped usernames), also the code is fast, simple, useful (solves a real and frequent problem) and doesn't hit the database. I would probably normalize the e-mail too, though. :-)
* Look condescendingly at the `geocoded_by :address` call, because it hits the effing internets as part of saving a user, but probably keep it, because it's really easy to understand and implement thanks to the geocoder gem. If the geocoding service appears to be unreliable, I may want to put the geocoding in a background job. That way, I can save users faster and if the third party geocoding service is down, I don't risk timeouts or internal server errors on my part because the saving operation fails.
* Definitely not put any logic or constraints into my database. I don't get why people have a thing for that. DHH has discouraged this on multiple occasions. Database constraints hamper database portability, it fails to produce useful user feedback (You cannot easily map a database exception to a validation error) and it hides the constraints from the developer, because constraints show up in the autogenerated schema (which I never look at) and not the model (where I look). The only case where I would consider adding a database constraint is if my application is behaving unpredictably (unlikely) or if theoretically violating the constraint could have catastrophic effects on the business.
* Now the `attr_accessor`s would be gone and the model would focus on the essentials. That users have usernames and e-mail addresses and they must be present, lowercase and stripped of trailing spaces. Furthermore a user can have an organization, but that is optional.
* ... hey - where's the password. First User I've met that didn't `has_secure_password` or similar.",1530907063.0
hot_carl_satan,I feel the need to unsubscribe to this sub.,1530919701.0
Arnold729,I feel sad,1530880425.0
jdickey,"Way too much domain logic in models that should be database-level validation and association declarations only.

And I'm with the other guys; what's color doing in here? 

`attr_accessors` are evil, and callbacks make testing much harder. Strip everything that isn't core/unconditional validation and association (`has_one`) out into some form of interactor/service object. Read up on Clean Architecture and its workalikes.

This is *so* 2007. We've learned a lot since then.",1530900416.0
jb3689,"It's Rails so I hate it (j/k this is fine, but seeing more framework hooks than vanilla methods is always nauseating for me). What kind of app is this in? Literally every `user.rb` I've ever had the privilege to work on has been thousands of lines long",1530885457.0
rbucks,"`heroku pg:diagnose` has been a godsend. 

You might also be timing out due to RAM overload. Check the metrics to see if you're getting R14 errors. Heroku will slow down when that happens. 

Also if you're using Sidekiq it's especially important to get your workers and threads properly tuned. These links were really helpful for me: [https://github.com/mperham/sidekiq/issues/117](https://github.com/mperham/sidekiq/issues/117) and [http://manuelvanrijn.nl/sidekiq-heroku-redis-calc/](http://manuelvanrijn.nl/sidekiq-heroku-redis-calc/)",1530857176.0
senj,"Hard to say for sure, although it vaguely sounds like you‚Äôve got a lot of threads stalling waiting on locks ‚Äî not sure where to point you for that in terms of whether it would be on the DB end, as I‚Äôm not super familiar with RDS‚Äô setup. 

Have you tried turning on the NewRelic add-on? It might help you pinpoint where you‚Äôre stalling. ",1530848019.0
toadkicker,"Might need to calculate how many threads to workers you can use on Heroku. It varies based on your apps metrics, so unfortunately I don‚Äôt have a easy copy/paste answer here.",1530847382.0
toobulkeh,"Are you hitting Heroku's auto time out features?

There may be some issues with the request queuing that their support can help with. Look into your threads per Dyno and try to balance memory vs compute usage. Avoid sending static requests to the dynos.

Hope this helps.",1530847882.0
cwitty1988,"Some of our issues seem to be using page and offset based paging instead of cursor based paging. Some of the queries can take a considerable amount of time. The other issues looks like it may be that we are permission intensive which makes caching difficult since it can vary per user, I am looking into a way to lazy load permission restricted actions so the cached object/view can be used as much as possible. ",1531072834.0
Blimey85,"Need more info. The three parts is most likely due to image format. You can have a progressive image for example. I doubt S3 is the problem. Image size is going to be the main issue. Smaller images load faster. That aside, you can do various things to make them appear to load faster. One method I like is doing a very small image and stretching it. You start with a 2x2 or 3x3 version of you image. So only 4 or 9 pixels. Then you stretch that to the size of the original image. That‚Äôs inlined in your html and replaced once the full-size image loads.

I used this on a project a few years back and it worked great. Everything was automatic and it looked a bit nicer than just having a placeholder. If you want to do placeholders without the small images, you calculate the average color of the image and show that. It looks pretty good.

I‚Äôm on mobile and don‚Äôt have my bookmarks handy but if you google how Insta and Pinterest do placeholder images you‚Äôll see what I‚Äôm talking about. For either of these methods, I store the info, either the calculated color or the 3x3 image (code for the image, not the binary file) in the database. Don‚Äôt want to add additional trips to the server.

Another option is to load assets from multiple domains so more can load at the same time. This is less of a thing now than it was years ago and not something I do. If you have a whole lot of images then it might be worth looking into. I‚Äôm not sure how many connections browsers will make concurrently to a domain but it hasn‚Äôt been an issue for me.

Edit: Something like this: https://github.com/zouhir/lqip-loader/blob/master/README.md but I would cache the result in the DB and only call this on images the first time. ",1530817872.0
wes-k,"One bit of advice. Be sure to run your DB outside of EB. Otherwise tearing down your EB will tear down your DB. I still use AWS for hosting my rails Postgres but I run it outside of EB.

And to be honest, next time I‚Äôd look into setting things up manually and avoiding EB. It‚Äôs been a pain when wanting to do things like upgrade your EC environment.",1530801947.0
pauljdavis,"I don't have a tutorial, but have done it recently and can answer questions. Good luck!",1530794891.0
JoyousTourist,depends on a couple of things - do you already have a Dockerfile/Docker Compose setup? Do you have a preference for your Application sever (Puma vs Passenger)?,1530793058.0
tongboy,"use the elastic-beanstalk gem

copy the sample eb.yml file they have in the repo


adjust and add your env variables as needed


deploy


profit",1530833570.0
evrimfeyyaz,"I know I'm a bit late to the game, but in case anyone comes here looking for an answer, I wrote an article on this: [Deploying a Rails 5.2 PostgreSQL app on AWS Elastic Beanstalk](https://evrim.io/deploying-a-rails-52-postgresql-app-on-aws-elastic-beanstalk/)",1543500358.0
d4be4st,"Your member has many shareholdings.
Shareholdings is essentially an array of shareholding.
So you could either show the image of the first shareholding:

    <%= image_tag @member.shareholdings.first.share_certificate_scan_url(:original_size), class: 'img-fit-cover' %>

of show all images of all shareholdings


    - @member.shareholdings.each do |shareholding|
      <%= image_tag shareholding.share_certificate_scan_url(:original_size), class: 'img-fit-cover' %>
",1530792327.0
mr_aes,"..by the way, if I wanted to check the presence of an image using a ""validates\_presence\_of..."" on the model, what would I check for?

a) validates\_presence\_of :share\_certificate\_scan\_data (which gives an undefined method error...)?

b) validates\_presence\_of :share\_certificate\_scan (which also gives an undefined method error...)?",1530795948.0
essepl,"Offset is your friend:

[http://guides.rubyonrails.org/active\_record\_querying.html#limit-and-offset](http://guides.rubyonrails.org/active_record_querying.html#limit-and-offset)",1530787745.0
HelloAnnyong,"The easy/traditional way of paginating records in SQL is `ORDER`, `OFFSET` and `LIMIT`. (See my suggested scope to put in `ApplicationRecord` in a comment below.)

Your SQL query (and ActiveRecord query below for comparison) would for example look like:

    -- SQL
    SELECT * FROM widgets
    WHERE user_id = 123
    ORDER BY created_at DESC
    OFFSET 10
    LIMIT 10;

    # Rails
    Widget.where(user_id: 123).order(:created_at => :desc).offset(10).limit(10)

The client would pass in a page number (above that would be `2`) and your backend code would translate that into an offset and limit.

And very importantly, make sure you have an index on `(user_id, created_at DESC)`.

As essepi pointed out, also """"""it doesn't scale"""""", a scary sounding phrase that has some kernel of truth to it, but you probably shouldn't take too literally. If you're paginating over queries with thousands of records, you're almost certainly fine. Get up to millions and maybe you should measure performance, but you should do that anyway at that point.

The reason the offset/limit approach is so popular is because it's dead simple, works with any ordering, and requires basically zero-configuration.

One downside is that ""it doesn't scale"", but a bigger one IMO is that if a record is inserted in between queries, you may end up seeing a record on page 2 that you already saw on page 1, for example.

The more complicated method, getting to be more popular nowadays, is also to use a `LIMIT` and `ORDER BY`, but instead of using `OFFSET`, you use a `WHERE` clause to return records where some field is greater or lesser than a value. For example, imagine a page size of just two records. When fetching page 1 you perform a query very similar to the one above:

    -- SQL
    SELECT * FROM widgets
    WHERE user_id = 123
    ORDER BY created_at DESC
    LIMIT 2;

    # Rails
    Widget.where(user_id: 123).order(:created_at => :desc).limit(2)

Let's say this returns two records. Imagine these are full timestamps and not just dates, too lazy to write out times.

- Widget A, created_at = 2018-06-02
- Widget B, created_at = 2018-06-01

To get the next page, the client doesn't ask for ""page 2"", instead it asks for ""records before 2018-06-01"". Typically this would be a query param `before=2018-06-01`. To get this page of results, the backend query will look like

    -- SQL
    SELECT * FROM widgets
    WHERE user_id = 123
    AND created_at < '2018-06-01'
    ORDER BY created_at DESC
    LIMIT 2;

    # Rails
    Widget.
    where(user_id: 123).
    where('created_at < ?', '2018-06-01').
    order(:created_at => :desc).
    limit(2)

Which will return another two records, and so on.

Make sure you have proper indexes for all the possible orderings used on this page, or else it doesn't matter one bit whether you use the offset/limit approach or this one.

This way is also a bit tricky in that your `ORDER BY` field damn well better be unique, or else you may miss records while paginating over them. For example, consider what happens if you have two records with the same created_at timestamp. The naive approach above could possibly miss one of them.

This is, in theory, potentially a problem with the offset/limit approach too but in practice much less of an issue because (1) the ordering your DBMS uses probably won't change between queries, but even if it does (2) it's super easy to fix simply by adding a second ordering field, so instead of `ORDER BY created_at DESC`, just do `ORDER BY created_at DESC, id` and you can guarantee the ordering won't change.

",1530806967.0
Mallanaga,Sounds like you‚Äôre trying to paginate. Check out the kaminari gem,1530798169.0
SnarkyNinja,`if`,1530774058.0
methodinmadness7,"One more thing - it‚Äôs best to write the names of the methods that return a boolean with a `?` in the end. :)
If you use Devise or another library it should already have a range of built-in methods for that purpose available though.",1530775284.0
ActiveModel_Dirty,"`<%= link_to ('sign up', user_registration_path) if user_logged %>`",1530896521.0
Rafert,Every time you call `permit` it returns a new object ([docs](http://api.rubyonrails.org/classes/ActionController/Parameters.html#method-i-permit)). Were you expecting in your example that the second line would permit additional parameters?,1530761184.0
in0pinatus,"`:b` and `:injected` are filtered out because their associated values are of `Regexp` and `Object` type respectively, which are not on the list of permitted scalar types. Note also that the array of values for `:suspicious` is similarly filtered.

See http://api.rubyonrails.org/classes/ActionController/Parameters.html#method-i-permit and observe that if you add

    ActionController::Parameters::PERMITTED_SCALAR_TYPES << Regex

then the test will fail because `permitted[:preferences][:dubious][0][:b]` now returns `/wtf!/`.",1530736524.0
joshlatte,"It sounds like your project types are more like wall texture types? If so, then you could just use an enum for the different types of wall textures (paint, drywall, plaster, wallpaper, etc)
",1530729607.0
in0pinatus,"I think you mean:

    class Room < ApplicationRecord
      belongs_to, :project, polymorphic: true
      #...

in which case, the advantage is that the room can talk to its project object without needing code duplication depending on which type it is. In other words it only has to depend on the abstract idea of a project, not the details of what that project is.

If you have both fields you can have the horrible situation of a) accidentally attaching a room to both, and b) having to check which type you're associated with every time you want to send a message.
",1530783624.0
TODO_getLife,Anyone got any example Ruby on Rails CVs that I can look over? Just to get an idea of what I should be putting there.,1531771942.0
janko-m,"You have a typo when adding the `share_certificate_scan` Shrine attachment attribute:

    include ImageUploader[:share_certficate_scan]
    # should be
    include ImageUploader[:share_certificate_scan]",1530729673.0
mr_aes,I messed with this for hours... must have been tired. Appreciated good sir :-),1530736211.0
codingideas,Lots of small tasty treats to learn from you there. Thanks for sharing.,1530728483.0
ScottFromModesto,Sad. I wonder what the equivalent for me would be. Maybe if a dog chewed up my external hard drive full of ebooks.,1530787746.0
DehydratingPretzel,Nice man. Good simple code. UI looks great. If you're in Dallas and looking for rails jobs hit me up lol,1532011488.0
ScottFromModesto,"redefine Unicorn's logger to one pointing to $stdout

  
logger [Logger.new](https://Logger.new)($stdout)

?",1530693857.0
joshminnich,I‚Äôd recommend doing that in development.rb or the specific environment you need that behavior. ,1530717494.0
iesartia,"you have to build `passenger` relation first.

`.new` will not add association, use association.build.",1530686343.0
Code-Master13,"Respond to this comment in the morning. I just got done dealing with multilevel nested attributes for my latest project. I'm in mobile right now & just killing time for bed. The syntax does need some tweaking.

Edit: Here is my post from the other day. I just got things fully functional, it's nearly identical to what you're trying to accomplish.
 https://www.reddit.com/r/rails/comments/8vw4a5/grandparent_parent_and_grandchildren_relationships/?utm_source=reddit-android",1530939957.0
iesartia,you can simply add `carrier_lines_attributes` inside `carrier_plans_attributes`,1530686514.0
taelor,"Oh man, please for the love of all that is tender, convert to git.",1530651146.0
oztrax,"you might like gorails.com and the slack channel for it, it's a pretty active & helpful community",1530650954.0
erandros,"I'm in the same situation.  
Used to use ASPNET mostly and I switched half a year ago.  
I love Rails, and I honestly feel like I could be actually happy being in a job coding in this framework.  

* Sensible defaults/out of the box experience
* Unit tests first
* Code generation 
* Little boilerplate for the end user
* Nice error messages for the end user in html
* `ActiveRecord` aka any database one language
* `ActionCable` aka websockets
* `rails console` aka access/update your data on the fly
* i18n
* A ton of gems really well designed and unit tested.
* Ryan Bates railscasts showing you how easy is it to do rails.

Omg, so many good features that most MVC frameworks lack of! And it's all builtin!  

And with webpacker you can stay up to date js wise. And it's freaking easy to setup.  ",1530661885.0
Ronald-Ray-Gun,"Welcome to Rails! This is why I don't venture too far from ruby because almost daily I stumble upon a feature in ruby/rails that makes me think ""wow, this is useful"". More often than not, I feel like I'm working _with_ ruby rather than _against_ it (looking at you, angular...).

I enjoy react, ember, and more broadly, all the great improvements to ES6. But I never feel the need to diverge from ruby as my base language. 

Edit: base backend language. I know I can‚Äôt choose react OR ruby (in most cases :p)",1530649441.0
ShaiDorsai,"It‚Äôll blow your mind when you can use all that Ruby coolness to whip on static sites with all the RoR knowledge too - check out Middleman.

So sweet to use Ruby interpolation right in a webpage, Ruby helper methods, etc. 

Live server reloading built in, YAML front matter, write your own helper methods to access them, etc.

A lot of sites don‚Äôt need a db and I wish I had tried Middleman earlier.",1530651174.0
murderofcrows,You can use rails and react at the same time.  I prefer to use rails as the backend for a react front end.   I thing wrong with that!,1530710311.0
Ikuyas,"Have you tried to put it in production. Man, deploying Rails app is very difficult. I don't know why it has to be this hard.",1530659171.0
,[deleted],1530656009.0
infamoustrey,"ESLint, it has plugins in so many editors like vscode and packagers like webpack.",1530657336.0
appothecary,ESLint for me. Using airbnb's style guide.,1530658245.0
BobWhitelock,"Not sure if this would be a good replacement for the current link(s), but for what it's worth the best Rails docs I've found are http://devdocs.io/rails~5.2/ - includes full search of both APIs and guides. Also useful for some other languages/frameworks, including Ruby.",1530639412.0
GroceryBagHead,Actual Rails API link: http://api.rubyonrails.org/,1530644703.0
TODO_getLife,"Which docs are you talking about it?

For me the guide is the most important one, I use it on a daily basis.

http://guides.rubyonrails.org/getting_started.html

That link works.",1530638576.0
_matthewd,"> Good online Rails API are hard to find

Anything in particular you'd like improved about [the official API docs](http://api.rubyonrails.org/)? It's not broken, always up to date, and linked at the top of https://rubyonrails.org/ -- so I can only infer it's not good. :/

(I agree it'd be nice if it was linked in the sidebar instead of those others, though.)",1530673704.0
noodlez,"Per sidebar, please post job openings in a more appropriate community. ",1530634412.0
janko-m,Any reason for not using the official [`aws-sdk-ses` gem](https://github.com/aws/aws-sdk-ruby/tree/master/gems/aws-sdk-ses)?,1530617721.0
anhkind,Try official gem if it's available.,1530618111.0
jonathanhefner,"I prefer official gems, so I use [aws-sdk-rails](https://github.com/aws/aws-sdk-rails).",1530665224.0
laurentqro,You can also checkout https://gorails.com. The subscription comes with access to a Slack channel where the teacher is active and the other students help each other out. ,1530626467.0
SagaciousCrumb,"I can recommend http://bloc.io, when doing the course you're paired with a mentor for regular live screensharing sessions, plus slack office hours with a team of people.  I used to mentor there, the biggest benefit was being able to help solve just the sort of issues you're finding. 

It might be more structured than your looking for, but check it out. ",1530634767.0
Blimey85,"I‚Äôve tutored two people in the past who were just getting started with Rails. GoRails is my go to as the videos are great and the Slack channel is an awesome resource. If you have particular issues and something up on Github that I can clone and run locally, I wouldn‚Äôt mind helping you out.

A lot of it is pretty simple once you understand it but getting to that point can be tough. When I first got into PHP I was coming from Perl and there were a lot of similarities. PHP actually started as Perl scripts but anyway, reading PHP was an easy way to learn because there was a lot of code and you could follow it. With Ruby that‚Äôs not always the case. Especially with Rails. One of the things that makes it so great is the code you don‚Äôt need to write. The magic if you will. Once you understand how it works and what it‚Äôs doing for you, you‚Äôre golden. Just opening up a Rails app and expecting to know what‚Äôs what unless you‚Äôve already used something similar, won‚Äôt work very well.",1530821837.0
RobertHopman,[https://www.rubyonrails.link/](https://www.rubyonrails.link/),1530907370.0
illyrianHero,Check Udemy.,1530615720.0
stympy,"In the past I have offered one-on-one Rails training, mentoring, and support paid on a per-hour basis, which my clients considered very useful and well-worth the money. I have considered creating a monthly subscription service which would provide timely expert answers (I've been doing Rails since 2005), but I wondered just how much demand there would be for such a thing, considering how many good resources are out there (like Stack Overflow). Are you the only one who is willing to pay monthly for access to a Rails expert, or are there others, too? :)",1530616784.0
cheald,"Just keep it simple.

    def update_params
      scenario = params[:scenario]
      index = scenario[:initiative_index]
      scenario[:scenario_forces_attributes][index][:initiative] = 1
      scenario_params
    end",1530626342.0
Charlieigg,"What comes to mind in this scenario is to use Hash destructuring, which would allow you to only call the method once: http://tony.pitluga.com/2011/08/08/destructuring-with-ruby.html (scroll down to hash destructuring)",1530619096.0
unsignedotter,"Do you have to do it all in one line?

Introducing local variables would also make reek happy. Extract \`params\[:scenario\]\` to a variable and assign the value to your index. You could also use \`.dig\` to get the index, would probably  silence reek, because \`.dig\` is different from \`.\[\]\`.

You probably don't want to \`scenario\_params\`?",1530620703.0
prekarius,"Thanks for the comments. After posting the question I realized that the way I did it didn't actually work if I change the force with initiative after first save. So now my code looks like this and I managed to trigger two smells now :) Honestly I am okay with ignoring them and moving on now but I am wondering how bad is my solution?

    def update_params
      scenario = params[:scenario]
      initiative_index = scenario[:initiative_index]
      scenario[:scenario_forces_attributes].each do |index|
        scenario[:scenario_forces_attributes][index][:initiative] = index == initiative_index
      end
      scenario_params
    end

Also changed from integer to boolean for the value. It was holdover from legacy data and didn't really make sense to use integer here.",1530648672.0
DehydratingPretzel,"Congrats on this! This kind of project is a subtly hard one.

However know this exists:
https://github.com/Netflix/fast_jsonapi

For production apps I would avoid using home grown code like this. But I never like to down valiant efforts like this.",1530549456.0
Rogem002,"Oh I really like it! When I used AMS in the past I had the same annoyances as you listed, in the end I just started using jbuilder. 

The sample you've provided kind of reminds me of how I work with [draper](https://github.com/drapergem/draper). I'll give it a try in my next project - hopefully that'll provide way better feedback :D",1530549682.0
davidpdrsn,"Seems like I'm not the only one thinking something like this :)

[Where I work](https://tonsser.com) we also used AMS for a couple of years but eventually ended up making our thing. Our implementation has the same API as AMS 0.8, so we could transition easily. [At plain serialisation our version is something like 30 times faster.](https://gist.github.com/davidpdrsn/a825732c41a6bbc4251952752fbe9819) It can be so fast by eliminating most of the features that we never ended up needing.

Another feature we really wanted was proper nested caching, similar to [Rails views.](http://edgeguides.rubyonrails.org/caching_with_rails.html#russian-doll-caching) At least until a couple of years ago AMS had a very poor caching story. Caching is tricky but our implementation is pretty battle tested by now and we use it a lot. For example we learned the hard way to consider things like when new attributes are added to the serializers and when i18n translations change.

I have thought about open-sourcing it for a while but haven't had the time yet, but glad to know I'm not alone.

EDIT: Fix links",1530562465.0
Bhaps,I'm just going to downvote myself already .,1530540364.0
DoubleJarvis,"I think you need `libsqlite3-dev` package installed, not entirely sure on it, but wouldn't hurt to try",1530542278.0
,[deleted],1530508020.0
Randall-Coding,"Update:  My solution was to copy the files from bootstrap's gem library to my javascript and stylesheets folder.  

I was hoping to avoid that, because I wanted to figure out why this gem was not being added to my path like normal.  Oh well.",1532795549.0
systemnate,This is pretty solid : https://devblast.com/c/master-ruby-web-apis,1530532545.0
TotesMessenger,"I'm a bot, *bleep*, *bloop*. Someone has linked to this thread from another place on reddit:

- [/r/webdev] [Recommended Rails 5.1 API only tutorials\/courses? ‚Ä¢ r\/rails](https://www.reddit.com/r/webdev/comments/8vdcap/recommended_rails_51_api_only_tutorialscourses/)

&nbsp;*^(If you follow any of the above links, please respect the rules of reddit and don't vote in the other threads.) ^\([Info](/r/TotesMessenger) ^/ ^[Contact](/message/compose?to=/r/TotesMessenger))*",1530481617.0
Quantumbinman,"https://github.com/shakacode/react-webpack-rails-tutorial

Something like this?",1530484313.0
StormTAG,"I'm curious to know what sort of things you'd learn in such a course that you wouldn't already know. You get request, you validate, you render response. If you cut out all the rendering/form stuff, there's not a lot more to it than that, or am I missing something?",1530488211.0
flusteredbygirls,"I didn't really find many good tutorials when I was looking into this.

You can google 'rails api tutorial' or 'rails grape api' to get a start. I ended up using rails 5 api + grape, and then using JWT to handle json token auth. You can use postman as well to make test HTTP requests and save them.",1530492943.0
Bizkitgto,Hartl‚Äôs course is the gold standard. ,1539646850.0
drwl,https://docs.docker.com/compose/rails/,1530466190.0
SkyPuncher,You could go even simpler with Dokku.  It's basically Heroku style builds.,1530467071.0
BonzoESC,"The last one I used:
https://github.com/bkerley/treegram/blob/master/docker-compose.yml 
https://github.com/bkerley/treegram/blob/master/Dockerfile

If you find building something like those to be a chore, Docker might not be the tool you‚Äôre looking for, or you might not have a complete enough understanding of what Docker and docker-compose are for. ",1530471257.0
federal_employee,"It‚Äôs pretty much copy and paste from here:

https://docs.docker.com/compose/rails/
",1530486524.0
null-undefined,"We use the ruby image with separate containers for Postgres (local dev only, run a cloud hosted instance in your other envs), puma, and sidekiq. I‚Äôd highly recommend you break your dependencies out, otherwise docker won‚Äôt give you any real benefits. As for lightweight, you might use a multi stage build to facilitate it",1530500431.0
Atagor,"Consider the existing projects on GitHub.
I've found this useful one: https://github.com/kurenn/docker-rails. There you can find examples of correct usage of docker entrypoint file, envs configuration and compose file. However, the compose file is a little bit outdated (it has the 2nd version), but it's not a big deal to rewrite it to the 3rd version.",1530560712.0
dogweather,I've got a drop-in docker-compose config for development: https://github.com/dogweather/rails-docker-compose,1530641435.0
akxdev,"I'd do it the first way. If you want to look into it more, google ""string interpolation Ruby"" and ""string concatenation Ruby""",1530454392.0
TODO_getLife,First way is more concise to me.,1530456839.0
dom_eden,"Generally string interpolation (e.g. ""I like to use #{a.upcase}"") is preferred to ""I like to use "" + a.upcase. 

Check out the Rubocop style guide for more pointers: [https://github.com/rubocop-hq/ruby-style-guide#strings](https://github.com/rubocop-hq/ruby-style-guide#strings)",1530457285.0
another_josh,"Stripe‚Äôs subscriptions have a trial period you can set so it will automatically expire, all managed on Stripe‚Äôs side. You can just set up a webhook on Stripe to hit an endpoint in your API when trials expire and then update users in your db with the correct status that way. ",1530451927.0
toadkicker,"For anything coming and going with Stripe I wrapped everything in an ActiveJob. I wrote a class that basically mirrors my local `Plan` table with Stripe's subscription plans. This lets me use it in my UI without having to call Stripe to fetch it and I can simply just not create them in Stripe until they need to pay for services. I would normally share that code with you but its a security and proprietary issue.

You can schedule jobs to run at anytime you want, so since you're already using Redis it is a good place to set these types of things into the queues.

Fairly decent explanation of active job:
https://blog.codeship.com/how-to-use-rails-active-job/

",1530448488.0
blingwat,I've had extensive experience with Stripe and use the webhooks to receive a notification when a trial period expires. The have pretty good documentation for that design pattern.,1530454495.0
jqr,"This seems like it could be your network redirecting you to a login page or something like that.

Does curl with the HTTPS url work? If so maybe the delete all rubies is a good thing to try. If not you might look at system certs.",1530410084.0
schneems,"If you're doing a clean install check out `chruby` and `ruby-install` as an alternative to rbenv. I don't think that's what was causing the issue but they're really lightweight and bullet proof. I've fixed more than one mysterious problem on someone else's machine by moving them over to chruby.

",1530416363.0
,"Is using wordpress just for layout and design a bit of overkill?  I mean there should be a gem that will help - or perhaps some bootstrap/grid work?

On another note, I was always disappointed not to find a quality rails blog engine a la word press because I think it would just work better and be  more stable",1530400952.0
sylvezine,"How and why would you use Rails and WordPress together? They effectively are the same type of framework, just different languages. 

If you just need a helping hand with your front end Rails views find a Bootstrap theme (look up Bootswatch) or google for Rube Gem Pagebuider",1530410143.0
prasnala,"Currently you have a backend in rail.  and want to use wordpress API for frontend.

As per my understanding wordpress API is used at backend. It connect different front end Technology like Angular JS, react JS etc.

I think you need to use rail API at backend.
",1530429865.0
hellooo_,"If you‚Äôre looking for good themes to use with rails (or any framework) checkout startbootstrap. You get good boiler plate, front ends with good comments, or full blown themes that you can cut up, combine, and use for any layout. ",1530415507.0
SagaciousCrumb,"I found this, though haven't used it: https://rapidrailsthemes.com/

I use Bootstrap for everything, and find a good theme to go on top of it. Then I look at a given page I'm 'designing' and look through the bootstrap components to find one that might suite the info I'm displaying. Usually I find something a little unexpected, or it reminds me of a component I haven't used in a while. ",1530450232.0
ixtechau,"\> Buckle down and work on a good layout/design myself.

Sounds like the best plan. Use it as an opportunity to become better at designing.",1530447704.0
toadkicker,"Honestly you are better off writing a builder in this case. Generators are nice for the initial project start but if you intend on targeting integration with another tool then they aren‚Äôt the best choice to take. What happens when you want to upgrade React and that requires a application wide change? A generator can‚Äôt help you in this case. But with ActionView you can tell it what to output by using a builder, and that will future-proof the UI a bit more.

http://api.rubyonrails.org/classes/ActionView/Base.html",1530366324.0
boboguitar,I can offer no help but man do I miss rails generators. Most of our pages are in react now and it really is a pain without all those view helpers.,1530363231.0
toobulkeh,"Here's the official guide: http://guides.rubyonrails.org/generators.html

Simple form is a great example of a generator system, and even has some customization options that might be a good place to start (since you're form focused): https://github.com/plataformatec/simple_form/wikihttps://github.com/plataformatec/simple_form/wiki

You can always read the source code as documentation of a popular example, like Devise: https://github.com/plataformatec/devise

Note that it's pretty old, so their DSL might be a little ""outdated"" for the 5.2+ crowd.",1530392687.0
exige1981,"Never used it myself, but I see [ComfortableMexicanSofa](https://github.com/comfy/comfortable-mexican-sofa) mentioned here from time to time and the main dev contributes here frequently",1530292705.0
ingej,"We recently decided to flip the open source switch on the CMS I've been tinkering with over the past decade. Still lacking a lot of documentation, but it's reasonably mature and battle tested across 150+ sites.

https://github.com/anyone-oslo/pages",1530309917.0
railsr7,[https://activeadmin.info/](https://activeadmin.info/) is more close to what you have with django,1530294332.0
Nrdrsr,"I've used comfortable mexican sofa for a project once - it works reasonably well for simple use-cases.

I got stuck at one point where I wanted to have arbitrary length list fields attached to a piece of content. Tags can work, but can get complex quickly.

Most of the time I make my own. The scaffold generator views can be customized, and you can throw on a good editor plugin onto your text data field for any long-form content like articles.",1530299039.0
MarkoPoli,"Awesome guys, thank you so much for your time! Happy development:)",1530306914.0
homemadepecanpie,"I don't know much about any gems out there but I've found it actually isn't too hard to just roll one yourself. The edit/update scaffold routes do a good job for most models and are easy enough to add/remove form fields. If you use devise or other authentication gems, putting these routes behind a login page is easy enough. I usually use rolify and pundit if I need to separate admins from ordinary users (if they exist) for authorization.

Coming from Django, I also felt like something was missing with a lack of admin options in rails but all the tools exist to put one together yourself pretty quickly and they are all pretty easy to customize and extend for more complex models.",1530292455.0
SminkyBazzA,I've been waiting for a chance to try out [PushType](http://www.pushtype.org/).,1530303825.0
jaredcwhite,"Haven't used in a while, but back in the day I found Refinery to be pretty good.",1530306230.0
robotsmakinglove,For a CMS [https://github.com/SpinaCMS/Spina](https://github.com/SpinaCMS/Spina) is fairly popular also.,1530322585.0
Schrockwell,"RDS instances belong to security groups, just like EC2 instances, so you need to explicitly specify which ports and protocols are permitted, and from where. Sounds like you‚Äôre missing port 3306 inbound to your RDS‚Äôs security group.

https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/Overview.RDSSecurityGroups.html",1530272536.0
jaryl,"Try connecting with a MySQL client first, which should give you more feedback to go on. And yes if you didn‚Äôt set up your security groups to enable the right inbound ports then you won‚Äôt be able to establish connections. ",1530272606.0
redbeard0x0a,"In addition to checking your security group settings, you should also make sure the user you are using in your connection settings has create database permissions. (or you are using the master user that rds created for you)",1530281298.0
Haegin,"RDS also creates the DB for you, so you don't need to create it, just migrate and seed it. You still need to fix the security group problems first as other have mentioned.",1530288776.0
ActiveModel_Dirty,"Good question. Here's a long answer because I'm bored and this seems like a fun one to write about:

Theoretically from a high level yes, if you wanted to make a site like that you would pull the information from an external source. But more importantly, no, you would not do it by hand; never do anything ""by hand"" in the context of programming. Or, more accurately, only do things by hand if it's in service of learning how you can automate the process in your code.

So now to the context of your application. It sounds like you're treating this as a learning experience and less so a business opportunity (at least I hope so), which is good because it's an example of an application that can scale in performance and ability as you learn with it. The first version can be written with very little programming experience (and will be absolute, barely functioning garbage from a practical standpoint), but it can eventually touch some of the most complex areas of web development if you decide to keep going with it to, maybe, a production codebase. But that's a long ways away.

I digress.

There are generally two ways of pulling data from an external source:

1. Via public-facing API (which would be the eventual solution for you)
2. Scraping the data (which is a more realistic place to start in this case)

Now, what's the difference?

You can think of scraping as your web application getting the information it needs ""by hand"". It's one of the most inefficient and cumbersome ways to collect data. Scraping is basically you telling your computer ""Go to this website and pull all of the html off of the page and send it back to me"". So it does that. It goes off into the internet, visits the site, and sends you back a really big, incomprehensible string of characters. To illustrate this, go over to the eliteprospects link and right click somewhere on the page. Click ""View page source"" and look at what it shows you. Now, every time you want to populate your database with new stats, you send your computer off to grab that file, and it gives it back to [you.](https://you.So)

So say I want to know how many goals Chris Terry scored during the 2013 NHL season. Let's assume we just magically know all of the urls to the website (although you wouldn't; this would also require engineering) so we know to go here to find that information: [https://www.eliteprospects.com/player/14370/chris-terry](https://www.eliteprospects.com/player/14370/chris-terry). Now, we‚Äîas humans‚Äîknow exactly where to look. We look to the middle of the page, we look for 2012-2013, and we find the ""G"" column to learn how many goals Chris Terry scored in 2013. When you think about it, it's actually quite a lot of steps. You have to look at several different things and find them on the page. It takes milliseconds, obviously, but it is several steps nonetheless‚Äî1. Find the link, 2. Find the table on the page containing the information. 3. Find the right row, column, read the information, etc. Think of all of those steps as an analogy for scraping. It's a series of basic, ""manual labor"" tasks.

Now, the corollary analogy for a public-facing API would be asking your friend ""how many goals did Chris Terry score in 2013?"". Now, they being the huge Terry fans that they are for whatever reason, respond back immediately saying ""One goal"". That is, at most, two steps: 1. Ask a question, 2. Receive an answer. In the context of your website, you can think of eliteprospects as your friend. An API provides you with a means of communicating directly with the EliteProspects databases where that juicy information is stored. Generally with sites like this, you don't even have to ask it a question, you basically just tell it once ""whenever literally any stat changes, let me know"" and it does exactly that from then on. So that means you could have continuously updated stats on your website, and you theoretically wouldn't have to do *anything* after writing the code once. They spit out data, you capture it and package it in whatever design you want, and share that with the internet‚Äîmaybe you add additional features or you create a charting application that uses the data it gives you as a source--who knows, the sky is actually the limit.

So why not just do that? Why did I tell you you'll likely be scraping the data? Well, for one, APIs like this cost money in order to get them to talk to you. Their friendship doesn't come free. EliteProspects does offer a robust API, but even for non-commercial use it's going to cost you 200 Euros per month to get access. Likely not what you want to be spending right now.

So that's where scraping comes in. Scraping is free. However, many websites generally don't want you scraping them (especially when they offer an API, they want you to pay for that instead), and it is likely a violation of the terms of use you agree to by visiting their site. But that only becomes an issue at scales of greater than thousands of requests per day (or minute). When it's just you working and chipping away at code, nobody cares and you should not feel bad about it (also worth noting that not all websites care if you scrape, some are explicitly okay with you doing it).

So that's one drawback, the ethics/TOS violation of it all. The second drawback, which is arguably equally as important in some contexts, is the performance. Scraping is slow and annoying. Remember, it's a lot of manual labor steps for the computer. All *you* have to do is the initial set up and some maintenance here and there so it's easy coding, but the computer has to go through a series of steps each time it wants data, compared to the API that gets data without even asking for it. This, obviously, has major implications for site speed and the ""freshness"" of your data.

For using Rails, you want to check out Nokogiri, which comes with Rails by default. Here's a good tutorial that you can follow along with to get started: [http://www.mattmorgante.com/technology/webscraper](http://www.mattmorgante.com/technology/webscraper)

You are definitely on the right track, and that should be your first instinct as a programmer: ""can I cheat?"". It's not cheating though, this sort of thing is how the whole beast that is the internet works. Services talking to each other and sharing information. It's how we avoid different groups of people working on the same problems that have already been solved. So all that leaves for us to do is innovate.",1530264507.0
Eloiole,"Read their condition, if they don't have a public API then scrapping the website is probably illegal.   


So, yes you could automate the all, but you should prolly get their agreement.",1530260008.0
bgcali,you would have to do an api call to that website if they support one or a website that provides an api to display all players for specific team and their stats as json then you could store it to your database as jsonb or just render it in your views.,1530260030.0
wikitih,"They do have an [API](https://www.eliteprospects.com/api), but it's not cheap.",1530262453.0
Animazing,Just throwing this out there but is your engine file inside an autoload path? ,1530251121.0
krapple,"You may need to reference the root namespace.

::Model instead of Model

However, referencing an application model in your engine would mean its coupled to the application and you can't test it independently. Putting your model in the engine and extending it in the app may be the more modular approach, or putting your model(s) in a separate engine that both the first engine and the app include may work too. ",1530268362.0
Serializedrequests,"Never really bothered me, other frameworks that name tables in the singular actually really annoy me, because a table is plural by definition. As for directory names, I don't care what it's called and I'll take singular or plural (I'm a sort of happy Trailblazer user after all), but I've never hit one of those edge cases either.",1530210104.0
flusteredbygirls,"It's kind of annoying sometimes but it is what it is. I just got used to it.

As stated elsewhere in this thread, you can also override it.",1530198069.0
ShaiDorsai,"For the most part - banging out simple apps for people that just need to get stuff done - I dont mind and usually just go with the Rails convention..

I have read though - that if you repeatedly hit the ceiling on Rails conventions or find yourself monkey patching Rails code itself too much - you probably are ready for a much leaner app approach that still uses Ruby like Sinatra or Roda..

Check out the shrinerb demos by Janko to see how he builds up a quick app in Rooda to do file attachments - sidestepping a lot of Rails routing, templates etc for a  micro framework approach.
",1530213115.0
ShaiDorsai,"You can override it all of course to what makes sense - When I‚Äôm considering how to name something I usually test Name.pluralize and back to singularize the make sure it‚Äôs symmetrical, maybe even spin up a test scaffold in a bare app to see if I like it and write out any overrides that make more sense to me..... you do have to live with it after all!",1530198060.0
wpg4665,Looks like it should be `Math::PI` [source](https://ruby-doc.org/core-2.2.0/Math.html),1530190731.0
gaotongfei, puts Math.sqrt(Math::PI),1530253797.0
Atagor,"Take a look at Ducalis [https://github.com/ignat-z/ducalis](https://github.com/ignat-z/ducalis).  
This is a static code analyzer which detects weak code in your app (you can find the checklist in the docs [https://ducalis-rb.github.io/](https://ducalis-rb.github.io/))  
Some items in the list are too subjective, however, it still could help with code review process on a daily basis.",1530565354.0
mr_aes,"**Stealth**

More of a framework really...something to help you build chat bots in Ruby or Rails -> [https://github.com/hellostealth/stealth](https://github.com/hellostealth/stealth)

Enjoy!",1530710094.0
RISCfuture,"This is a bad idea, for numerous reasons, primarily:

* Most countries do not have a single language that everyone speaks
* What language someone wishes to use can have nothing to do with what country they happen to be living in

Having country-specific content is certainly a common need, but you should not tie that to the language the user wishes to use. You can use your URL to discriminate between country-specific content, but you should use a cookie, a database setting, or JavaScript to determine and store their desired locale.",1530230434.0
SladeyMcNuggets,[https://github.com/hexorx/countries](https://github.com/hexorx/countries) has languages for each country. You could just map the country and get the first supported language of the country.,1530187942.0
abughat,"Give yourself some patience and keep writing tests. Three weeks isn‚Äôt that long for the only developer on a huge legacy app. 

In the meantime if you‚Äôd like to put some tools in your belt, try Michael Feathers‚Äô Working Effectively With Legacy Code

But again honestly cut yourself a break. It sounds like your boss is being patient with you so just keep at it, a little bit every day. It will add up! 

Hell, you‚Äôll probably be worthy of a senior rails dev title in a couple of months. ",1530150780.0
fiveguy,"I've been in a similar situation. **They know they're understaffed - and thus are shorting *you*.** They're going to have to pay (in terms of time) for being cheap and not hiring a properly sized team. This isn't an excuse to slack off - you are going to need much more time to learn the system and to write - you have to be more careful when developing since you are in isolation (no code reviews, etc). Edit: some of this post is about *managing expectations*.

Assuming the code isn't a complete mess, you *can* figure out the system, but it's going to take longer. If this isn't acceptable for both parties, bail and find a new gig before they fire you :)

Some tips for keeping your head above water:

* Subscribe to [Rails security issues](https://groups.google.com/forum/#!forum/rubyonrails-security) (they're usually posted on this subreddit, too). You need to do this for every part of your stack. Security should be priority #1 (assuming you have anything of value)
* Look for problems using automated tools - linters, rubocop, etc. They may quickly point out some massive problems you may easily miss
* Don't be afraid to be behind in versions of tools and external APIs - as long as you are keeping up with security patches. For example, upgrading from Rails 4.2 to 5 (or higher) can be a massive time suck depending on your gems and just how old your legacy code is. 4.2 is still being maintained, so stay on it if you have to.
* Write tests for critical functionality as soon as you can. You'll get a better idea of how it works, and the assurance that it will continue to work as you mess with the app. If you need to, pad your hours a bit (on your assigned tasks) so you can take a few hours a day/week to do this.
* Whenever you touch code, add test for that code. Make yourself do it. Be disciplined.
* You don't have backup, you don't have a second set of eyes, you don't have someone to review code. So, try to keep things simple, and take your time. Don't get too clever.
* Don't be afraid to say ""I don't know"", or ""this [legacy] feature is a complete clusterfuck"" or ""it'll take longer than you and I want"" - but follow it up with ""but I'll figure it out"" or ""I'll make it happen"". 
* When you get that moment of clarity (holy crap, I finally understand this class!), if you don't have time to add tests, at least add some comments in the file (or outside the repo) to help you next time. I'll often very very lightly refactor a class in-place by simply renaming methods and variables to be more descriptive.
* Write good, readable code. If you have the luxury of hiring more people, their transition will be easier because of it (and those comments you added in the repo, in the previous bullet)

I hope you're being well paid.
I hope you have *someone else* who can functional test your app.
I hope you have someone who understands how the app should be working.",1530151722.0
zZaphon,"Hey man I've been there, take a deep breath.

First write lots of tests, make sure you know what works and what doesn't. It sounds like you'll be there for a while so make sure you cover all your bases.

Second, leave comments for yourself when you figure out the pieces of code that are important. Once you understand how they work you'll thank yourself later for filling in the details.

Lastly if you're asked to add a new feature or fix an existing problem take it step by step. Don't bite off more than you can chew.",1530152405.0
MoooPower,"This is what big enterprise applications are like, everything isn't well laid out or straight forward.  It's been developed in patch work and piece meals over many many years to solve a lot of problems people thrown at it.  Your boss is probably right,  once you hit those kind of applications it isn't unreasonable to say it take a year or more to understand what it really does, why it does it the way it does, and for you to know enough to make significant changes without messing up something else.  


Just take it easy and learn, as long as the thing is up and you can fix problems and continue to do small changes, you'll be fine.",1530187828.0
ecco256,"Writing tests is a great start. I would begin with writing acceptance tests; describe the domain logic so that this stays working if you need to refactor code. Don‚Äôt go overboard with this; edge cases etc are better handled in unit tests (search for ‚Äòtesting pyramid‚Äô for more info).
It‚Äôs good to have separate tests that describe the essential complexity of the application‚Äôs domain without having to understand the implementation choices because that way it‚Äôs much less overwhelming.",1530357398.0
SerKnight,"Yeah second that ^ after another few weeks you will start to recognize patterns and truly understand the relationships between the core model sets. I‚Äôd recommend you start documenting everything you find into the readme or another place. Even hit the ol pen and paper to start to draw out the database design. If you are encouraged to continue documenting, perhaps take work time to create a lucid chart of the apps models, or the user workflows. Good luck! 

Writing tests for the core functionality is a great place to start in maintaining and building on a legacy rails app. ",1530151668.0
pfharlockk,"Start with learning and understanding the data model ,(think schema of the database)

If you get to the point where you know what the entities in each database table are for, then you will basically understand the app.

There will be more to learn, but the database schema is the bones upon which everything else hangs.  Anything not present in the schema wasn't important enough for the application to remember.",1530219813.0
442401,"Sorry, I've got no answers but, as a hobbyist, I would like to ask, how does a situation like this arise? Where are the dev(s) who built this app? Did the company inherit it?  How? 

**tl,dr** How did this happen?",1530230995.0
codingideas,"Hey, congratulations on the job! Maybe focus on learning the vocabulary of the business and hopefully that's translated in the code.",1530509890.0
primitive,"I think your strategy of focusing on getting the test suite in order is a really sound one. When I'm encountering a new app, or even unfamiliar code in the fairly large rails app I work on, tests are usually the first place I go to understand what's trying to be accomplished.

Git history is also a treasure trove of information. Even if the messages aren't great, you can learn a fair amount by seeing what other code was committed along side and get a picture on how different areas of the code base interact.

Also probably not news to you, but starting from the controller action and stepping through until you get a response is also a decent, if not a little tedious, strategy for finding out how some workflow is accomplished.

It's easy to feel overwhelmed, but you usually don't have to understand _everything_ in a code base to get some work accomplished. I also like to remind myself that the code didn't just magically appear one day, someone not too much unlike myself wrote it in the first place with the best information they had at the time. The trick is discovering what that information was :)

You'll be fine! Your mindset around caring for users of your application and the test suite is spot on and I think you'll feel confident to make bigger and bigger changes quicker than you think. Keep at it!",1530153127.0
Antikue,"all your require statements shoudl be in the format:

//= require jquery",1530112581.0
davie668,"If you're using Rails 5.2 there is a bug. After a lot of digging - everyone blaming each other - I found a solution that worked.

In config/production.rb find the line
config.assets.js_compressor = :uglifier
and replace it with 
config.assets.js_compressor = Uglifier.new(harmony: true)

Hope that helps",1530126198.0
No_Fake_News,"Update:  ended up completely remaking the app and updated rails / bundler as well.  


Changed the    = to    //=  also.  It now works on Heroku.  Perhaps a good lesson to upload to Heroku early and often as you are learning, to catch any errors along the way",1532623718.0
pa_dvg,"Yes, you'll do a GET request to the index page.

For your search, you'll typically do something like this:

`form_for :q, method: :get do |f|`

 `=` [`f.select`](https://f.select) `:from_airport # rest o the options`

Which will send a get request to the index action with the params \[q\]\[from\_airport\] like you'd expect.

To filter without a refreshing the page or having a search button, you'll need to attach an onChange function to the select via javascript and make the request via fetch or $.ajax and then parse the response and update your page.

To do the actual searching, you can do a search class method on your model that accepts the q parameter and calls wahtever scopes necessary to do the search. You can have each of these return the relation if the parameter isn't present.",1530110220.0
tbuehlmann,"Last time I had to implement a basic filtering form I went the JS and Turbolinks way. With this I'd simply react on option selects and let Turbolinks change the page to the new, filtered one. No further AJAXy behaviour to implement, still bookmarkable. By using Turbolinks there's no full page reload happening, so it still feels snappy.

Here's an example, erb:

```
<%= select_tag :type, type_select_options, id: 'type-filter', class: 'filter' %>
<!-- more filters here -->
```

And the JS:

```
$(document).on(""turbolinks:load"", function() {
  function applyFilters() {
    var filters = {};
    var type = $(""#type-filter"").val();

    if (type)
      filters[""type""] = type;

    if (Object.keys(filters).length > 0)
      Turbolinks.visit(""/resources?"" + $.param(filters));
    else
      Turbolinks.visit(""/resources"");
  };

  $("".filter"").on(""change"", applyFilters);
});
```

All you need controller-wise is the index action being able to filter based on that GET params.

This will not work when you have other GET params that'd need to be carried over to the next request, but that's easily added. Also, this only works with JS enabled, but well‚Ä¶",1530171643.0
AfterQuality,"Well you are going to be using additional scripts unless you are already using those particular scripts.  You are going to want to use something like leaflet, jquery and what not.   

Here is an older tutorial
https://asmaloney.com/2014/01/code/creating-an-interactive-map-with-leaflet-and-openstreetmap/",1530105346.0
ktbroderick,"If you're open to free for low traffic commerical options, mapbox is relatively easy to use and deploy, but will cost money if you go over their free tier usage limits or behind a paid login.

Based on OSM data, though.",1530211153.0
Rafert,Datadog (SaaS) or Prometheus (self-hosted).,1530071071.0
modnar42,"There are lots of good choices, though I would specifically warn you off CloudWatch. It‚Äôs expensive compared to its competitors and, in my opinion, has the least powerful interface in the market. I‚Äôd also put a warning on self-hosting. It always seems cheap/easy in the beginning, but usually ends up taking a bunch of devops time that‚Äôs better spent on your primary problem and falls over when you need it most. 

I‚Äôd suggest checking out 
 - Instrumental - my favorite, love the pricing model 
 - DataDog - solves lots of different kinds of monitoring problems
 - Librato - interesting interface, not my cup of tea but I know some people that love it
 - SignalFX - good interface, I don‚Äôt love the pricing though 

I‚Äôm betting one of those will do what you want for a price you can afford. ",1530072638.0
stympy,The approach we take at Honeybadger.io is to use statsd to aggregate and report the metrics to Librato (DataDog and others also support this approach). Then we define alerts for metrics when they go above a certain level (like queue latency) or below a certain level (like rpm) or stop reporting. It works very well for us. ,1530071373.0
appsignal,We support exactly this in a really nice way in AppSignal. Here are the docs on that: [https://docs.appsignal.com/application/anomaly-detection/](https://docs.appsignal.com/application/anomaly-detection/),1530099608.0
Omnibuser,Have a seperate lines table. A Plan has_many Lines and a Line belongs_to a Plan. Then you can do plan.lines.each etc.,1530051888.0
ohyeahbonertime,"wait a minute- isn't the error that you're not using the value of a, but just  literally ""line_a""?

why wouldn't you do plan.send(""line_#{a}"") ?


Personally I wouldn't go with your approach at all, but this seems to answer your question directly.",1530062645.0
JamesAppleDeveloper,"Can you draw out your current tables with a tool like:
https://www.dbdesigner.net/

Then upload the image, probably the easiest way to help
",1530052417.0
so_just,"accepts_nested_attributes_for is kinda nasty.

What you need is a [form object] (https://robots.thoughtbot.com/activemodel-form-objects)

When saving the records, you can wrap your code like this:
    
    def save
      Post.transaction do
        Post.create!(...)
        Comment.create!(...)
      end
      true
      rescue ActiveRecord::RecordInvalid => e
        ...
        return false
      end

",1530093095.0
Ronald-Ray-Gun,"A more accurate question would be Ruby v.s. Node.js. In which case I would choose Ruby, because I enjoy writing it and it has the very mature and well tested Rails framework.

Node also has web application frameworks, though.",1530032325.0
yeskia,Spend less time worrying what you're going to build with and more time worrying what you're going to build.,1530083789.0
BreakThings,"This type of feature isn't worth going through the effort to build out on your own unless you are just curious and want to do it.

Practical solutions would be [Happy Fox](https://happyfoxchat.com/?utm_source=zapier&utm_medium=profile&utm_campaign=partnership&utm_source=zapier.com&utm_medium=referral&utm_campaign=zapier) or [Olark](https://www.olark.com/) or [ZenDesk](https://www.zopim.com/?utm_source=zapier&utm_medium=profile&utm_campaign=partnership&utm_source=zapier.com&utm_medium=referral&utm_campaign=zapier)",1530049795.0
thecrentist0,"Unless you're building a live chat product, why would you build this. Just use one of the multiple services out there like Olark, Hawk, Zendesk Chat, etc. Sounds like you've been developing too long...",1530069678.0
jaroh,"Not a gem but an external service that works \_really\_ well with slack: [https://small.chat/](https://small.chat/)

I use it over at [shubox.io](https://shubox.io) and it's quite nice. Excellent work by the dev on that project.",1530145847.0
SempronSixFour,I'd like to know too. ,1530043121.0
Nondv,"This can be achieved via external services.

You just register there and add some js to your site. That's it.

For instance, in our company we use carrotquest, but I can't recommend it since I dont know if it's any good. It just works.",1530049599.0
bgcali,"this one is free if you have a facebook page. it uses messenger and currently on beta.
https://developers.facebook.com/docs/messenger-platform/discovery/customer-chat-plugin#steps",1530070790.0
AfterQuality,"Ruby 0.18.0

Ruby Solargraph

Ruby Comment Doc

Ruby Symbols

Rails Snippets

That's what I have installed, works good enough",1530024733.0
Blimey85,I‚Äôve tried it a bit but nothing has managed to pull me away from RubyMine thus far. ,1530046917.0
0node,"**Theme:** One Dark Pro

**Plugins**:

* Align, Beautify
* vscode-icons
* git blame
* Ruby, Ruby Haml
* Terminal

**Preferences:**
Makes UI a bit more usable, etc.

    {
        // Files
        ""files.autoSave"": ""onFocusChange"",
        ""files.exclude"": {
            ""**/.git"": true,
            ""**/.svn"": true,
            ""**/.hg"": true,
            ""**/CVS"": true,
            ""**/.DS_Store"": true,
            ""**/tmp"": true
        },
    
        // File Explorer
        ""explorer.openEditors.visible"": 0,
        ""explorer.autoReveal"": false,
    
        // Editor
        ""editor.fontSize"": 14,
        ""editor.tabSize"": 2,
        ""editor.wordWrap"": ""on"",
        ""window.zoomLevel"": 0,
    
        // Search
        ""search.location"": ""panel"",
    
        // Workbench
        ""workbench.colorTheme"": ""One Dark Pro"",
        ""workbench.iconTheme"": ""vscode-icons"",
        ""workbench.startupEditor"": ""newUntitledFile"",
        ""workbench.activityBar.visible"": true,
    
        // jslint
        ""jslint.options"": {
            ""node"": true,
            ""white"": true
        }
    }",1530039003.0
,What about debugging? I'm able to get it to run with Foreman but my break points don't catch.,1530055536.0
megatux2,"The Rubocop extension is great, too",1530072543.0
linusan,"No matter which editor I‚Äôve tried, RubyMine has always won. Goto symbol for gems, partial usage lookup, I18n string lookup, ... Quite some features which make me way more productive than with another editor. ",1530443439.0
picopen,"maybe  `scope :order_by_option, -> (option) {order(option => ""DESC"")}` will work",1530001016.0
Celsian,"Hi! I don't have any advice for you just yet. I literally just started reading your code, but I'm curious what your goal is with this. I manage a Meraki Network and would love to utilize the API access, but I don't know what I'd do it for. Just wondering what your intentions are and maybe I can help!",1529967650.0
anhkind,Have a look at my gem here (quite a long time ago) https://github.com/anhkind/wepay-api and see if it helps ;),1530008082.0
j27lee,"This [gem](https://github.com/jletizia/dashboardapi) looks like it does a bunch of things you want to do, although it returns everything as a hash.   You might be able to use it as a foundation for what you want to do, although it doesn't look like it's a very active project",1530082899.0
picopen,"the `has_one :vendor, through: :hardware`  relationship seems wrong,  
try to remove it and run your test again",1529932263.0
No_Fake_News,"I'll offer my probably mediocre advice, but maybe it could help.

Have you tried specifying a class name and foreign key on the line: 

    has_one :vendor, through: :hardware

?

Though it doesn't seem like you would need it, the fact it is saying ""NilClass"" in the error makes me suspicious that it doesn't know what class to use.
",1529935867.0
agency95,Are you doing any stubbing or message expectations within that test context? ,1529940672.0
anithri_arcane,Shouldn't you have `describe` and `it` blocks around your `should`,1529945338.0
andyw8,"Aren't you missing a class definition from your test? e.g.

```
class DeviceTest < ActiveSupport::TestCase
```",1529952089.0
fiveguy,"A few options depending on your tech stack, the amount of data in that API response, and your preference:

1. When the view renders, include that API data in hidden inputs in a form. When user submits the form (clicks save), that data is available (in params) in your next controller action. Disadvantage: the user could potentially modify the data in the DOM. Unlikely, but it's a common approach for bots and/or others who might want to fuck with you. Also, all that data is exposed in the DOM, which may not be what you want.
1. Store the data in the session, which persists (in the user's cookie), which you can access in the next action (or until you clear it out, or the user ends their session). Disadvantage: you can't store much data in the session.
1. Store the data in redis (you'll need redis to be running on your server, or use a third-party service). Retrieve the data from redis in the next request. This is a very common approach in Rails apps.",1529894747.0
HelloAnnyong,"Probably best to create the actual records at the time you fetch them from the API.

I don't know your exact use case, but I am imagining fetching a list of repositories from GitHub that the user is searching for, and then the user chooses a repository to add to his account to track in some way.

In the case above I would create a `GitHubRepository` model, and upsert (create or update) GitHubRepository records when I fetch them from the API. That way they always have an ID in the database you can refer back to.

Then when the user wants to add the repository to their account somehow, you could model that with a `has_and_belongs_to_many :github_repositories` relation on `User`. (Or, if you need something more complicated than a HABTM relation, a separate model for linking users to repositories.)",1529894753.0
cheald,"Your app consists of your code, which should be in source control.

Your database backups are up to the DB (Postgres, in this case) and are outside of the scope of the application itself. I use pgbarman to manage Postgres backups and restoration, but there are a lot of options out there.",1529890234.0
toobulkeh,"if a Droplet is at the core of it all, just take a snapshot or backup using their interface and download it.",1529891361.0
RhialtoTheMarv,"For most Rails apps you need three things:

* The source code (usually in your version control system)
* A backup of your database (which can be exported to a file and imported from a file... for example [Postgres SQL Dump](https://www.postgresql.org/docs/9.1/static/backup-dump.html)
* Any dynamic assets, for example images added through a CMS. Often these live in `/public/system/` folder, but it depends on the gems your using.

To restore the app, bundle, create your db, run migrations, them import your DB, then copy the dynamic assets to the correct location (which is defined by where they were originally created). You should be good to go after that.",1529896034.0
vinsonandmassif,"My code itself is in version control, I was referring to rails databases like PG or SQlite",1529890293.0
SagaciousCrumb,"It seems to be that the minimum length validation implies the presence one, which means you don't need the presence check. They will always trigger together, so you only need the more specific one. ",1529856434.0
hartator,Inline errors - displaying the errors next to each of their inputs - can be a good way to mitigate this kind of long error lists. ,1529858097.0
daub8,"This probably depends on your method of loading configuration. Are you using a gem, built-in functionality, or something home rolled?

If you're on Rails 5.2 and using the built-in [config_for](http://guides.rubyonrails.org/configuring.html#custom-configuration) method to load values from the YAML file, then your configuration will always be available from `routes.rb`.

For example, adding `config.foo = config_for(:foo)` to `config/application.rb` will allow you to use the contents of `config/foo.yml` as a Hash by calling `Rails.application.config.foo` from `config/routes.rb` or pretty much any other place.

One important note that applies regardless of how you are loading configuration data... routes aren't reloaded automatically as a result of configuration values changing in development so you may have to restart rails or save `routes.rb` to trigger a reload to see the effect of changing a configuration value that is consumed in `routes.rb`.",1529855405.0
toobulkeh,"There should be a way to specify middleware loading order, though I'm not sure which middleware handle each of these components or concerns of changing the order. ",1529851592.0
xipheon,"Why are you passing it an id in the first place?

Leaving it out will let it create it for you.

If you need a temporary one for front end stuff just blank it out (set to nil) before saving.",1529838079.0
HellzStormer,"I would assume this is an example, but that your actual use case is that you receive params and pass them directly to your object's create. Now you worry that a random person can choose the id.

It used to be exactly as you describe (create, update_attributes, etc) ignoring the :id and other attributes by default. It changed in Rails 4 when they changed to [strong parameters](http://guides.rubyonrails.org/action_controller_overview.html#strong-parameters).

The idea with strong params is that you should restrict at the controller level which parameters are acceptable. This way the `id` doesn't reach the `create`. Basically, you say in the controller that ""It's okay to receive the height and the width"", and any other attributes are ignored.

If you want the old behavior, called [protected attributes](https://github.com/rails/protected_attributes), you might be able to get it from that gem. But it doesn't seem to be supported for Rails 5.

With it, you can specify a whitelist and/or a blacklist of attributes that you don't want to be assigned by mass assignment. This is how things were in Rails 3.2.

Now, there is also another way some people do things, using Form Objects (sorry, i have no reference for you).

Personally, it feels like Form Objects would be cleaner and more powerful. But I didn't get to use them yet.",1529849730.0
cwitty1988,Don‚Äôt permit it through strong params as well and it should filter it out. If you‚Äôre using resourceful routing then it shouldn‚Äôt affect your put/patch calls since the object id is in the url,1529848100.0
TODO_getLife,"You would have to override the create method for your object.

Why don't you take a different approach? Like having validation in your api to prevent user's from providing an id. I don't know how your project is setup, but do the validation at the level the user is going to enter the data to be saved. Just don't let them enter the id.",1529837952.0
rooood,"You don't need, and you should not pass an id explicitly like that. Id generation is a db responsibility as you probably know, using sequences.

Just ensure there's a sequence with the name ""tablename_seq"" (the name of the table suffixed with _seq) and simply stop providing an id. ",1529846248.0
nthock,"Setting up in migration impose database constraint that it cannot be null, regardless of what the code is. The only way to remove this is to migrate the database.

Writing validation only work as far as you are using ActiveRecord. The constraint would not work if someone write raw SQL to insert the record.

Normally, I will add database constraint as opposed to rely on ActiveRecord for important stuffs - values that absolutely cannot be null. 

One example will be email uniqueness constraint at the DB level. Devise use this by default instead of relying on ActiveRecord to do the uniqueness validation.",1529820817.0
jaryl,"You should consider doing both depending on your needs. In general, database constraints guarantee data integrity across a greater range of scenarios, especially important at scale. On the other hand, you‚Äôll still want AR validations as they help build a more user friendly experience.

However, do note that handling exceptions that are triggered by your db constraints that aren‚Äôt caught by AR does require some additional work if you want a user friendly message. I‚Äôd only worry about this at scale and only for really important parts of your app. ",1529832388.0
midasgoldentouch,"I think it's useful to have validations at multiple levels because you can never predict the future.  Having client side validations is good but what if you add an API? Then you bypass the forms, so you get the model validations there. Like someone else said, you may decide to use another ORM, and database level constraints are an extra line of defense there. It just helps make sure there's multiple checks in place to ensure that all data is collected correctly.",1529825822.0
TODO_getLife,"It's up to you.

Where do you want your validation to be? Do you plan on being able to lift your database out of your application and put it into another one and have it working as expected? If so then you probably don't want database level validation. 

If you don't want to do that, you might prefer database level migrations to keep your models clean. 

Your database is your application. Everything is decided based on your database, so think carefully about how you want it set up.",1529836335.0
toobulkeh,"There's a lot of terrible advice in this thread.

Your database is not your application. It's a storage system. Things like types, constraints, and foreign keys at the DB level are good for absolute requirements for data integrity. They're good for generating exceptions, which should only happen exceptionally.

Rails validations are designed to protect and help advise the user on errors, and are not exceptional, but common cases.

Having both for the same purpose is a code smell.

No controller, service, view, or anything else should talk to the database later directly. Need some database optimizations? Use scopes, joins, custom queries, or DB views on the model layer. Not all models need to be backed by AR:Models.

Here's a good blog post on the topic, which explains more of my post in detail: https://robots.thoughtbot.com/validation-database-constraint-or-both",1529851350.0
devwalks,"Check out the ‚ÄúLet‚Äôs Build Instagram With Ruby on Rails‚Äù tutorial at devwalks.com. It‚Äôs one I wrote a few years ago, but people seem to find it as a helpful ‚Äúnext step‚Äù after the rails tutorial! Let me know if you run into any hurdles. ",1529794534.0
keerin,"Search Twitter for ""I wish there was a website"" and switch to latest. Take note of every one that seems remotely doable. Build one.

How about this for example - https://twitter.com/connorbell808/status/995127031321907200?s=19",1529794528.0
,What are your interests?  I'd find something that coincides with your interest (or profession) so it motivates you.  Look around your daily world of action and see where something might work.,1529789068.0
schneems,"Here's an example of building ""reddit"" via rails https://github.com/schneems/reddit_on_rails but it was built a long time ago using Rails 3. If you've been through rails tutorial maybe you can make it work with Rails 5 or at least draw some inspiration from there.",1529811027.0
hornet2359,"Checkout Mackenzie Child, Web-Crunch, or Go Rails on YouTube!",1530049635.0
lewispb1,https://github.com/seejohnrun/ice_cube,1529766533.0
mgarsteck,Im thinking setup a cron job for each new piece of equipment.  ,1529767505.0
bralyan,"I think about how google calendar handles it -https://developers.google.com/calendar/v3/sync

The summary is - google calendar sends you a 'parent event'. That event has the schedule information, and the children have a link back.

I would build something similar, and limit it to a year or two out, like you said. Then have a worker check the calendar and fill the gap every day or whatever. If people view past your end events, fire up the worker for that time period. 

Updates are easy, since they are all grouped. 

Hope this helps. I built this same thing a few days ago. 

I almost created a gem for this. Be better than me and actually create the gem. Publish it. Seems like a common question.",1529766731.0
amalagg,"Will you have to edit future maintenance events or only view them? If you only need to view you could create a read-only db view that has your virtual events.

Then you have the problem of having the actual event which you could create closer to the event.",1529767076.0
Dombot9000,"Item 1:N Maintenance Events

Indexes on date and item in maintenance events table.

Naive solution.

To add more complexity - partition your Maintenance Events table (if the justification arises) by date.",1529766811.0
intentions_are_high,"We did something like this for scheduled payments system before. It wasn‚Äôt completely recurring, it was a small payment plan, maybe 6 payments. Our ‚Äúpayment_plan‚Äù had the following fields:

- next_charge_at
- interval (enum)
- total_payments

When created we would set all of those on our record and then each day we would run a sidekiq job to check for any plans that need to be charged today. Our worker called a service object that would handle call various other service objects that would charge the card, set the next charge at, etc. 

You could do something similar. If you‚Äôre going to have a lot of different types of jobs, e.g. oil change, filter change, checkup, etc, then you may want to abstract it a bit more. Hope this helps. ",1529780547.0
btw03,I would store everything in an iCal.,1529787149.0
coderhulk,Maybe this will help mentions some really great information and options. https://zachholman.com/talk/utc-is-enough-for-everyone-right,1530095041.0
raikkonen,"Services aren't specific to rails and decorators are just implementations of a Presenter design pattern.  Very few design patterns, if any, are actually language specific.  That's why they are design patterns they are supposed to be more than the language they are written in.",1529699194.0
valadil,http://www.informit.com/store/design-patterns-in-ruby-9780321490452?w_ptgrevartcl=Design+Patterns+in+Ruby%3a+Picking+the+Right+Class+with+a+Factory_1398605,1529669410.0
Hithrae,"Take a look at this Gem [https://github.com/andypike/rectify](https://github.com/andypike/rectify)

I've used it and it's very good, and talks about various patterns to improve your Rails",1529700649.0
DerNalia,This is my go-to pattern: https://github.com/NullVoxPopuli/drawers,1529721947.0
jaryl,Try spring stop and restart your server?,1529641315.0
Rezistik,"[H](https://github.com/thoughtbot/scenic)ave you seen this 

[https://github.com/thoughtbot/scenic](https://github.com/thoughtbot/scenic)

It's a way to version sql vies, might work with triggers. Not sure honestly.",1529627328.0
noodlez,"What's the actual plan here?  Will this guy create the database in a vacuum and then give you the full structure?  Which is to say, he's gonna give you one huge ""complete"" database structure export all at once for you to use?

Or will he sort of work collaboratively/iteratively?  Which is to say, he builds a trigger and you can add just that trigger into a migration?",1529622980.0
demillir,"You could put them in db/sql/\*.sql, or lib/sql/\*.sql.

Then load them into memory when the application loads, i.e. don't load them every time you want to run the query.

Rails offers several ways to execute a string of raw SQL code.",1529636403.0
theprogrammingsteak,title will link to error on my Ubuntu VM,1529621161.0
-TURBOMAN-,"I recently used it when building [devfeeds](http://devfeeds.xyz), it was a good experience overall.   
If you plan to use turbolinks (which caches  the dom, and subsequently, the stimulus controller state), and your app is not super state heavy, I think stimulus is a solid choice.",1529635876.0
noodlez,"Thought about using it; decided to go with Vue instead since its also very easy to use/integrate, but its a lot more in line with modern Javascript best practices.

I know that isn't exactly what you asked, but I wanted to make that suggestion.  I feel like many of the reasons behind stimulus are also covered by using Vue, and then you also have the bonus of a fairly scalable modern JS framework.",1529622004.0
cwitty1988,I have been using it for a little while now and in general I really like it. It‚Äôs useful when you use it with server generated JavaScript responses or any dynamically added content. It saves you binding to load events since it uses the dom observer api.,1529631608.0
RubberRoad,"I've been using it in one of my side-projects (streaming music web app). It works great! Very reliable and easy to use, I think it integrates wonderfully with Turbolinks, as you don't have to worry about ajax:loaded or document ready events, it just works.",1529677528.0
squiffs,"Does it scale well if you have multiple components that need to update/rerender based on changes to the other? That's the conceptual difficulty I have with StimulusJS.
It's so easy with React, even when they're not immediate parent/children components. React's declarative syntax makes it easy to think about, and I have no idea how to approach that with Stimulus.",1529661445.0
the_jester,"Personally I would put this in the ""don't worry about it."" bucket, but I also understand the appeal of end-to-end elegance. However, if you definitely want tidy output, this happens to be a very classic use case for middleware. [rack-tidy](https://github.com/rbialek/rack-tidy) sounds very much like what you're looking for.",1529625270.0
Ronald-Ray-Gun,"The most performant thing you can do is minify & gzip html and css at the webserver level. Nginx has this feature built in, not sure about Apache.

You _could_ minify at the Rails level, but that's a lot of unnecessary CPU overhead when rendering a page.

If you don't want to (or can't) mess with nginx settings, it's really not that big of a deal. Minified html is ideal because it's a smaller file to download for the client, but it's not the end of the world. Just check out any app running on React or a similar framework and see how much junk is inserted into the DOM.",1529620743.0
SminkyBazzA,"I very rarely look at the raw page source, the parsed/formatted DOM structure in the dev tools is usually sufficient.

If you're not doing it too often you could probably copy the source into any half-decent editor (sublime text, atom, etc) and find a plugin that will reformat it for you.",1529622119.0
Saithir,"> do I need to add in excessive amounts of tabs depending on where the ERB file is renders in the page source

And how then you would keep up with this? How would you deal with a shared component that is included in different places, possibly at completely different indent level? How would you know what level of tabs you need?

Obviously these are all things that can be done, but the question is WHY one would bother.

> How do you personally handle the white space Rails does (or doesn't!) add

I don't. Nobody cares and neither should I.

> make reading the back end code as easy as possible.

This is the important bit for you.",1529650229.0
alfadaemon,"Hey Ryan, do you accept remote devs?",1529610519.0
drifter-oilfield,"I'm interested in some freelance work.  I've mostly worked with Rails api with Angularjs front-end.  Here is one I'm currently finishing up:

[https://drifteroilfield.com/track/#/jobs](https://drifteroilfield.com/track/#/jobs)

I've also built complete Rails projects.  Here's one I'm currently working on

[https://shop.drifteroilfield.com/](https://shop.drifteroilfield.com/)

You can email me at [leo@drifteroilfield.com](mailto:leo@drifteroilfield.com)

cheers!",1529614283.0
No_Fake_News,"Sounds like a nice opportunity, wish I had the skills to apply.  One day!",1529677731.0
deedubaya,"ltree extension, yo",1529600831.0
wbsgrepit,"> In the next blog post I'll compare already presented solutions with two patterns designed for hierarchical data management: materialised path and nested set.

Without presenting current best practice patterns for doing this in the original article you have the effect of conveying poor information to the readers that may not be aware that  there are many ways to do this better that are best practice today and the tradeoffs for each of those. 

IMHO the lead in to this article should represent that what follows is a  test db native vs AR interfaces to represent and use a very naive Tree implementation which will be followed up with some more common, current and performant types of implementations in a future post. ",1529601892.0
fiveguy,It should be no surprise that using native database functionality is much faster than multiple sql queries and (notorious) object instantiation. Thanks to the author for doing the legwork to benchmark it!,1529592613.0
Randy_Watson,"I think it depends on how well you know Ruby. Those books will give you a good grounding in Rails. They will teach you the what, but without a good grasp of Ruby they might not always give you the why. ",1529585109.0
acreature,"I can't recommend a specific book, but whatever you do: make sure you do the exercises! Typing the code in & following along with what they're building will teach you much more than just reading the material. :)",1529587004.0
spohnz,"I agree with Eugene. Theory and undeestanding from reading is one thing. But doing, making mistakes, and solving those mistakes will make you more comfortable with it. But it takes time to reach the level of expert.",1529588120.0
,"I personally would stay away from the Agile web development book.  They use scaffolds and I don't find scaffolds a good learning tool except when you just need something quick and dirty to test something out.

I've worked in all three and found Hartl the most useful, at least at the time.

However, you will achieve no level of expertise by doing any of these.  Expertise is achieved by doing your own work, solving your own problems, demonstrating that what you've *learned* from these books is something you not only comprehended but can apply.

Might I also throw in the Manning Rails in Action book, I'd take it over all three listed.",1529585981.0
No_Fake_News,"I am finding Ruby on Rails Tutorial by Hartl fine for beginners.  I have experience similar experience to you, some HTML, CSS and scripting experience.

Maybe you are thinking of ""The Rails 5 Way"" which is geared more towards experienced developers.  That is the one I heard to not try first, but was told to try Hartl's book instead",1529588964.0
akxdev,"For Ruby, I'd check out The Well-Grounded Rubyist. It's a fantastic book. Don't underestimate how much knowing Ruby will help you when developing Rails apps.",1529590482.0
techtasmo,"Thanks for everyone's reply so far. Much appreciated. I see most votes for Hartl - I've started reading through his online book and started doing the exercises. 

I want to get to a point where I can be fairly comfortable starting on my own projects and building stuff...",1529608000.0
erandros,"I think these are very valid questions.  
But since these are many questions in one paragraph, I would ask them either in a newbie friendly ruby/rails chat room (such as a rails IRC, or a rails slack channel), or I would enumerate them like:

1) Is this what you call backend?  
2) What else can I do on the backend?  
And so on (I'm leaving two spaces at the end of each line to make the next line a new line, it's the reddit format ).  

To answer some of your questions, backend is a bit loose term.  
Nowadays it means the ""server side"", as opposed the frontend which is also known as the ""client side"".  
But backend also used to mean the ""admin"" part of a website where admins would log into and administrate their site (you shouldn't care about this, but know some [old sites](https://www.warriorforum.com/website-design/257578-what-does-back-end-website-mean.html) have this definition).

No, you can't just display your CLI tictactoe game because it's running in a terminal, and terminals can't easily be shown in a webpage (it is possible, in this case it would be very cool, but also very unusual and odd, so no).  

I liked the way you described erb tags as semi front end. Technically though, it's still the backend.  

In your case, think of the backend as the ruby/rails environment, and the frontend as the javascript environment running in your browser (js is practically the *only* programming language running in browsers)(also, javascript has nothing to do with java).  

Backends, or servers, don't necessarily need to be in a computer locked away in a facility. You could host your own server in your house, it's just more convenient to have a company take care of it.  

How do you write code that runs in remote servers? It used to be as nasty as writing the code in your own machine, compiling, and updating the binaries to the web server through FTP. Nowadays in modern normal servers, you write it in your machine, version it with git, and push it to the git repository of your web server, and the web server compiles on its own. Try **Heroku**, it has a free webserver/backend tier and Rails is a first class citizen there.
  
So no, you don't write the code on that machine, you just upload there the code you written in your own computer.  ",1529522150.0
Phillipspc,"Whoah so many questions... to answer the main one, yes ruby is considered a back end language. ERB allows you to use ruby inside your views, which is helpful for displaying data, but JavaScript is the obvious choice for building out something interactive on the page (like your game). 
JS is inferior to ruby in every way but it‚Äôs the best tool for the job.
(Mostly kidding with that last bit)",1529516399.0
ylluminate,"Check out Opal and `opal-phaser`. Not so much about a direct port, but Opal's the way you should run for Ruby in the browser.",1529517199.0
genericsteele,"My advice for anyone looking for work in web development:

* Contract work is easier to get than salaried work
* Introduce yourself to web design agencies. They always need a good list of people that can handle overflow work
* Join local dev communities. Coworking spaces and tech meetups are a great way to meet folks. 
* Follow local developers on social media. They will often share work from folks they know looking for help.
* Dedicate a half hour every day to looking for work

Honestly, posting this question on Reddit is a really good first step. You're going to do great.",1529515753.0
toobulkeh,"To piggyback on /u/genericsteele:

I love all of their points on advice on how to find a job, except the last one. If you don't currently have a job, finding a job is your job. Spend as much time (up to 8 hours) a day looking for one (if you can)!

As far as value of work, as a hiring manager, I look for the following on a resume, in this priority:

1. Paid work history. It's a catch 22, but this is always the preferred experience to see.

1. If you can't get paid work, make sure the work you do is with other people (team work). Work in a bubble is next to nothing, as no paid work is in a bubble (someone is paying you).

1. I personally prefer work for non-profits (real users) over open source software (other developers). This probably has to do with my personal industry (consulting for non-tech startups), and may vary with other employers.

1. Open source software is still software that's used (hopefully) and shows teamwork. Don't just open source a pet project (that's next), contribute to existing open source. Become a T shaped person on that OSS -- understand the breadth of it, but specialize in a section of it and understand every detail.

1. Pet projects / personal projects. Something you did on your own - outside of a class / group requirement. Bootcamp class projects suck because your git history is often terrible and it's difficult (as an employer) to really know who did what, and why you did what you did.

Some other notes that might be worth while, in no particular order:

*  Polish the work that you're showcasing. Things like: Use good commit messages, explaining the changes and the reason behind the commits. Use PRs and Squash-Merge them. Rebase don't do merge commits. README documentation and build scripts go a long way to helping someone ramp up on a tool you've built. Make it YOUR work, not your team's / group project.

* Customize your environment. Dotfiles, automation scripts, preferences... if you don't have preferences, you're too fresh / don't care enough about your process. You should want to do this.

* Learn a little about a build pipeline / some ""DevOps"" stuff -- go through a deploy process -- document it or automate it. Any is better than having no knowledge of this stuff

* Research the job you're applying for. The recruiter (or first person you talk with) shouldn't have to explain what the company does or what team you're joining.

* Customize your resume to the job posting. Any keywords the job posting has, try to reflect them in your resume. If you can't, realize that that's a gap between you and the job. Don't list the kitchen sink. A technique I personally use (with a decade of experience now) is to have a ""master"" resume with as much detail as possible. It's about 20 pages long of bullet notes and paragraphs explaining things. Then I delete everything that's not pertinent to the job (down to 1 page) when applying. It's much easier to ""apply"" this way.

* Don't rate yourself on your skillset. These little ""progress bars"" in resumes are stupid. If you don't feel strong enough in a technology to sell yourself, then just don't list it.

* Find the job where you want to be in a few years. Find other people that have gone from where you currently are to where you want to be and learn how they did it. It probably won't be your exact path, but it will show you options you can take (when all brought together). It'll also show you some keywords to learn today

* Look at and follow some thought-leaders in the community you want to be in (all jobs are part of the ecosystem of communities). Learn their names and what they're known for. Start trying to see where they're headed, new technologies. They give this stuff away and it'll keep you ahead of the curve. Books are dead, Twitter is ADD, Conferences are great, Blogs are about as formal as we get.
",1529549209.0
adamgoodapp,"Personal projects is always a good thing to have. Even if its not Rails based, companies like to see your always applying yourself and keep on coding. Contribute to some open source projects too.",1529511201.0
anhkind,"Try to build a few gems to show off your skills. Interviewers will always ask to see your code, directly (through coding test) or indirectly (your private projects), so try to prepare and refactor those projects to make them as good as possible. Don't forget test suite, by the way :)",1529512440.0
zZaphon,I started off doing contract work. It wasn't steady but it gave me the ability to use the Rails knowledge I learned in real world applications and not just side projects. From there just keep adding to your resume and applying for jobs until you find the one you want :),1529640110.0
dicom,"Cross posting this here boys. Basically I have a Devise Twitter Omniauth rails app that was working until I added a NGINX reverse proxy.  The URL and ports all stayed the same.

I've been reading and there might be some ""hooks"" or ""faraday"" configuration I need to add?",1529508612.0
andey,do you want to join me building out [https://menuchain.com](https://menuchain.com),1529504656.0
knx,"Learn more about building api's , scalability issues they face... and try to separate rails into just an api platform, with some backend, but then try to write front-end in javascript framework, or even maybe some android/ios app.


keep on learning",1529506022.0
thecementmixer,Do you want to build a snowman?,1529527109.0
,"I have an idea, it's a big one, for an open source ERP.  Right now there's either REALLY high end ones (SAP, NetSuite) that are unwieldy and vastly over priced or Quickbooks which is limited and the plug-ins aren't great.  I like the idea of the middle piece being a rails application with a standard base and additional options for different industries built to interact.

Also, I've been looking for a DMS (Document management system) in rails and haven't found a good one.

",1529509032.0
toobulkeh,"What do you feel like you have left to learn (what's something that scares you / confuses you currently)?

What are you looking for in a job?",1529547881.0
jivetones,"Ideas that may interest you:
1. A voting/review website that's like rorschach test of words associated with brands or products (Mcdonalds: convenient, unhealthy, french fry). Words get a weighted score that considers frequency of appearance, individual ratings, and allows for it to be a critique or compliment.
2. Basic fitness tracking app that has button counters for movements. Add more buttons for more tracked movements. Automatically creates new sessions for each day and provides metrics for different time intervals.
3.  Cheeky weather app that takes the forecast and tells you ""whether"" you should consider a jacket or umbrella etc. ",1529534349.0
marvindanig,"Hi Rails subreddit! 

Here's an app my wife and I made for book lovers on web. 

Any thoughts/feedback for us?

1. **Name**: Bubblin Superbooks

2. **Description**: A modern book reader for web

3. **Stack**: Rails, NodeJS, JavaScript

4. **Link**: https://bubblin.io

5. **GitHub**: https://github.com/marvindanig

6. **Experience level**: 15 years.

",1529502874.0
CaptainKabob,"It doesn't have to be very complicated.

1. Have a unique token on your user model `has_secure_token :api_token`
2. Have the mobile application ask the user for their username and password, POST that at your api, look up the user, and return the `api_token`, store the api token in the app (do NOT store the username/password)
3. When the mobile application make a subsequent api requests, put the token in a header: `""Authorization: Token token=${apiToken}""`
4. In your api, use `authenticate_or_request_with_http_token` to retrieve the token from the request, and authenticate it. Here's what my code looks like:

‚Äã

        def current_user
          @current_user ||= begin
            return NullUser.instance if request.headers[:Authorization].blank?
    
            authenticate_or_request_with_http_token do |token, _options|
              User.find_by(api_token: token) || (raise InvalidTokenError)
            end
          end
        end

This is Rails own docs on it: [http://api.rubyonrails.org/classes/ActionController/HttpAuthentication/Token.html](http://api.rubyonrails.org/classes/ActionController/HttpAuthentication/Token.html)",1529505549.0
posixpascal,I used devise-token-auth for an ionic app and it worked well. Only problems I encountered were related to omniauth/social logins. It is possible to use both approaches tokens and session based login. ,1529503406.0
Bri-wi,"Any gems that you use frequently? Contribute to a gem that you use, it‚Äôll be good for you to see more of the inner workings, and great for the users of the gem. Well used project always have issues and features requests.",1529470301.0
excid3,I wrote that guide! :) What's your nginx errors?,1529462686.0
_gro_,"After deploying my first Rails app to production, I wrote [this](http://www.carlbolduc.com/en/blog/deploying-rails-to-production.html). Let me know if you find something useful in there or if you have any questions.",1529487897.0
benjaminpfp,"So, after fumbling my way around again, and eventually giving up.. Note, I did proceed closer.  I've realised that is probably best I simply use my time learning ruby a little more, and use Heroku to run the app. 

Thanks to u/excid3 for the guide and help. ",1529534334.0
ak88,"It depends entirely on what APIs you need, but it should be possible. You may have to use things that have been marked deprecated in 5.x because 4.2 doesn't have the new alternative available. You might also have to do some meta programming to work around some incompatibilities. Look at setting up something like [appraisal](https://github.com/thoughtbot/appraisal) to test your engine against both rails 4.2 and 5.2 (and anything else in between you care about)",1529451515.0
mrmontrose,My guess is it would be easier to upgrade the 5.,1529455136.0
naveedx983,"When it fails, can you re-run it with the same seed and get it to consistently fail?
",1529440289.0
Blimey85,I‚Äôm currently working through a similar issue myself. My tests all pass when run in order but random failures otherwise. It‚Äôs very frustrating. ,1529439198.0
Rogem002,"It's a little tricky to debug fully without the code which you're actually testing on, but from what I can see you're using `before(:each)` and instance variables, which personally I've found to be a little unreliable. 

What happens if you use `let!`and just `before`, like:

    describe ResourceCenterController, type: :controller do
      # Use let! over setting instance variables.
      let!(:platform_instance){ FactoryBot.create(:platform_instance) }
      let!(:domain){ FactoryBot.create(:domain, platform_instance: platform_instance) }
      let!(:user){ FactoryBot.create(:user, platform_instance: platform_instance, first_name: ""O'flaggan"") }

      context 'when user IS signed in' do
        before do
          login_user(user)
        end

        context 'when user in ONE community' do
          # Create a new user let for extra setup data
          let!(:user){ FactoryBot.create(:user, platform_instance: platform_instance, first_name: ""O'flaggan"", communities: [platform_instance.communities.first]) }

          describe '#index' do
            let!(:rc){ FactoryBot.create(:resource_center, platform_instance: platform_instance, launch_at: nil, expire_at: nil, communities: []) }
            before do
              get :index
            end

            context 'when community assigned NO resource centers' do
              it_behaves_like '200 w name in body' do
                let(:names) { ['There are no files for your review at the moment.'] }
              end
            end

            context 'when community assigned ONE resource center' do
              let!(:rc){ FactoryBot.create(:resource_center, platform_instance: platform_instance, launch_at: nil, expire_at: nil, communities: [user.communities.first]) }

              context 'when resource center assigned NO mediafiles' do
                it_behaves_like '200 w name in body' do
                  let(:names) { ['There are no files for your review at the moment.'] }
                end
              end

              # this test is flapping
              # sometimes it will persist the mediafile and it will show up
              # other times it will be saved, why is that?
              context 'when resource center assigned ONE mediafile' do
                let(:mediafile) { FactoryBot.create(:mediafile, platform_instance: platform_instance) }
                let!(:rc){ FactoryBot.create(:resource_center, platform_instance: platform_instance, launch_at: nil, expire_at: nil, mediafiles: [mediafile]) }

                it_behaves_like '200 w name in body' do
                  let(:names) { [""#{mediafile.name}""] }
                end
              end
            end
          end
        end
      end
    end

That might help ü§û

Plus reading your SO post, it fails when the order of the tests changes. What are you using to reset your database?",1529439830.0
Syro00,"Well I don't know if this is it, but first thing I noticed is that your shared\_context has two examples in it and the before block on 'when resource center assigned ONE mediafile' has an append which would create an array with two elements for the second example. I would try @rc.mediafiles = \[@mediafile\] instead and see if that helps

Might help to include the failure.",1529439927.0
yeskia,"I'd be careful with nesting anything under 2 levels unless absolutely required (or if it's being done for SEO purposes).

The deeper you go down the tree the more models you need to load and pass around into each route helper and ensure are loaded correctly from the same children and so on. ",1529387880.0
G4rsid3,"don't do it! It's terrible. It will eventually bite you in the ass for so many bizarre reasons. Ex:

If you go to `/question/1/message/45` but `message#45` is actually under `question#2`, what should your system do? Break? 

It's okay objects have structure, but think of your application as you building little views into the objects you are storing.

It doesn't matter that `purchases` have `questions` to your router. Maybe in the future `messages` belong to `questions` and also to `refunds` and it's a shared association to the object.

What would you do in that case? have 2 routes, one for `/purchases/:id/questions/:id` and another for `/refunds/:id/questions/:id`? Seems janky.

Also gets super tedious to manage templates and you basically are just always wading thru shit. 

Also the above mentioned situation of multi routes makes the same appearance as the problem of you changing the structure in any way. As your system grows in complexity, you don't want to tie your router to that structure because it might not always be that way.

I guess the other way to say it is that these relationships and how you think about them are always subject to change. Especially for any reasonably complex system, the less amount of info you need to go somewhere the better it is.

let's say for instance you're a CX representative at your company here and want to look up an order someone is chatting you about, purchase #37121.

What would be better? Them being able to type in `/purchases/37121` into the URL bar or having to ask the customer if they know the order number also?

(Also yes I know you could built a little query interface that looks this up, but that's beside the point).

edit: source; did this before with a learning management system. regretted it direly as the system grew and changed. (we use to have subjects > topics > lessons > activities) and routing that matched that. when we wanted to go to add a second system of organizing lessons by tags, the routes got all sorts of complex, because the tag based lessons didn't use subjects or topics but pointed at the same lessons, so we had to re-invent a lot of wheels to get the `lesson` page to render as it's own route, which called into question the entire design decision for us of deeply nested routes, and we decided as a team we hated it!",1529382723.0
G4rsid3,This article seems to have no relevance to this discussion at all. I didn‚Äôt see a single instance of a deeply nested model relation route. Unless I missed something?,1529384184.0
hadees,"Nesting that deep has some serious code smell.  I like the organization of the controllers but anyone editing the route file is going to basically have to unpack this in their head every time they look at it.

I think 3 is the max depth, I try to keep it at 2.  if you are going to use shallow routes anyway you might as well just have the routes in a more readable format and specify the controller location.",1529387538.0
jaryl,"Put your logic in a plain old ruby object (PORO).

You are on the right track, ActiveRecord models are only for persistence. So use it only for loading and storing of data.

If the data is loaded from the database make your PORO accept that data as a hash in the initialiser.

Freeze your object if you don‚Äôt intend to support any. Otherwise you will need to think about how to produce some sort of output that you can throw back at ActiveRecord.

In your PORO you are free to define the methods you need to express your business logic. You may need several such POROs if your data maps to a more complex hierarchy. In such cases you may have a separate PORO to load and construct the individual instances and compose them into your required form. 

",1529381519.0
dom_eden,"Google for blog articles on Rails service objects. A service object performs a simple service for you (e.g. creating a charge or running some complex logic). Here‚Äôs an article to get started: https://www.engineyard.com/blog/keeping-your-rails-controllers-dry-with-services

I reached the same point as you a couple of years ago as this kind of stuff wasn‚Äôt covered in the Rails docs. Service objects are just plain Ruby objects which makes them easy to organise and even easier to test!",1529390595.0
hartator,Maybe a database table is not the best way to handle this kind of data. What about an hash? It might more flexible in what you want to achieve. ,1529380227.0
G4rsid3,"Something that you might want to consider is using Single Table Inheritance (STI).

You can make `Carrier` an STI record by adding a `type` column which is a string.

Then, you create some subtype carriers:

    class VerizonCarrier < Carrier
      def calculate
        # ...verizon specific logic
      end
    end

    class ATTCarrier < Carrier
      def calculate
        # ...AT&T specific logic
      end
    end

Then you just create your carriers this way:

    VerizonCarrier.create!
    ATTCarrier.create!

and this will create you 4 carrier records with these subtypes. What's nice about rails is that it'll ""just work"" no matter how you get at them, ex:

    carrier = Carrier.find(3) # => VerizonCarrier
    carrier.calculate # => calls VerizonCarrier#calculate

That'd be my recommendation given what you've got setup so far!",1529379994.0
corytheboyd,"Do you have an ideal solution in your head that just didn't seem to fit the ""rails way""? Don't be scared about applying plain Ruby object oriented design outside of Rails MVC. Extracting complicated business logic out of Models is a common practice in my experience.",1529381928.0
sdn,"How about react-rails? It's probably overkill, but you can use what you learn to build considerably more complex elements later.

 [Here's an example](https://reactjs.org/docs/lifting-state-up.html#writing-conversion-functions) that does what you described.
",1529376594.0
ZepriOnRails,"I recently implemented ""in-place editing"" with [best\_in\_place](https://github.com/bernat/best_in_place)

Basically you can create a simple text that will be editable on click (becomes an input)It uses jquery and ajax

It looks like you could use it and it's very simple to implement, as simple as:

`<%= best_in_place(model, :attribute) %>`

And in your controller

    def update
        respond_to do |format|
          if @model.update(model_params)
            format.html { redirect_to @model }
            format.json { respond_with_bip(@model) }
          else
            format.html { render :edit }
            format.json { respond_with_bip(@model) }
          end
        end
      end

And some js code to 'activate' it

    $(document).ready(function() {
      /* Activating Best In Place */
      jQuery("".best_in_place"").best_in_place();
    });

When you press ENTER or click out of the input field, the data is saved to the database instantly with json,

I'm pretty sure you can do some of your calculation at this moment

Note that without the code in your controller, you would have to reload the page.",1529480097.0
kobaltzz,"You can try to manually call the uglifer gem and place the assets accordingly

https://github.com/lautis/uglifier#usage",1529378501.0
AfterQuality,"I am not sure I understand the problem, you are basically just creating a contact form so then just send the article data with the form to the email you set.  

 mail(to: @user.email, subject: '#{comment_data} ' + ' ' + #{index} ')

or whatever

",1529414854.0
strangepostinghabits,"Pusher came before actioncable, I guess they don't want to die just because there's a free alternative. ",1529338121.0
0node,The decision comes down to whether or not you want to maintain the service or pay someone else to worry about it for you.,1529335107.0
zmarkan,"Hi there, DevRel at Pusher here. 

As some other Redditors already commented, Pusher Channels is a hosted service vs you having to roll your own. The main difference is in who deals with scaling the infrastructure (and maintenance).

Feature-wise our public channels are pretty similar to what ActionCable gives you - quick to implement in a few lines of code, with a few handy bits and pieces  thrown in to support private channels, as well as user presence, webhooks, and some nifty analytics, debugging and metrics. 
We also provide SDKs for a bunch of platforms, other than Rails, so that if you decide to switch the backend or add iOS or Android apps you don't have to change or add anything to keep WebSocket support. :)

Any questions or clarifications, just let me know.

",1529394271.0
adm7373,"Pusher is cross-platform, so (at my previous job) I could notify users in both our .NET and Rails apps simultaneously.",1529357139.0
wbsgrepit,actioncable does not scale well at all.   Its fine for plaything apps -- but when you start having 30k+ users connected and passing a lot of traffic you are going to start feeling the scale issue.    For how badly this scales compare that a small AWS instance (m4.large)  can easily handle 100k highly active WS connections;  whereas that same server running action cable would fall over at 10k. ,1529361203.0
meagar,"There are open-source/free alternatives to *all* hosted products, the problem is stability and scalability and whether or not it makes sense for you to let somebody else solve those problems for you.",1529373980.0
mrmontrose,"Well if you have a large application, depending how it is used websockets can become a scale issue. I think generally it makes sense not to use ActionCable larger scale applications. That my gut I don‚Äôt have any data to back that up.",1529339688.0
jujubean67,"I've never seen apps beyond a certain size stick to the strict MVC model of Rails. It's just a huge PITA.

Good open source rails apps however you can learn from: https://github.com/gitlabhq/gitlabhq, https://github.com/lobsters/lobsters, 
https://github.com/discourse/discourse,
https://github.com/tootsuite/mastodon

etc.",1529327713.0
tk425,You won't find it except in academic exercises. Because in the real world once you actually have to make something work you find that any framework you use is not exactly what you need,1529327497.0
amphibious_shark,"Give Redmine a try.
https://github.com/redmine/redmine

Its a project management web application written comletely in RoR & is used in a lot of organisations.
",1529336770.0
bxclnt,OpenStreetMap maybe? https://trac.openstreetmap.org/browser/rails/,1529331391.0
ranginpanda,"Source code for Amahi home server: https://github.com/amahi/platform

Source code for Public Labs plots repo:
https://github.com/publiclab/plots2

Both are large scale projects and currently being improved by large number of open source contributors around the world.",1529345311.0
volar92,Does airbnb.com work or do you mean actual open source projects?,1529365551.0
nujaud,You may find something in: https://github.com/eliotsykes/real-world-rails,1529392908.0
DerNalia,"The Rails way isn't always the best way. I made this to help alleviate some of my issues with the rails way: [https://github.com/NullVoxPopuli/drawers](https://github.com/NullVoxPopuli/drawers)  


example app using it: [https://gitlab.com/precognition-llc/aeonvera](https://gitlab.com/precognition-llc/aeonvera) (decent size api app)

Edit: I'm open to critiques / explanations for the downvotes",1529340484.0
mikepence,[http://trailblazer.to/](http://trailblazer.to/),1529342312.0
the_jester,"""subl"" is the command line way to launch sublime text, but you have to [install it separately](https://stackoverflow.com/questions/9440639/sublime-text-from-command-line-win7) from Sublime itself.

Also, because I'm lazy, and windows is...windows, I suggest setting up a way to [right-click and launch Powershell](https://www.howtogeek.com/165268/how-to-add-open-powershell-here-to-the-context-menu-in-windows/) in a given folder. Then you can just ""subl ."" in the project folder.",1529302547.0
Code-Master13,"I personally recommend getting a VM of a linux distro. Or you can even try to set up Windows subsystem for Linux. That way you'll at least have access to a bash shell. That way you won't be battling through all the tutorials/advice that use bash commands. I just started programming, and using windows with Rails was such a pain! All kinds of nightmares. Linux is what I ended up going with.",1529386270.0
slenfbot,I haven't tested this but try `$ subl /my_rails_app`,1529301104.0
mysteryihs,"I'm not exactly sure what you're asking for since Sublime Text is used to open files not folders, but if you're looking to open a file in the command line 'subl filename.rb' is the command to open a file for unix OS. For windows 10, you'll likely have to make a PATH variable so the command knows what 'subl' is.

Once you've got that going, you can open sublime text and add a directory in the options to load your files directories so you can quickly open files in your folders.

Also, I don't recommend you code in Windows, try a virtual machine running Linux, dual booting, or windows subsystem for Linux.",1529303269.0
kulehandluke,"You shouldn‚Äôt need to change anything in your actionmailer config unless you mean you are now connecting to your smtp server with tls?

First thing I‚Äôd check is that your SPF record is correct (ie being sent but not received).

Otherwise perhaps you‚Äôre using deliver_later and have have added delayedjob/resque/sidekiq but haven‚Äôt actually got it running on your server.",1529247548.0
SminkyBazzA,"May I ask what you mean by ""SSL certified""?

Ideally you'll have a relatively small commit showing the code changes you made at that time. Might be helpful to see that if it isn't huge.",1529255427.0
Nrdrsr,"If you're using MailerObject.deliver try MailerObject.deliver! and you will get an error if there is something wrong, which you can address",1529272816.0
cmd-t,"    get ‚Äò/:username‚Äô, to: ‚Äòusers#show‚Äô",1529177644.0
buctrack,"Sounds like the button that goes from ""welcome"" to ""username"" view is a form submit button instead of just a normal link\_to?",1529127223.0
manys,is `storeUsername()` in javascript?,1529127227.0
toadkicker,This sounds more like a UI problem to me. Got any code to share and maybe me (or someone else) can see what is happening.,1529125585.0
mysteryihs,"You can always try the Rails doc/guide, I would suggest trying to build forms using form helpers first. You can see them [here](http://guides.rubyonrails.org/form_helpers.html). Try using form_tag and form_for to get it working first and see its behavior and to learn how to customize it to your needs.",1529125785.0
gdffff,"
there is too little info in the post to actually help you debugging this issue,
you can poke me on hangouts or somewhere else if you want some help /pm if you want",1529184529.0
glappen,You can override to_param in your user class. This link explains it pretty well: https://gist.github.com/jcasimir/1209730,1529109392.0
toadallyfroggincool,I worry that people don't think that,1529071353.0
VamipresDontDoDishes,No,1529062820.0
BLITZCRUNK123,Maybe,1529063056.0
skryking,Your not?,1529065419.0
das3ingg,https://github.com/thoughtbot/cocaine,1529114999.0
uhsurewhynott,"This is pretty trivial to google yourself, but:

1) Rails automatically sanitizes queries of the form of ‚ÄúStatement 1‚Äù but in this case appears to shift some of the burden on the DB (or your DB adapter does so), but I‚Äôll assume that your actual use case is more complicated. 

2) Your second statement is still sanitized, it‚Äôs just that [Rails does all the sanitization instead of your database](http://api.rubyonrails.org/classes/ActiveRecord/Sanitization/ClassMethods.html).",1529134826.0
schneems,"Here's what I got in my Gemfile: https://github.com/codetriage/codetriage/blob/master/Gemfile

I just about every project I use

- Devise
- omniauth
- pg
- rack-timeout
- [some pagination gem, will-paginate or kaminari or other]
- bullet [warn against common SQL perf errors]
- rack-mini-profiler [show perf of every webpage, i also use this in production]
- capybara
- dotenv-rails #love this one
- sidekiq
- some APM software [skylight/scout/newrelic, though I don't like newrelic]
- An error reporter [sentry, rollbar, honebadger]
- stackprof
- rack-cannonical-host (to forward https://<no-subdomain> to https://www when using ssl)

I don't use in every project but I like:

- premailer-rails (inlines sytlesheets into your mail views)
- maildown (lets you use markdown templates for emails, maybe also accidentally for regular rails views as well) [p.s. i wrote this one]
- A ""better"" json i.e. `oj` or `yajl`. 
- derailed benchmarks (cli for benchmarking rails apps) [ i also wrote this one]
- Puma Worker Killer (kill processes periodically to avoid bloat) [also wrote]
- slim-rails (alternative to erb, i like it more than HAML, but i'm still on the fence. ERB is pretty easy and closing tags isn't that hard.
",1529007895.0
Karew,"Almost every project:

- [puma](https://rubygems.org/gems/puma)
- [dotenv-rails](https://rubygems.org/gems/dotenv-rails)
- [sequel](https://rubygems.org/gems/sequel) / [sequel_pg](https://rubygems.org/gems/sequel_pg)
- [sprockets](https://rubygems.org/gems/sprockets)
- [sassc-rails](https://rubygems.org/gems/sassc-rails)
- [autoprefixer-rails](https://rubygems.org/gems/autoprefixer-rails)
- [minitest](https://rubygems.org/gems/minitest)
- [pry-rails](https://rubygems.org/gems/pry-rails)
- [typhoeus](https://rubygems.org/gems/typhoeus)
- [dalli](https://rubygems.org/gems/dalli)
- [lograge](https://rubygems.org/gems/lograge)

Not every project but highly regarded:

- [shrine](https://rubygems.org/gems/shrine) (and related gems)
- [down](https://rubygems.org/gems/down)
- [scrypt](https://rubygems.org/gems/scrypt)
- [rotp](https://rubygems.org/gems/rotp)
- [redcarpet](https://rubygems.org/gems/redcarpet)
- [bugsnag](https://rubygems.org/gems/bugsnag)",1529008706.0
Blimey85,A gem that doesn‚Äôt seem to get much love that I always use is annotate. All it does is add the relevant schema to files. Open up a model or a test and see what the fields and indexes are. Saves me a lot of time. ,1529009585.0
Nrdrsr,Seeing a lot of puma here. I typically use passenger in production. Sell me on puma,1529009561.0
Rogem002,"The list could be never ending (and I'm sure everyone will have their $0.02), but personally almost all projects start with (other then the ones you've mentioned):

    # For consistent forms which do most the i18n stuff out the box.
    gem 'simple_form'
    
    # To reduce my CRUD - Not in all my projects, but some of them.
    # gem 'trailblazer'
    
    # For easier mailers
    gem 'nokogiri'
    gem 'premailer-rails'
    
    # Security / User permissions
    gem 'pundit'
    
    # Payment Gateways
    gem 'stripe'
    gem 'stripe_event'
    
    # Style Guide & HTML Components
    gem 'mountain_view'
    
    # ActiveAdmin - for an easy admin panel
    gem 'activeadmin', '~> 1.2'
    
    # Decorating models - Keep my views super clean
    gem 'draper'
    
    # Image upload - ActiveStorage kind of does this now, but these two gems are great.
    gem 'carrierwave'
    gem 'cloudinary'

Then I use Yarn to get bootstrap & any javascript assets.

Edit: Fixed formatting ( Thank you /u/schneems :) - Looks like new reddit has a different way of doing markdown :O",1529007173.0
jb3689,"The gems I would definitely use are:

* Pry
* Byebug
* Minitest
* Puma/Passenger/whatever Rack server
* Database drivers

I might use these if I need them:

* Devise
* Sidekiq
* NewRelic
* Fast serialization (fast JSON, msgpack, protobuf)
* Concurrent Ruby
* Tilt
* Sinatra
* Parallel

I would skip:

* REST API client libraries
* Asset compilation stuff (prefer out-of-band JS libs for this)
* Rspec (personal preference)
* Profiling/performance tools (these can be pulled in as needed)",1529072474.0
BEHOLD_MY_CUP,[Better errors](https://github.com/charliesome/better_errors) goes into pretty much any rails app I make,1529076055.0
,Active record,1529078914.0
nujaud,"The ones I seem to add more regularly:

- [awesome_print](https://rubygems.org/gems/awesome_print)
- [better_errors](https://rubygems.org/gems/better_errors)
- [binding_of_caller](https://rubygems.org/gems/binding_of_caller)
- [bullet](https://rubygems.org/gems/bullet)
- [capybara-screenshot](https://rubygems.org/gems/capybara-screenshot)
- [faker](https://rubygems.org/gems/faker)
- [figaro](https://rubygems.org/gems/figaro)
- [friendly_id](https://rubygems.org/gems/friendly_id)
- [guard](https://rubygems.org/gems/guard)
- [guard-rubycritic](https://rubygems.org/gems/guard-rubycritic)
- [pry-rails](https://rubygems.org/gems/pry-rails)
- [simplecov](https://rubygems.org/gems/simplecov)

I also really like:

- [devise](https://rubygems.org/gems/devise)
- [pundit](https://rubygems.org/gems/pundit)
- [rolify](https://rubygems.org/gems/rolify)
- [storext](https://rubygems.org/gems/storext)
- [sucker_punch](https://rubygems.org/gems/sucker_punch)
- [pg_search](https://rubygems.org/gems/pg_search)
- [local_time](https://rubygems.org/gems/local_time)
",1529217095.0
tk425,Seems like a silly metric to measure anything on,1529006536.0
DerNalia,"This is what I think of the rails way: [https://github.com/NullVoxPopuli/drawers](https://github.com/NullVoxPopuli/drawers)  
Disclaimer: I wrote this",1529019300.0
aiux,"Rails controller responses don't have X-Total-Count, so even if you expose it, it will be nil, hence you get the error shown.

You can write a concern to implement the header on your controller methods for you, with a method that does
```response.set_header('HEADER NAME', 'HEADER VALUE')```",1528947635.0
tigerlily_4,"DigitalOcean has pretty great tutorial resources that you should check out if you haven‚Äôt already. You can learn a lot about those topics. For example, for learning about load balancers: https://www.digitalocean.com/community/tutorials/how-to-create-your-first-digitalocean-load-balancer.",1528897245.0
nielsbuus,"""All these things"" takes years to become confident in, so don't sweat it if you feel it's a little overwhelming. :\-)

I don't know how familiar you are with Linux, but there's a lot of topics that must familiarize yourself with before things feels in control. In no particular order and inevitably incomplete:

* Processes
   * Process groups
   * Threads
   * States
* Process managers
   * Systemd (the current one)
   * Upstart (the older one \- just for comparison)
   * Supervisor and Circus (easier to use \- IMHO)
* Access Control
   * Users
      * The root user
   * Usergroups
   * Elevation (sudo)
   * Sudoers file
* SSH management
   * SSH keys
   * Shells
      * bash
      * sh
* Containerization
   * Docker
      * Dokku
* CI
   * Jenkins
   * Others? Travis? I don't know!
* HTTP load balancing / reverse proxying
   * Nginx
   * (or) Apache
   * HTTPS certificates
      * LetsEncrypt
      * Traditional certs (e.g. RapidSSL)
* PostgreSQL
   * Access control (pg\_hba.conf)
   * Replication
   * Backups
* CDN's (for storing user uploaded files)

Postpone automatic load scaling until you feel confident in more of the above. If you want to start managing many servers, you'll want some configuration management platform such as Puppet, Chef or Ansible.

Anyway, as stated, this is just improvised and therefore incomplete.

In regards to firewalls, I have never really gotten the fascination. If you don't want your applications to speak to the internet, don't bind them to the public IP interface, just use the loopback interface. ([127.0.0.1](https://127.0.0.1)).

I guess firewalls are useful if you want to block specific IP's or only whitelist specific IP's, but historically I have put that kind of logic at the application level. That way other developers (who don't mess with the servers) also have a chance of knowing what is going on in regards to blocking out users. Firewalls seems to be invisible packet snatchers that can cause all sorts of interesting time\-consuming/confusing problems if not properly understood by team members.",1528918865.0
seainhd,You should just use heroku,1528952294.0
chabv,"You're just getting started. 0% chance you site will need a load balancer. Just do a git deploy to DO. then run the site as you would do on your local machine. & use Nginx as a reverse proxy. 
When you need those things like Docker, Load Balancers etc  you'll know",1529223532.0
DamaxOneDev,"Look at append_view_path
http://api.rubyonrails.org/v5.2/classes/ActionView/ViewPaths/ClassMethods.html",1528896699.0
so_just,"It's hard to get, although not impossible. It'd be much easier to find your usual fulltime job, and then transition to a remote contract after a year or two.

Even most interns work 40 hours per week, I think.",1528879051.0
vaporcasts,"Unlikely and difficult to find. Not impossible, but you'll certainly need to get lucky.

My first ever programming job was 20 hrs/week, working remotely. However, that was before a lot of the bootcamp stuff. The market for junior devs\-\-as far as I can tell\-\-is flooded now, and it would be quite difficult to get such a job. Not impossible, but certainly harder than even a few years ago.",1528878816.0
motioncuty,"The work you'll find is not the work you'll want. I did it as a stepping stone but my clients where barely funded, often made poor and desperate decisions that I was ultimately responsible for. Do not make it your rent paying income, expect to have checks delayed.",1528886102.0
excid3,"Absolutely. You just have to find the right clients. As a freshman in college, I started consulting remotely to pay the bills while I was a CS undergrad. The trick is to find someone who is equally new to building a software product. They're willing to learn while you learn. You might not get paid super well (I sure didn't) but it was a professional, learning experience. It worked out super well. 

You'll just have to do a lot of digging to find the right clients and be honest with them that you'd have to learn things to build what they want. A lot of people are interested in that because it means they can work with smaller budgets.",1528900237.0
jasonswett,"This type of work definitely exists although in my experience it's not easy to find.

The vast majority of employers will want all your time. The perception seems to be that it's cheaper and easier to employ e.g. one 40-hour-per-week person than two 20-hour-per-week people.

I also want to mention that the vast majority of ""freelance"" programmers are really contractors who are, for all practical purposes, just employees. They work the same full-time schedule as an employee, go to all the same meetings, get paid a similar amount, etc. The only difference is the compensation structure.

My goal when I started freelancing in 2011 was to find a client for whom I could work 20 hours a week in perpetuity. It took me until 2016 to find a client that was okay with fewer than 40 hours a week. Incidentally, I've worked for three other clients since then who have all been okay with fewer than 40 hours a week. Currently I typically work between 25 and 35 hours a week, although sometimes well over 40.

So again, the answer is yes, this is possible, but not easy.",1529006429.0
prekarius,"Thanks for all of the comments. Input is much appreciated

",1529040326.0
noodlez,"Locking this thread before it goes any further.

Rails 5 has only increased performance of the Ruby on Rails framework by all available benchmarks.  OP, your problem is your own setup in some way.  However, you've personally attacked people trying to offer you legitimate advice on the topic.  This is not acceptable behavior for the subreddit and will be discouraged or punished if it continues.

",1528994154.0
capn_sanjuro,Could you post some logs or the controller & model code?,1528865755.0
etcook,What version of Ruby? You don‚Äôt have JIT compilation turned on do you?,1528867955.0
Dee_Jiensai,"create a new rails project in a new folder and add one thing at a time, and see when it starts to slowdown.

If its slow from the start, your ruby installation is weird.",1528868449.0
teffabob,Can you share your gemfile? Do you have the foundation gem installed? Foundation really slows things down.,1528891927.0
advisador,"Since you building, plan for the future... 
Upgrade rails to 5.2 and use Active Storage",1528842699.0
Rykian_,Upgrade to Rails 5.2 doesn't seems to be very hard according to upgrade guide. (http://guides.rubyonrails.org/upgrading_ruby_on_rails.html#upgrading-from-rails-5-1-to-rails-5-2),1528842689.0
pjdavis,"Not recommending it, as I've never used it, but there is another option besides CarrierWave, Paperclip, 
 and ActiveStorage. 

https://github.com/shrinerb/shrine

But honestly, unless there's some reason ActiveStorage makes things hard to do, I'd just upgrade rails and use it. ",1528848799.0
DerekB52,"Don't use paperclip. Use active storage, or carrierwave. I'm building a blog with Rails5.2 right now, and carrierwave wasn't too bad to setup.(I did spend a few frustrating hours, but I got it done). 

Using paperclip can only cause pain moving forward. That may be a tiny headache. That may be a security vulernability you fall victim to, or some bug may pop up, that will require you to switch to something more modern anyway. Just get it out of your way now.",1528846725.0
jaroh,"I think the prevailing opinion here to hold off on using paperclip is the correct one.

If you wish to have the control over, and support of active maintenance of, a gem/library then I would highly recommend using Shrine. Janko's done an incredible job with it, it's mature, it's robust, and he's in it for (what appears to be) the long haul.

I will throw one more option in the mix here -- if you'd like to get to successful uploads of your assets _quickly_ and not deal with configuration, writing code around the library, etc, then check out [Shubox]. If you have an AWS IAM account set up for an S3 bucket, and don't mind putting a little javascript on your site, you can get stuff uploaded to S3 rather immediately.

Full and shameless disclosure, I'm the founder/developer. If you give it a look and have any questions, feel free to drop me a line.

One last note - I work for a company that handles thousands of uploaded and converted images daily and we _will_ be migrating to (I hope) Shrine in the coming months. It's a core part of the business so we need to have the control over that experience. Delegating that to a SaaS wouldn't be prudent at this point ... but if it's NOT a huge part of it, then def check out [Shubox].

[Shubox]: https://shubox.io",1528901530.0
fiveguy,"Also consider that one nasty attack vector is users uploading malicious files to your app. You really want to be using tech that *is* being actively maintained. So, I agree with all the others, and I will be migrating a shitload of assets in my legacy app from Paperclip to ActiveStorage later this year...",1528845848.0
jeremywoertink,"Don't use paperclip for the simple fact that it's deprecated.

https://robots.thoughtbot.com/closing-the-trombone

It was awesome back in the rails 3 days, but plenty of great options like ActiveStorage now.",1528868187.0
EqualsNull,"Worth it depends on what you're doing - but it's still a perfectly valid strategy. You can serve the apps using JSON endpoints, and build the webapp however you want. If you want to get some realtime elements you can look at using ActionCable.

Rails is pretty flexible and can serve a lot of needs. Your case seems pretty standard and Rails (and many other) frameworks would do you just fine",1528807345.0
GoogleyEyedNopes,"Not sure how to put this in terms of worth, as that's rather relative.  But it's possible, and Rails 5 makes it pretty easy.  Look at the Rails 5 API generator function, and you can easily setup an application that has no view layer, or it technically does, it's just all your views are JSON.  Then you ship you native apps to communicate with those JSON endpoints, and you're off to the races.

It's really no different that setting up Rails to be an application server for any other project; I've used rails to drive endpoint for chrome extension, single page apps in React, and React Native apps.  If you like Rails, (or in my case, the selling point is that I love Active Record) then sure, go for it.",1528834722.0
oniksfly,You can also use native mobile push abilities for delivering content on devices to avoid long-polling. Firebase Cloud Messaging is something that can help you with it. ,1528810599.0
jasonswett,"FWIW, this is called [client/server architecture](https://en.wikipedia.org/wiki/Client%E2%80%93server_model).",1529007111.0
kingshane,This is pretty much how the place I worked at last ran.,1528828519.0
VDBDEV,"i'm not really sure of your question... 

its trivial for someone that knows what they're doing, but if you're asking then its obvious you don't know enough about rails and there will be roadblocks.

things to think about:

- authorization
- authentication
- caching
- etc. etc. etc.",1528819778.0
kobaltzz,"Here's how I would seed them. I rescue from the Stripe errors in the event that the plan already exists. This will create the product with associated plan.

```
plans = [
  { product: { name: 'Monthly Tutor',     id: 'monthly_tutor'}, id: 'monthly_tutor', interval: 'month', currency: 'usd', amount: 1999 },
  { product: { name: 'Annual Tutor',      id: 'annual_tutor'},  id: 'annual_tutor',  interval: 'year',  currency: 'usd', amount: 19900 }
]

plans.each do |plan|
  begin
    Stripe::Plan.create(plan)
  rescue Stripe::InvalidRequestError => e
    puts e.inspect
    next
  end
end
```",1528808070.0
rdh727,"I think you'll want to use `find_or_create` rather than `create`, so the operation is idempotent.

Here's a snippet from my `db/seeds.rb` as an example...


    Plan.find_or_create_by(stripe_id: 'personal_100_monthly_9_99') do |p|
      p.name = 'Personal'
      p.page_limit = 100
      p.interval = :month
      p.price = 9.99
      p.display_order = 1
      p.features = [
        'Dedicated fax number',
        '100 pages/month',
        '$0.10/page over 100'
      ].join(""\n\n"")
    end

That's just for DB, though.  I create my plans in Stripe by-hand, then just use `db/seeds.rb` to keep track of them in the DB,
",1528779872.0
tongboy,"timing job that throws jobs to a backend processor like sidekiq to multi-thread the work - that way each job can be handled atomically and they can be scheduled appropraitely.

how you crawl websites depends on what you're after - you can use headless chrome, nokogiri or a million other options.",1528766209.0
jak_p,"If you want to stay in Ruby land and performance/scale is not of great importance, then I would recommend option 1 and the wonderful gem https://github.com/javan/whenever which let's you write cronjobs in Ruby. No need for an async processor like Sidekiq in this setup as the cronjob starts your app in a new process anyway.

If you are planning to scale your app to a massive amount of crawled websites, then I think the second option is the way to go. I would then write the crawling part in any language with better concurrency idioms than Ruby... Go, Elixir, Scala for instance",1528810910.0
blazingkin,"Wish github had a way for me to leave comments on the code, but here goes -

I'm of the opinion that [send and public send](https://github.com/tkz79/naivebayesgender/blob/master/app/controllers/predictions_controller.rb#L17) should not be used unless absolutely necessary.

More [public sends](https://github.com/tkz79/naivebayesgender/blob/master/app/services/prediction_service.rb#L30) and these lines are a bit too long, helper functions would be nice.

There's a few places where you don't check for invalid arguments. For example you don't verify that [params has an entry for prediction here](https://github.com/tkz79/naivebayesgender/blob/master/app/services/prediction_service.rb#L11).

~~Big problem. [There](https://github.com/tkz79/naivebayesgender/tree/master/test/controllers) are [no tests](https://github.com/tkz79/naivebayesgender/tree/master/test/models). How do you know your code works?~~ Jk, you have RSpec tests. I really like your tests. They are verbose and seem to cover the project.

[Slight typo, wikipedia spelled wrong](https://github.com/tkz79/naivebayesgender/blob/master/app/views/verification_tools/index.html.erb#L8)

Your check to see if the database is initialized relies on the [Classification model](https://github.com/tkz79/naivebayesgender/blob/master/app/controllers/application_controller.rb#L13). What if there is other data that isn't a classification?

You have built a whole part of the app to initialize test data, but perhaps you could have used the [seeder](https://github.com/tkz79/naivebayesgender/blob/master/db/seeds.rb) instead?

The [verification tool](https://github.com/tkz79/naivebayesgender/blob/master/app/models/verification_tool.rb) should be a service, not a model since it doesn't correspond to anything in the database and all of the methods are static.

You have a bunch of code marked with [remove me or disable me](https://github.com/tkz79/naivebayesgender/blob/master/README.md). You could potentially use the `Rails.env.development?` function to not require big code changes when deploying to production. I personally would try to develop the app in such a way that you don't need to change it at all when deploying to production (however, sometimes it's unavoidable)

Most of this is pretty minor stuff or opinion based. You did a nice job.",1528765326.0
442401,"First problem:
[https://github.com/tkz79/naivebayesgender]
(https://github.com/tkz79/naivebayesgender)


""*No description, website, or topics provided.*""

As an emloyer, I would probably move on right about here.",1528760760.0
442401,"> having SexInfo101.com on my resume may be a bit troubling to some folks...

What's troubling is that it's not linked from your r√©sum√©! I had to copy the url and paste it into my address bar! I'm far more interested in your developer abilities and page load speed than I am in the content served. ",1528761184.0
ActiveModel_Dirty,"I don't have a huge amount of time to get into specifics, but I do have some high\-level feedback for you, if that strikes your fancy. 

* In one of your controllers I saw something like: `SomeClass.all.map{ |c| [`[`c.name`](https://c.name)`, c.whatever] }` Instead, use [#pluck](https://apidock.com/rails/ActiveRecord/Calculations/pluck), which does not require loading entire objects into memory just to get a few attrs (and thus is way more efficient): `SomeClass.pluck(:name, :whatever)`
* The law of demeter, while not a hard\-and\-fast rule, is a great one to follow. There's all sorts of theory and speculation when it comes to what it actually means and why you should use it. I tend to just think of the rule as simply ""don't use more than one dot in an action"". For example, [`Person.company.name`](https://Person.company.name) while common, breaks the law of demeter. What that should *actually* look like is: `Person.company_name` where `company_name` is a method defined on `Person`
* A lot of your code is packed super closely together from a visual standpoint, and line length (80 characters is the preferred limit) does not seem to be a concern for you. For the sake of readability, I would spread it out a little so it's easier to discern what is happening in any given situation. 

Say you have something like:

`Person.do_something(some_argument: some_hash[:a_value], second_argument: some_hash[:second_value].to_i, time: Time.parse(some_hash[:timestamp])`.  

It can be really hard to keep your place while reading that line, especially if it's surrounded by characters above and beneath it.  A solution would be to go this route:

`Person.do_something(`

`some_argument: some_hash[:a_value],`

`second_argument: some_hash[:second_value].to_i,`

`time: Time.parse(some_hash[:timestamp],`

`)`

Another easy win is to break your methods apart by whitespace when they're doing a bunch of stuff.  Usually three distinct chunks are good enough. Each complex method usually follows a basic pattern of: set up, do stuff, return value. 

I tried illustrating, but reddit's editor makes it all look weird. Point is, whitespace as a linebreak between two distinct variations in logic are always appreciated. define your methods, linebreak, do some stuff, linebreak, close it all out with your return value or the last action the method should take.

There's nothing, in my opinion, overtly wrong about your code. But as an employer, I'm looking for someone that writes maintainable code that will play nicely with other developers be it now or in the future. This codebase just looks a little too much like it was written by (and for) one person.

Also, method documentation. Not so much necessary in your controllers where you have `#GET /classifications` above `def index` in `ClassificationsController`. Anyone can assume that's what that method does. 

More useful, is in your service objects and one\-off method definitions with complex logic. Usually I follow a pretty simple format for method documentation:

`# Public: Enqueues a sidekiq worker for scraping a given product listing.`

`#` 

`# listing - An instance of a product listing`

`# domain - the domain name where the listing originated (optional)`

`# account - An ID representing the account the listing is bound to.`

`#`

`# E.g. ProductScraper.scrape(listing, ""amazon.com"", 314)`

`#`

`# Returns a String (Job ID).`

`def scrape(listing, domain=nil, account)`

`#logic`

`end`

\- ""Public"" generally refers to public methods, ""Internal"" is the corollary to private methods.

\- A section that defines the expected values of any arguments you expect and whether or not they are required.

\- Example usage. Mine is a naive example, but how to call the method and ways it may be used are helpful here.

\- What the method returns. I.e. an Array, String, or Nothing.

Hope at least something in there helps ya out.",1528765488.0
Getkong,"I'll ask a few higher level questions:


Prediction and Person models

* any reason you chose to go with ft and inches as opposed to just inches?  
* For HeightCalculations.unify_height, why use a less-precise fraction than pure inches?
* what are the units for weight?  you specify height_feet and height_inches, but just have weight.


In People Index, I see the unit for weight is there as pounds, but when you go to the view to add a new person, no unit on the number field or label there. Just some simple UI elements that make the UX much easier to interact with.



",1528769266.0
hernanat,"I took a look through and have quite a few comments; I was going to comment on each commit where I had something to say but that would have taken a while, so, if you find yourself still wanting some feedback, please feel free to DM me and we could setup some time to chat if you'd like.",1528782758.0
,[deleted],1528766722.0
442401,">(I carry some Ruby shirts too)

... and C#, Crystal, Golang, JS, Lisp, yaddayadda...

You're just a nerd whore!  

*(ordered a Ruby one, thanks)*  ",1528749112.0
DerekB52,"I think your approach may be wrong here. You should pick something that interests you and build it yourself from scratch. This is the best way to learn something. I'm only a rails hobbyist, I haven't spent too much time with it. But, I can build a simple blog site or a unit converter web app. I would build one or both of these projects, or some other project, before diving into mastadon's source code.

I don't think you can learn Rails by reading Mastadon's source code, and I think projects like this are too big to be able to play with easily. You can play with some of the backend stuff a little bit, or some of the frontend stuff, but you wouldn't learn as much as you would from building some stuff yourself. You may have more rails experience than you are letting one, so maybe I'm speaking more to a total novice than you, I don't know, you be the judge. But I think if you haven't used rails in a couple years, your first step should be to build a photo blog from scratch. There's been a few add\-ins/changes in Rails5.2 that made this a bit different than it was a couple years ago.(I first started using Rails in 2015, and then also stopped for like 2 and a half years)",1528747175.0
dfmtl,Pick one with good tests. Then you can poke around without getting too involved with the frontend,1528732195.0
BhishmPitamah,"I have heard that diaspora has an open github repo.

You can see that.

It's neat in my opinion.",1528745529.0
ActiveModel_Dirty,Pundit is a good one for exactly this imo: [https://github.com/varvet/pundit](https://github.com/varvet/pundit),1528751768.0
akforsn,Check out Octobox!,1528753107.0
dfmtl,Pick one with good tests. Then you can poke around without getting too involved with the frontend,1528732291.0
modnar42,Have you run your css files through a syntax checker yet?,1528725647.0
tongboy,Run your local env as a prod system and bundle your assets then search for the problem,1528728997.0
etcook,"Are there ‚Äúlots of sites‚Äù that let you edit PDFs and Word docs? I only know of a handful. They all import and convert, but operate in a proprietary format. They then export to pdf or word. You can likely find gems for any of those individual tasks.",1528868186.0
pm_me_ur_happy_traiI,Have you spent some time just learning React by itself first?,1528724653.0
wizeddy,There are a lot of options out there. I don't know if this is the best solution but I've had a fair amount of success with it: https://github.com/reactjs/react-rails/,1528715675.0
kocur4d,I use [how to get create react app to work with your rails api](https://www.fullstackreact.com/articles/how-to-get-create-react-app-to-work-with-your-rails-api/) most of the time when I am starting new app.,1528745176.0
rArithmetics,Learnetto worked for me. It‚Äôs a sub but worth it ,1528724022.0
di3sel,If you want to skip the setup and dive right in there is a great cli on npm called create-repack-app that does most of it for you ,1528696621.0
etcook,I thought this was a solid foundation: https://blog.heroku.com/a-rock-solid-modern-web-stack,1528868055.0
owens_trevor,I would either go straight React \+ Node or go Rails \+ Stimulus and Jquery. I wouldn't use React on top of Rails. That's just me. Doesn't fit together well enough.,1528702215.0
stepfresh,"Shopify solves so many problems for you that I would struggle to recommend anything else, unless you have very unusual requirements. Inventory management, promotions/coupons, and payment processing are just three things that would take a significant investment of time to develop that you could instead spend making sales. 

If you get to the point where Shopify is holding you back, you'll likely already be making enough money to quit the day job and develop v2 full time.",1528650864.0
fiiiiiine,"If your plan is any more complicated than ""one page with a Stripe form on it"", you'll almost certainly be wasting your time doing it yourself. This problem has been solved already - just go with squarespace or shopify or something.",1528649447.0
aerovistae,"I started building a ""simple ecommerce site"" and realized my particular business plan was going to strictly require total i18n compatibility and a rather customized order options flow, and all those site-in-a-box services failed me there.

Aside from anything others here might point out, I guess my advice would just be to walk carefully through what your site needs, end to end, and validate whether squarespace can meet those requirements for you.

I ended up building my own with Rails.",1528649135.0
berkes,"Try Spree.

It's a rails based ecommerce application.  Nicely modular. And extendable with plugins.

It's a bit convoluted, though. If you choose to go for the common setup, you'll have spree-core, -frontend, -backend and -api. All of which come with tons of dependencies. But the dependencies are common enough;  like devise.

I like it. Especially the fact you can choose to replace parts with your own. A client needed a shop connected to their own backand, so spree-core, spree-frontend and spree-api was all we needed. And custom middleware to connect the api and their backend.",1528663092.0
pau1rw,Or solidus. ,1528660135.0
ryanckulp,"definitely use Shopify, not Squarespace! too many reasons to count, but tl;dr i have thousands of Shopify clients using my team's apps, and i have developer stores on every major cart. Squarespace == horrible for ecom.",1528668850.0
ccfiel,better start out-of-the-box to test your product so that you can launch it faster and validate it. ,1528649544.0
cyancynic,"Depends on how elaborate you need to get.

I'm working on a pretty fancy store and went with Solidus as a starting point.  Its not quite a full store and we are building a ton of additional capability on top of it but its an awfully good head start on one.",1528653146.0
ibsulon,"Start with shopify. Tie it to your domain. When you reach something you absolutely can't work around, then build your site. Work on what differentiates you first \- and that should be your product, not your bespoke site.",1528661388.0
tk425,"Shopify charges per domain, so be careful there. And since you're a developer you will probably hate how hard it is to modify.   
  
Rails is a good web framework but I'm not sure about the ecommerce implementation",1528665594.0
knmaswath,"Dont waste your time on development tasks . Go with squarespace or Shopify . 
If you are developer making $250000 per year and working aroud 2000 hours per year, your hourly salary is $125/hour . 

So If you want to do it by your self and it takes approximately 100 hours to design, develop test and hosting total will be around $12500 loss for you.

Thats how I make my decisions. If you need a dedicated e-commerce site make an offer on sites like Upwork. You'll get it done under $5000. \

Goodluck",1528652424.0
jmedina94,"I have developed a WooCommerce site recently on a self-hosted WordPress install. Wasn't bad and haven't heard any complaints from client. :) Not a very complicated site so no point in reinventing the wheel.

A current project I am working on is more involved so have decided to use Rails.",1528656192.0
_ferz,"Perhaps some sort of the SaaS app would require everything from scratch. But I don't see why you can't use Shopify, Wordpress, Squarespace to get it going.",1528661485.0
learning_by_doing,"In the past, I have used Shopify and BigCommerce to build simple e\-commerce sites. I'd definitely recommend you start out there until you've hit your ceiling and it's not feasible to continue.

My stores eventually grew into a 7\-figure business with lots of stores and additional complexities, so only then did I write my own e\-commerce platform. Reinventing the wheel took a ton of time but I needed the type of customizations that would be very complicated to modify existing systems and I wanted to control the whole app instead of depending on hacks and mods.",1528673820.0
brentmc79,"I‚Äôve been doing Rails development for just over ten years and I‚Äôve been using Shopify for about two years to run my side business. With the addition of a few apps, it does 95% of what I want/need. ",1528674885.0
mycentstoo,"I'm a backend rails developer for a big e\-commerce company and let me tell you, it's a lot of work.  You need to think about PCI compliance, fraud protection, fulfillment, etc. I would start with Shopify first and see if you could build a following. ",1528687650.0
iamgrzegorz,"If your goal is to focus on running the shop - choose Shopify or something similar.

If your goal is to have something that you can use to make money but also to tinker with - you can go with Solidus/Spree.

If your want to learn something new and creating the shop is just a random idea to have something to work on - only then you should build it from scratch.",1528725378.0
herir,"If your goal is learning about security issues, how to manage inventory, or work on efficient search, building an ecommerce site ""from scratch"" is a great idea. You could also start from solidus/spree commerce and contribute to those projects.

It's also a good portfolio project. Most interviewers are impressed if you are able to demonstrate the site, especially if there are new features, such as good search, fine-grain A/B testing or a nice ReactJS UI.

If your end goal is to sell and make sales, developing the site by yourself is a distraction. It will take you a lot of time before having a minimum viable product. Your window of success might have moved on. Better to use a plugin or a Saas . Shopify is a good one. ",1528657625.0
Code-Master13,"For me I will always build my own. Prior to me leaning to program, I started an online business. Used Squarespace for a bit, eventually had to move on because I outgrew what they could offer. Moved to wix, and had a friend build me a separate checkout site I could link to. Eventually outgrew they're offerings, then moved to WordPress where I could manage all of it myself including payments via plug-ins.

Idk how Squarespace has changed since i used it or how much granular control you have these days. I just like knowing that whatever I need in the future, I'll have the control to change. ",1528649006.0
so_just,Yep. https://github.com/lynndylanhurley/devise_token_auth,1528621618.0
chabv,"You could use client-sessions. I'm new to Rails myself, but for Node I have used this https://github.com/mozilla/node-client-sessions. works well for json api's ",1528929441.0
olbrich,"I'd say you are off to a good start.  I once slam-dunked a technical interview when the company I was applying to realized that they were using a gem that I had written.  If you can't come up with a brand new one, you could trying contributing to a reasonably well-known one.  It will improve your visibility and skills, get you some valuable coding feedback as well.  Also, polish up an actual portfolio site (not just a github profile) and make sure all your links work properly.",1528594352.0
Lord_NShYH,I'd say you're ready for at least a Jr. Developer position.,1528643822.0
boonestock,"Do you have links to the repositories for your apps? Seeing the code is at least as important as viewing the demo.

",1528587732.0
Anjin,Allo! I helped make Learn Enough and wrote the HTML and CSS tutorials. Hope they helped :),1528587818.0
aerovistae,"One tip-- glancing at your github, someone can see that you've only made a single commit since October, and only 4 since August. That's not a great look, potentially.",1528629910.0
tigerlily_4,"Your Marketplace app is fairly solid but you would definitely be facing an uphill battle to get hired with all the coding bootcamp people out there. They all have capstone projects too.

My suggestion - get more experience with JavaScript. Pick a front-end JS framework to learn and that can help differentiate you from other entry-level candidates.",1528594485.0
SerKnight,"Very cool. Best of luck in the job search! I looked through a little bit of the code. I'd recommend changing some of the ActiveRecord queries to not select .all first

```
 @orders = Order.where(seller: current_user).order(""created_at DESC"")
```
",1528597250.0
toadkicker,Just on the fact you have the passion and drive to learn this on your own says a lot about your work ethic. It is better to have a team share that feeling than have that one guy who knows everything and has a bad work ethic.,1528593991.0
nightzone,"Thanks to all who replied! I‚Äôm going to continue to apply to positions local to me in Chicago as I am open to internship opportunities to get some experience. 

Here is the actionable steps I‚Äôll be taking from your feedback:

Build a Gem / Contribute 
Make a Portfolio / Coding blog site 
Learn a front-end JS framework (I have had my eyes set on React for a while)
Be more active on GitHub 
Learn more Ruby
Start another side project",1528642617.0
tk425,Learn Ruby instead,1528594976.0
coderhulk,"While I'm sure many people can answer this question does it really help you? I'm sure when I started Ruby and Ruby on Rails the confusion and problems I faced are different from the ones you will face.

Why don't you share your problems and concerns so we can help you.",1528555221.0
dfmtl,"It's hard to give advice without knowing your skill level, but I'll assume you're a brand new developer.


Groking how all the pieces fit together is the general stumbling point. I'd recommend working out how rails processes a simple request. eg a request for the url /posts/1 hits port 3000 on your machine, what is the first port of call in rails?
How does the router workout which controller to call?
How does rails even know about your controller file?
Why do you need to put your files in certain directories?
Getting the gist of how all this fits together will make you much more comfortable with the framework and remove a lot of the magic.

If you haven't already really play around with and make sure you know how foreign keys relate models together. Get very comfortable with using join tables/models.
Also try and workout how you would go about reimplementing some of the model macros. How would you make it so just writing `has_many :comments` in the post model's class magically give instances of post methods like `post.comments` etc.

Also have a look inside the config directory and workout what the different files are for.

Thats what I did!

Good luck",1528574957.0
sylvezine,"The biggest problem I had when starting with RoR was running into insurmountable roadblocks when an error arose. Like, if I broke something or my environment got messed  up or Ruby/Rails/Gem versions were out of sync I wouldn't know how to fix it. You really need a Rails friend to help you in those situations.

For instance, following along with a tutorial is great to learn how to build real world apps. But as a beginner if you do something wrong you probably don't know how to troubleshoot the error or rollback a migration or whatever.

I always recommend beginners follow along with small tutorials that can be completed in an hour or two. And follow them to a T. Because if you mess something up you may not be able to fix it.

Painful example: one of the first tutorials I followed was the Ruby on Rails course on Treehouse. It was super long, building a Facebook clone, and started with TDD. As a beginner it made no sense and I got screwed up a few hours in and had to scrap the project.

Not sure if that's in the thread of what you were asking, but relevant to beginners I believe.",1528567662.0
aarkerio,"You should be using a request test for testing that, features tests are exclusively for UI.  ",1528521576.0
tongboy,"sub domains get used so you can have different systems service different portions of an app.

separating a marketing webpage and using wordpress or something else that's easy to make changes without requiring developers and then tying the app to a subdomain.

you can easily setup rails routing to service unique, generic and everything else in between sub domains and a front page.

setting up a few different things on different subdomains makes it easier for you to break those out in to other systems later on.

help.app.com or api.app.com - all serviced by the same box today but maybe in the future you need 20 servers on api and can keep servicing help - having people repoint things that are pointed at your app might not always be easy - subdomains make it easy for you to start small and grow in to things as needed.",1528493778.0
SminkyBazzA,"This is covered in the Rails routing guide, have a look at the following section to see how to restrict a set of routes to a particular subdomain, for example:
http://guides.rubyonrails.org/routing.html#request-based-constraints

This would let you split your app into logical chunks, where certain paths only work (match) on certain subdomains.

To address another point you may not be clear on: each route has two helpers, one returns a relative path, and one returns an absolute URL. For example root_path and root_url.

Have a look at what gets put into your HTML and you'll see the first will output ""/"" and the second something like ""http://yourdomain.com/"".

I can't recall the exact configuration options but if you look in /config/environments/*.rb you'll be able to see where the default host (domain) and other routing options are set, and these can be overridden in your code at runtime, globally or as keyword options passed to your routename_url helpers.

A note on your Heroku example, I'm pretty sure they don't use www.dashboard.heroku.com, but instead just dashboard.heroku.com. It may work with the extra www, but that's more of a function of how DNS works. Not all URLs have to start with www, it's just a conventional default subdomain for a website. 

Unless configured otherwise, a Rails app will be accessible on any domain that resolves to its server, and will only look at the path (not the domain) when determining which controller and action to use.",1528496709.0
sylvezine,"The one thing that hasn't been mentioned is how to build subdomains into your project. The Apartment gem makes subdomaining super easy. Check it out:

* [Apartment Gem](https://github.com/influitive/apartment)
* [Multitenancy Tutorial with GoRails](https://gorails.com/episodes/multitenancy-with-apartment?autoplay=1)",1528517088.0
chrisjstelzer,"Thanks for all the replies and resources, I've already learned  quite a bit!",1528562674.0
seainhd,WWW is a subdomain! Everyone uses subdomain a for their apps. Nothing special or railsy about it,1528505368.0
442401,"
`get 'demo', to: 'posts#show', id: 234` should do what you want.
",1528488499.0
Blimey85,"Someone else already told you the how but I would just add that order is important when doing this. In one project I had an issue where I had a vanity route for lack of a better term, before the main route, and because of how I had it setup nothing else was working.

That was for site.com/username going to the users profile. I needed that last so it would only match once nothing else had matched. ",1528528922.0
skryking,I'd just pass your category back to the index as a parameter and use that to cut down the list.  If the parameter doesn't exist return all the categories.,1528567728.0
demillir,"Your question is spot on.  Here's an overly simple explanation of how MVC maps to website elements:  


Models \- one per object\-oriented class in your architecture, including one class for each data table in your normalized database  


Controllers \- one per RESTful resource in your architecture.  A resource may comprise a single model, a virtual model comprised of associated models, or an atomic business process (e.g. an insurance claim filing).  More on resources below.  


Views \- zero, one, or many per RESTful resource/controller  


One way to architect with MVC is to focus on nouns in your application domain, e.g. account, claim\-filing, user\-registration, event\-venue, etc.  Prefer to proliferate nouns instead of verbs.  For example, rather than having many verbs that apply to an account (e.g. ""registering"", ""canceling"", ""transfering"", etc.), make a verb phrase that is a noun, e.g. account\-registration, account\-cancellation, account\-transfer, and then create a RESTful resource for each on those nouns.  If one of your nouns has more controller actions than the classic list\-of\-seven (index, new, create, show, edit, update, destroy), then consider splitting the noun into multiple, more specific nouns.  


After achieving a good resource\-oriented architecture, the views will be intuitive: an index view for a list of the resource, a show view for read\-only display of the resource, and an edit/new view for a read\-write form.",1528473611.0
dom_eden,">Edit for clarity, in my prior web dev experience, not all pages were given a model. They drew on various Models for their data, but they were not themselves represented by a model in the db

Rails is the same. You don't need a view for every model at all. I think the tutorial might just be over\-emphasising MVC for those who don't know it very well by showing you an example of MVC for every single model. ",1528468801.0
tongboy,"Because it's literally a single command to generate the whole stack. If you don't need them delete them. You can also run generators for just models.

It's absolutely true you'll have models without views or controllers in many cases",1528471468.0
jibbit,"the other answers are spot on saying you are right:- you don't always need a controller + views per model, but playing devils advocate for a rounded take.. 

On amazon there absolutely is a page to look at all my orders, and then drill down to any individual order. Yes the orders also appear on other pages, but cancelled orders, pending orders etc. is the same page (/orders/show) with a different parameter (/orders/show/pending /orders/show/completed), so this is what the orders controller (if the parameter == 'completed', show only these orders, etc.) and views are for .

ShippingOptions is maybe a model that doesn't need a controller, but then again maybe it would be useful for customer support to be able to look at the shipping options given an order id (but 403 if incorrect permissions)? Or maybe it would be useful to be able to fetch/update just the shipping options via javascript for the frontend? This is what the shippingOptions Controller and Views are for (note - not all views are html)",1528475064.0
Blimey85,"Guess it would really depend on what the tutorial was trying to convey. If you‚Äôre looking at one that doesn‚Äôt need certain things it shouldn‚Äôt include those. You can create a file manually or generate it. When running the Rails generator you can pass in just what you want and you can also configure it to skip the things you never need. I have mine setup to not generate things like factories. If I need a factory I‚Äôll create one when I need it.

Rails is very flexible. There‚Äôs no requirement to have a view and you can render in json for example, with no view. Or you could have a model shared by multiple controllers or maybe it‚Äôs used by another model. That‚Äôs entirely up to you and what you‚Äôre trying to accomplish. ",1528528731.0
No_Fake_News,"Not every action or model needs a view, its up to you.  But when you create models using 

> rails generate scaffold  ‚Ä¶ 

that automatically creates some views and actions based on RESTful methodology which may have been the examples you saw*.
",1528477130.0
jaryl,"I wrote this some time back:
https://medium.com/@jaryl/disciplined-rails-models-controllers-the-rails-way-bbc940822136?source=linkShare-f2a7c90ec745-1528514153",1528514186.0
das3ingg,"I typically don‚Äôt write controller specs. I think it‚Äôs important to test things that your users care about and they absolutely don‚Äôt care how/what got to your controller. 

Instead, For an api, I‚Äôd write request specs. Set up your test, execute a method (ie ‚ÄúGET /todos‚Äù) and then expect the json response to be correct ",1528463971.0
CaptainKabob,"Are you also responsible for [https://www.phusionpassenger.com/](https://www.phusionpassenger.com/) ? 

I'm curious because I see that site is running Google Analytics, Lucky Orange, etc, but it doesn't have an intrusive cookie banner. I took a look at your Privacy Policy too. I wondered what the deliberative process was for making decisions (like not having a cookie banner), removing the last octet of IP addresses sent to GA, etc.",1528471991.0
dotaisreal,What are your goto (online)\-resources for getting actionable advice?,1528457976.0
nicolrx,Should we ask a Data Protection Agreement to all services our company use?,1528460307.0
hahahahastayingalive,"As a general feeling, Is there any basic assumption that you had to revisit, or was it mostly no-nonsense good practices ?

What was the most grindy/time intensive change that you had to make ?",1528462590.0
AmishPanda00,"Hi you've mentioned a ""data processing register"" a few times now and I have to admit I'm in the dark on this term. Is there an actual component or class in Phusion that processes data in a GDPR compliant manner?  Or is this a catch all term for a more stingent method of processing users?

",1528561548.0
MoooPower,"[http://edgeguides.rubyonrails.org/active\_record\_migrations.html](http://edgeguides.rubyonrails.org/active_record_migrations.html)

`bin/rails generate migration CreateTable1`

If you use the generator, it does the timestamp bit automatically :)",1528550143.0
janko-m,"    Time.now.utc.strftime(""%Y%m%d%H%M%S"")",1528489042.0
mferes,"i think you could process the first file when the whole upload is finished, saving each one by type first, and then do the logic in the nessesary order",1528434818.0
CaptainKabob,"Thanks for sharing this! I also have the same concerns. There is a very long discussion on the Rails project about exactly your (and my) problem along with some (eww) monkey\-patches: [https://github.com/rails/rails/issues/31419](https://github.com/rails/rails/issues/31419)

Just to give a concrete example, I develop [https://dayoftheshirt.com](https://dayoftheshirt.com) . There are \~80 images on the frontpage and they update every day. I'm using Carrierwave, storing those images in S3, with Cloudflare in front. ([media.dayoftheshirt.com](https://media.dayoftheshirt.com) \-\> Cloudflare \-\> S3). I customize the filename for SEO purposes too. I'm sticking with Carrierwave for now.",1528430427.0
Blimey85,I wonder if any of this will be addressed in Rails 6. I know one commit went in too late to be in the last release that had to do with a validation for ActiveStorage. I use CarrierWave and haven‚Äôt looked into AS much yet. I thought it was a bit quick to kill off PaperClip though. It has features not yet present in AS. ,1528430498.0
,"Glad to read about this now. I thought I would want to migrate from Carrierwave to AS, but this sounds awful.",1528448749.0
yeskia,"Totally agree with the sentiments of this post. I think ActiveStorage works great for private storage of assets where a user might only load one or a handful on a single request, but it doesn't work when you have public content where you load quite a few representations on a single page.

I wrote a post the other day on attempting to relieve this by monkey patching the representations controller. In effect this would force Rails to return the content of the asset rather than perform an expiring redirect to it. This would allow a CDN (like CloudFront or Cloudflare) to cache the asset. It would mean that the initial request to your app is slower as it fetches and returns the file from S3 but it does alleviate the load of subsequent requests.

I've only used it in the content of representations/variants - I still require fetching the underlying file to go through an expiring redirect.

https://www.neontsunami.com/posts/caching-variants-with-activestorage",1528519474.0
janko-m,"Yeah, I was surprised by this inefficiency as well. That means that the more images you're displaying, the more load you're putting on the database, because you're getting N\+1 queries. That's the cost of requiring Blob \+ Attachment database records to retrieve the attachment. When reading the code I only can find one Blob\-finding query, where is the other query performed?

There is also an additional HEAD request to S3 before redirecting to the S3 object URL, to check whether the processed file has already been generated.

I think it would be better to provide an option to stream those files through the Rails application, so that these requests are cacheable via the CDN.",1528444152.0
viktorsmari,"I am also trying to get non\-dev people to use Markdown instead of Word or similar for documentation so that we can put it in git. I am trying [https://stackedit.io](https://stackedit.io) which can publish to a Git repo (you must click the publish button). It can also publish to Google Drive.

Then there is also [https://dillinger.io](https://dillinger.io) and [http://hackmd.io](http://hackmd.io) 

I am betting on Markdown for the future of documentation, and trying to push people to use it.",1528441461.0
manfrin,"No idea what an HAACP plan is. Your company should use dropbox or something similar, having a single person with limited coding skills make a management system for likely important documents is a recipe for failure in the future.

Rails is a good hammer, but not everything is a nail. ",1528429229.0
jamesinjapan,"I use [DokuWiki](https://www.dokuwiki.org/dokuwiki) with the [Approval plugin](https://www.dokuwiki.org/plugin:approve) to manage my quality documentation at work. It has versioning, approval by authorities, etc.

To manage my list of non-wiki documents, I have a page in the Rails database of the lab that checks our storage on DB, S3, etc. and then save the updated date, etc. ",1528432519.0
tucker-,"Storing regular Word docs in git won't work as you might expect. Because native Word formats are binary. Git works best with plain text documents.

Look into whatever software legal offices and courts use to manage their documents. They deal with a lot of changes. There was one app (might have been web-based) I stumbled across a long time ago that had diff-like features but the app name escapes me now. ",1528438651.0
cmd-t,"You can just do `Article.new(category_ids: [1, 2, 3], ...etc)`

A many to many is called has_and_belongs_to_many in Rails parlance. You can see what you can do with such a relation here: http://api.rubyonrails.org/classes/ActiveRecord/Associations/ClassMethods.html#method-i-has_and_belongs_to_many

Since you hook up the two models with this relation, and give the proper name to the join table, rails just knows what to do. It‚Äôs not that weird a concept. I suggest you play around in the console, adding categories and removing them from one or more articles, and check what SQL queries rails performs. 

By the way, has_many has similar capabilities, and Rails will just update the relationship ID on the related model. Just experiment and you have a good grasp quickly. ",1528396594.0
alhafoudh,Working as intended. https://stackoverflow.com/questions/13924365/rails-freezes-when-searching-through-tmux-output-buffer,1528369762.0
jujubean67,"As someone with 7+ years of ruby/rails exp: plenty of us are out there, but we will not work for Wordpress ""developer"" salaries. ",1528359287.0
,What kind of rates is your company offering?,1528355994.0
creativeintent,"As most comments aren‚Äôt trying to add any value, I‚Äôll offer my thoughts from a UK-based perspective...

I‚Äôm a Rails developer and former CTO of 3 years. I ran tech for a London-based startup built on Rails and React.

When it came to hiring team members, we really struggled to find anyone with any reasonable Rails experience to join the team. Often we resorted to hiring great PHP developers that showed an aptitude for learning new languages and we‚Äôre looking for a new challenge. 

It wasn‚Äôt ideal, due to the initial learning curve, but it was a means to an end. 

Anyways, why is it so hard to hire a Rails dev? In my experience, most of the experienced developers are happily contracting. The UK has a thriving market for Rails contractors, particularly in and around London. 

We interviewed many experienced developers whilst hiring and more-often-than-not we found that they weren‚Äôt really looking for a full-time gig unless we could offer them a salary in the region of ¬£100,000.

That‚Äôs simply no an option for most young companies and so you either hire a multitude of contractors or you retrain a developer from another language. However, we then found that these developers would eventually leave to work as contractors anyway because the money on offer is much more than we could ever consider. 

As much as it‚Äôs a PITA as an employer, it‚Äôs a great market for us as developers. So much so that I‚Äôm the end, I resigned as CTO and am now happily contracting (mostly Ruby and Elixir) myself!

",1528361207.0
kcdragon,"> This is in Australia, so maybe that's a factor, I don't know.

This wouldn't be a factor if you were open to remote developers.",1528380800.0
BLITZCRUNK123,"""Why is it so hard to find work?""

\- Rails devs",1528360030.0
amphibious_shark,"Are there any job openings?
Can we apply to the company?",1528357038.0
kilik2049,"On the other hand, it's super hard to find Rails company in my country. There's maybe 3 in my city, and it 's one of the IT hubs in France.",1528358006.0
,"1) You probably aren't offering enough money.

2) The hiring process might suck. I work full time, I don't have time for 5 interviews and a weekend coding challenge for each job I apply for... especially if point 1 is true.

3) Job postings might be lackluster or contain some red flags.

4) Remember that the Rails devs without jobs are usually juniors. You have to make a job really attractive to lure an experienced dev... otherwise you're getting a junior.

Summary: make the hiring process more attractive and offer more money.",1528389240.0
jasdeep13,"We are a 4-person (all full stack Rails/React/Angular devs) team based out of Toronto, Canada. Let me know if we can help? 

",1528357030.0
Muchaccho,"Everyone seems to be talking about mid to senior level Rails developers.  

What about juniors?  

I see many job offers for mid or senior Rails positions, but at least based in my experience, it's rare to see positions for junior Rails developers.  

If we don't give opportunities to juniors how are we going to have mid and senior developers?  

Those people who started with Ruby and Rails and can't find an opportunity might pivot to JavaScript or PHP.",1528452958.0
zZaphon,Well for me it's a visa issue. I've been a Rails Dev for about 4 years now and I get messages all the time about getting hired but as an American with a visa that has about 3 months left it seems like that's a big issue for most companies.,1528364247.0
MoooPower,"OP, is it possible the environment might not be conductive to the kind of folks who would do heavy engineering works?  


You said you worked for a ""studio"", that sound like it is more of a web design shop than an engineering shop.   My experience with those type of shops in the US is they tend to try and do turnarounds as quickly as possible and the quality of any engineering/programming work is shoddy at best.  It isn't the kind of work that would draw a lot of people who are interested in solving interesting problems or developing complex systems.  I would actually compensate a slightly lower salary to work for a real company on real products that has R&D thought out through many months and years rather than work for such type of shops.",1528381770.0
wmjbyatt,"I'm an American Rails Dev who worked as a senior in the Gold Coast for about six months, and here are some of my observations. They're localized to the SE QLD area, I don't know if the generalize to wherever you are.

It seems that developer training in Australia is still pretty weak. Anecdotally (I can't find data), it really seemed like Australian universities are still designed to churn out engineers into mining-related industries first and foremost. QUT has huge and robust civil engineering, process engineering, and mechanical engineering programs, but there wasn't a lot of CS or software engineering presence on campus, and where it was, it really focused on embedded and systems development (again, for mining first and foremost).

On top of that, software really benefits from a strong startup culture, and I didn't see much of that in Brissie or Gold Coast areas. For example I didn't meet many people who were working on startups, and I didn't see a lot of startup-focused community resources (like coworking spaces and the kinds of workshops they tend to offer). Back stateside, a lot of the Rails devs that I know are people who learned Rails in order to launch some personal project, and either they exited or the project failed, so now they're looking for more stable work.

Third, there's a lot of really competitive options for the good devs out there (because the talent pool is so small). When I started applying for work in Bris, I had three offers inside two weeks, and I was able to negotiate up to a strong A$100k salary, *after* employer contrib to super, despite having zero Australian references for the employers to call. And this was at an established company where I genuinely wasn't asked to work a minute more than my 37.5 and I got all that freakishly enormous time off you Oz folks get--I don't know how the culture is for studios there, but in the States, you'd expect to have to burn past those norms for deadlines every now and then.

So that's just some thoughts. If you want to attract talent, you'll have to invest real money in them, and try to find ways to plug into the developer education pipeline, by either getting in close contact with a local boot camp (if there is one) and being willing to train juniors, or do the same thing at local universities.",1528386721.0
caadbury,"1. It's a candidate-preferring environment right now.  More jobs than people looking for jobs so candidates can be picky.
1. Most devs are happy where they're at and it would take a lot for them to leave -- and not just money.",1528395656.0
unabl4,"As a Ruby/Rails dev with ~5 years of experience, I'm struggling a lot with finding a job here, where I live (Eastern Europe). Only one job ad that I'm aware of.
I wonder if there are any remote work possibilities?",1528399327.0
intentions_are_high,"Any junior rails devs in Chicago? Ping me, we‚Äôre hiring. ",1528416912.0
hauska7,I am a Rails dev looking for work ;),1528442167.0
DamaxOneDev,"There's not enough developers in general. It isn't Rails specific.

I was junior not that long time ago. Despite showing good abilities in Ruby and Rails, I never get an offer (even with a low salary). The main issue was the lack of experience in Rails.
For front-end and PHP, I never had issues to get offers even without any experience.

Feels like the Ruby/Rails community have an issue to let juniors have their first experience in the first place.
Motivated juniors are hugely important. I had juniors that didn't like Ruby and it isn't make them good developers even after 1-2 years.",1528597496.0
AMBasra,We are a team of 15 Rails developers. Our experience ranges from 6 months to 15 years. If we can help do let me know.,1528358418.0
pills4,I found about 15 in 2 days on Upwork.,1528357565.0
mirror_maru,What city is this in?,1528363707.0
jordanaustino,"Maybe done try to hire good rails devs and hire just good devs.

Sure someone who knows your stack is very valuable but any good dev can learns rails easily.",1528386905.0
No_Fake_News,I guess I'm a rare breed then.  I'm learning on the Rails framework.  Tried PHP before but find Rails so much more straight forward and well organized.  Guess that is the beauty of a framework,1528399862.0
robotsmakinglove,"Ask what you are offering: What's the compensation? What's the benefits? What is the work life balance like? Do you support developers going to conferences? Here's an example of some of the general perks? 

For example \- Basecamp offers this: [https://basecamp.com/about/jobs](https://basecamp.com/about/jobs) \- awesome Ruby on Rails developers expect things similar to this or a massive swing towards compensation.",1528405935.0
ShaiDorsai,"Wha - I love Rails but figure I'll never get a studio gig because everyone is SWOON only about having '20 years of JavaScript experience'

I honestly thought that no one was hiring rails devs anymore.",1528406126.0
Dombot9000,"Something to consider, there are a considerable number of startups in the AU ecosystem who roll rails. Perhaps you're competing with them for hires?

Also pay, interest of work, location, team, company history etc.",1528423397.0
bbchiu,"Actually, I'm thinking of relocation to Australia. I'm a senior developer in Asia region, and it's easy for me to find jobs here since I'm quite experienced. But looking for jobs abroad and outside my comfort zone, not that easy though @@",1529059115.0
yeskia,"This is more of a HTML/CSS question rather than a Rails one, but you'll probably want to look into using flexbox which will allow you to align content vertically in the viewport.",1528354701.0
hmaddocks,"https://github.com/SamSaffron/memory_profiler

https://github.com/MiniProfiler/rack-mini-profiler/blob/master/README.md

",1528306490.0
stympy,Take a look at https://scoutapp.com,1528295219.0
trustfundbaby,"Have you tried using jemalloc as per
https://www.mikeperham.com/2018/04/25/taming-rails-memory-bloat/",1528308032.0
SagaciousCrumb,"https://newrelic.com/ <-- expensive

https://skylight.io/ <- great feature that actually counts object allocations",1528308018.0
latortuga,Newrelic free tier still gives great info about slow actions and memory consumption. It won't give you fine-grained results but it's still pretty useful. Heroku graphs are also pretty good. Analyze your slow or memory intensive actions with the sharper tools locally.,1528316375.0
doughtz,Scout is pretty good ,1528333594.0
doughtz,1GB is pretty good for memory. How large of a database are you querying? Are you querying entire objects in big groups?,1528333653.0
toadallyfroggincool,"[https://grafana.com/](https://grafana.com/)

If you like charts",1528314010.0
0x7E3,"1. TVQueue  
2. Keep up with tv shows you are watching, know when they are have aired so you can watch them on your streaming service of choice.  
3. Vanilla Rails with a sprinkling of Javascript. PostgreSQL.  
4. https://www.tvq.ninja/  
5. https://github.com/Deep-Red/TVQueue  
6. Seeking a Junior developer position  
7.  
 1. An account is required, but I don't verify your email so if you aren't concerned about keeping access to your account you can use an @example.com fake email address to sign up. 
 2. In addition to general feedback about the app, I'd like advice on how to approach finding a job as a developer.",1528306620.0
raen79,"1. Fie
2. A Rails\-centric frontend framework running over a permanent WebSocket connection.
3. Rails \+ Opal \+ Redis
4. [https://fie.eranpeer.co/](https://fie.eranpeer.co/)
5. [https://github.com/raen79/fie](https://github.com/raen79/fie)
6. Developer
7. Give me a shout if you think it's cool :p",1528330670.0
sylvezine,"1. RailsVault
2. RailsVault is a leaderboard of the top Ruby on Rails starter repos to get your Rails app off the ground, fast
3. Middleman deployed to Netlify
4. [https://railsvault.netlify.com/](https://railsvault.netlify.com/)
5. [https://github.com/heyspacetime/rails\-vault](https://github.com/heyspacetime/rails-vault)
6. Designer ;) and beginner ruby dev
7. I'm looking for more Ruby on Rails starter app. If you have any in mind feel free to fork the project to contribute, or list them here and I'll add them.
   1. Also interested to know what you think. Could this be useful?",1528516801.0
ALTopedia-Jake,"1. ALTopedia
2. A site where people who are teaching English overseas (primarily in Japan) can share and search for activities to use in their classes.
3. Postgres, Sidekiq, Bootstrap, AWS
4. [altopedia.org](https://www.altopedia.org)
5. [GitHub](https://github.com/HeadBeeGuy/alt-activities)
6. Pretty new to Rails - only started learning it about 7 months ago
7. This is my first web app of any significance, so I'm looking for any advice from people who are more experienced. The layout is pretty basic, unsophisticated Bootstrap components. I'm going to need to sit down and learn a lot more CSS to make it look halfway decent. I've been mostly focused on the back-end. I'm finding that the AWS ElastiCache usage is quite high, so I'm wondering if I'm creating jobs that stick around and never get finished, or if I need to configure it to run leaner so it's not eating up all the AWS Free Tier hours.",1528549642.0
RobertHopman,"1. -
2. curated tools for startups
3. ruby, rails, carrierwave, s3, heroku, postgres, bootstrap...
4. https://discovertechnology.herokuapp.com/
5. -
6. < 2y
7. which tools do you use in startups that I'm still missing?",1528660930.0
endlessvoid94,"It's not open source, but here goes:

1. QueryClips
2. A drop-in replacement SQL runner for Heroku dataclips. I was frustrated in my last job because I couldn't easily invite non-engineers or have human-readable names for my databases. So I built a similar app with a bunch of extra features, including support for organizations, explicit security details, and support for MySQL as well as Postgres. Also had the opportunity to tweak the UI a bit.
3. Ruby on Rails 5, React, Postgres, MySQL
4. [https://www.queryclips.com](https://www.queryclips.com/)
5. Negative :(
6. 10+ years programming, 6 years as CTO at a startup
7. I have some issues with long-running client queries -- scaling horizontally works when there are predictable timeouts for things, but I'm hesitant to enforce a timeout on customer queries. Thus, one or two long running queries can block an entire dyno for a long time. Any ideas?",1529019263.0
hauska7,"1. Lalaurus.

2. Elo leaderboards for board/office games.

3.

Frontend: server side templates + React for more complex frontend stuff. 

Backend: Rails for handling network and Database but all logic is written in https://github.com/hauska7/rbrt (my other pet project).

4. http://www.lalaurus.com/

5. Private.

6. 3 years on rails backend.

7. Any feedback really.",1529391241.0
trustfundbaby,Gotta see your code ,1528270477.0
rahoulb,Open a console and run the sidekick job by hand. Sometimes sidekiq hides exceptions when the job is running in the background but if you run it in the foreground you get to see them. ,1528264734.0
tongboy,Is the job reliably getting enqeued and reliably run?,1528268748.0
0x7E3,"You actually said every thing you need to know. You know this, it just hasn't clicked. All the Invite class does is serve to connect an event with an attendee. Each attendee gets their own invitation for each event they attend. So, an invitation has to track two things; it keeps track of which event it is for and which user it belongs to. You use the primary key (the id) from one of each of these objects to link them in the invitation. There are a couple of ways to do this. In the simplest form, you can simply assign them directly. Assuming you already have a relevant user and event object assigned:

`Invite.new(user_id: user.id, event_id: event.id)`

In your controller you might use something a little more direct:

`invitation_params[:event].invite.build(:user_id, current_user)`

Either way, the result is the same. So, suppose you want the User with the id of 5 to attend the event with the id of 3. You could assign `Invite.create!(user_id: 5, event: 3)`.  
Then, when you call `Event.find(3).attendees` you will see user 5 listed.",1528269958.0
cmd-t,"It think it‚Äôs a good idea to let your db take care of the aggregation, since that is where your data is stored and the db is heavily optimized for making these calculations. Apart from that, you‚Äôre also moving less data around so you‚Äôd expect it to be faster as well. 

I‚Äôm personally not really a fan of using Arel directly. The rails maintainers have said multiple times that it‚Äôs an ‚Äòundocumented‚Äô (private) api with no guaranteed stable interface. I‚Äôd just make it 

`distinct.pluck(‚Äòunnest(categories.age_groups)‚Äô)`

which is what arel would generate anyway. And more friendly for people who are unfamiliar with arel. I wouldn‚Äôt shy away from writing a bit of SQL when it suits you.",1528261920.0
manfrin,"Age groups should be their own model, and a `Category` would `have_many :age_groups` which would allow `Event` to `have_many :age_groups, -> { distinct }, through: :categories`. Then all you do is call `event.age_groups` and it handles itself. 

You're using a relational database, don't do things like structure a complex data type (an array) as an attribute. You'll have nightmares when you then need to query by those individual elements. ",1528264322.0
hadees,"Honestly using Arel is super important if you want to create a good reports.  It's the only way to get the full usefulness of SQL.  But it's insanely verbose.  [I created this lib to help make calls.](https://gist.github.com/hadees/cff6af2b53d340b9b4b2)  Generally, my rule of thumb is to mix Arel pretty heavily with ActiveRecord. They can be used pretty interchangeably.

In your case I think it depends on if there are any huge performance impacts between the second and third one.  If you have a small number of results any of them will work.  Don't optimize prematurely.",1528266796.0
0x7E3,"[The Odin Project](https://www.theodinproject.com/courses) is an excellent way to get started. It includes the resources already mentioned here if that gives you some idea of how thorough it is.  I wouldn't normally suggest this, but since you already have an internship and are just trying to get up to speed on a specific technology, if you already know a bit about programming and how to set up your environment you may be able to get away with skipping straight to the Ruby section.",1528246175.0
DanielKehoe,My book [Learn Ruby on Rails](http://learn-rails.com/learn-ruby-on-rails.html) is popular. See the reviews on [Amazon](http://www.amazon.com/dp/B00QK2T1SY). It gives background that will help you before jumping into Hartl's (excellent) book or the Odin project.,1528357439.0
it_burns_when_i_php,"The Hartl tutorial is great for learning Rails, but if you want to learn Ruby I recommend Zed Shaw's [Learn Ruby the Hard Way](https://learnrubythehardway.org/book/).  Make sure to do all the Study Drills!

I also highly recommend Chris Pine's book [Learn To Program](https://pine.fm/LearnToProgram/). I purchased this one for the physical copy - I reference it a lot.  It's very well written, but you can read it online for free as well.

Happy learning!",1528244102.0
kokc13,"Hartl's tutorial and Odin project are both excellent. Not sure what your current knowledge of Rails is atm but for me, just ensure you know 100&#37; MVC and how it all link together. It's not too hard and I imagine you will pick it up pretty quickly but it will help no end! Good luck",1528247207.0
das3ingg,[michael Hartl‚Äôs tutorial](https://www.railstutorial.org/) ,1528243568.0
RobertHopman,"1. https://www.railstutorial.org/book/_single-page
2. after that just start building your own app :)
3. https://tech-craftsmanship.zeef.com/roberthopman",1528272891.0
knmaswath,"Learning by doing is the best way. I was in your position a few months before, tried many different tutorials.

But [**Rubymonk**](http://www.rubymonk.com/) is the best one for learning. Yes there are books . But reading a few hundred pages without doing practicing.

OOP is the important thing you have to learn. How one thing inherits from other, those kind of things . Many books teaches it verbally . But unless you get your hands dirty, it won't work. 

P.S - Read books after rubymonk for recap
GoodLuck",1528471345.0
appothecary,I don't think it's going to be a big deal. They couldn't have picked a better person from Microsoft to be the CEO of Github. Nat Friedman has been a part of the OSS community for a long time. I'm not a proponent of Microsoft but this is not the same Microsoft from the Ballmer era where they were outspokenly against OSS. ,1528239886.0
noodlez,"This acquisition probably won't result in a huge impact to the ecosystem.  Microsoft did a 180 on open source software a few years ago after Nadella took over.  And Microsoft already supports some large in-house Rails projects, like Yammer, which was bought a million years ago and AFAIK is still going on top of Rails.



",1528245318.0
aarkerio,"It would be very interesting to compare this approach with a presenter:

http://nithinbekal.com/posts/rails-presenters/

In general I always try to don't ""overcharge"" my controllers.",1528235862.0
hmaddocks,"Very interesting, but the correct way to do this in MVC is the ‚Äúverbose (non-Rails) way‚Äù you described at the beginning. Just pass the model to the view. ",1528227675.0
the_exiled_shoe_lace,"Great article. I've been looking for ways to help make my controllers easier to read but not obfuscate them by the use of before actions all over the place. This seems to borrow ideas from MVVM where the view asks the controller (view model) for data, instead of the otherway around, which I'm definitely in favour of.",1528241575.0
tongboy,"I'd challenge your statement that decent exposure is a *big* library.

it doesn't get in the way very often and makes for some tiny controllers, which is really nice. The additional components and options in DE make it a lot easier to support the decorator and other patterns that further help shrink down the view section of MVC as well - well worth the tradeoff IMO",1528232250.0
Muchaccho,"I really like the ‚Äúverbose (non-Rails) way‚Äù.  

    def show
      user = User.find params[:id]  
      render :show, locals: { user: user }    
    end


If it follows best practices, only adds an extra line of code, and makes your life easier with partials, why is this not a more common practice in the Rails community?",1528292366.0
Mallanaga,Feels as though you just moonwalked your way into the beginnings of GraphQL. What if the client requested exactly what it needed? Enjoy the rabbit hole!,1528296633.0
CaptainKabob,"I think this is really elegant and I'm in agreement about how views should be pulling data from the controller.

The one thing I'm still grappling with is the public methods on the controller now being ambiguous: is this method an action, or a resource. Even with restful controllers, I think of the public interface as being built for the router. But creating additional public methods corresponding to resources/data this it becomes a little more ambiguous. I'm still kinda thinking through it (it doesn't \_really\_ matter) and it's the one crack in the elegance I see.",1528431097.0
CaptainKabob,A couple solutions here: https://github.com/rails/webpacker/issues/705,1528212723.0
darrenhays,"Check out this article.

https://infinum.co/the-capsized-eight/i-moved-from-django-to-rails-and-nothing-terrible-happened",1528149254.0
acdesouza,"If I'll maintain your code in the future I'd be glad if you'd start with the book Agile Web Development with Rails.

Recommended by official Rails docs: http://guides.rubyonrails.org/

You can find it here:
https://pragprog.com/book/rails51/agile-web-development-with-rails-5-1

:)",1528173774.0
obviousoctopus,"Build a few tiny rails apps to try out different concepts  and the rails api. 

Learn ruby without rails ‚Äî see https://github.com/JoshCheek/ruby-kickstart for CS puzzles in ruby which gradually introduce the language. 

Do #2 first :)",1528156492.0
ezekg,"I've been using jsonapi-rb for the last 2 years (pretty much since the very early versions) and have no big complaints. Beauby reached out to me because I was having issues with AMS performance. When I need something fixed or have an issue, beauby, the author is quick to merge PRs and help out.

I don't use the deserialization features provided by jsonapi-rb, only the serialization. I wrote a custom strongly typed parameter deserializer which works a lot better for my particular API, and automatically transforms payloads into whitelisted model attributes/relationships.

Granted, fast_jsonapi looks good and is maintained by Netflix, but I'd like to see it benchmarked against jsonapi-rb. I went from > 500ms render times with AMS to < 50ms render times with jsonapi-rb.

One thing with jsonapi-rb is that I had to write my own error handler/serialization, because I don't think it supports automatic model error serialization yet. But that wasn't too hard.",1528141573.0
SquireCD,"Netflix's fast_jsonapi works great for me. I‚Äôm usually working in Rails, so an incoming JSON payload isn‚Äôt a worry for me as Rails handles that fine. ",1528140674.0
whobitchisdis,"JSONAPI Resources. Has its quirks, but overall it‚Äôs a pretty nice library.",1528148606.0
swrobel,"https://github.com/nicklandgrebe/caprese

Reasonably happy with it",1528141975.0
harbirg,https://github.com/cerebris/jsonapi-resources,1528171568.0
iKnowInterneteing,"Have you tried roar?

https://github.com/trailblazer/roar",1528211177.0
Serializedrequests,"I've been dealing with this as well. I recently noticed that ActiveModel::Serializers, which I've been using for two years, was abysmally slow and over-complicated, and now I have to replace it with something. Has anybody tried Trailblazer's [Representable](http://trailblazer.to/gems/representable/) gem? I bring it up only because I'm already using Trailblazer heavily, but it seems rarely-maintained and over-wrought for my needs, so I'm debating [fast\_jsonapi](https://github.com/Netflix/fast_jsonapi) vs [jsonapi-rbi](http://jsonapi-rb.org/) vs [jbuilder](https://github.com/rails/jbuilder) (seemingly the new Rails default).

I really just want simplicity, easy control over how relations are serialized, and primarily read-only. (I hate the fact that I still have no idea how AMS works under the hood after using it for two years and reading the docs repeatedly.)

My other big problem: N+1 queries. Some of my API endpoints use serializers that load a shitton of related data. I almost want it to crash if the data wasn't pre-loaded, rather than load it lazily. Sometimes it will reload all the data even though I had my controller :include almost everything. Very difficult to see what is happening under the hood. ActiveRecord is really killing me here.",1529351653.0
Arrio135,[https://github.com/Netflix/fast\_jsonapi](https://github.com/Netflix/fast_jsonapi),1528145778.0
kilik2049,I really don't know what to think about GraphQL.,1528193868.0
CaptainKabob,"I do it slightly differently. 

For pdf forms, I modify the original form to be a fillable PDF (using Acrobat; tho it‚Äôs possible to do it with other pdf authoring tools), and then use pdf-forms (a gem that wraps pdftk) to fill in those fields. 

In my experience, it‚Äôs much easier to author a PDF using desktop tools and then fill it in with pdftk than trying to recreate with prawn. 

I wish I had a less abstracted example, but this is a (very complex) example:

https://github.com/codeforamerica/michigan-benefits/tree/master/app/pdf_components",1528123466.0
hcollider,"I doubt my approach is best, but I ended up rendering a pdf with all the data I wanted on it, in the right spots, and then would merge in the other pdf as a background.

This approach worked best for me given the mix of pictures and text that was being added. 

This can be complicated over multiple pages, though. I'll post my code when I get home. ",1528128883.0
bgcali,"https://github.com/mileszs/wicked_pdf

I recommend it, easier to implement than prawn",1528163147.0
Hazz3r,"I'm not entirely sure what the question is here, but the[ Prawn manual](http://prawnpdf.org/manual.pdf) has a lot in information in it.

Is there anything *in particular* that you're having trouble with?

Is it not a  possibility for you to take a high\-quality scan of the form you currently use and add it as an image to the document? From there it's a case of just figuring out where exactly the field boundaries are through trial and error. Watch out for overflow and that should be fine.

You could even use the image to make it easy to draw out the layout yourself using Prawn's drawing tools and trial and error. It gets easier as you go along, because once you find out what the X value if for the leftmost boundary, you know what the X value is at the same leftmost point all the way down the form, and the same for right, top, etc.",1528124092.0
tongboy,Look at the thin reports gem,1528125643.0
sdn,I use prawn for forms a lot - prawn-table comes in really useful since I draw everything as a table with no border.,1528204458.0
D1ceWard,"Replace gem wdm (windows directory monitor) by listen, wdm like it name say, work only on windows.
> WDM is not supported on your system. For a cross-platform alternative, we recommend using Listen: http://github.com/guard/listen",1528103575.0
Rogem002,"Could you share your `Gemfile`/`Gemfile.lock` files? It looks like it's looking for the gem `wdm_ext`, but can't find it.

Alternatively I suggest running `bundle update listen`, committing the changes and trying again.",1528055969.0
phantomerrbrush,"`Detecting rake tasks remote: sh: 2: Syntax error: Unterminated quoted string remote: sh: 2: Syntax error: Unterminated quoted string remote`

Do you have any custom rake tasks or shell scripts? Looks like pretty early on, a tall isn't being run and that may cause the downstream errors youre seeing. ",1528085526.0
birchskin,"The gem wdm isn't supported where you are deploying, I'd guess you are developing on Windows deploying on *nix, but you'll need to replace wdm to work on the nix system",1528086320.0
cykness,"I‚Äôve never used fixtures for testing. Where I work we have fixtures because we had non user editable data that needed to be populated on production, and that‚Äôs probably not a smart decision either.

Factories for testing all the way. With FactoryBot you don‚Äôt necessarily have to hit the DB either which can make it faster.",1527988466.0
erandros,"One of the problems with fixtures is that they are saved in the database as is. So callbacks like `before_save` are not triggered.  

I use fixtures by default because of the simplicity, and I replace with factories in two cases:  
a) the model has callbacks  
b) the model depends on a model that is generated with a factory on tests (because fixtures can't depend on factories?)  

Someone correct me if I'm doing it wrong.",1527989815.0
dem_gainzz,"Fixtures are a form of mystery guest, and should be avoided if a goal is straightforward, easy-to-reason-about tests.",1528001432.0
JustinCampbell,"Fixtures are simpler for writing your first few happy-path tests, but quickly become unmaintainable as you begin testing edge cases, and then introducing new records into the fixtures starts breaking other tests.

For me, it‚Äôs easier to just start with factories. I make the initial investment of creating a factory whenever adding a model, so that I can use it to effortlessly write tests which exercise the database.",1528018040.0
Serializedrequests,"I don't really like them, but I do use them in projects without factories, or where a huge amount of data is needed to get the test to run. Especially in integration testing.",1528045858.0
cmd-t,"I‚Äôve been using fixtures for my latest project after using factories earlier. Personally, I‚Äôm going back to factories. I don‚Äôt like how fragile they feel, and since they don‚Äôt use validations when saving data, you can easily have models that represent state that should never be reached, leading to problems down the line. If you need a consistent base state, that‚Äôs also easily achievable with factories and helpers. ",1528046762.0
pjdavis,"if you use [database cleaner](https://github.com/DatabaseCleaner/database_cleaner), you can use transactions to roll back the db between tests instead of having to issue delete/truncate requests. ",1527997068.0
StormTAG,"Two tools in the toolbox.

I find factories way better for unit testing, since I can easily create the smallest functional data necessary to do the test. The setup on these varies a lot so factories are my go to here.

For BDD style feature tests, I usually find fixtures to be better. There's a lot less variation in the setup for these, and a lot of time I want a large pile of data to work with. Doing this with factories can be cumbersome",1527998981.0
amalagg,I don't like factories. They seem overly complex. I like the default rails way on this one.,1528112919.0
oztrax,"As the comments indicate, it's often personal preference. We have an app with a lot of model relationships, and trying to use factories to get all the data we need for a single test feels cumbersome to us.

Our approach is use the app to create a known initial data set, dump that to fixtures and then use it for tests. 

No matter which technique you use, managing test data feels like a full time job in itself sometimes. :)",1528119686.0
toobulkeh,You can mock out factories to test with without actually hitting the database. Only hit the database when you're testing something that needs it.,1527993013.0
scottishTrite,I might be totally misunderstanding your question but do you mean something like Google Analytics? ,1527973473.0
CptBash,Piwik analytics is a good free alternative,1527980453.0
barfolamew,"Ahrefs, SEMRush, Moz etc have API for some of those.  Time on page is not available unless you have access to the site‚Äôs analytics which it sounds like you don‚Äôt.",1527987099.0
erandros,"Sounds like you're looking for an analytics service, such as Google Analytics (not the only one)",1527990009.0
hartator,"Alexa or href, google analytic for your own website, SerpApi.com for Google search results",1527999091.0
muzfuz,You need to require the file ,1527967815.0
swerveone,You could subclass hash and create the method there.,1527976677.0
LewisStudying,But beware and don't practice this often. Monkey patching could cause unforeseen problems,1528011672.0
toobulkeh,"If you want all the posts in a category:

    @category = BlogCategory.top_level.first
    @posts = @category.posts

To get a sub category, and its posts:

    @sub_category = @category.sub_categories.first
    @posts = @subcategory.posts

To print out links to those collections of posts at either level, you'd just loop over them like any collection:

    <% @posts.each do |post| %>
      <%= link_to post %>
    <% end %>

If you wanted a full tree, it'd look something like this:

    <% BlogCategory.top_level.find_each do |category| %>
      <h1><%= category %></h1>
      <% category.sub_categories.find_each do |sub_category| %>
        <h2><%= sub_category %></h2>
        <ul>
          <% sub_category.posts.find_each do |post| %>
            <li><%= link_to post %></li>
          <% end %>
        </ul>
      <% end %>
    <% end %>

Hope this helps.",1527992910.0
Morganja95,Is this kind of question something that would be ok to ask here? Should I provide more context/code?,1527980208.0
SladeyMcNuggets,"No user is going to scroll through 40,000 items on a dropdown, there is no need to render them all. Having the most popular few categories rendered and then having a type ahead option is much better solution.",1527955724.0
aradabaugh,"I am not 100% sure of your flow. Does the 40k drop down change for each tenant? If not, you could ‚Äúwarm‚Äù the cache with a post-deploy take task and/or if it does change per tenant a Sidekiq job so the ‚Äúlong time‚Äù doesn‚Äôt happen for a via user. But honestly 40k is a lot. A better UX would be something like Select2.js (https://select2.org/) where you only load the first 10 or 20 (perhaps even the most common), then provide a type-ahead search box on top of the select.",1527955475.0
jemminger,"I've had great results using [Selectize.js](https://selectize.github.io/selectize.js/) and populating options via JSON generated directly from Postgres using the [surus gem](https://github.com/jackc/surus).

Here's an example generating 400,000 options in 0.3s on my mbp:

https://jsfiddle.net/yhryn3mm/1/

Edit: Searching with 400k options takes a while to display.  With 40k there's still a delay but it's fairly brief:

https://jsfiddle.net/yhryn3mm/2/

",1527957547.0
cars10k,"Rendering 40k entries takes time for the browser, too. You are probably waiting for that and not for the generation on the rails side. ",1527975916.0
swrobel,So where are you storing your cache if not redis?,1527986369.0
janko-m,"[Rodauth](https://github.com/jeremyevans/rodauth) is definitely an authentication framework worth serious consideration. It uses Sequel for all database interaction, so it's safe to say that it works well with Sequel :)

I haven't used it with Rails, but it does work with any Rack-based web framework, so it shouldn't be difficult to use it with Rails (you just need the [roda-rails](https://github.com/jeremyevans/roda-rails) gem).",1527896263.0
PastelTab,"Using sequel \+ rails 5.2 at the moment in 7 different projects.

We use devise for auth and almost everything has a sequel specific version.",1528012976.0
myme,"I wouldn't necessarily say that it's the best possible solution, but devise with [sequel-devise](https://github.com/ontohub/sequel-devise) works alright for me providing a simple admin backend authentication feature in a project that is currently on Rails 5.1.

A hack to suppress deprecation warnings from *after_commit* was necessary when I added it one year ago, but maybe that was fixed by now.
",1527956348.0
obviousoctopus,Thank you. ,1527962582.0
jules2689,"[Here is the style guide](https://github.com/Shopify/ruby\-style\-guide) and rubocop configs we use at Shopify

Edit:

The repo is private, but the github page is not:  http://shopify.github.io/ruby-style-guide and  http://shopify.github.io/ruby-style-guide/rubocop.yml and  http://shopify.github.io/ruby-style-guide/rubocop-cli.yml",1527875114.0
TODO_getLife,We just never run ours. It works.,1527877557.0
strgm_,"This one has comments about most of the choices:

[https://github.com/frab/frab/blob/master/.rubocop.yml](https://github.com/frab/frab/blob/master/.rubocop.yml)",1527874161.0
yatea34,"I like the one from Project Blacklight (a University of Virginia / Stanford search UI, http://projectblacklight.org/ ).

Here's their Rubocop file: https://github.com/projectblacklight/blacklight/blob/master/.rubocop.yml

It caught a few risky things we did - without being too intrusive.

",1527900443.0
NilsLandt,"The most important part is to disable all checks by default, and explictly enabling the ones you want.",1527948285.0
eric_programmer,"I disable most of the checks. 90% of them are just the opinion of the author of RuboCop and has nothing to do with code quality IMHO.

Even Matz was quoted as saying ""The default setting of RuboCop is very much different from my preference, and some of its rules puzzle me"".

Static analysis tools have use looking for security problems, method complexity, etc. But most of the ""rules"" are just so arbitrary.",1527882341.0
disclosure5,"I strongly disagree with the Rubocop quoting check. Playing with moving to single quotes every time there's no interpolation is just effort I don't have time for. Be consistent and use "".",1527944396.0
null-undefined,"Here's the setup we use:

rubocop -a

rubocop --auto-gen-config

And if the line length/class length breaks in our CI, we rerun the auto-gen config. In CI we run:

rubocop -P

Which runs all checks in parallel and fails with a non-zero status code if we break the rules. It's effective, but be prepared for a lot of ""I fucking hate rubocop"" commit messages lol",1527884536.0
editor_of_the_beast,"I never understand this logic:

‚ÄúThis framework has now reached a really stable level of maturity. It has a huge community of libraries for very common tasks like authorization. It‚Äôs not adding new features as fast as it used to, because of its stability and product market fit. It‚Äôs probably on the verge of death now, right?‚Äù

No, it‚Äôs just actually a viable tool now. The innovation on hammers stopped a long time ago, and people still buy them as it turns out.",1527859256.0
Rogem002,"> I love working with ruby and rails.

I think for that reason alone, it still has a pretty strong future :)

Saying that, Rails is a pretty mature framework. If you need to do something, there is probably a library for it. However it also carries a lot of legacy projects (which aren't exciting but do pay the bills), which can give people a negative impression of it.

Personally I'd love to see Rails rebrand itself when they launch 6.0, to help show off how far its come in the last few years.",1527851018.0
HelloAnnyong,"First of all I wish people would stop conceding Ruby/Rails' poor performance. Our API has a 100ms response time. Our web instances sit at ~4% CPU. For the vast, vast majority of people, Rails performs and scales just fine. This isn't aimed at you, but several top-level comments refer to Ruby's supposed poor performance and I'm like, give me a break.

I think it's a good idea to learn some other languages/frameworks to expand your horizons, but honestly, I'm far more confident in Rails' longevity than in Node Framework of the Week's. Rails has survived for 15 years.",1527861447.0
nanenj,"Of course it does.  It's still one of the most effective languages in allowing a small team to iterate and bring a product to market quickly.  


Boo hoo, it doesn't 'scale' \(Yes, it does.\), however, even if it didn't it performs well enough and your business is not one of the few unicorns likely to exceed it's ability to scale.  


These questions are borderline harmful because of how people ignorantly adopt ideas.  You reiterate X is dying enough and people being to panic and believe it's true even when it's not.  


Ruby and Rails are both maintained, they both are being actively developed, and they both power a ton of projects.  


If you choose to use Ruby and/or Rails in projects you control, it won't matter anyways, you'll be creating the future for Ruby and/or Rails at that point.",1527857568.0
davidpdrsn,"How do you define ""die""? I would say if the framework is still being maintained and used in actual production environments (both of which are true) then it isn't dead. I also don't see that changing any time soon.

I would personally be worried about building something in JavaScript because libraries and what is considered ""best practice"" changes rapidly.

Rails being a mature framework should be seen as a positive thing. It means you can trust it to be a stable framework for many years to come. By day I work on a 5 year old Rails API and Rails would still be my first choice if I had to start over today.",1527856008.0
rails_girl,"I keep finding this question, and it‚Äôs a bit scary but personally, I don‚Äôt see the problem. 

I find it very easy to change jobs as a Rails Developer and I get paid better than some JS colleagues with similar experience, just because ROR developers are not very common (at least that‚Äôs what I‚Äôve been told). I keep exploring and learning new languages just in case, but I don‚Äôt think Rails will die any time soon.",1527856837.0
Randy_Watson,"Over a long enough timeline, everything dies. Rails will one day fall completely out of use. It's a long time from now. There's really good money in being a Cobol programmer right now because so many financial institutions depend on legacy systems. 

Some Rails developers will be primarily employed to keep legacy systems up and running. A lot of SME's are going to use Rails because they don't need to scale and the risks of instability from emerging platforms cannot be justified. Even still, I know newer startups using Rails because it simply was the best choice for their specific product. 

Node (and other languages/frameworks) have certain major benefits. However, like a lot of the new hotness some companies jump into them because they think they need them when they really don't. I've seen companies using Rails backends with React frontends. 

Rails has a future as does Ruby. It won't be forever, but likely for a long time. The heyday of building everything in Rails is over, but that's probably for the better. ",1527860734.0
hartfordhobo13,"I assure you that Rails is plenty powerful enough for ANY project your future contracting company will ever build. It has far exceeded the needs of any project I have come across building in the last 5+ years. Furthermore, I see it as one of the best languages (I personally put it as the best) to ever get created. I think many people would agree with me too.

And yes Rails can scale fine, GitHub is written in Rails, and RailsConf this year was focused on scalability bringing Rails into the future. 

Anyone who disagrees, is a bafoon.",1527864264.0
antole97,"If your goal is to develop apps for businesses then the tool you use is irrelevant. Businesses simply want apps that can solve a problem they have and add value to their business. The only rule therefore is that you use what you are comfortable with and what will enable you to give maximum value and support to the businesses you serve. A lot of the hype in the Javascript community is fueled by people looking to sell their next book, conference, course, framework, tool etc. It can be frustrating depending on such hype drivers to make decisions on technology stacks.",1527863733.0
janko-m,">But it seems like a lot of devs are moving towards javascript. I like using react and redux, but IMO the whole javascript ecosystem is a mess.

Moving the frontend to JavaScript doesn't mean you still can't use Rails, it just means that your Rails app would provide a JSON API instead of rendering HTML.",1527864214.0
phpkcuf,"You're probably looking for confirmation bias since you posted in this sub, instead of somewhere more generic.

But the answer is probably not. If you're using them on your own apps, then who cares? Use what you like. It's not going to die and stop working or anything.",1527851684.0
hardwaregeek,"I think rails certainly has *some* future. There's definitely enough companies using it that it'll exist for the next five to ten years. But for Rails to flourish or generate hype (which is not necessarily a good thing), there needs to be some radical change. For instance, if Ruby's JIT takes off, or if someone could make a fork of Rails that strips all the excess and adds some killer features (ridiculously good graphql support? Even faster development speed?). Don't get me wrong, I love Rails, but developing on Rails right now is as much a game of what not to use as what to use. If someone were to take the elements that I like (convention over configuration, code generators, a well integrated ORM) and just strip the rest, I would be very interested. ",1527855554.0
janko-m,"When a file is submitted via a HTML form, the parameters including the file content are sent in the request body in [multipart form data format](https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/POST#Example). Rack, the webserver interface that Rails is built upon, automatically parses the multipart form data encoded request body and saves results in `request.params` \(just like it does regular POST parameters\).

However, since the file parameter has multiple information with it \(filename, content type, actual content\), Rack saves it in a Hash:

    {
      :name => ""file"",
      :filename => ""cats.png"",
      :type => ""image/png"",
      :tempfile => #<Tempfile:/var/folders/3n/3asd/-Tmp-/RackMultipart201-1476-nfw2-0>,
      :head => ""Content-Disposition: form-data; ..."",
    }

The file content is what gets saved to the Tempfile object \(which is very similar to a regular `File` object\). What Rails then does is it wraps this Hash in an `ActionDispatch::Http::UploadedFile` object, providing reader methods such as `#original_filename` and `#content_type`, while any other IO methods such as `#read` and `#size` are delegated to the underlying Tempfile object.

So, the purpose of the `ActionDispatch::Http::UploadedFile` class is to wrap the Hash of file data that Rack creates on file upload requests.",1527852126.0
toadkicker,Maybe help us help you a little with a more specific implementation detail? http://api.rubyonrails.org/classes/ActionDispatch/Http/UploadedFile.html for reference..,1527849505.0
zanzabarito,"Hey everyone!  
    
Over the past few weeks I've been collecting a ton of data on developer jobs and startups, and I'm working on creating visualizations/reports that help display some of the key findings from that data.  
    
It's still a work in progress and I'm still going through the data, but thought I'd share my data on ruby/rails jobs so far.  
     
Some of the interesting take aways so far:  
**- ~91K was the average salary from 1,200+ jobs**  
**- Almost 50% of the jobs had an average salary offer over 6-figures (USD)**  
**- 18:1 ratio of jobs explicitly looking for Senior vs Junior talent**  


Still working on adding to this and going through the data, but thought this was interesting so far. Let me know what you think, or if there's information you think I could add to this to improve it!",1527811551.0
ohyeahbonertime,Code climate ,1527803226.0
D1ceWard,Take a look: https://github.com/whitesmith/rubycritic,1527799297.0
opsidao,"Besides more complex solutions, you could easily throw an influxdb and a grafana together and add a task you can run through a github webhook or a Cron job to just post the number into influx (you could also use elastic search, of course, but it's probably too much for what you seem to want).

Then it's just a matter of graphing it in grafana and start thinking about other things you want to track ;)",1527804802.0
jaxn,Codacy,1527827139.0
cars10k,You should \*\*never every\*\* edit the schema file yourself.  If you want to make changes to your database or add a new model you have to write a migration. Running the migration will then update your database \*and\* the schema file respectively.,1527843528.0
MonopolyM4n,"Make sure before you move to a final release for production consolidate all your migration files into as few as possible. Then in the future only use migrations to change model, don't change the schema.rb file directly or you will have to drop/reseed and you will lose all the data. How to manage a lot of migration files post release is a topic that may be worth looking into ",1527802390.0
hsndiz,"This isn't easy to do reliably. I add a fourth environment ""staging"". Dev and test db are built. But the staging db is sampled from production. I have a script to clone all the important bits of the production db in miniature that also protects the names of the innocent. Then I can run my migrations on this staging db as a final check to ensure my migrations of data look sane. ",1527818079.0
MaterialDish,"You don‚Äôt need to recreate your database if model changes are not complex, which can be written as migrations. Check this rails guide out. http://guides.rubyonrails.org/active_record_migrations.html

If you are considering zero downtime during modifying schemas, it is a different problem. Check how facebook does. https://m.facebook.com/notes/mysql-at-facebook/online-schema-change-for-mysql/430801045932/",1527794148.0
dom_eden,"You'll want to use Rspec request specs for API testing. Fairly straightforward.

Check out Slate for producing beautiful yet functional API documentation: [https://github.com/lord/slate](https://github.com/lord/slate) \- I think that might impress them.",1527791705.0
annaswims,"I'd run my code through [rubocop](https://github.com/rubocop-hq/rubocop), to check for style",1527797350.0
shayhtfc,"When I've done API endpoint testing, I've basically just used rspec and put calls to each API endpoint and then tested the JSON response. Nothing more complicated than that really.

As for documentation, if you Google for the Google maps API, or the GitHub API, then have good API documentation that you can copy from.",1527790243.0
d4be4st,Try https://github.com/infinum/dox and get great docs while you write your tests.,1527798827.0
darksparkone,"Not exactly sure, but try GitLab's code, they were quite an example of structure and quality.",1527790952.0
wolfenkraft,"After fighting with rest-client and getting angry at its inconsistency, I found excon. Haven't used it yet, but it looks more sane. ",1527768829.0
parthmodi54,"https://github.com/mina-deploy/mina/blob/master/docs/getting_started.md

This gem helped me deploy a client's rails application. It has clean set of commands, consice readme section and good number of plugins (sidekiq, clockwork, puma, etc) to make deployment process smooth! Deploys app within seconds. Allows to ssh, run console etc. My server was behind bastian host, so extended ssh command a bit. ",1527784034.0
RepSchwaderer,This is a discussion about using PG window functions within Rails if that interests you.... Not very 'gemified' or anything [https://blog.codeship.com/folding\-postgres\-window\-functions\-into\-rails/](https://blog.codeship.com/folding-postgres-window-functions-into-rails/),1527775313.0
gisborne,"You can use any function, including window functions, in a select clause.",1527782820.0
janko-m,"Sequel has an API for window functions, via [`Function#over`](http://sequel.jeremyevans.net/rdoc/classes/Sequel/SQL/Function.html#method-i-over) (you can see more examples in the [`Window`](http://sequel.jeremyevans.net/rdoc/classes/Window.html) class). For example, this SQL:

    SELECT category, favorites, row_number() OVER (PARTITION BY category) FROM trips;

would be written in Sequel like this:

    Trip.select(:category, :favorites, Sequel.function(:row_number).over(partition: :category))

Not sure whether you were looking for an Active Record extension.",1527809143.0
meagar,"Having more than seven actions in your controller is often a smell. Having *97* controller actions is a very serious design flaw.

It seems like you should have a single action that accepts your `tagged_with` arguments as parameters.",1527732600.0
Lightor36,"I've always tried to adhere to only using default actions (create, update, etc) in my controllers.  If it starts to need special things, that tells me I need another controller.  This keeps each controller very specific and concise.

Also, having 75 methods in a controller is a MASSIVE code smell.  Even if they are private and used for the basic actions.  I myself like the service based approach to controllers.  They should hand data to a service and deliver the results of the service's actions, not much more.  This keeps the controller a very small branch node instead of a massive leaf node in your architecture along with the added bonus of the service being reusable.",1527881905.0
waiting4op2deliver,"You don't have to use coffeescript, In fact, I would go out of my way to avoid it. If anything spend time getting familiar with the webpacker gem, which will put you in a more standard js environment.

EDIT: Also since coffee is a super set of js, you can just write normal js even in coffee files.",1527726992.0
in0pinatus,"It's optional. I'm using actioncable in Vue components via webpack(er) with otherwise vanilla ES6, works fine.
",1527727197.0
hsndiz,"If you're doing anything more than appending html to a container then you had better use webpacker because your js will inevitably warrant the complexity in about one week's time. If you're sending json, instead of backend rendered html, over actioncable then you should probably use a frontend. I migrated through these steps myself. Now I'm using webpack and sending json over actioncable, and my frontend is basically an organic library similar to stimulus. If you're doing more stuff, like updating table of contents links as you append from actioncable, then you should probably use Vue or something like that. ",1527776843.0
micketic,"You don't need to use coffeescript. Check out my 2 days old app (https://github.com/indusbit/subsdash).

I've used webpacker and put all my JS code in `app/javascript`folder. I am using actioncable with yarn, and writing it all in good old Javascript (ES2015 though).

Relevant actioncable code  - https://github.com/indusbit/subsdash/blob/master/app/javascript/cable.js

See it being initiated here - https://github.com/indusbit/subsdash/blob/master/app/javascript/components/plans/plan_form.vue#L92",1527792644.0
excid3,"You can do exactly that. Just check if the user is signed in in the omniauth_callbacks_controller and save the tokens and data.

Comment out the line in the shared devise view to disable the login with Twitter link and put it somewhere inside your authenticated app instead.",1527724122.0
endlessvoid94,"Yes. They're designed to work together, as mentioned in the Stimulus README: https://github.com/stimulusjs/stimulus",1527718159.0
yeskia,"Absolutely. I use this set up right now.

Stimulus and Turbolinks are built to work together.

Bootstrap won't clash.",1527739742.0
robotsmakinglove,Yup.,1527737123.0
chrisjstelzer,"Fantastic, thank you everyone who replied! I knew Turbolinks and Stimulus were designed to work together, I just wasn't sure if Bootstrap would throw a wrench in the works. ",1527775346.0
adrienpoly,"Here is a demo project I did recently with BS4, Turbolinks, Stimulus and Flatpickr (with the stimulus-flatpickr wrapper). if it can help 

[https://github.com/adrienpoly/rails\_stimulus\_flatpickr](https://github.com/adrienpoly/rails_stimulus_flatpickr)

It all plays super nice together. At the end I am getting a single page application look and feel with no Ajax, and only 10 lines of JS. 

&#x200B;",1536652563.0
StormTAG,"Depends on the other requirements but here's some assumptions:

1. A `Professor` can teach multiple `Lecture`s on the same `Subject`.
2. A given `Lecture` can only be about a single `Subject`.
3. A `Lecture` can have multiple `Comment`s

So you end up with something like...

    class Professor < ApplicationRecord
      has_many :lectures
      has_many :subjects, through: :lectures
      has_many :comments, through: :lectures
    end

    class Lecture < ApplicationRecord
      belongs_to :professor
      belongs_to :subject
      has_many :comments
    end

    class Subject < ApplicationRecord
      has_many :lectures
      has_many :professors, through: :lectures
    end

    class Comment < ApplicationRecord
      belongs_to :lecture
      has_one :professor, through: :lecture
    end",1527696307.0
aarkerio,http://blog.flatironschool.com/why-you-dont-need-has-and-belongs-to-many/,1527720014.0
kornbred,"So the issue you are having is `invalid?` runs the validations on the instance of the model object so even though you are adding an entry to the errors hash, it will be overwritten.

Here is a crazy thought, why not just build an object that will meet the conditions you want?",1527681988.0
xly,"I‚Äôd try something like this:

allow(whatever).to receive(:invalid?).and_return(true)
",1527692662.0
toobulkeh,I would wonder why this view error is on the model. Models have validation errors which can be tested by using invalid parameters.,1527682029.0
losangelesvideoguy,"I'm not entirely sure what you're trying to do here. It looks like you're trying to get a list of all expenses for all accounts? If so, you can set that up as a relationship like this:

    has_many :editable_expenses, through: :accounts, source: :expenses",1527672961.0
irishsultan,"What do you get if you simply call `Expense.find(4)`?

What do you get if you call `Expense.where(account_id: [1, 3, 11]).pluck(:account_id)`

If you call `Expense.connection_config`, does it list the DB connection details that you expect and that you used to verify that the account_id is indeed 3 in the DB?

edit: you've also switched the acc and exp arguments to the inject block, it doesn't really matter in this case, as they are quite symmetric.",1527692675.0
hovancik,"please show us ""errors"" you see",1527663109.0
RandomRocketScience,"Imo just start applying. With the current shortage of it staff, i was able to get hired without a degree and just a couple of tutorials under my belt.
I now get paid and also have a mentor ;)

You might have to start as a trainee though, which means less pay for a year or so. ",1527660870.0
Simonchibao,"I have worked with Rails professionally for over 3 years, PM me if you need help/advise free of charge.",1527673653.0
gkosmo,Use the google api and the geocoder gem. You'll want to save the latitude and longitude associated to the address of the store. Use the gmaps js library to show it all ,1527618552.0
Blimey85,"Check out GoRails. Chris did a video, a couple actually, that will walk you through how to set this up. This is what I used to set up mine and while I went beyond what he covers, this got me going quickly. ",1527635594.0
toadkicker,Also I recommend Mapbox. Great JS API and beautiful maps with lots of control over how they look.,1527637094.0
toobulkeh,"Not to persuade you from development or building a product, but more just curious -- why are you building an app instead of using an off the shelf product? Google maps allows custom creation of maps and permission management on those maps.

https://www.google.com/maps/about/mymaps/",1527638198.0
toadkicker,To all of you recommending google maps please note they will charge for access starting on the 18th.,1527728269.0
exige1981,"Sounds like your link for ""new"" is pointing to the show path.

You'll need to post your routes, controller code and the view code if you want more specific help.",1527612105.0
Lightor36,"Assuming this is a general ""can you do good code"" review I would look at a few key things myself.

* Naming convention.  Often overlooked and a few strong indicators of how maintainable someone will keep their code.  Good naming of model/classes/method/even variables can make a huge difference in debugging/refactoring.

* Size of code.  By this, I mean how big are methods/classes/controllers.  IMO a good dev will have a lot of extraction already done and if possible DRY to the point of reusing code where it makes sense.

* Infosec and privates.  Are they keeping their privates private?  Are they serializing info where possible?  Are they using public IDs for 3rd party interfaces?  These things could matter more or less depending on your business.  It could mean a whole lot with HIPPA info and not much at all with a stupid little game.  Still, it's a good indicator when someone does it regardless.

* Performance.  This is kind of a no-brainer.  From things like short circuits to maybe bloated ActiveRecord calls.  There are countless things here that could be taken into consideration.

* Metaprogramming, not even once.

* Polymorphism, if it makes sense, and they did it well, kudos.  On the other hand, if it could have been implemented obviously but wasn't, anti-kudos.

That's just a few off the top of my head.",1527883257.0
CaptainKabob,"I‚Äôm curious what your goals are for reviewing the projects. For example I could see two very different kinds of reviews:

-	review how maintainable they are. where there are sustainability issues (tech debt) and how well they meet business needs. To give a go/no-go on whether to keep investing in them or starting over. 
-	review them as an advocate. Why are these apps well-built and fun for someone to work on. What‚Äôs unique about how they‚Äôve evolved over time to meet the business needs. To convince CTO and new devs that these are strong projects. ",1527737904.0
dfmtl,"Interesting, I thought the trailblazer part was funny!",1527523228.0
MoooPower,1 & 4. All things I use are tools if used in the right way.  Rails is still amazing üëç,1527526881.0
hauska7,Haha great I am on own perfect architecture box.,1527524574.0
mrmontrose,"I am on 4. I have found Rails is an excellent starting point. However, at some point you end up with a huge monolith and it become more and more difficult to maintain. Just depends on what your situation is.",1527528105.0
jssaassj,"Laughed a lot!
What did you use to generate your diagram??",1527537712.0
betasve,"I'm 1 and 4. Rails is a tool. If it's not working for you, you either are using it incorrectly or for the wrong protect. There is no software that's one stop shop.",1527568803.0
skryking,Been in a little phase one loop for about 11 years or so and still loving it.,1527596855.0
andey,fuck outta here with node as an alternative,1527525386.0
luismoyanomedina,Lol really funny! May I print it?,1527523215.0
janko-m,"I feel like it's missing an outcome where ""trying Hanami, ROM, DRY, Sinatra"" results in joy ;\). That's where I would be. Btw, I would also add ""Roda, Sequel"" there.",1527581906.0
nanenj,"My thoughts?   This is incorrect.  But, eh, whatever, trendy people will try to be trendy. :\)",1527538136.0
coderhulk,"I have over 10 years professional experience programming and several years prior learning (self taught).

I have two side projects I do work on and would encourage you to find something however also strongly encourage you to ensure you maintain a good work life balance otherwise you will eventually burn out.

I've found it very difficult to find good clients for side projects. I've tried a number of freelancing sites and generally you spend more time dealing with everything else rather than coding.

I do some work with a charity for a few month of the year at a heavily reduced rate. This client found me actually after I worked for an agency and did a bunch of work on their site, when I left they approached me (with approval from my previous boss) I accepted them as a client.

I also have my own personal side project with about 5000 users and about 4 years old now, it doesn't make much profit as again mostly used by emergency service volunteers it does cover its own costs.

The reason I recommend finding a side project, especially one like your own with at least a paying customer is you will learn so much more for example some of the things I have learnt doing my own side projects and taking ownership include:

- Managing code of a long period of time
- Living with your good and bad code
- Learning how to do things on a budget
- Balancing client expectations vs your own

This list could continue for days along these lines.

Hope this helps if you want to know more please feel free to ask.",1527506514.0
hovancik,"Be part of rails community (local, global)

- meetups
- conferences
- groups
- chat

Usually that's good place where to find some gig. 
",1527506415.0
oniksfly,Hi! What kind of payment did you prefer and your expectations? If you want you can response me at PM. ,1527518081.0
wakeuph8,"It may sound stupid and obvious, but have you installed the gems required? Maybe in your hello.sh you could do a bundle install before calling the rake task - it'll increase the execution time but it should also only take much longer 
 if there are changes to the Gemfile.",1527497392.0
hernanat,"What was your idea behind having an `Upcoming` model? I'm confused by the statement of your problem and what your `Upcoming` model is supposed to represent (upcoming courses with a status of upcoming? Not sure what that means). If my attempt at understanding the goal is correct, I think I would do something like this:

```rb
class Course
  enum status: { draft: 0, upcoming: 1 }
  has_many :user_courses, dependent: :destroy
end
```

```rb
class UserCourse
  belongs_to :user
  belongs_to :course
end
```

```rb
class User
  has_many :user_courses, dependent: :destroy
  has_many :courses, through: :user_courses
end
```

In this way, you can do this:

```rb
current_user.courses.upcoming
```",1527481460.0
MaxHLap,"I recently released a gem for the exact purpose of doing conditions on your associations.

Here is how you can do it with the gem:

```
current_user.upcomings.where_assoc_exists(:course, status: :upcoming)
```

If you have a scope, you can use it instead:

```
current_user.upcomings.where_assoc_exists(:course, &:upcoming_only)
```

https://github.com/MaxLap/activerecord_where_assoc

You should really consider it as doing joins (which was suggested by someone else) when all you really want is to filter things out can lead to quite a few issues, as I note in this page:

https://github.com/MaxLap/activerecord_where_assoc/blob/master/ALTERNATIVES_PROBLEMS.md",1527519713.0
ropeney,"I don't have anything on me to test, but it's something like...

```ruby
current_user.upcomings.joins(:course).where(course: { status: :upcoming })
```",1527478912.0
toobulkeh,"A quick google searched turned up two things that might be a bit of help:

1. [SSO Example](https://github.com/WildApricot/ApiSamples/blob/master/RubyOnRails/SSO/application_controller.rb) from the Wild Apricot authors.
2. [This ruby wrapper](https://github.com/rapheld/pluot) to their API. It's a bit old (3 years) but having never used WA before, I'm not sure if that's a problem or not (Lots of APIs don't change in that much time). Even if it does, this wrapper may provide some suggestions on how to write your own.

That said, I would highly suggest writing an API wrapper and putting it into a lib place of your own app. While you're writing for WA right now, your org might decide to change to another Membership Management Software tomorrow, and you'll want to make the transition easy for your custom app. Putting it into it's own namespace will help delinate responsibilities in a domain-driven manner so there's a minimal interface you'll have to replicate for other replacement systems.

I'd use this piece of advice for any external API development. Stripe included. They're not going anywhere, but I've had clients get into fights with them and decide to switch payment processors at any point.

RestClient is a fine helper gem -- but just try not to build it directly into your own app.

Hope this helps!",1527460611.0
dave250,Rest client is my preferred gem for making web requests with Ruby. If you are interacting with a REST api then go to town!,1527460720.0
jonnyman9,Faraday (https://github.com/lostisland/faraday) and httparty are both pretty awesome (https://github.com/jnunemaker/httparty),1527461246.0
sixkorn,"Check out flexirest https://github.com/flexirest/flexirest

It makes it easy to call APIs and serialize it for the rails app, so you can use it in your app like an activerecord model.",1527468048.0
janko-m,"I would highly recommend [http.rb](https://github.com/httprb/http) for any HTTP interaction. RestClient is built on top of Ruby's built\-in Net::HTTP, which is not designed very well and can have some [surprising behaviour](https://engineering.wework.com/ruby-users-be-wary-of-net-http-f284747288b2).",1527508567.0
sixkorn,Stimulus for just enoigh JS you want.,1527368196.0
tristanAG,"I strongly suggest Vue or react. For me, I would go react (although Vue is a great framework!) jQuery is tested and true, but it‚Äôs a bit outdated at this point.. the react community and Vue community are way more active. ",1527365318.0
bradlis7,"Bootstrap is a visual framework that provides your widget. You can certainly continue to use is so you can skip a lot of design decisions.

For the JavaScript, I really like Vue.js myself, but you can certainly use a mixture of vanilla JS and jQuery as bootstrap already requires jQuery. Vue.js allows you to change a variable, and the entire UI updates immediately without manually doing so yourself.",1527363878.0
henrebotha,"React, Vue, Angular seem to be more or less the ""big three"" at the moment. If you're interested in learning for the purposes of employment, I'd especially recommend React.",1527365292.0
scragz,"React. Bootstrap is mostly for styling, for functionality like that you want something optimized for updating the UI. You can still use Bootstrap in a React app for the styling and layout.",1527365885.0
DerekB52,"I'm gonna say none. Vanilla HTML/JS and jquery is enough for you to build anything you need. Bootstrap is nice and you can use it. But I'd avoid stuff like vue and angular. The time spent learning one of these frameworks could be spent simply building your frontend in HTML/JS. And by building your UI yourself, you'll know what all of your code does, and won't have too many black boxes. 

You'll also know your code will continue to exist. Frameworks come and go and Angular or Vue could be dead in a couple years. React probably won't be dead, because of Facebook, but really anything can happen.

I'm not telling you not to use a framework, there may be one that you can learn quickly and will work for you, but you should really consider that you don't really need one. The founder of the Django framework, did a talk on people not really needing frameworks. It was worth watching imo.",1527366456.0
ylluminate,"Give a good look at [Hyperloop](http://ruby-hyperloop.org/) (React in Ruby via Opal, the Ruby to JS transpiler).",1527368353.0
homemadepecanpie,"As others have said Angular, React, and Vue are the big three right now (though there are plenty of other things out there). I think it really depends on how complex you expect your front end to become. Angular is probably the most complex and standalone of the three. If you are going to use Angular you will probably find yourself writing your entire app in Angular and just using Rails as a JSON API. Vue and React are much easier to just drop small components into an existing Rails app (though they can also be scaled up to the point the majority of your code is React/Vue).

In all honesty, you probably don't need to use a frontend framework for your entire app based on your description. You can probably get away with using mostly plain JS, but if you find yourself needing to keep track of state a few Vue/React components could probably help. I keep mentioning Vue and React together because they are very similar. https://vuejs.org/v2/guide/comparison.html has a good comparison. I personally prefer Vue since React is developed by Facebook and has faced some backlash for it's licensing in the past but if that doesn't bother you pick one and run with it.",1527395293.0
patrickfatrick,"Bootstrap not really a framework, it's a collection of styles and components that work with some prepackaged js. What you're looking for is something like React or Vue. They're similar but I'd probably recommend React first and foremost because I think it will have the most staying power. I think Vue is easier to get up and going with though.",1527398749.0
SminkyBazzA,"Did you mean frontend layout/design framework, or a JavaScript one like all the other responders here seem to be assuming?

As an alternative to Bootstrap, we use Zurb Foundation for Sites. It has sensible default styles, and a good range of well documented components.
",1527415378.0
chrisjstelzer,"Wow, thanks everyone for your replies. I have a lot to think about! 

I am really enjoying the discussion and appreciate those of you who presented arguments based on my specific needs. Thank you.",1527436592.0
obviousoctopus,"If you don‚Äôt know a front end framework yet I‚Äôd suggest view as the sweet spot between capability, speed, documentation, support, and **ease of learning**

It works really well with my rails brain. ",1527463530.0
chrisjstelzer,"Anyone have any opinions on Turbolinks + Stimulus JS?

Seems pretty cool b/c Stimulus uses Controllers and that is familiar to me, even though I'm a rails newbie.",1527550506.0
Lightor36,"Another vote for Angular, you can even throw in some CoffeeScript controllers if you wanna make it super easy to do.",1527882785.0
i_spot_ads,"Angular for large scale complex apps, Vue for small scale.


Although I do everything in TypeScript and Angular",1527414432.0
obahareth,"I use [Mongoid](http://docs.mongodb.com/mongoid/), it‚Äôs a gem that‚Äôs the officially supported (by MongoDB, Inc) ODM (Object-Document-Mapper) framework for MongoDB in Ruby.",1527320849.0
,What's your user case for using MongoDB over something more standard like Postgres?,1527314782.0
2called_chaos,Do you get any host or relative URLs in the end result? Using _url helpers and setting default host for action mailer seem right to me.,1527295148.0
Nrdrsr,Use the mail_view or some similar gem to test your emails in the browser and check the image url using inspect element in chrome.,1527298912.0
dooogall,"Try the **image_tag** helper, not the image_url.",1527318586.0
PM_ME_THICK_LADIES,Could also be mixed content. Make sure they‚Äôre available over https. ,1527346460.0
modnar42,"We use PG and Mongo in one of our apps and use Instrumental to get the information you‚Äôre talking about. We use the InstrumentalD tool to get basic performance metrics from PG and Mongo, then add custom metrics to the jobs to track the resource usage of particular parts of the code. 

I can elaborate more if that sounds helpful to you. ",1527295463.0
Treeasaurusrex,"We‚Äôre using this for multi-tenancy - https://github.com/influitive/apartment

We‚Äôve got a data heavy, high throughput platform and we‚Äôre very happy with it. ",1527254973.0
,[deleted],1527297565.0
amadman114,"https://github.com/discourse/discourse/blob/master/config/routes.rb#L332

Looks like there they're defining the routes based on their users. I don't use Discourse, so I don't know what this means in-context, but it looks like part of their multi-tenancy ecosystem",1527252122.0
tongboy,I forget exactly what it's calculated on but if the file is identical the asset digest will be identical,1527207430.0
your_power_is_mind,Depends on your deploy setup. Hopefully you have your assets shared between deploys. What are you using Capistrano?,1527205112.0
ziptofaf,"Here:

[https://github.com/ziptofaf/gdpr\-rails](https://github.com/ziptofaf/gdpr-rails)

I have built an application that tries to use Devise and complies to GDPR. It does use email hashing and per\-row encryption among other things. There's also opt\-in consent \(with versioning in case your ToS changed\).

As for IP tracking \- you look at this thing incorrectly. It's not that that you cannot do it, you can and even without user consent since it's considered vital for your operation and security \(just as long as you don't store it indefinitely\). It's also for security of users themselves \- if all login attempts have always been from US and suddenly you see one from Russia then it creates a very valid concern and might cause account to be temporarily locked down. You do need to mention that you are doing this but you have a legal basis to do so.

If anything I would suggest to look into your log files instead, now those are more dangerous as they track EVERYONE... although as said before, you can legally do that as long as it's not forever.",1527194521.0
dooogall,You'll need to outline the data that's stored when user's first create their Devise registrations. It's fine to store personal data as long as people agree to your terms before they 'sign up' for an account.,1527187023.0
TechnoEchoes,Which GDPR regulation in particular are you having problems implementing?,1527183512.0
_matthewd,"The version that makes the ruby source most closely match your original query is:

    base = VolunteerRecruitmentStatus.where(""override_recruitment_process != 't' AND dbs_number = ''"")
    base.where(""(override_dbs_process != 't' AND dbs_number = '')"").
      or(base.where(""application_form_returned_on IS NULL"")).
      or(base.where(""(references_process_completed != 't') AND (reference_1_returned_on IS NULL OR reference_2_returned_on IS NULL)"")).
      or(base.where(""interview_date_at IS NULL"")).
      or(base.where(""induction_date_at IS NULL""))

The actual executed query will be messier (the first condition duplicated into each OR branch), but they're logically equivalent.

Closer to what you currently have, rearranging the order of the source yields a simpler query by putting the ORed parts first, and then applying the common conditions afterwards:

    VolunteerRecruitmentStatus.where(""(override_dbs_process != 't' AND dbs_number = '')"").
        or(VolunteerRecruitmentStatus.where(""application_form_returned_on IS NULL"")).
        or(VolunteerRecruitmentStatus.where(""(references_process_completed != 't') AND (reference_1_returned_on IS NULL OR reference_2_returned_on IS NULL)"")).
        or(VolunteerRecruitmentStatus.where(""interview_date_at IS NULL"")).
        or(VolunteerRecruitmentStatus.where(""induction_date_at IS NULL"")).
        where(""override_recruitment_process != 't' AND dbs_number = ''"")

Either way, once you have the ORs behaving, you'll probably want to hashify the conditions, e.g.

    base = VolunteerRecruitmentStatus.where(dbs_number: """").where.not(override_recruitment_process: true)
    base.where(dbs_number: """").where.not(override_dbs_process: true).
      or(base.where(application_form_returned_on: nil)).
      or(base.where.not(references_process_completed: true).yield_self { |x| x.where(reference_1_returned_on: nil).or(x.where(reference_2_returned_on: nil)) }).
      or(base.where(interview_date_at: nil)).
      or(base.where(induction_date_at: nil))

Finally, these are a lot of conditions, and they feel like they have some higher-level names that can be applied. Named scopes will help with readability and reduce the amount of detail piled into one ""line"":

    class VolunteerRecruitmentStatus ...
      # I'm obviously making up names here, you know your domain better
      scope :not_started, -> do
        where(interview_date_at: nil).or(where(induction_date_at: nil))
      end
    
      scope :references_not_completed, -> do
        rel = where.not(references_process_completed: true)
        rel.where(reference_1_returned_on: nil).or(rel.where(reference_2_returned_on: nil))
        # or use the reordering trick again:
        where(reference_1_returned_on: nil).or(where(reference_2_returned_on: nil)).
          where.not(references_process_completed: true)
      end
    
    ###
    
    base = VolunteerRecruitmentStatus.where(dbs_number: """").where.not(override_recruitment_process: true)
    base.where(dbs_number: """").where.not(override_dbs_process: true).
      or(base.where(application_form_returned_on: nil)).
      or(base.references_not_completed).
      or(base.not_started)

",1527178508.0
lift_heavy_things,why don't you just make the query string in the .where multiline and include the ORs in it instead of chaining .or? ,1527176054.0
toskies,"Definitely going to have to use Arel to build this query if you don't want to pass in the raw SQL query string.

The `.or` method creates a new grouping each time it's called. If there are more than 2 conditions, it wraps the left condition in parentheses.",1527177809.0
hersha,You prolly are going to have to dip into Arel to get that complicated nesting right.,1527176142.0
toskies,"Here's the query using Arel. It's ugly and very verbose, but it seems to produce the query you want.

```ruby
VolunteerRecruitmentStatus
  .where(
    Arel::Nodes::And.new(
      [
        VolunteerRecruitmentStatus.arel_table[:override_recruitment_process].not_eq('t'),
        Arel::Nodes::Grouping.new(
          Arel::Nodes::Or.new(
            Arel::Nodes::Grouping.new(
              Arel::Nodes::And.new(
                [
                  VolunteerRecruitmentStatus.arel_table[:override_dbs_process].not_eq('t'),
                  VolunteerRecruitmentStatus.arel_table[:dbs_number].eq('')
                ]
              )
            ),
            Arel::Nodes::Or.new(
              VolunteerRecruitmentStatus.arel_table[:application_form_returned_on].eq(nil),
              Arel::Nodes::Or.new(
                Arel::Nodes::Grouping.new(
                  Arel::Nodes::And.new(
                    [
                      VolunteerRecruitmentStatus.arel_table[:references_process_completed].eq('t'),
                      Arel::Nodes::Grouping.new(
                        Arel::Nodes::Or.new(
                          VolunteerRecruitmentStatus.arel_table[:reference_1_returned_on].eq(nil),
                          VolunteerRecruitmentStatus.arel_table[:reference_2_returned_on].eq(nil)
                        )
                      )
                    ]
                  )
                ),
                Arel::Nodes::Or.new(
                  VolunteerRecruitmentStatus.arel_table[:interview_date_at].eq(nil),
                  VolunteerRecruitmentStatus.arel_table[:induction_date_at].eq(nil)
                )
              )
            )
          )
        )
      ]
    )
  )
```

Here's the SQL it produces:

```sql
SELECT 
  `volunteer_recruitment_statuses`.* 
FROM 
  `volunteer_recruitment_statuses` 
WHERE 
  `volunteer_recruitment_statuses`.`override_recruitment_process` != 't' 
  AND (
    (
      `volunteer_recruitment_statuses`.`override_dbs_process` != 't' 
      AND `volunteer_recruitment_statuses`.`dbs_number` = ''
    ) 
    OR `volunteer_recruitment_statuses`.`application_form_returned_on` IS NULL 
    OR (
      `volunteer_recruitment_statuses`.`references_process_completed` = 't' 
      AND (
        `volunteer_recruitment_statuses`.`reference_1_returned_on` IS NULL 
        OR `volunteer_recruitment_statuses`.`reference_2_returned_on` IS NULL
      )
    ) 
    OR `volunteer_recruitment_statuses`.`interview_date_at` IS NULL 
    OR `volunteer_recruitment_statuses`.`induction_date_at` IS NULL
  )
```",1527179753.0
tbuehlmann,Just throwing [Scuttle](http://www.scuttle.io/) in. \*throw\*,1527182542.0
StuartGibson,"We keep them in the same repo, but the root is just a containing folder, the front end itself is a completely standalone Angular app, not integrated with Rails in any way. It feels sensible to me, since you wouldn't have the source for other clients like iOS/Android apps living inside your Rails folder.",1527142832.0
yeskia,It's up to you really. I like to keep them together as it's conceptually nicer and easier to perform integration tests between the two. If the apps were bigger and distinct enough it might be helpful to separate them out from each other. Especially with Webpack support available out of the box in Rails the need to separate them earlier is reduced.,1527140599.0
phects,"Integrating the frontend app into the Rails app with webpacker and react-rails for example gives you the advantage of being able to directly (server-)render React components from your erb/haml/... views and use Rails caching. Also deployment is less complex.

So if you do not need several frontends or just want to try an API only Rails app with decoupled frontend, no complete separation means less effort.",1527146044.0
ClikeX,"I've been seeing this separated approach a lot more recently. I think it's great. Doing a refresh on the frontend down the line is a lot easier this way. Also helps for cases where you have different frontends for the same data \(Desktop vs App\). Forcing yourself to consume your own API is also nice for API support.

That said. u/phects makes a good point. Integrations offers some extra perks, as well as less complexity.",1527162904.0
,I do the same with React and Rails,1527168423.0
hhunaid,This is the way to do if you want to create a PWA.,1527172736.0
seainhd,"Most large companies will actually keep them together.

It's easier to change the code when you don't have to switch repos.",1527516603.0
peanutdronetree,Download virtual box and Ubuntu. It‚Äôll be a closer experience to deving on your Mac as opposed to windows.,1527134657.0
DerekB52,"Ubuntu. I don't care how you use ubuntu. You can install it to free room on your hdd, install it to a second hdd, or you can overwrite your windows install. But, Ubuntu is what you want. Bash shell, and relative ease installing rails. Idk how you personally install rails on a mac, but I use RVM, and it's not bad. Whatever method you use to get it up and running, will probably be done identically on Ubuntu. Or any linux distro. But Ubuntu is a nice starter distro.

You can also use elementaryOS, which is built of ubuntu, but borrows heavily from macOS UI design. Or Linux Mint, also built of Ubuntu, but UI looks a bit more like windows (windows 7 era)",1527137310.0
d_spencer,Why not dockerize your app and that way it doesn't matter what platform you're using.,1527137971.0
cykness,"When this happened to me it ended up being the most unproductive weeks I‚Äôve ever had. But yeah, setting up a Ubuntu VM will be your best option.",1527135423.0
flaiks,"Just use docker, I recently bought a new laptop and rather than setup the environment again, I just Dockerized the app",1527143672.0
jivetones,c9.io,1527171422.0
tastycakeman,now would be a good excuse to use docker.,1527138161.0
rvaen,Dual boot Ubuntu. Up front cost of setup but worth it,1527135728.0
cheald,I swapped to a full-time Kubuntu desktop several months ago and haven't looked back. I massively prefer it to both my previous Windows install and OS X on my Macbook.,1527152808.0
D1ceWard,"Any linux distro (i recommend Arch <3) + RVM, just never install ruby system package from your distro.
",1527161677.0
strzibny,I recommend Vagrant (or Docker as other mentioned) and create a portable environment that is as close to production as possible. That means try Ubuntu if you already have it on servers. Other than that I have to recommend Fedora which always offers up to date Ruby version (unlike other distros) and comes with the latest Gnome 3 (actually very nice experience).,1527683500.0
kobaltzz,"I've published a few screencasts on this topic with getting a Ruby environment up and running with Ubuntu, Docker, and Windows. While the Ubuntu video is geared towards a production deployment, the concept is still the same with getting the Ruby interpreter on the machine.

Honestly, I'd look at your day to day needs beyond development. If your company is reliant on applications that are for Mac/Windows but do not have Linux apps, then I would go the WSL or Docker route. If they have Mac/Linux apps, but nothing for Windows, then it would make sense to go the Ubuntu or potentially the WSL route. I also think that you should pick whichever one that you feel you will be most productive with. At the end of the day, your employer will care less about the environment you're working with and more about the coding you're doing.

Windows WSL \- [https://www.driftingruby.com/episodes/ruby\-on\-rails\-development\-with\-microsoft\-windows\-10](https://www.driftingruby.com/episodes/ruby-on-rails-development-with-microsoft-windows-10)

Docker on Windows \- [https://www.driftingruby.com/episodes/intro\-to\-docker\-on\-windows](https://www.driftingruby.com/episodes/intro-to-docker-on-windows)

Ubuntu \- [https://www.driftingruby.com/episodes/production\-deployment\-on\-ubuntu](https://www.driftingruby.com/episodes/production-deployment-on-ubuntu)",1527163458.0
121lazz,"The rails tutorial by Michael Hartl is excellent: https://www.railstutorial.org/

It takes you from nothing to a full fledged app. I recommend typing the lines instead of copy pasting and also try to see if you can implement a solution before reading ahead.

If the MVC approach is new to you, and you'd like a more lightweight intro, this might be interesting: https://www.codeschool.com/courses/rails-for-zombies-redux",1527111228.0
johnnyashes,"I would second Hartl's material with one caveat that also leads right to Mr. Hartl. 

If you don't have much programming experience, I would recommend following his www.learnenough.com tutorials. You can jump in wherever you are comfortable from command line to rails. I am currently a rails developer but kind of skipped JavaScript which he uses as a prerequisite to Rails. 

Also, this might be the only resource for command line education I have seen.",1527112443.0
Blimey85,"In addition to a tutorial I‚Äôd suggest both GoRails and DriftingRuby. They do videos on particular topics and if you join GoRails there‚Äôs a Slack channel with very helpful people for when you run into issues. There‚Äôs two other Slacks I‚Äôm on for Rails but I‚Äôm on mobile so can‚Äôt give you the servers at the moment. I really like Slack because it‚Äôs real-time, you get to know people, and much friendlier then Stack Overflow.

One thing for me is looking at stuff beyond what‚Äôs right in front of me. By that I mean years ago I attended RailsConf and a session on search with geolocation. Had no need for it but found it interesting. Later when I had a project that needed that I had a good idea of how it wood work and where to start. With GoRails he does some stuff on Vue and some things that I don‚Äôt need right now but he explains things very well and it helps me to become a better programmer. And of course he has videos on things I do need and that lets me hit the ground running when adding those features. ",1527114111.0
TillyGang,"I think it depends how you learn best. I did a few tutorials but I believe what has helped me most is Udemy courses.

I started with https://www.udemy.com/pro-rubyonrails-starter/learn/v4/overview

I am now working on https://www.udemy.com/the-complete-ruby-on-rails-developer-course/learn/v4/overview

And once complete I plan to take https://www.udemy.com/professional-rails-5-development-course/ 

Also it seems like there is a sale 90% of the time so courses are usually $10 to $15 and not the $200 price it shows.",1527174739.0
,"If you have only done HTML/CSS I would suggest, as I always do, you find simon allardice on Lynda.com and take his principles of object oriented programming series.  There are other princples courses, it's a series, but I only ever took that one",1527122700.0
soda-popper,"You can use the config/schema.rb to review which attributes each model has. 

For a full diagram of the relationships between models and their data you can use the [rails-erd](https://github.com/voormedia/rails-erd) gem.",1527107743.0
wycleffsean,"Let's say you have class `User`, you can say `User.reflections.keys` to get a list of the associations.  I do this in rails console all the time.  If you wanted to do this for all the models

    Rails.eager_load! # doesn't work in all versions
    
    ObjectSpace.each_object(Class).select{|c| c < ActiveRecord::Base }.each do |model|
    
    pp [model.name, model.reflections.keys]
    
    end

If you wanted all the columns \- `User.columns.map(&:name)`

Lastly there's the annotate gem [https://github.com/ctran/annotate\_models](https://github.com/ctran/annotate_models)",1527111523.0
SagaciousCrumb,RubyMine will list them all in the sidebar when you expand the Model class name. ,1527166143.0
oztrax,"This isn't directly related to your question about a list of attributes, but the `rails-erd` gem can generate a visual model map that I've found useful in seeing the ""big picture"" on model relationships. [https://github.com/voormedia/rails\-erd](https://github.com/voormedia/rails-erd)",1527318601.0
andyw8,"The Rails code runs on the server, JavaScript code runs in the browser:

https://www.codeconquest.com/website/client-side-vs-server-side/

There are many things which are only possible with client-side code, e.g. animations.",1527093232.0
tadrinth,"Unfortunately, browsers support running javascript but not ruby. So all clientside code has to be javascript.",1527111045.0
uncle-enzo,"http://www.nextweeksplaylist.com

Get a weekly Spotify playlist of bands coming to your favorite venues. 

Vanilla rails with a sprinkling of JS. PostgreSQL.

Senior dev.

Any questions?

Typos
",1527084083.0
Twinpair,"1. Eventor

2. Basically an EventBrite clone

3. Rails 5, Geocode Location Service, Bootstrap, Jquery, Ajax, Postgres

4. https://rails-eventor.herokuapp.com

5. https://github.com/Twinpair/Eventor

6. I would consider myself an Junior/Mid Rails developer. 

7. Any feedback / tips would be appreciated. ",1527100862.0
endlessvoid94,"It's not open source, but here goes:

1. QueryClips
2. A drop-in replacement SQL runner for Heroku dataclips. I was frustrated in my last job because I couldn't easily invite non-engineers or have human-readable names for my databases. So I built a similar app with a bunch of extra features, including support for organizations, explicit security details, and support for MySQL as well as Postgres. Also had the opportunity to tweak the UI a bit.
3. Ruby on Rails 5, React, Postgres
4. https://www.queryclips.com
5. Nope sorry
6. 10+ years programming, 6 years as CTO at a startup
7. Curious what other tools people use or what other frustrations they have with their data access tools",1527097185.0
hank_scorpiooo,"Need advice for new project.

1. Warehouse Management System
2. I want to write a system can manage inventory items that we ship out of our warehouse. We sell on Shopify, so I need it to integrate with their API. The warehouse workers will need to be able to log in, and start scanning items via a scan gun. Scanned items will pair up with orders pulled from Shopify, figure out best shipping, and then print labels. Managers should be able to see orders and inventory, track progress, and automate orders to our vendors/distributors.
3. Ruby on Rails, AWS for hosting, MYSQL for DB, React, Bootstrap (looking for a new alternative tho)
4. n/a
5. n/a
6. Experienced web dev (.Net, Spring, HTML/CSS, Javascript) mainly UI/UX and enterprise logic with some db experience, but new to Ruby and Rails.
7. I would also like recommendations on the best gems to get started with. Also, advice on hardware integration with Ruby would be welcome.",1527174793.0
AdvancedPizza,"- Flatreader
- Ok, this is a Sinatra project... hope that's cool... Flatreader is a tiny, simple RSS reader. 
- Sinatra, Postgres, Redis(sidekiq), Capistrano, Bootstrap, jQuery(i know), webpack. very little JS for now. Passenger, Digital ocean hobby.

- http://flatreader.com

- https://github.com/ckahle33/flatreader

- 6 years (PHP, then rails for 3 years).. so mid level???

- Any feature requests, and any design / UI advice. I sorta like feedly, but think there are too many features that don't necessarily help you get to reading, and the monthly fee is too damn high. 

TODO/question: Capistrano webpack deployment. I will probably write a one off task to run npm build production that will create bundle.js. Maybe there is a better way. (webpacker requires rails)",1527265046.0
prekarius,"1. [Self-Rally.org](http://self-rally.org/)
2. Redo unmaintainable legacy site. Site itself is a site for community of [Advanced Squad Leader](https://boardgamegeek.com/boardgame/243/advanced-squad-leader) players and main function is to track games played and calculate ratings for players.
3. Rails 5, Postgresql, Running in Heroku (though staging db now in AWS to avoid the row limit of the free plan
4. http://selfrally-staging.herokuapp.com/
5. https://github.com/thepanu/selfrally
6. Beginner, haven't ever been paid for code
7. At the moment I am almost done with importing the legacy data and then I can concentrate on making it functional view and otherwise. But before that I want to flesh out my tests. That is part that I struggle the most, how and what to test.

I mean, at this point is it just ok to look at simplecov report and try to green things? For example I just turned coverage for this [model](https://github.com/thepanu/selfrally/blob/master/app/models/elo_rating.rb) to green with these [tests](https://github.com/thepanu/selfrally/blob/master/spec/models/elo_rating_spec.rb). What blind spots I leave if I do it like this? My intention is in the future to build the tests more in sync with the features. Also, I would like to learn TDD. ",1527450326.0
chabv,"This runs 
Successfully installed sqlite3-1.3.13
Parsing documentation for sqlite3-1.3.13
Done installing documentation for sqlite3 after 0 seconds
1 gem installed 

But bundler fails ",1527047907.0
yeskia,"If you're using your app origin as a source for CloudFront, then any time you hit the CDN it's going to go fetch it from your app. It's not a massive deal, but there are some things you can do.

1) You can set a default object for the CDN - so if someone hits the root of your CloudFront domain they get that asset instead. I normally just set that to the logo. It just means that if someone ever hit the root URL they won't be looking at the home page of my app.

2) You can adjust the constraints of the origin in CloudFront - i.e. to only fetch assets that start with `/assets` (like they would if you use the Asset Pipeline, otherwise `/packs` if you're using Webpacker). That way if someone tries to request something from the API that doesn't meet that constraint it'll end up caching a 404, and that's fine.",1527037721.0
syntaxsmurf,Can't speak to the ruby part but 36C is not very hot for a CPU perfectly fine on that front.,1527030037.0
seedlings89,"This might be relevant:
https://github.com/rails/rails/issues/26158

tl;dr Comment out the following block in development.rb

    # Use an evented file watcher to asynchronously detect changes in source code,
    # routes, locales, etc. This feature depends on the listen gem.
    # config.file_watcher = ActiveSupport::EventedFileUpdateChecker",1527030683.0
jemminger,"Are you using an editor that uses the solargraph gem?  

https://github.com/castwide/solargraph#using-solargraph

I find occasionally that my CPU usage will spike too, and the ruby process traces back to this gem.
",1527032200.0
hhunaid,I have the same exact problem except its always the rails console. Problem started arising when i upgraded to rails 5.2 and ruby 2.5,1527033507.0
noodlez,"attr_accessor, attr_reader and attr_writer are all ruby methods.  So no.

attr_accessible is a rails method and was deprecated as default functionality in the move to strong_params, a safer param security model.  If you want to make use of this functionality, you can load up the protected_attributes gem to regain it.",1527011350.0
98jetta,"These are Ruby methods, not rails methods",1527008407.0
in0pinatus,"> how many of you here are self employed? 

I've been an independent consultant and contractor. I've also been a senior consultant in a successful boutique dev shop. Currently I'm running a startup I founded, and I'm the majority shareholder so you could say I'm self-employing, indirectly=)

> do you recommend it?

Only if you already have a good network and don't mind feeling quite alone much of the time. Contractors/consultants are often not considered ""part of the team"" so emotional resilience is essential. You also need a decent financial buffer for the downtimes; consulting income is pretty lumpy. It helps to have a supportive/understanding spouse/life partner who doesn't mind that I'm spending next week in Singapore or taking a conference call with Seattle at three in the morning. It also helps me a great deal to have a dedicated home office space.

>How do you score clients? What business sectors do you target or make apps for often?

I have a network of people with spending authority that've worked with me before and will ask me to help out or recommend me to others. The word-of-mouth recommendation is worth ten thousand cold calls.

I start from a default position of ""happy to work with anyone"" but apply black marks for unethical behaviour, harmful products, appalling culture and so on. I ruled out defence and big oil long ago, telcos and financial institutions are often borderline, and I tried government sector once and said ""fuck that never again"". Life's too short to give your waking hours to people or organisations you don't respect. Not everyone has this luxury, but good developers in first-world nations do.

> What are ranges you charge for a project?

I charge by the day. It's a *lot*, but I'm super experienced in multiple tech fields and can pitch myself as a CTO for hire, not just a developer. But even as an freelance dev I was always by the day. Fixed price work I think is toxic, the incentives are poisonous on both sides of the deal. Also note that even with the best market conditions you should anticipate considerable gaps between gigs and you're responsible for all your own insurance, training, travel, tax/regulatory compliance, medical, equipment, self-care and so on. You should overestimate these costs; the overestimate is always less than the reality.

>How much experience should one have before they even start thinking pursuing Rails as a freelancer / consultant?

You don't *need* any if you're supremely confident and spectacularly good at self-promotion. Then you might be able to get yourself in the door as a warm body keen to learn. That was me at fifteen when sheer gumption & hubris (and luck) scored my first casual programming job at a science education center. Your negotiating position is basically nil and you'll earn peanuts. You're doing it for the experience.

I didn't follow this path, but I've seen people find mentors at tech meetups that taught them the ropes of running yourself as a business. I personally didn't go freelance until I was thirty and had a professional network and some experience as a business manager.
",1526968228.0
CrimeInBlink47,"I wasn't going to answer this, but then I saw the answer from /u/inOpatus and figured it would be nice to throw another opinion into the hat.

I'm self employed for the past year and a half. I'm an individual consultant with my own 1 man LLC. I pitch myself as more of a generalist backend / DevOps engineer, but Rails is the first framework that I learned and is how I got into the industry. I look for work in Rails often, but have somehow only worked one Rails contract out of a handful or so. This doesn't mean Rails work isn't out there, just that I find a lot more DevOps and JS related positions for whatever reason.

Would I recommend it? Most definitely. I work much less overall than I did back when I worked in the startup world and that leaves me room to live well.

Scoring clients is all about network as /u/inOpatus mentioned. I have sent a couple thousand cold emails and got nothing. I've worked with all clients I have through mainly a small tight network of folks from the first startup that I went to. When you work tightly with people and you're good, they'll end up hearing about work and thinking of you first. I'll talk about this more in second. 

Rate. Again, the other guy nailed. Charge by the day, not by the project. I do charge by the hour as well, but I usually push for my daily rate as it is so much easier to track and bill. DM me and I'll tell you rates and what you can expect through different levels of your career. 

How much experience... this is where I'll diverge from /u/inOpatus. I'll agree that yes, you can start as a freelancer without any industry experience and get junior jobs for low hourly pay, but I wouldn't recommend it. My suggestion is to go to your nearest city, apply to a bunch of startups and get a job there. I say startups because they'll force you to wear a bunch of hats and you'll have to absorb knowledge like a sponge if you want to do well there. Hopefully you'll also get a mentor there. 2-3 years at a job like that will give you enough experience that you'll feel confident in your abilities and will give you a start to a good network if you play your cards right. Then you can become a individual consultant.

That was my route expect the startup I worked for got acquired, I moved across the country, became head of the project, and then started managing the team. That was all useful experience as well because now I can run a meeting like nobody's business and I can talk much more confidently about how certain things should run. 

Ping me if you have questions. Good luck to you. ",1526993852.0
DallasRPI,"> If so, do you recommend it?

Being able to make my own schedule and have ultimate flexibility is a dream realized

> How do you score clients? What business sectors do you target or make apps for often?

I don't have clients I grew a long time hobby website (sportspyder.com) I built for fun to solve a problem of my own into a full fledged job supported by ad revenue

> What are ranges you charge for a project?

NA

> How much experience should one have before they even start thinking pursuing Rails as a freelancer / consultant?

Either way consider doing some sort of website or SaaS hobby to solve some problem that you can relate to.  Good way to learn new things and it may eventually take off!

",1527028177.0
TotesMessenger,"I'm a bot, *bleep*, *bloop*. Someone has linked to this thread from another place on reddit:

- [/r/ruby] [A few questions for the self employed Rails dev](https://www.reddit.com/r/ruby/comments/8m2d6g/a_few_questions_for_the_self_employed_rails_dev/)

&nbsp;*^(If you follow any of the above links, please respect the rules of reddit and don't vote in the other threads.) ^\([Info](/r/TotesMessenger) ^/ ^[Contact](/message/compose?to=/r/TotesMessenger))*",1527260264.0
GroceryBagHead,"If you only have view-level JS stuff, why do you need unit tests there? Why not just write system tests to check interactions? ",1526960573.0
bubbler63,You should check out stimulus js. It‚Äôs the best!,1526954558.0
zenzen_wakarimasen,"I just copy paste from the most recent project. Boilerplates are good to discover interesting gems and config options.

I also do a `rails new` every time Rails updates in order to see the new defaults.

On the other hand, bootstrapping a new app and configuring it should take one hour at most. This is usually nothing compared with the amout of hours of development most apps will need. ",1526946678.0
toobulkeh,"I contribute to Suspenders. It's great, if you buy into the Thoughtbot ecosystem. It's a little overwhelming (and downright confusing sometimes) if you don't.

As a seasoned rails developer spinning up ""production quality"" apps a lot -- I love it.

If you don't use Git or Heroku, then it wasn't meant for you though.",1526918422.0
,I use a boilerplate. Other places that build apps for clients that I'm familiar with do too.,1526945128.0
LegionSB,"Custom starter. Primarily using Rails's app template function, along with some build tasks to configure a few other things.",1526945491.0
portOdin,Here's a great open-source solution: [Rails Apps Composer](https://github.com/RailsApps/rails_apps_composer).,1527038052.0
toadkicker,It depends on how much I'm being paid and how fast I'm being paid for it,1526936683.0
sylvezine,"Saw this one today \- [Bullet Train](https://bullettrain.co/)

Haven't heard of anyone using it",1526928297.0
BLITZCRUNK123,sounds like you want /r/webdev rather than /r/rails,1526890658.0
amadman114,"This isn't really a html question, rather a CSS _and_ HTML one. We'll need your CSS too.",1526893243.0
ethboy2000,"You‚Äôre providing the sizes as integers rather than strings. Please read the rails image_tag docs.

Tip: If you inspect the images you‚Äôll see that the sizes aren‚Äôt being set. This should always be one of the first things you check to debug something like this.

Now you know the sizes you‚Äôre specifying aren‚Äôt being used, then that tells you you‚Äôve probably done something wrong with the way you‚Äôre telling Rails to render the images.

Your next port of call should always be to read the Rails docs. More often than not you‚Äôve defined something incorrectly.

https://apidock.com/rails/ActionView/Helpers/AssetTagHelper/image_tag

You‚Äôll see there that the sizes are being set as strings, so this is your error.",1526902667.0
soforchunet,"I'm not available but you might wanna check with your employer to see if this is even possible. You know, NDA stuff and stuff",1526853225.0
adriancg,No one is going to be able to help with only a random.css snippet. Please post all of the relevant code.,1526844421.0
MakeMeBeleive,Inspect h4 element in console and make sure its not being overridden in case you are using some front end library like bootstrap. Hope that helps.,1526848130.0
ethboy2000,Can you see anything at all in your index.html.erb?,1526857955.0
tallkeith,Do they come in different colors? I'm a big fan of deep red. Maybe like a Ruby color? ,1526821049.0
muzfuz,Can you use these when you want to route traffic to a new controller?,1526821502.0
SulfurousAsh,Use a headless cms like contentful.com,1526782016.0
amadman114,"If it's a case of creating content, like blogs and maybe some kind of semi-dynamic pages, I've had great success with buttercms. 

ActiveAdmin and and RailsAdmin is more for techhy people, it has a horrible UI and won't really suit your needs without a lot of fuckery.

[Buttercms](https://buttercms.com/) gives you all of the boilerplate you need for this out of the box, especially when it comes to blogs ([mine](https://eola.co.uk/blog) is written with butter). 

It gives you a really simple API so you can implement the frontend for displaying the content however you want",1526813282.0
TheDoc22,"[rails_admin](https://github.com/sferik/rails_admin) was made for this job, given proper configuration.",1526787207.0
Tall-Paul,"I simply added a blog that supported a photo or video link and content made possible using the ckeditor gem. This was a few years ago so not sure how well maintained that gem is, but it worked pretty well a few years ago to give basic styling to content without people having to be tech savvy ",1526787171.0
muhalcz,"Well, from my experiences‚Ä¶ they‚Äôll ruin it. Totally. Every single time. They don‚Äôt care about the site‚Äôs looks, they don‚Äôt see all the details and typography perfection, which make the site nice. 

If you care about the site or if you want to be able to brag with it some years later, always review and edit client‚Äôs posts. It‚Äôs the price for keeping the site nice. So in the end, you don‚Äôt need cms. 

(Btw. It‚Äôs also a way to make some cash after the project‚Äôs development ends.)",1526794194.0
_matthewd,"Answered on SO, but you're talking about  http://api.rubyonrails.org/classes/ActionDispatch/Routing/Mapper/CustomUrls.html#method-i-resolve:

    resolve(""Notification"") do |note|
      [:notification_organization, note.organization, note]
    end",1526745859.0
HelloAnnyong,"Back in the Rails 1.x days there was a wonderful plugin to do exactly this, called `resource_fu`, but it's long gone.

You could define a helper method in `ApplicationHelper` that looks something like this?*

    def organization_link_to(record_or_records, *rest)
      link_to([@organization, *Array(record_or_records)], *rest)
    end

^(* definitely not guaranteed to work, but maybe you can make it work.)

That wouldn't help you with the `*_path` and `*_url` helpers, but maybe you can come up with something clever for those too.

Or just suck it up and type the few extra characters. :)",1526745417.0
annoyed_freelancer,"Why? You're going off the beaten track and implementing a bespoke solution that someone else will have to maintain, and that for other reason than your own convenience. You're making more work for yourself and everyone else for no good reason.",1526744184.0
,"Well that depends on the data and how you use it, do you know database design, why one normalizes to more tables (models)?  If it's just static data, that you aren't working with much together, the data size won't matter as much as more complicated databases.

So you'd need to provide more information to have the question properly answered.",1526645058.0
jeremy_lopez7,"It's pretty static at this point, but in the future I would like to use these boolean values to do queries and enable me to bucket similar repositionings based on these fields.  Also, there are currently about 12 issues and 8 remedies which just seems sloppy to look at.",1526645473.0
in0pinatus,"If this is a personal project, the answer's yes. Give it a go and see how you feel about the result. Even if you subsequently throw away the changes, you'll have learned something about entity modelling and data relationships.

",1526884890.0
Blimey85,"This is pretty slick. I‚Äôve been a big fan of RuboCop for years. I thought it would help me pretty my code a bit but it‚Äôs actually taught me some things and has shown me a few areas where while my code worked, there was a much simpler approach. Unneeded ternary expressions for example. ",1526650212.0
Quantumbinman,"Thanks for sharing, we are currently looking to upgrade from Rails 4.1.4 sometime during the summer and this will come in handy! Would love to get it done immediately, but our test coverage is under 50% which is a major issue :-/",1526698543.0
jaroh,Excellent post. Really great. Going to try this out at my next gig,1526664981.0
TipsAtWork,Sounds like you need to use javascript. ,1526651537.0
georgeguimaraes,"Simply because we used the wrong vocabulary back in 2009 when devise was created. I could try to justify ourselves saying that English is our 2nd language, but the truth is that we should have been more cautious with it.

I changed the docs to at least fix the vocabulary on the comments and documentation:

[https://github.com/plataformatec/devise/pull/3945](https://github.com/plataformatec/devise/pull/3945)

Changing the default database field now would be a major pain for compatibility.

\(I'm a co\-founder at Plataformatec, the company behind Devise, SimpleForm, and Elixir.\)",1526668059.0
beneggett,"It's as simple as Devise does not explicitly require that you use bcrypt as the encryptor, though it ships with it as default (as it should) 

See https://github.com/plataformatec/devise/wiki/How-To:-Create-a-custom-encryptor for reference

Devise functions like a well-behaved, modular piece of software, to which end, if you *weren't* using a hash-based encryption pattern (per your own definition), encryption is a more accurate descriptor.",1526622655.0
Pr0phet,"I think the explanation is more simple: hash (as well as Hash) are reserved words. Hash is an object, and ‚Äúhash‚Äù is a method on the object Object. I would think that overriding the method would break the intended API, and reusing the verb would be more confusing.",1526608936.0
BadgerSong,"Perhaps it originally only used encryption methods and the method name was retained to allow compatibility once hashing was added. Perhaps the person that wrote it just messed up.

If you are actually interested and don‚Äôt just want to moan about a badly named function check the commit history and see how it came to be.",1526628406.0
freshup,"A hash is still a form a encryption, just one way.

https://en.wikipedia.org/wiki/Cryptographic_hash_function",1526596082.0
kinnell,"The real magic for this type of field comes from the javascript. At it's core, it's just an `select` field. In fact, if you were to inspect the browser page of some of the javascript examples of this select field and strip it of its identifier, often times it'll just revert back to a simple select field with a multiple select attribute.

For example, let's say you were to use this JQuery plugin: [http://loudev.com/](http://loudev.com/)

If we were just trying to write the end\-result HTML after you had loaded that plugin, it would be:

    <select multiple=""multiple"" id=""avengers-select"" name=""avengers-select[]"">
        <option value=""1"">Ironman</option>
        <option value=""2"">Captain America</option>
        <option value=""3"">Hulk</option>
        <option value=""4"">Thor</option>
    </select>

and the JavaScript:

    $(""#avengers-select"").multiSelect();

Thus, we can replicate that on our Rails side \(after loading the plugin\) and doing something like this in the view:

    <%= form_for(...) do |f| %>
        <%= f.select(:avenger, ""avenger_id"", Avenger.all.map { |a| [a.madeup_name, a.id] }, { include_blank: false }, { id: ""avengers-select"", multiple: ""multiple"" }) %>
        <%= f.submit ""Assemble!"" %>
    <% end %>
    
    <script type=""text/javascript"">
        $(""#avengers-select"").multiSelect();
    </script>",1526589008.0
midasgoldentouch,Are you using `form_for?,1526585711.0
polysaturate,Is it because you have my_uploads in both paths? Location and root?,1526538145.0
demillir,"I have a better solution than the one I posted yesterday.  This new solution takes advantage of the `distinct` scope available to `has_many :through` associations \([http://guides.rubyonrails.org/association\_basics.html#scopes\-for\-has\-many\-distinct](http://guides.rubyonrails.org/association_basics.html#scopes-for-has-many-distinct)\).

    class A < ApplicationRecord
      has_many bs
      has_many cs, -> { distinct }, through: :bs
    end
    
    class D < ApplicationRecord
      has_many cs
      scope :for_a, ->(a) { joins(:cs).merge(a.cs) }
    end",1526564432.0
demillir,"    class B < ApplicationRecord
      belongs_to a
    end
    
    class C < ApplicationRecord
      has_many bs
      scope :for_a, ->(a) { joins(:bs).merge(B.where(a: a)) }
    end
    
    class D < ApplicationRecord
      has_many cs
      scope :for_a, ->(a) { joins(:cs).merge(C.for_a(a)) }
    end

Then call \`D.for\_a\(some\_a\_object\).",1526508946.0
toadkicker,I‚Äôm researching this myself and I am leaning toward  rolling my own solution backed by ElasicSearch and charts.js.,1526510925.0
tongboy,"Replying to follow, this is a problem I've been trying to solve for a long time",1526570337.0
seainhd,"My favorite Open source BI rails lib is Blazer. But I haven't found a way to allow users to use it without seeing other people's data. 

Internally it uses chartkick which is pretty easy way to add charts to your app",1526825867.0
cloanto,"I've been working, off and on in BIRT.  Was doing it for my work but they decided only 'Official IT personnel' could access the company databases.  I work at keeping my skill up and growing with various home business reporting.  I cam from Crystal Reports and am finally liking BIRT better.",1539218802.0
tquill,"After some research, two options seem pretty viable to me.  Docmosis and Windward Studios.  Both have pros and cons, but they're worth looking into if anyone comes across this thread.",1540499356.0
JesseJessie0115,"Personally, BIRT is not easy to use. BIRTBIRT lacks the reporting function and is poorly customizable, so it is difficult to adapt to user needs.I recommend FineReport, which allows users to automatically generate reports, set user permissions, and share resources.",1540980081.0
georgeclaghorn,"Rails writes [marshaled](https://ruby-doc.org/core-2.5.1/Marshal.html) `ActiveSupport::Cache::Entry` objects to your cache store. Each entry contains cached data and a version.

On read, Rails compares the `cache_version` of your record with the version stored in the `ActiveSupport::Cache::Entry` object. If they don‚Äôt match, Rails acts as though it encountered a cache miss.",1526496763.0
cwitty1988,"I recently rewrote most of our webapp from React to Stimulus, Turbolinks, and Sever Generated JavaScript responses. It works really well, although I am still establishing some best practices. The biggest benefit is since it uses the mutation observer api it pairs incredibly well with SJR and remote links and forms. I would agree that the documentation needs to be improved, but reading the source code is pretty easy and helps you understand how it works. ",1526522113.0
so_just,"I do. It's useful when you need to quickly make a page dynamic without rewriting it in VueJS/ReactJS/etc. Also works pretty well with Turbolinks as the application state is stored in data-* attributes.

Lots of boilerplate though, as it doesn't update DOM automatically like other frameworks.",1526489608.0
endlessvoid94,"I've used it a bit. It's fantastic for quickly prototyping something with an existing rails app.

It's almost like an ultra-ultra-lightweight version of angular, in that a controller is essentially a stateful component that has hooks into the DOM.

If you generate the DOM on the server with rails, then stimulus is a great choice. In my case, I incrementally refactored my DOM code to react so that I could take advantage of the functional style of react and perform more thoughtful, deliberately designed state management in a top-level react component. It would've been too complex to do with stimulus and data attributes. 

It was quite easy to use both react and stimulus together during that phase.

EDIT: Oh, and the documentation is....nascent. I had to rely a lot on the discourse board and talking to other people on the internet to figure stuff out.",1526514738.0
adrienpoly,"Have been using it almost since day 1, for me, it was really the missing part in the Rails echo system. Rails mean structure and convention and this is exactly what brings Stimulus to Rails.

Whenever I get into a new project that is using Stimulus I know exactly where to look for and where to start.

If you have knowledge in JS/ES6 it is probably one of the only Framework you can learn in less than a day.

Also, I think the community is starting to create standard tools to extend Stimulus. Mainly some predefined controllers and the latest commits to the stimulus package revealed some upcoming standard controllers for managing [Ajax, Html and CSS](https://github.com/stimulusjs/stimulus/commit/b87055cf87b0660ca90af6490b3c9ec59db82a68)

I personally created a standard stimulus controller for Flatpickr.

[https://github.com/adrienpoly/stimulus-flatpickr](https://github.com/adrienpoly/stimulus-flatpickr)

It started as an experiment and pushed it into a finalized component available [now on NPM](https://www.npmjs.com/package/stimulus-flatpickr). I am pretty sure more and more controllers will be available for standard pattern and standard libraries.

&#x200B;

Also created a small example application with Turbolinks, Stimulus, Flapickr (with the wrapper). What I find nice it that at the end I have something looking like a SPA but with only 10 lines of JS.

[https://github.com/adrienpoly/rails\_stimulus\_flatpickr](https://github.com/adrienpoly/rails_stimulus_flatpickr)

&#x200B;

&#x200B;",1536653770.0
spacerobotTR,I am no pro with Rails or Stimulus but I am using it on a project I am working on right now. I use it to do some ajax comments with inline editing. It works great. Seems perfect for someone like me. ,1526600809.0
BilalBudhani,"This thread has been great. I have been mulling over the thought of using Stimulus in a project. But the whole trend of React, Vue, Angular has flooded the frontend engineering has made these kind of solutions hard to find. 

A lot of projects don‚Äôt have very interactive UI and hence don‚Äôt require advance solutions to solve them. ",1526841459.0
chrisjstelzer,"Love this thread. I recently was listening to an interview with DHH where he talked about using this stack (Rails, Turbolinks and Stimulus) when building a web app by himself or with one other person. 

He also mentioned the ""trap"" that learning one of these front end frameworks can keep you in. Can't speak to this myself as I'm a newer Rails dev and have not learned any front end deeply enough to comment. ",1529349438.0
younes_s,"I summed up my experience with StimulusJS here: https://blog.capsens.eu/stimulusjs-on-rails-101-f22a0818dff8
Hope this helps :)",1540390067.0
TLD_Lego,Check out [New Relic](https://docs.newrelic.com/docs/agents/ruby-agent/installation/install-new-relic-ruby-agent),1526481787.0
,Dumb question - because I don't know the answer - but does CI testing cover this or not?,1526492434.0
patroy5,Take a look at SendGrid: https://sendgrid.com/docs/API_Reference/Webhooks/inbound_email.html,1526485634.0
ethboy2000,"Rails will automatically look for a NewsController when you define news resource. 

At the moment, that controller is uninitialised (because you‚Äôve defined an ApiController).

Either rename the controller or tell the news resource to look for the ApiController instead.

Personally I would create an API namespace and then a version namespace within that. Then within that I‚Äôd have NewsController. So it would look something like

Api::v0::NewsController

If you want generic API methods available in all api controllers, either create a base controller within your Api::v0 namespace and inherit from that, or create a module that you can include in your controllers.",1526479893.0
tquill,[Zipline](https://github.com/fringd/zipline),1526476783.0
mayorsan,"It's been 2 days since I've been working on this task and I wanted to share my progress and see if I can still get help from anyone out there. 

In my Task Model I still have this:
`accepts_nested_attributes_for :tasks_test_methods, reject_if: :all_blank, allow_destroy: true`

In my template form I have this:

```
= f.collection_check_boxes :test_method_ids, TestMethod.all, :id, :name do |box| 
   .form-group.row 
      .form-check.col-md-3
         = box.check_box
         %span.ml-2 
           = box.label
```

This was able to display the list of checkboxes in the browser. 
The Only problem I have now is how do I convert this into something that TasksController will accept and persist into the database?

The desired behaviour is this from trying in the console, this created the data in and I was able to get the test_methods for a single task by doing this:  
```
2.5.1 :176 > params = { task: { name: ""Test"", client_id: 1, tasks_test_methods_attributes: [test_method_id: 1]}}
 => {:task=>{:name=>""Test"", :client_id=>1, :tasks_test_methods_attributes=>[{:test_method_id=>1}]}}
2.5.1 :177 > task = Task.create!(params[:task])
2.5.1 :196 > task = Task.last
2.5.1 :197 > task.tasks_test_methods
  TasksTestMethod Load (3.8ms)  SELECT  ""tasks_test_methods"".* FROM ""tasks_test_methods"" WHERE ""tasks_test_methods"".""task_id"" = $1 LIMIT $2  [[""task_id"", 16], [""LIMIT"", 11]]
 => #<ActiveRecord::Associations::CollectionProxy [#<TasksTestMethod task_id: 16, test_method_id: 2>]>
```

I have no idea how to integrate this collection checkboxes into the field_for kind of format that is required for me to persist to the join table.
```
= f.fields_for :tasks_test_method, @task.tasks_test_method do |task_test_method_form|
  = task_test_method_form.collection_check_boxes :test_method_ids, TestMethod.all, :id, :name do |box| 
   .form-group.row 
      .form-check.col-md-3
         = box.check_box
         %span.ml-2 
           = box.label
```

I also thought to add `@task.tasks_test_methods.build` to the new action will help but that did not help either. 

This is my story for the past 2 days guys if there's anyone who can help me out please reach out.",1526507247.0
programmer01135,"I‚Äôve done something similar with a number of frameworks when required. Two things: 

First, why not use this as an opportunity to learn a JavaScript framework? You‚Äôll have a new skill to use. 

Second, if you really want to go this route, keep the model layer, and use it as your interface with the api. Keep your controller for business logic. Keep how the data is obtained and saved transparent to the application. Separation of concerns is an important concept for a reason, and the more complex the application becomes, the more adhering to the concept will make your life easier in the long run. ",1526443188.0
intentions_are_high,"Hmm...my gut says this is a bad idea. But I don‚Äôt have much context of the python app. Is the python app a REST API that handles CORS and returns JSON? If so, you should just use react or whatever js framework and interact with the API directly. 

If it lacks things like RESTful routes, authentication, formatted payloads, etc, then maybe building your own ‚ÄúAPI‚Äù on top makes sense. ",1526443442.0
BaconGlock,"i run Postgres.app and then my rails new gets this flag: rails new APPNAME --database=postgresql and i don‚Äôt have to worry about my database ever again.

how could it possibly get any easier?",1526475708.0
jujubean67,"Not sure what OS you're using, but on OS X Postgres/Rails behaves exactly like that. Add the credentials of the SQL user, and create DBs through rails. ",1526453787.0
robbyrussell,"What operating system are you dealing with? Linux? OS X? 

On OSX, it's really simple with homebrew 

On Linux -- you might give Docker a whirl?

For local development, you shouldn't need to be mucking around too much with your pg_hba.conf -- if at all.
",1526520423.0
paneq,"Hehe, I've never liked it either. Here is what I started doing on my linux development machine [https://gist.github.com/paneq/4753903](https://gist.github.com/paneq/4753903) . After that everything is easy because you are superuser with all permissions and you can execute every command without password. In other words after that you can just use rake db:create:all and other convenient scripts. In my experience it's frustrating sometimes because of postgres security model which on dev machine can be PITA. Once you relax it, it was always smooth sailing for me. Yeah, I know. You still need to modify pg\_hba.conf in the solution...",1526455765.0
spacerobotTR,I used PG for a while and didn't have any issues like that with it. I did switch over to using SQL server though since my organization runs everything on it. Love it.,1526472870.0
Serializedrequests,"Setting rails up is trivial. Does your distro have a bad pg_hba.conf or something? I think the defaults nowadays assume that there is a postgres role with the same name as the current user. Create that role if it doesn't exist, and you are good to go.

That is a postgres issue though, not a Rails issue. On the rails side all you need is the correct gem and database.yml.",1526517328.0
bhrgunatha,"Sounds like a good learning project, that could even make you money.

They say often that successful projects are the ones that scratch a particular itch you have personally...  

",1526444751.0
welkie,"I arrived at Rails after learning about Docker, so for me, setting up PostgreSQL on my dev machine has always meant just running `docker run -d -p 5432:5432 -e USER=x PASSWORD=y postgres` and then my Rails app is able to do the rest when I next start it.",1526474600.0
midasgoldentouch,"Uh, I don't do all that and I'm using WSL. Tell Rails I'm using PostGres, create a user with the appropriate roles using psql, and then let rake handle the rest.",1526490992.0
andyw8,"Only 13 of them are up so far, there will be more.

Edit: 61 are now up

Edit: As of May 21, they're all up except for one: https://twitter.com/railsconf/status/998723711422287872",1526440582.0
this_is_not_nil,There was a thread here were people discussed their favorite talks: https://www.reddit.com/r/rails/comments/8dwhe8/what_was_your_favorite_talk_at_railsconf_2018/,1526422750.0
manys,Is the audio supposed to sound like it does?,1526448785.0
TotesMessenger,"I'm a bot, *bleep*, *bloop*. Someone has linked to this thread from another place on reddit:

- [/r/rubyonrails] [RailsConf 2018 vids are up](https://www.reddit.com/r/rubyonrails/comments/8jpfgv/railsconf_2018_vids_are_up/)

&nbsp;*^(If you follow any of the above links, please respect the rules of reddit and don't vote in the other threads.) ^\([Info](/r/TotesMessenger) ^/ ^[Contact](/message/compose?to=/r/TotesMessenger))*",1526420497.0
Frizkie,Finally! Thanks for the heads up.,1526420966.0
s_m_c,Collated here http://confreaks.tv/events/railsconf2018,1526426966.0
r1ckd33zy,I am not a practicing Rails developer but I love watching these... is that weird?,1526427034.0
kobaltzz,https://coreui.io/demo/#main.html is pretty nice and has a free version,1526409861.0
GroceryBagHead,"This is the one you want: https://github.com/twbs/bootstrap-rubygem

If you don't need access to mixins and do customization/overrides just use Bootstrap directly from their CDN or download js/css and cram into your /assets folder.",1526408799.0
4rfg576hjiy7dnm7,"Anecdotal, but working with the gem u/GroceryBagHead linked has brought me nothing but headaches (it's probably due to something I'm setting up improperly). I switched to ['bootstrap-sass'](https://github.com/twbs/bootstrap-sass) and have found that it does everything I expect it to without interfering with any of my JavaScript.",1526507533.0
fisporr,I'm a ror / angular dev. Which version of angular? Ts?,1526412531.0
Xexoroz,"If you‚Äôve got your ID you should be legally allowed to access your grandchild. If not, I‚Äôd take it to court.",1526400980.0
MaterialDish,"Sir, ask to parents.",1526401618.0
GroceryBagHead,Are you a legal guardian? Where are the parents in this picture?,1526409303.0
anithri_arcane,`GrandChild.includes(:parent).where(parent: {grandparent_id: 42})`,1526437290.0
toobulkeh,"I like it. Short, code examples, reasons, a bit of discussions. Well written and a good topic to write about!",1526414164.0
GroceryBagHead,attr_accessor :foo,1526328396.0
Blimey85,I do this with the Virtus gem. The creator has moved on and created Dry-Data but I haven‚Äôt tried that yet. For my needs I wanted to pass in some data and work with it but it wasn‚Äôt backed by a model and Virtus solved my problem. May be a much better way to handle this for my simple needs. What you‚Äôre looking for is called virtual attributes. I needed it right when Rails 5 hit and I came across Virtus immediately so I didn‚Äôt look for any other options. I‚Äôm on 5.2 now and it still works just fine. I guess someone else stepped up to maintain Virtus but it looks like the last update was a year ago.,1526328686.0
Erwin_the_Cat,Use a virtual attribute. There are tutorials online.,1526336323.0
so_just,"You can extract a form object (preferred way), or add a virtual field to the model: https://blog.metova.com/rails-5-attributes-api",1526367616.0
knx,"Define scopes in your model. or just pass to your controller something like, assuming your param is active_status
    
      @items = Item.where(item_type: params[:status]) || Item.all
    
",1526316709.0
hauska7,"status_scope_name =
params[:status]
.presence_in(Item.public_status_scope_names) ||
Item.default_public_status_scope_name

Item.send(status_scope_name)",1526387408.0
mbdroid,"It's exactly the same as far as the functionality of the auth goes. Have an identities modal that holds the user_id, provider and uid.

User has_many :identities

Just call your oauth endpoints ""connect"" and away you go.

You can still allow the user to make their initial user account from the oauth connect as well, just send them over to a page to collect all the other data you want it it is not available from the provider.",1526298123.0
tf2ftw,Make a custom controller action for this. ,1526296118.0
Flopsey,"I'm confused here. Are you just asking how can you have a user connect to their FB account without having a ""login/ signup with Facebook"" option?",1526297924.0
jasdeep13,"Sidekiq has a `perform_at` functionality which you can use to run any code at a specified time in future.

https://github.com/mperham/sidekiq/wiki/Scheduled-Jobs

The sidekiq framework still polls at a specified interval to check if there are any jobs to be processed. But, it‚Äôs better than rolling out your own implementation.",1526287630.0
latortuga,"Set a `published_at` field on your model, have your queries only find posts where `published_at` is in the past.",1526314307.0
,[deleted],1526289887.0
dom_eden,"I have done something very similar in the last 2 months and it's working perfectly in production. I've edited for brevity and there are some code formatting issues with pasting into Reddit but here's how I did it:

**Frontend**:

Base Axios instance that API calls use:

`import Axios from 'axios';`

`const cookies = new Cookies();`

`const axiosInstance = Axios.create({`

`baseURL: '/api/v1',`

`headers: {`

`'Content-Type': 'application/json'`

`}`

`});`

`axiosInstance.interceptors.request.use(config => {`

`config.headers['Authorization'] =` `Bearer` `${cookies.get('user_jwt')}`

`return config;`

`});`

`export default axiosInstance;`

Example API module using the above instance:

`import axiosInstance from 'api/base';`

`export const getNotes = userId => {`

`return axiosInstance.get(\`/users/${userId}/notes\`\);\`

`};`

Example API call using the imported module above:

`import { getNotes } from 'api/notes';`

`getNotes(this.props.user['uuid']).then(response => {`

`// do something with response`

`})`

**Backend:**

In the Rails API, write a before\_action callback in a higher level controller that checks the JWT for every request. Make all your API controllers inherit from this controller.

`class Api::ApiController < ApplicationController`

`before_action :check_user_authentication_token`

`private`

`def check_user_authentication_token`

`begin`

`jwt_token = request.headers['Authorization'].gsub('Bearer ', '')`

`decoded_token = ::JsonWebToken.decode(jwt_token)`

`# Verify the user using the UUID in the decoded token.`

`@current_user = @user = User.find_by!(uuid: decoded_token[""sub""][""uuid""])`

`rescue`

`render(json: { error: ""Could not verify token. Please log in again."" }, status: 401)`

`end`

`end`

`end`",1526306906.0
multiplegeorges,"Are you sure you're correctly sending back the token in the `Authorization` header when you do the `fetch` to get the current user?

For the fetch API, making the header will look something like: 

    let headers = new Headers()
    headers.append('Authorization', `Bearer ${token}`)

A JS HTTP library like Axios can make this a lot easier.

Once you're authenticated, you need to send the `Authorization` header with every request you expect to be authenticated. The token in the header identifies the request as authenticated and identifies which user is making the call.

Is there a specific reason you are using JWT for authorizing your frontend?
Cookies can work just as well and might be a better fit for your use case.
Take a look here: http://cryto.net/~joepie91/blog/2016/06/13/stop-using-jwt-for-sessions",1526259796.0
hardwaregeek,"My suggestion is to store the jwt in local storage, then make part of the startup process (either with componentDidMount or something else) taking the token and putting it into the redux store or whatever you‚Äôre using. 

One combination Id suggest is graphql-ruby with Rails and Apollo with React. You don‚Äôt need to use it, especially if you‚Äôre not doing a lot of data fetching, but it‚Äôs really worth it if you need to do some complicated fetching logic, like getting articles with comments and users, or getting a store with their products and customers. Graphql-ruby is amazing cause it hooks right into activerecord so you can use activerecord relations as resolvers (basically if I ask for articles with comments in graphql, Rails will know what you mean and fetch the comments). Apollo is amazing because it makes fetching super simple and caches everything. ",1526268386.0
AdvancedPizza,"The first question you should ask is: What do you want to solve or create? The JS world, IMHO, has gotten extremely convoluted and overly complicated. When in doubt keep it super simple to actually complete what you set out to do originally.

Devise does a lot of magic stuff, and Rails offers a number of authentication methods out of the box now.

This guide on token auth is pretty comprehensive: [https://rubyplus.com/articles/4311-Securing-an-API-in-Rails-5-using-Token-Based-Authentication](https://rubyplus.com/articles/4311-Securing-an-API-in-Rails-5-using-Token-Based-Authentication) 

As far as storing it, this article is great and comprehensive. https://stormpath.com/blog/where-to-store-your-jwts-cookies-vs-html5-web-storage. Cookie will be simpler as its passed with each request automatically and on the rails api side you can check via `cookies[:access_token]`. ",1526276477.0
peanutbutter26,"I've working on several weekend project using this setup [click here](https://medium.com/superhighfives/a-top-shelf-web-stack-rails-5-api-activeadmin-create-react-app-de5481b7ec0b)

I love this setup, because I don't need to separate between frontend and backend repo. Hope this help.",1526311222.0
Code-Master13,I'll chime in when I've figured it out myself. I'm building a rails API to connect to an Angular front end. ,1526254096.0
acconrad,"an api backend is just a server listening for details. so you can have 1 repo for your rails API backend

your second repo is your react frontend, using something like react router to call your API. you can use something like NPM to build and start your front end page

to authenticate, look up JWT for token authentication. you can use that to pass along every time you talk to the API",1526259622.0
tbuehlmann,"I can't watch the video from Germany: ""Because of its privacy settings, this video cannot be played here.""",1526236430.0
nukeio,"It‚Äôs a great model in the right circumstances, but it‚Äôs harder than you think to follow the law with this type of approach. Not just GDPR‚Äîall sorts of situations require intervention. ",1526248337.0
parzo,I‚Äôve just discovered event sourcing recently and got a lot out of this talk. Thanks for sharing.,1526209581.0
danimoth2,Nice! Where do you usually put the subscribers in a Rails app? (Initializer?),1526225847.0
SminkyBazzA,"Are you starting with a new Rails 5 app?

By default you should have an ApplicationController, which is an empty class in your `app/controllers` directory that extends ActionController::Base, which is a part of the core Rails gems.

More info: http://api.rubyonrails.org/classes/ActionController/Base.html

If you want to see the content of this file to see how it works, you can run `bundle open actionpack` to see the source code of that gem. The path is at the top of the page I linked above.",1526184583.0
hmaddocks,"ActionController is part of the Rails framework. You don‚Äôt use it directly, you derive your own controllers from it. ",1526184568.0
systemnate,"If you're not using Rails 5, you won't see an ApplicationController, you will see an ActionController::Base. You can check the version by typing rails -v",1526223237.0
5awaja,"never mind.  after using .top_nav instead of nav in the application.scss, this problem no longer occured",1526184008.0
EqualsNull,"Instead of focussing on people, try to look up things like past RailsConf videos. Usually pretty good content. Only caveat would be to watch ones that you can wrap your head around, such as intro videos on a topic - no point in watching something that wont make sense.  You will probably find some speakers that you like the style of in the process.

My one exception is Sandy Metz, she is wonderful and has some great lessons on OOP and refactoring. Im also biased :)

Good luck!",1526169605.0
RepSchwaderer,"Here are some well-known Rubyists who I love following:

* Aaron Patterson

* Schneems

* Avdi Grimm

*Ben Orenstein

* Sean Griffin

* Derek Prior

* Kyle Daigle

* Brittany Martin

* Sarah Mei

* Eileen Uchitelle

* Adam Cuppy

* Gary Bernhardt

* Andr√© Arko

* Peter Cooper

* Justin Searls

* Obie Fernandez

* Dave Kimura

* Andy Croll

* Jeremy Evans

* Sam Phippen

* Nick Sutterer",1526172058.0
Blimey85,"Not directly people to follow but check out GoRails and DriftingRuby. Both are sites that put out videos on various Rails techniques, as well as things like using Vue with Rails and are great sources of info. GoRails did a few videos on SearchKick, geocoding, and searching based on geolocation that helped me quite a bit with my own search needs. It gave me an understanding of how to initially get things working and was a great jumping off point for building what I needed for my application. ",1526220638.0
danimoth2,"I like [Destroy All Software](https://www.destroyallsoftware.com/) and [Ruby Tapas](https://www.rubytapas.com/). (They aren't free, but for me I actually get more motivated to finish or watch when I knew I paid for the thing. Plus they provide tremendous value.) You might also want to check out cool gem code. I personally go look at the [Gitlab source code] (https://github.com/gitlabhq/gitlabhq) from time to time, just randomly open files and see how the code looks like, and I learn a few things here and there.",1526231722.0
elphoeniks,"Please get familiar with Ruby first if you haven't already. It will make your Rails transition a lot easier.

I recommend the book ""The well-grounded rubyist"". It's a good book and not that big.",1526395327.0
,"In my opinion, none, this doesn't help your skill building it just adds another level of distraction",1526163919.0
bralyan,"What do you mean by follow? Do you just want to follow them on twitter / whatever, or watch videos?

There's some good twitch streamers out there, I've watched a few - I won't dig anything up you can find whatever interests you.

I think it's important to not only find a language that you like, but a style you identify with. I love startups that do automation, functional and unit testing in a fast paced environment. If they are using rails or node, go, python whatever it doesn't matter to me. 

More information might yield better results for what you're looking for. ",1526167439.0
adm7373,"So, React is a front-end framework. It can be served by either Rails or Node (back-end frameworks). If I were you, I'd probably keep Rails as my back-end and just add routing for your static pages (if they're going to be on the same subdomain). Switching to a Node backend is something you can do, but doesn't have much to do with using React on the front-end.",1526169944.0
D1ceWard,"If it's only static page or dynamic content that can be get/post/whatever by ajax, you should take a look ""webpacker"" gem to serve js and dependencies from npm like react (better than sprockets), if it's more dynamic, complex form validation, heavy data, etc..., you should definitely separate front and back

",1526487014.0
bralyan,"One of the things we do as developers is build cool stuff. Sometimes that cool stuff doesn't have direct business value. It sounds like the business is telling you they are not willing to support this effort at a level you would like. 

It might be a good conversation to have with them about actually supporting your efforts (freelancers / part time developers make a bunch of money - why aren't you?). Get some time carved out, get a dev hired, get paid for it, whatever... otherwise it's just a fun side project.",1526167658.0
so_just,Mark your html string as safe: `render json: { html: str.html_safe}`,1526156361.0
PM_ME_THICK_LADIES,"Rails definitely caters to the lowest security knowledge denominator, which is really convenient when spinning up an mvp app quickly. And that‚Äôs what rails excels at. 

The top stackoverflow post and answer say that you shouldn‚Äôt sanitize it, so the client doesn‚Äôt get a false sense of security, but I think it really depends on the use and data of the api. 

If it‚Äôs an internal api why wouldn‚Äôt you just leverage the added security you get for free?

If you‚Äôre serving up data to the public, that‚Äôs when it‚Äôs preference. I would still argue that it‚Äôs your responsibility to provide non-malicious data to your users.

Not much is black and white in web development :/",1526185040.0
seainhd,"It's pretty clear you're confused about React/turbolinks.

React makes GET/POST requests with a JSON format. The data returned is json and then React uses it to quickly render the page.

Turbolinks is for GET/POST requests where the format is HTML. 

It would be silly to try and mix and match. Make a view with rails, or make it with React and consume a JSON API. Not both.",1526183426.0
Nrdrsr,"Sidenote: If you care about sharing and SEO, pick an architecture where the route works regardless of a direct visit or a route change from within the application. 

I would probably limit the use of react to components that are interactive and not useful for search or social. 

If you are gonna be fetching JSON and rendering the rendered page based on the JSON result then you have to pay some attention to the impact on crawlability. ",1526139260.0
AdvancedPizza,"I really would just keep it super simple. I can't speak on server rendering, but my gut tells me: Don't worry about 'SPA' related things or react-router initially.

Definitely keep routing in Rails starting out. Adding front end routing can be complex to manage and usually requires a state container which takes a bit to wrap your mind around If you aren't already on that path.

Pepper in JS as needed and evolve it over time.  My 2c.",1526277644.0
hmaddocks,The request referrer header (request.referer) contains the address of the previous ‚Äúpage‚Äù.  ,1526109185.0
editor_of_the_beast,That sounds like what the browser back button does - is that not enough? ,1526100523.0
vfonic,"Can you please fix the grammar in your question. I don't understand what exactly you're trying to do. You'll find much more people willing to help you, if you phrase your question clearly. Thanks!

I'm mostly confused by ""I wanted to back a back link_to""",1526124987.0
in0pinatus,"Active Record is not limited syntactic sugar - it's a sophisticated relational engine. As you'll find the first time you query a has_many through multiple join tables with a merged or parametric scope or preloading or a polymorphic belongs_to and it just magically works, and the same relation is updateable and groupable and distinctable without further ado, or when you dynamically compose scopes or relations at runtime without knowing the composition beforehand, or when an association extension producing analytical results can be reused across any of your models because it's written in generic Arel expressions.

Don't undersell the value of those placeholders, either; they may be the only thing standing between you and little bobby tables when the intern or the CTO forgets about sanitizing a query-string parameter.

If ORMs were just a thinly layered table gateway over fixed SQL strings we wouldn't (or shouldn't) bother with them. Used correctly they're a tremendously powerful tool to build abstractions and database expressions that couldn't maintainably exist any other way.",1526093439.0
aiux,"I use Raw SQL when I am doing complex queries that cannot be easily done with scopes, so I'd say use whatever is best for the use case.",1526093927.0
TheJulian,I see plenty of raw SQL... In my logs which is where I monitor active record produced queries for inefficiencies... Which I then am able to fix entirely within the bounds of active record.,1526098016.0
kingshane,"As someone making the reverse transition, I miss Active Record so much. ",1526091715.0
chulkilee,"If you use AR, then it's better to stick with its style - no raw sql.

Of course AR does not support every cases (unless you directly work with arel). However even such cases you can just pass sql fragment to AR methods. For example you can pass sql fragments for outer join.
",1526098399.0
iamstandinghere,"With our process we generally write out complex queries first in SQL and then translate to AR as AR can get a bit persnickety in terms of syntax order as the complexity of the query increases. However once the SQL query is optimized, translating it into an AR query saves many potential headaches on projects with many related models.",1526116788.0
janko-m,"The only thing that matters is generating the SQL you want. If it's simple enough that you can do it with Active Record's query API, then great.

In cases that are more complex you often can't, and in these cases you have absolute right to use raw SQL, because correctness and performance is always more important than ""pretty code"". People using Active Record tend to think that, when they don't see a way to generate the SQL they want using Active Record, it means they must be doing something wrong. But the truth is that Active Record's query API is just not that advanced, so you often have to use raw SQL if you want something more complex, and there is nothing wrong with that.

If your team really hates raw SQL, then you should probably evaluate using [Sequel](http://sequel.jeremyevans.net) instead, which lets you generate any SQL in Ruby, in a much more readable way than Arel.",1526117645.0
romeo_pentium,I would only use raw SQL where there is a performance bottleneck that needs optimizing. Embedding raw SQL in Rails is a little like embedding raw assembly in a C program.,1526151216.0
demillir,"You didn't mention the ability to compose queries as an advantage of ActiveRecord and Arel.  Those two advantages are huge and tip the balance in favor of the Rails way, especially for highly normalized databases.

I use query composition heavily in the code I write.  AR and Arel don't always do the composition correctly; about 5&#37; of the time, I have to work around composition issues.  Composition makes queries less brittle, easier to reason about, and more compliant with the Law of Demeter.",1526151360.0
strangepostinghabits,"Hating raw sql is not really productive, but you should avoid it if at all possible.

Rails has conventions. Following those means your current and future colleagues will find your code where they expect to. 

Avtiverecord is good. It's very easy for you ,being new to rails and experienced in sql, to underestimate avtiverecord and use sql instead, so you should put extra effort in trying to do everything the rails way, to learn it well.

There's times when raw sql has a place in rails apps, but it's going to be a lot more rare than you think.",1526171618.0
jaxn,"I greatly prefer raw SQL when it matters. 

Luckly, with the Scenic View gem, I can have both :)",1526092939.0
swrobel,I would say no. I personally write plenty of it. ,1526097733.0
I_AM_GODDAMN_BATMAN,I used a raw sql very efficient for some cases but highly discoraged because some senior thinks the computing power is best done by ruby instead by sql engine.,1526125782.0
SagaciousCrumb,"AR also gives you dead-easy refactoring. Single-method renames are much simpler than a full-text grep to find all bits of text in a query that might be related to what you're changing. 

While it's often appropriate to rewrite a complicated AR query into a smoother/optimized raw query, I'd be wary and do some performance checking before doing so. The code might be nicer, but if it's only 2ms faster it's not worth it. Hell, even if it's 200ms slower as AR, if it's only called a few times a day, it's better to leave it as AR. Refactoring is easier, and it's easier for a broader set of developers to *read* that code later and understand it. ",1526137741.0
naveedx983,"The biggest thing is some sort of team level agreement / understanding.  If no one the team really knows SQL well enough, then it may be worth trudging through messy AR/Arel to get to the end result.  Conversely if people are comfortable with SQL, trying to parse out Arel stuff feels wasteful.

My rules of thumb are:

* If it's writable using readable AR then use AR
* If you decide to write a SQL query, extract it to a query class (and simple specs to make sure schema changes don't bite you)
* Consider creating a view and mapping an AR class to it


",1526141411.0
UnderwaterPenguin,"Others have mentioned the power of activerecord here. I'd say it's one of the best ORM's I've ever worked with. Other languages and their frameworks offer a tenth of the functionality that ActiveRecord does.

But it doesn't do everything. So my personal rule is, ""if you need SQL, use SQL"". Don't shy away from it because you want the pretty syntatic sugar. Find a reasonable way to make it work. 

That being said, I've found that at scale even ActiveRecord tends to have too much overhead. Sometimes I just want to execute my statement directly. Definitely consider ActiveRecord first, but don't be afraid of raw SQL. Ever. ",1526285451.0
jemadx,"Active Record is so good that we don't need to bother with SQL most of the time. I program in Rails all the time and haven't written straight SQL in more than a year at least. 

You will find some people who still like SQL but there are plenty who can't be bothered with learning/keeping up with it.",1526130072.0
jemadx,"If you are trying to learn Rails then it should be worth the time.

There is an edition covering Rails 5 and another edition covering Rails 5.1. Rails 5.2 was released April 9th. So if you want to learn 5.2 you will need to read up a bit more after finishing the book but 5.2 isn't completely different from 5, 5.1, etc.",1526071536.0
CaptainBijan,"Version 5.1 of the book makes use of React. In my opinion a version covering 5.2 and greater should cover Stimulus.js instead (made by Basecamp, too).",1531750057.0
atredditer,Rails is out of date! Harhar ,1526071464.0
BluePizzaPill,"I'm almost positive I did not understand your issue completely, but you can add `app/config/initializers/assets.rb`:

```
Rails.application.config.assets.precompile += %w[**/*.jpg]
```

And then guard against no existent assets with something like:
    
    # @see https://stackoverflow.com/a/35319530/745359
    def asset_exist?(path)
      if Rails.configuration.assets.compile
        Rails.application.precompiled_assets.include? path
      else
        Rails.application.assets_manifest.assets[path].present?
      end
    end",1526127383.0
ActiveModel_Dirty,"Nope. There shouldn't be either. To address each point:

\>What kind of stuff is ok to put in models?

This really, really depends on your team and the way you want to work. I'm of the belief that the only thing that should be placed in models is things that relate to the behavior of the data for one instance of a model. I.e. validations and associations. Maybe a few methods that give you more detail about a model's behavior. I don't think that scopes belong on a model. Because at that point you are not working with an object, you're working with a collection of objects and the logic you're writing is actually query logic. So I personally think queries should be their own objects \(known as query objects or finders\). But the flipside of that is that scopes are chainable, and can be extremely convenient.

\>What gems are fine to use and which ones should be avoided?

There's no way to keep a catalogue of gems with reviews that make sense for your project. Each review would be biased towards the reviewer's use\-case and yours may be different. For example, I see absolutely zero reason to use a gem like Devise in a small application. It adds way too much overhead. For something small I'd recommend Clearance. Does that mean Devise is bad? God no, it's one of the most long\-standing and best\-maintained gems out there, it just does too much for certain use\-cases. An easy rule of thumb is to just visit the GitHub for whatever gem you want to use. If it has a \*lot\* of valid, open issues and nobody is actively maintaining it, maybe stay away. Otherwise, you're probably fine to use it. But every gem you add adds extra overhead and adds extra potential for breakage, so use them sparingly if possible.

\> What do we do when there is a really complex business logic?

There are tons of answers for this. If it's moderately complex, use a Service object. If it's so complex that it could be considered its own application, use an Engine.

\>In which situations is it fine to use concerns

I use concerns as extensions of models, where I put certain logic that affects the behavior of my interactions with models but not the data itself. For example, if you have a ""soft delete"" functionality in your application. A soft delete means assigning a kind of ""deleted"" classifier onto an object, but not actually deleting the object from your database. Usually this is done through a ""deleted\_at"" timestamp. I would use a concern to specify the logic that ""if this instance has a deleted\_at timestamp, we consider it, for all intents and purposes, to be deleted"".

But the reality is that these are just my opinions. Why should you listen to me? Because these solutions have worked for me in the past in the applications that I've built? I have no doubt that if you follow these patterns they can work well, but there could also be a thousand other patterns out there which will also work well for you. Who am I to say that you should do it my way?

The same applies to the people that are a part of the Rails core team. They have no grounds to tell me or you how you should be using your application. And moreso, it's actually detrimental if they do. If the people at Rails make a bad or inefficient decision, they may prevent someone from doing things a better way because they've set precedence for code reviewers everywhere to say ""Well, rails core does \_\_\_"". But the fact is the people who develop rails are developing rails. They're not developing your application. While it is their baby, they have no idea how people are using it and the solutions that will come to light from hundreds of thousands of other developers out there. They need to leave it open to interpretation, so it can maintain its flexibility and opportunity for evolution.

Truthfully, best practices are very nice. But practically speaking, you're going to have to make sacrifices to code quality along the way. Don't stress too much about doing everything the best possible way. Just do it in a way that works for you and your team. ",1526055879.0
jujubean67,"A good one I've seen is cookpad's `best practices`: https://github.com/cookpad/guides/tree/master/best-practices

That said I think the agile manifesto's ""Individuals and interactions over processes and tools."" principle still applies in 2018. I don't want anybody to adhere to a very strict style-guide or coding-guide.",1526052017.0
acconrad,"No and there never will be. Rails isn't a draconian rule set, and developers would never want that. Instead, try something like this:

Run something like Rubocop and let it start making style suggestions for you, and then make them. Does the code look better to you? Keep it. Otherwise, remove the rule. Experiment with all of the rules. Eventually, you'll have a pretty good idea of _your_ style, and when you join your next company, you can use that to help mold their work over time as well.",1526054489.0
lift_heavy_things,"> What kind of stuff is ok to put in models?

Business logic, but it's important to understand that under even a small amount of codebase growth you can get a lot out of using additional abstractions to just MVC. 

> What gems are fine to use and which ones should be avoided? And why?

This is as complicated as asking ""what kind of food is ok to eat?""  It DependsTM.  I read the majority of most gems I use.  It doesn't take long, usually about an hour, to get a decent sense of how the gem works.  

> What do we do when there is a really complex business logic? Where should it go?

A matter of taste, but if it only acts on a single model, it's usually fine to keep it in that model.  If it acts on multiple models there are various tools available to you that vary in structure from basically none (PORO/plain old ruby object) to things like the Interactor pattern.  As mentioned above, MVC is not the be all end all.  

> In which situations it is fine to use concerns?

Again, a matter of taste.  I personally don't love concerns because I think multiple inheritance is difficult to reason about.  I still use them very sparingly in places where there is a huge amount of duplication and not much change (change is risk when you have a ton of things coupled together).


A lot of what you are asking is not really relevant to rails so much as programming/comp engineering in general.  ",1526062340.0
in0pinatus,"Don't save, update, lock rows, or commit transactions in model code. Send persistence instructions to the model from the layer *above* the domain model. 

Don't use gems that aren't maintained. If you can't tell by commit log, look at their github issues.

Refactor complex logic until the behaviour arises from a composition of much simpler objects.

Use classes liberally and concerns (modules) in abundance to extract domain concepts. Invert dependencies with composition and injection. Remember than modules, like classes, are subject to the SRP, so make their boundaries by capability/scope of action, not technicalities like method count. Reframe that question from ""when is it fine to use concerns"" to ""why am I adding this code to an existing model?"".
",1526098307.0
ClearMyInbox,"I'd say anyone who writes or wants something like this is a beginner and/or someone spending so much time documenting that they aren't doing, and I wouldn't trust anything they conveyed.",1526108347.0
inemation,Recently found one more handbook: [https://github.com/infinum/rails\-handbook](https://github.com/infinum/rails-handbook) ,1527356490.0
allcentury,Digital ocean has $5 droplets,1526039016.0
walruns,AWS is the cheapest.,1526032774.0
Arrio135,Netlify free tier! Can‚Äôt recommend them enough ,1526047878.0
jb3689,EC2 nanos cost something like 25$ for the year in us-east-1. If you have users you mindswell just fork up the cash. Micros are also free for the first year,1526039928.0
do0fusz,"AWS, beanstalk, pretty straightforward, good documentation, free tier, and blazing fast",1526041667.0
vfonic,"Isn't it that, if you add credit card info, you get enough free dyno hours to be able to run one app 24h for a month? I thought that was the case. ",1526042079.0
ccb621,"If your users aren‚Äôt supporting the service and you have no other revenue, perhaps you should consider finding other revenue sources or shutting the service(s) down.",1526055093.0
seainhd,Learn Jekyll for basic sites. No need for rails.,1526183899.0
darkrubyist,"Here is a Medium post with more information about Hatchbox vs Heroku, please have a look:  
[https://medium.com/@darkrubyist/why-i-choose-hatchbox-io-over-heroku-50b4928cb2f4](https://medium.com/@darkrubyist/why-i-choose-hatchbox-io-over-heroku-50b4928cb2f4)",1529564003.0
whiskey_warrior,"Go listen to/read everything that Sandi Metz has to say about testing, and then personally I would start with model tests. Think about what result you're testing for and how you need to get there. The easiest way to learn how to test is to read other applications with tests already written, but it can be difficult to do that if you haven't worked on any of them. ",1526013204.0
GroceryBagHead,Please read through this official guide: http://guides.rubyonrails.org/testing.html,1526010861.0
jemadx,"Model tests are pretty easy to get started with and it seems like lots of people start there. Naturally any unit tests only cover a small area of the code so you need lots of them to feel confident about their coverage. 

Katrina Owen has a good talk on tests:

https://vimeo.com/68730418",1526052534.0
editor_of_the_beast,"I think the easiest tests are for things like view helpers or helper classes / methods. Do you have any logic in your app that is self contained in a single class? If so, create a test that instantiates an instance, called a method with specific inputs, and verify that the outputs are what you expect.

This builds you up for testing more complicated interactions like controllers and models.",1526040167.0
xero01,I've read about two thirds of [Rails 5.2 Test Prescriptions](https://pragprog.com/book/nrtest3/rails-5-test-prescriptions) and so far it has been really good. I think it does a good job of both talking about the philosophy behind good testing as well as actual implementation.,1526045558.0
sdn,"My suggestion is to first install the 'coverage' gem (in the development group). The coverage gem allows you to see just how much of your code tests cover. For a super serious project -- you obviously want 100% code coverage.

Next - integration tests gives you a pretty big bang for your buck. For every controller you have you should at least write a very simple test for the index & show functions --

    class ItemsTest < IntegrationTest
        test ""ItemsTest#index"" do
            get items_path
            assert_response :success
        end
    end

This simple test will:

1) Make sure your ItemsController#index functions works

2) Makes sure that the Items#index.html.erb code executes correctly

3) Makes sure that your Item.all.(...) etc code works ok.",1526007878.0
manys,Most people use Markdown or similar. Redcarpet is a popular gem for this.,1525991080.0
,"If you wanna get fancier there are some pretty good wysiwyg editors from JS that have ruby gem equivalents - i tried out a couple but then never wrote the blog article cause I haven't had time to write code for months nnow.

But firstly, stop using scaffolds",1526006221.0
EqualsNull,">  since the emails go to me and not a large audience

huh? ActionMailer is perfectly fine to use to send to a single person (or several).

Just set up a controller with a single `create` action that takes in the message (and return email if appropriate), stuff that in your mailer and send it to your own email.

Quick dirty example action:

    def create
        FeedbackMailer.web_feedback(
            params[:message],
            params[:email],
            params[:name]).deliver_now
      render status: 201
    end
    
If I were a hiring manager discussing this portfolio piece and you told me that you used a gem just to do this simple action, I'd actually take that as a red-flag unless there was good justification to do so. Just my $0.02.
",1525984175.0
midasgoldentouch,I'm not sure why you can't use Action Mailer for this. It doesn't matter if you're sending one email or a thousand.,1525976635.0
Wapen,"Just use Action Mailer.

Create a form with a route and route that to a controller.

Then, create a method in your controller like this:

    def enquiry
      if params[:name].present? && params[:email].present? && params[:phone].present? && params[:message].present?
        BaseMailer.enquiry(params).deliver!
        redirect_to '/', notice: 'Thank you for using XXX. Your request has been received and we will be in touch soon.'
      end
    end

And then something like this in your mailer:

    class BaseMailer < ActionMailer::Base
    def enquiry(params)
      @params = params
      if params[:make].present?
        mail(to: 'info@example', from: 'info@example', subject: 'Enquiry')
      else
        mail(to: 'info@example', from: 'info@example', subject: 'Contact Enquiry')
      end
    end
    end

Then you need to create your enquiry view to send the form. Access params with @params.param_name. Something basic like this (enquiry.html.erb):

    <p style="""">An enquiry has been made</p><br/>
    <p>Details are: <br/>
      Name: <%= @params[:name] %> <br/>
      Email: <%= @params[:email] %> <br/>
      Phone: <%= @params[:phone] %> <br/>
      <% if @params[:make].present? %>
          Make/Model: <%= @params[:make] %> <br/>
      <% end %>
      Message: <%= @params[:message] %>
    </p>


 Then you need to look in to SMTP settings for the mail to send.",1525995722.0
Nugglez,"I've used [Enformed.io](http://enformed.io/) to great effect on my sites in the past. Unless you're expecting over 100 contacts per month on your portfolio site, it'll do the job very quickly with no SMTP setting tomfoolery or ActionMailers.",1525988960.0
harsh183,"Quick question, why build this on rails? I don't seem to understand why it's needed for simple portfolio site.

And yes, just use ActionMailer, aws will host it for you.",1526012970.0
isunktheship,"I just used action mailer, had it setup in about 5 min, no migrations, dependencies, or anything fancy.. just made an input box and submit button.

https://statjacks.com/support

Edit: sorry you'll need an account to sign up.. uh.. feel free to sign up if you're into fantasy sports.",1525993198.0
tristanAG,Have you looked into sendgrid? ,1525981559.0
presumably_a_person,"If all you want is an email on form submission, you could build it in rails, but there are a lot of free embeddable options that are a snap to set up. I've used [wufoo](https://www.wufoo.com/) in the past, but there are a lot of options: https://www.lifewire.com/free-online-form-builders-3866348",1525982568.0
seainhd,Robot bartender in Vegas is not great at math.,1525970396.0
hmaddocks,If you are getting a create instead of an edit your form arguments are nil. Check that you are correctly assigning your comment. ,1525977921.0
this_is_not_nil,"Interesting, but why would it affect you? Wouldn't your new system just use the new cache-keys and your hitrate should come back?",1525947971.0
2called_chaos,Do you use russian doll caching? We had the issue that with recyclable keys the cache blocks and cached render collection never bust. Like I don't understand how it's supposed to expire on change.,1525977810.0
bhalp1,OP's blog post on the subject: https://dev.to/dogweather/upgrading-to-rails-52-slowed-down-my-site-temporarily-37l4,1525978235.0
seainhd,"PROTIP: read pull request comments from DHH and other rails contributors.

https://github.com/rails/rails/pull/29092

Well thought out code review + code + comments + docs + tests = high quality coding organization. 

If you want to become better at the craft, read more stuff like this and try to understand the decisions and trade offs. ",1525970346.0
doomydoom6,"I ran the exact command you did on my project that uses DTA and I got headers back fine, so the problem isn't there. The provider coming back as ""phone"" sounds weird. When I register a user through curl like this the provider says ""email"". ",1525926045.0
hardwaregeek,Maybe you have a header whitelist somewhere? I know that I had to specifically whitelist stuff when setting up my Cloudfront distribution. Does the curl work when you run the server locally?,1525929033.0
RubyKong,The BEST way to find out what's going on is with a request spec.,1525996425.0
yeskia,"Schedule anything that needs to happen at a given time in your app. I use `sidekiq-scheduler` which allows me to schedule jobs to run every day. I think scheduling is the odd one out here because that's more about timing rather than the implementation of the logic.

Generally I use tasks for one-off things that I am going to run from the command line, or if I have scripts that I manually use from time to time. If you are using another system to schedule stuff - like crontab - which will need to call into your application then tasks might be a better fit as they are exposed from the command line.

I generally also try to keep my tasks and jobs very dumb - they are simply entry points into greater parts of my app - they will call into models or service objects to perform the actual work intended.

But long story short - jobs are for code your app is going to call and tasks are for code you're going to call. ",1525922617.0
hmaddocks,"It doesn‚Äôt really matter and what you are doing, using a scheduler to run rake tasks, is perfectly fine.  That‚Äôs basically how this sort of stuff has been done forever. 

If you find you are performing the same tasks on a schedule and as background jobs you could save some duplication by having your scheduler call your job directly.  But if all your work is being done in service objects (good idea) your jobs shouldn‚Äôt have much in them anyway so that probably doesn‚Äôt matter. 

Having your scheduler put jobs into a background queue is not something you want to do. ",1525941892.0
intentions_are_high,"It's really about what you need. If you just need a single background job to run every once in a while then you can setup the scheduler and call a rake task. This will be cheaper as you only pay for the time the scheduler runs and the dynos used.

If you have a bunch of tasks and background jobs then I would recommend using Sidekiq + sidekiq-cron. But you'll end up paying for a worker dyno so it could be bit more costly since you're always running that dyno (but tbh that could just be $7 a month).",1525975705.0
hsndiz,"Eliminate terms of service. I can walk across a piss-wet bathroom floor to put my bare ass on a toilet without understanding or agreeing to anything. I'm trusted not to slip and fall, and even to flush. There is a sign about hand washing but it doesn't even apply to me as a non-employee. But if I'm on the shitter and I want to hook into wifi, that requires reading and accepting terms. And then I go to a website and I'm reminded to read their terms, and possibly accept them for more access. So I do all that and now I'm going to forget to flush. And you know what? I still won't need to sign terms of service next time I need to shit.",1525919620.0
bgcali,"Your problem is probably you need this in your application_controller.rb

    def configure_permitted_parameters
       devise_parameter_sanitizer.permit(:sign_up, keys: [:image])
    end

It is showing image nil because the image you are uploading is not getting uploaded at all so the string image in the database contains nil. You need to configure devise that at sign_up to include the :image params to also be saved.",1525919983.0
perfectdreaming,"You need to post your model code and some of the code for your view if you want help.

You should have something like mount_uploader :image_file, ImageUploader in the model.

Edit: to answer your question about devise, yes. It is involved and I forget where I looked it up-pm if I forget to edit an update to it.",1525918992.0
NooYurrsDey,"Sendgrid does indeed let you send emails from the templates you create on the site itself (called ""transactional templates""). It's detailed in [this page](https://sendgrid.com/docs/API_Reference/SMTP_API/how_to_use_a_transactional_template_with_smtp.html) on their documentation. 

The idea is that you make an SMTP call as usual but in the `X-SMTPAPI` header field you include a JSON object describing how the email should be sent. There's various options but some common ones include - 

- What template should be sent (you can get the template's ID from the sendgrid UI)
- Who to send it to
- What category labels to add
- What merge variables to interpolate. E.g. your marketing team might use the placeholder `Hello %FIRST_NAME%` and you can programmatically pass in the first name for each email. 

The header fully describes the email and the HTML / CSS is already defined in the template so Sendgrid will have everything it needs to build the email. The body/subject you send with the api call can be some fake value. 

PM if you have any difficulty setting this up.

However, I always recommend against this practice in general. My personal opinion is that the product/eng team needs to demand that email templates be defined in the application. If marketing really needs control over the email, there's numerous marketing management solutions they can use that don't require engineering's time and input. 

A few reasons -

1. Sendgrid uses different template ID's for staging and production. Managing this list of template id's across multiple environments will be trickier than you think.

2. Marketing will find this solution ""easy for them"" and will expand its use. Now you're working on programmatically managing 10+ email templates

3. Humans make mistakes and email mistakes are costly. Someone will type `Hello %FIRST_NAM%` and the template will break. A bad email will be sent to hundreds of users. You want things to be tested and programmatic, not at the whim of anyone who can change the template in a heartbeat

4. From a product design perspective, emails can get complex. Mixing in-app email templates with sendgrid templates will lead to a lot of code complexity (spoken from experience here). You also want to make sure emails are limited from a user's experience and that your product is focused on sending *product* emails, not *marketing* emails. Again, they can use their own software for that and manage it themselves.

Speaking from a decade of managing teams and building webapps here. 

Hope that helps.",1525917894.0
mysteryihs,Probably easiest way to do it is to create a mailer with the corresponding html/text views and configure action mailer to use sendgrid settings.,1525912501.0
JohnTheScout,"Just to clarify, you have a list of emails, I'm guessing stored in a database on heroku? And you need to send all of these email addresses a marketing campaign? If so, then export the addresses as a CSV and import into sendgrid.

If you want to send an email on an event, ie signup or checkout or etc, what you want is a transactional email. Someone else (/u/UnderwaterPenguin) has detailed this much better than I could in the comments, so see that one. ",1525918056.0
zwschlei,"- My Tiny Wins
- A social network to share your accomplishments!
- Ruby on Rails
- https://www.mytinywins.com
- Private repo
- Any advice / recommendations would be great! ",1525955287.0
iceyballz,"1. Authparty
2. Utilize your Bitcoin or Counterparty\-enabled wallet to enable **seamless**,\*\* secu**re, an**d cross\-service authenticatio\*\*n.
3. Rails, Bitcoin blockchain, Counterparty \(want to move from ERB to Vuejs for frontend\)
4. [https://authparty.io](https://authparty.io)
5. [https://github.com/matthewjamesr](https://github.com/matthewjamesr); [https://github.com/Authpartyio/Authparty](https://github.com/Authpartyio/Authparty)
6. Intermediate
7. Project has been dormant lately but finally getting time to come back to it. Fully integrated with Freewallet app for login example \(link on login page\).",1525910843.0
RobertHopman,"1. Discover
2. building something useful
3. postgres, heroku, aws S3, ruby on rails, jquery, sentry
4. https://discoversoftware.herokuapp.com/
5. -
6. 2years experience
7. Advice on design, functionality & other things you think are valuable are appreciated
",1526305460.0
AdvancedPizza,"1. Flatreader
2. Ok, this is a Sinatra project... hope that's cool... Flatreader is a tiny, simple RSS reader.
3. Sinatra, Postgres, Redis(sidekiq), Capistrano, Bootstrap, jQuery(i know), webpack. very little JS for now. Passenger, Digital ocean hobby.
4. [http://flatreader.com](http://flatreader.com)
5. [https://github.com/ckahle33/flatreader](https://github.com/ckahle33/flatreader)
6. 6 years (PHP, then rails for 3 years).. so mid level???
7. 
   - Any feature requests, and any design / UI advice. I sorta like feedly, but think there are too many features that don't necessarily help you get to reading, and the monthly fee is too damn high.
   - Running into active record errors with sidekiq: 
      `ActiveRecord::ConnectionTimeoutError: could not obtain`
      `a connection from the pool within 5.000 seconds` . I think I just need to up the pg pool size, but it is already at 30... Jobs aren't finishing even when fired directly. `RefreshWorker.perform_async(1)` so its probably a config issue.
   - TODO: Capistrano webpack deployment. I will probably write a one off task to run `npm build production` that will create bundle.js. Maybe there is a better way. (webpacker requires rails)

ps: I should have just used rails...",1526271953.0
amadman114,"The validator has a `validate` method that takes the object that you're calling it from as a parameter.

I actually have a similar use case for me, I want to validate a bunch of different things before taking a payment.

This is the validate method


    module Validators
      class PaymentMakerValidator < ActiveModel::Validator
        attr_accessor :form
    
        def validate(form)
          self.form = form
          charge_obj_responds_to_payment_method_name
          charge_obj_has_valid_price
          enthusiast_is_persisted
          payment_is_valid
        end
    
        private
    
        # the methods that do the checks
    end


Then I can just call `valid?` in my object that `validates_with` that validator

Edit:
I'd also recommend just checking validity before starting to save objects, because this could unexpectedly mess with callbacks, cause unnecessary processing and is generally more confusing than doing `save if valid?`",1525864901.0
Blimey85,"This sounds to me like you‚Äôre wanting to construct your own way to handle a transaction. I assume I‚Äôm just missing something and I‚Äôll admit I‚Äôm home sick at the moment so apologies if I‚Äôm totally missing your point. That said, Rails has a transaction method that I believe does what you‚Äôre wanting.

http://vaidehijoshi.github.io/blog/2015/08/18/safer-sql-using-activerecord-transactions This is a blog post that explains better than I can how a transactional block works.",1525873830.0
intentions_are_high,"I‚Äôm a bit confused, why can‚Äôt you add active model validations and validate the data in your form object? What is the need for a custom validator?",1525921785.0
luismoyanomedina,"Best advice I can give you is don't let yourself get influenced by the trends.

Rails is a framework that get the job done and Django does as well 

If I were you I would watch a few video tutorials on the basics for both (give no further than 2h to this task) and follow along with the one I feel most confortable with (:

",1525852362.0
GroceryBagHead,"> Django is more modern but rails is fast

I always thought it was the other way around. Ruby got pretty damn fast compared to several years ago, so it's probably a wash when you start comparing Python to Ruby.

Rails has way more development activity compared to Django. 

It's been a number of years, but last time I worked with Django I always was annoyed how its ecosystem was not even on the same level as Rails. Felt like I was building stuff in Sinatra. Maybe it's better now.

Really it boils down to the language. Do you want to work with Ruby or Python? Choose your language and either framework will do what you want at the end of the day. ",1525853772.0
BaconGlock,"i recently went thru this quandry myself. i already knew a lot of python from working with flask for a couple years and needed a more feature-rich framework and django was the obvious choice but...man did i hate it. i really tried to give it a chance but it seemed like every single step there was some sacrifice i had to make (for example, the django template language is very limiting, they say it can be switched out with jinja but this is a joke as doing so makes it ridiculous and super hacky to work with contexts/variables/etc). by the time i got to setting up a way to merge all my css/javascript and serve them as one file, it became so painfully obvious that django just...isn‚Äôt fun for me. in almost every context, there is one or 2 popular add-ins that both quasi-do what you want but then fall short and you really have no alternatives besides just living with the annoyances.

rails was calling to me hard simply because it was doing everything just how i wanted (ERB, asset pipeline, file structure). everything was just well thought out and done in a way to make it enjoyable and productive without having to jank around with literally every little thing. i ended up making the investment to learn ruby, and then rails, and now i am further along in my project than i ever got with flask or django and its been a joy to work with.

so tl/dr; if you like having to fuck around with absolutely everything just to get it wired up and learn a dozen difference DSL‚Äôs for forms, for templates, for ORM, etc && do a ton of research to make sure the one of 2-3 popular add-ins is going to be the right choice to achieve the basic functionality you need && buy a $40 book (two scoops of django) to get the ‚Äúbest practices‚Äù way to setup your entire app structure that is totally different than the way django defaults to &&  having to subclass things like the built in user model of which you have no way of knowing exactly what the base class looks like && a dozen other similar types of nonsense, django will be awesome for you. if you just want a fun time sitting down and getting actual shit done in a super pleasant and well thought out and cohesive way, Rails is the top dog. 

to me, python/django vs ruby/rails is literally the same argument/differences as android vs apple. they both offer essentially the same functionality but only one is designed around ‚Äúthe experience‚Äù of using the tool, which ends up being what i care about the most in the end.",1525884846.0
virtyx,"You can‚Äôt go wrong with either. I think Rails has done a better job keeping up with web trends, the asset pipeline and websocket support are built in and work well whereas Django relies on third party extensions for both.

I also have a slight preference for Ruby over Python.

But at the end of the day both tools are more than capable.  Pick one and get hacking!",1525863781.0
RubyKong,"Matz has set very a very high benchmark for Ruby 3 we'll see whether he gets there. I wouldn't worry too much about speed. that is a problem that you WANT to have. e.g. what tie will i have to wear when I give my presidential inauguration speech. focus more on picking a framework - it really doesn't matter which one - the things you learn in one will almost equally apply in the other.

rails is a very rapidly developing and large eco system where a lot of design decisions are made for you - that can be a double edged sword when you are trying to learn the framework.  i'm not familiar with django so i really can't comment on it.

my advice would be to focus on building something: pick a framework and stick to it for a little while. 

[if you really can't decide I would say: just go with rails, and get started writing something. the latter is more important than the former whatever you do.]",1525872847.0
Blimey85,"I love Rails because it‚Äôs fun to use. For many years people have said that Rails is old, isn‚Äôt modern, is too slow, and nobody uses it anymore. Like with most things there‚Äôs some truth to these statements but without context they really aren‚Äôt based in reality.

Rails has really matured and things that used to be a bit difficult to setup now work with very little effort. Look at testing. You add a few gems, write a test, and before you know it you‚Äôve got tests running in headless chrome complete with screenshots for any failed tests. Yes you could do that five years ago but it wasn‚Äôt as quick and painless to setup.

At the end of the day however, it really just comes down to which do you prefer? Python and Ruby are both great and I don‚Äôt think there‚Äôs a bad choice with either one. As others have stated, just watch some videos or play with both a bit and see which you gravitate towards. Then use Rails because it‚Äôs awesome! ;)",1525881515.0
GeneReddit123,"Note: I have developed Rails professionally for many years, but not Django, so my opinion may be biased. Still, I would suggest Rails for general-purpose web development. It has very good productivity, lots of tooling, and easy to get going with.

The only reason I'd start with Django is if I was building some special software that required easy integration with Python libraries (Python is much more prominent in math/science/stats fields than Ruby is).

Neither Ruby nor Django are particularly performant or scalable compared to other choices, however:

* Both Ruby and Python are interpreted, rather than compiled languages (Ruby is experimenting with JIT compilation, but it's far off, and even then it likely won't match native compile speeds). 

* Both Ruby and Python have Global Interpretor Lock preventing multi-threaded parallelism.

* Neither Rails nor Django have native support for the more modern performance or scalability oriented patterns, such as async processing (Node), actor model (Akka/Scala, or Elixir), or channels (Go).

If you need a highly performant or highly scalable application, consider some of the above alternatives. Note that they don't come for free both in terms of learning and in terms of complexity/maintenance for even an experienced developer.",1525891812.0
wabber,"I would second what u/luismoyanomedina said.

Personally, I don't think there's any other framework that could get the job done faster than rails (in terms of development time). Django, on the other hand, takes a bit longer, but I feel like you end up writing better software in general (structurally).


Why would I choose rails:

* better dependency management
* faster development time
* a ton of gems to do virtually whatever you want
* great built-in support for apis
* staying up to date with current trends

Why would I choose django:

* excellent admin app out of the box
* excellent documentation
* more stable, favors stability over current edge.
* predictable releases and LTS versions
",1525860446.0
defmacro-jam,"> i would love to know your opinions

I find it easier to read and understand Python and Django -- and I find Ruby and Rails more pleasurable to write.

Django is getting a little long in the tooth and these days pretty much everybody uses Django Rest Framework for the backend and something like React for the frontend.

> it is not clear which one i should learn

IMO you should learn a little Ruby and a little Python -- just to see which language you like more.  Then go through the tutorials for Rails and Django -- to get a feel for which framework you prefer.

If this sounds like I am not answering your question, it's because I'm not.  I use both Rails and Django (though I do generally choose Django for personal projects because I prefer Django models as a starting point for exploratory programming).

For my next project I'm going to try Elixir and Phoenix framework.

> i have read that Django is more modern but rails is fast

I would say that Rails has kept up with the times better than Django has.  And that the next major release of Ruby will likely run circles around Python.

I don't know.

Hopefully some of my rambling will be helpful to you.",1525862218.0
RandomRocketScience,"I believe your location plays a role in this. I picked up rails around 6 months ago in a situation similar to yours. While looking for jobs in germany, nobody seemed to value rails and employ people for rails jobs on a larger scale. Here a lot of people went back to using php alongside the symfony framework(feels somewhat similar to rails) for the backend, and js frameworks(mostly react) for the frontend.

If you want to learn web development to get a job at an agency, i would recommend learning javascript, which is  indispensible for frontend work, and can be used for backend tasks as well, using node.

Have a look at job offers at your location. While the market should not dictate your decision, if your goal is to get a job in the field, you should take it into consideration. Good luck! ",1525897369.0
Paradox,"I would personally lean towards rails because, almost the inverse of many other situations, Ruby is ahead of python in terms of web libs.

Buuuut, I should add this too: You might look into Elixir and Phoenix. I've been writing a lot of both lately, and have had an absolute blast",1525909211.0
dogweather,"The library will refuse to create incorrect markup; it only generates valid markup.For syntax: No, the user needs to only create syntactically correct *Ruby*, which is easier and more familiar than JSON\-LD embedded in HTML. ‚Äî and less redundant. Here's sample input:

    @public_law = Organization.new(
     name:             'Public.Law',
     founder:           Person.new(name: 'Robb Shecter'),
     founding_date:     Date.new(2009, 3, 6),
     founding_location: Place.new(address: 'Portland, OR'),
     email:            'say_hi@public.law',
     url:              'https://www.public.law',
     logo:             'https://www.public.law/favicon-196x196.png',
     same_as: [
       'https://twitter.com/law_is_code',
       'https://www.facebook.com/PublicDotLaw'
       ]
     )

And the corresponding output:

    <script type=""application/ld+json"">
    {
     ""@context"": ""http://schema.org"",
     ""@type"": ""Organization"",
     ""name"": ""Public.Law"",
     ""email"": ""say_hi@public.law"",
     ""url"": ""https://www.public.law"",
     ""logo"": ""https://www.public.law/favicon-196x196.png"",
     ""foundingDate"": ""2009-03-06"",
     ""founder"": {
       ""@type"": ""Person"",
       ""name"": ""Robb Shecter""
     },
     ""foundingLocation"": {
       ""@type"": ""Place"",
       ""address"": ""Portland, OR""
     },
     ""sameAs"": [
       ""https://twitter.com/law_is_code"",
       ""https://www.facebook.com/PublicDotLaw""
     ],
    </script>

I'd rather type in the top block, which is why I made the library.  :\-\)

For semantics, the library will guide you to use it correctly. It doesn't simply generate the HTML based on what you give it. It type\-checks the class structure, making sure that correct objects, attributes, and their types are in use. if you don't do it correctly, you get a helpful error message. This is much better than ""silently failing"", and simply generating incorrect structured data. It also saves the programmer from needing to periodically test the website with the structured data testing tool.",1525827537.0
definitivero,"Are you trying to make it so that a Customer can be assigned to many companies and a Company can have many customers? Or can a Customer only belong to one Company?

If it's the former, you can set up your models like this:

    class Company < ApplicationRecord
      has_many :customer_companies
      has_many :customers, through: :customer_companies
      validates :title, presence: true, uniqueness: true
    end
    
    class Customer < ApplicationRecord
      has_many :customer_companies
      has_many :companies, through: :customer_companies
      validates :firstname, presence: true, uniqueness: true
      validates :lastname, presence: true, uniqueness: true
    end
    
    class CustomerCompany < ApplicationRecord
      belongs_to :customer
      belongs_to :company
    end

And for your seed you could add a Company to the Customer record like this:

    customer = Customer.create(
        :firstname => Faker::Name.unique.first_name,
        :lastname => Faker::Name.unique.last_name,       
     )
    customer.companies << Company.find(Faker::Number.between(1, 10))

You can then add as many companies to the Customer record by repeating the last line of the customer creation code.
Unless I've misunderstood what you want to do?",1525828096.0
,[deleted],1525823585.0
Ronald-Ray-Gun,"    class CompanyCustomer < ApplicationRecord
      belongs_to :company # These should not have _id
      belongs_to :customer
    end

    class Company < ApplicationRecord
      # Is your table named company_customers, or customer_companies?
      # since your model name is CompanyCustomer, your tables
      # and has_many's should be company_customers
      has_many :customer_companies # needs to be plural
      has_many :customers, through: :customer_companies # also plural
      validates :title, presence: true, uniqueness: true
    end    
    

Try this instead for the seeding:

   
    companies = 10.times.map do
      Company.create(title: Faker::Company.unique.name)
    end
    
    50.times do
      Customer.create(
        firstname: Faker::Name.unique.first_name,
        lastname: Faker::Name.unique.last_name,
        company: companies.sample # grab a random company
      )
    end

",1525827508.0
cwitty1988,You could use an enum for the type of vote. You can easily query by it and it would be exclusive. ,1525743627.0
JamesAllMountain,Off topic seems like it would make sense to sit in the vote model. Spam might be associated to other objects in your system though depending on your use cases,1525741688.0
hsndiz,"So a vote is a join table, right? As in, user has many things through votes? Let your unique constraints guide you. If a user may only vote once per thing, i.e. he cannot mark spam and also down vote, then make votes be one table and use an enumeration for the type of vote. But if a user may both down vote and also mark as spam, make a separate table for spam. Since a user may not both upvote and down vote, you can still use a boolean or an integer in the vote table to denote the sign. Then your unique constraint on (user_id, thing_id) will ensure only one vote, up or down, per user/thing pair.",1525748304.0
HaxleRose,"I ended up scrapping this idea and used the gem lazyload\-rails and it seems to be working fine.  Not sure what the issue was, but I have a feeling there is another javascript file that I needed to put in vendor/assets/javascripts, because the gem I'm using now had me do that and it works very similar.",1525790445.0
AvaCollie,"Howdy, I actually have been working on a personal project that uses Rails 5.2 and React. I'd highly recommend taking a look at webpacker if you want an alternative to the asset pipeline.
https://github.com/rails/webpacker

The documentation can help you integrate it into a new or ongoing project. The docs also include sections for most frontend frameworks like Vue, React and Angular. I think the only caveat is that your rails version needs to be at least 5.1. ",1525725097.0
DerJuggernawt,"Just use rails as api and serve json to vue. I'm currently doing it with rails api and nuxt, axios. ",1525725486.0
dameramu,"I'm thinking the exact same thing, great question. In my case, I've already got a chunk of existing frontend code using Coffeescript/jQuery as is the default Rails way - but I've been using Angular and Ionic for the mobile frontend and it's far easier to manage. Definitely going to give this a shot
 ",1525725981.0
htom3heb,"Hey OP, I have a small personal project that uses this exact stack. Feel free to check it out if you want to see how it ends up working.

https://github.com/laaksomavrick/home-page",1525742732.0
felondejure,"Just to came back and let you know, so happy that i did it and its going smooth. Asset pipeline gone forever! Now i can deal with front and back seperately. No instance variables finally ! ",1532983998.0
Oecist,"Your local database is not the same database that Heroku uses, so it has no records.

You can run ""heroku logs"" to get log output.",1525712891.0
Misaiato,I think the best answer in your case is to create a different user for postgres . Postgres can run as a process by root but a database can be accessible to a named user with permissions. So create those permissions and then you should be able to access Postgres using that username and password on connect via the Settings file that you use to maintain those types of attributes.,1525735771.0
Rogem002,"I've been using [mountain_view](https://github.com/devnacho/mountain_view) to achieve a component-centric approach in most my current rails builds. It's absolutely incredible.

Pretty much you run `rails generate mountain_view:component alert`, and this will generate the files:
```
component/alert/_alert.html.erb
component/alert/alert.scss
component/alert/alert.js
component/alert/alert.yml
component/alert/alert_component.rb
```

Then to render your alert you just run `<%= render_component 'alert' %>` (Though I extract that out to its own helper, so it's just `<%= alert ""Some string"" %>`).

But what's really awesome, is it'll give you an optional choice of having a living component guide. So you can document your components for everyone else working on your project :D",1525702766.0
dotaisreal,I also really liked the [https://evilmartians.com/chronicles/evil\-front\-part\-1](https://evilmartians.com/chronicles/evil-front-part-1) blog posts about this topic!,1525787944.0
prh8,You might also take a look at the [drawers gem](https://github.com/NullVoxPopuli/drawers),1525708449.0
amphibious_shark,"You can patch custom field class to include 'contract' type custom fields.
For the Query part, you can create a class like ContractQuery which inherits from the 'Query' model.This way you can easily add your own filters & column structure and get the results from your query.I have done this for several plugins.",1525697917.0
crabstic,"The following has worked for me in the past:

    brew install imagemagick@6
    PKG_CONFIG_PATH=/usr/local/Cellar/imagemagick@6/<current version here>/lib/pkgconfig/ gem install rmagick",1525699015.0
Rogem002,"> compile it with version 7

I remember hitting this problem and wanted to throw rmagick out the window. In the end I think I ended up using https://github.com/minimagick/minimagick on my project instead. ",1525682970.0
I_AM_GODDAMN_BATMAN,"No, nobody ever make rmagick compileable with imagemagick 7. ",1525694511.0
keemook,"    brew unlink imagemagick
    brew install imagemagick@6
    brew link imagemagick@6 --force

Source: https://stackoverflow.com/questions/39494672/rmagick-installation-cant-find-magickwand-h

Basically you want to only install a specific version of imagemagick.",1525701320.0
aknep,"Of course you can fix your environment.
but I recommend docker for rails (or other almost all) dev.
like this: https://gist.github.com/drpain/a8657ee684143fe92406300b1d23774c",1525701928.0
GroceryBagHead,This plus your old thread about evals: https://www.reddit.com/r/rails/comments/8gf4yr/gems_with_eval/ I really want to know what the hell are you doing.,1525648260.0
henrebotha,"I don't understand this conversation. Your question has absolutely nothing to do with managing persistent threads. All you actually want to know is how to let signed-in users interact with server-side stuff, the answer to which is ""exactly the same way you always do it"".",1525633885.0
PM_ME_THICK_LADIES,"One way would be to use active job, and then cancel the job later on. 

http://edgeguides.rubyonrails.org/active_job_basics.html

Canceling/killing the job will depend on the queuing system you pick. ",1525627883.0
volar92,"Do you allow anonymous users? If not. Maybe you can link the thread to the user ID? 


You're right that sessions are not persistent. If you really need to save state on anonymous clients try cookies or localstorage.

Make sure you time out threads incase the user doesn't come back.

As the user above me said, you may be better of using a system with jobs like activejob or resque ",1525629183.0
in0pinatus,"If you are using a Rails front-end to launch and halt computational threads then I strongly urge you not to spawn them in the Rails runtime where they can do the most damage if compromised and also create the maximum amount of confusion between sessions, requests, cookies, and running threads. A confusion I can see already emerging in your questions.

Instead, use your Rails front-end to update a database table with the *intended* runtime state. Write a *separate* container program that reads that database and manages threads/processes to actually *implement* the intended state.

This separation of concerns will save you a whole world of software defects and painfully leaky abstractions later.

Broadly speaking this is also how background jobs work. However background jobs have a particular lifecycle, which may not fit your intended uses.

Take a look at https://celluloid.io/ for a base framework that may help you a lot, or at least spark some ideas.",1525653478.0
TotesMessenger,"I'm a bot, *bleep*, *bloop*. Someone has linked to this thread from another place on reddit:

- [/r/tha_pit] [Manipulating persistent threads](https://www.reddit.com/r/tha_pit/comments/8hffve/manipulating_persistent_threads/)

&nbsp;*^(If you follow any of the above links, please respect the rules of reddit and don't vote in the other threads.) ^\([Info](/r/TotesMessenger) ^/ ^[Contact](/message/compose?to=/r/TotesMessenger))*",1525616253.0
pmo3,"It looks like you have some mismatched 'end' statements and some of your functions are defined inside of others. Look particularly at the index action.

In general I would focus on your formatting and indentation more. Keeping things organized can help avoid these kinds of issues and make your code much easier to read",1525613467.0
Schrockwell,"I'm not sure about the interaction piece, but I'd advise against using jQuery selectors in Stimulus controllers. Use Stimulus targets appropriately, and use the newer DOM APIs for manipulating elements if you can.",1525572807.0
coomzee,The && make a laugh at bit,1525600591.0
seainhd,"Only real downside is that you need to remember rails DOM event names. 

For example you cannot use $(document).ready because of how turbo links works.",1525971477.0
BaconGlock,this should get you pretty far: https://youtu.be/KOs8f8TnwZs,1525569300.0
obviousoctopus,"What I've done:

* Create an ActivityLog model associated with User and with polymorphic associations to all models I'll log
* Create a PORO which adds a record when passed a user instance, an associated record instance and a comment.
* Call the PORO in the controllers wherever I want it, like:
* `ActivityLogger.log current_user, @post, ""Created a new post""`",1525996975.0
CarefulAsk0,"Hmm if simplicity is your main priority, have you considered using 3rd party for this? https://getstream.io/. I do not have any association with this saas nor have used it before, but if simplicity is what you look for, you may be interested. ",1525559610.0
ClearMyInbox,Github issues and kanban board?,1525560813.0
wuji_,"Gitlab has a boards feature, you can also assign tasks to yourself and other people. You shouldn't really need any 3rd party apps.",1525575047.0
harsh183,Search. People have such high expectations for it.,1525527358.0
rabbitz,Analytics with no access to the account and no clear requirements.,1525527146.0
aonemd,"Filters, search, and CRUD dashboards of so many different items.",1525541565.0
mrfrosti,"Forms. There are a lot of tools, but nothing takes the tedious fight out of specifying inputs, default values, client side validations, error display, custom widgets for things like date/time pickers, styling (then styling again just for IE problems), custom event listeners, etc. It's gotten better in many ways. There are many more interesting problems to work on imo.",1525561977.0
Dragon-bone,"CSV importing. 

It's heavy on processing so usually has to get pushed to the background.

Displaying decent, helpful errors is a pain, especially when it's backgrounded.

And clients always expect it to work exactly the way they have in mind, which is almost never possible (or could maybe be possible for 10 times the cost).

Hated it the first, second, and every other time I've had to build this type of thing. ",1525576457.0
,"I don't hate doing it but since I try to focus on TDD - doing the basic CRUD testing every time can get tiresome - but I know it should be done :)

File Upload is one of those things I have focused on using gems for to make it easier.

",1525542189.0
MeAsYouKnow,"Paperclip (and similar gems) make file uploads so easy. üòÑ

Although I will say- having to set up S3 and get file permissions set up is pretty annoying. 

Anytime I run into something repetitive that I‚Äôm not super fond of building- I package/modularize it so I can drop it into a new project without too much hassle.  ",1525530665.0
turkeys,"It‚Äôs been a while since I‚Äôve had to do it, but for me it‚Äôs account registration. Everyone has some weird, stupid requirement, wants some different level of verification, etc. 

A close second would be SSO.",1525536319.0
,"> rack

I see what you did there",1525557486.0
deedubaya,I hate converting complex dashboards and reports to pdf and the UX around it so much I‚Äôm building a service that does it all for you with a middleware,1525557925.0
NilsLandt,Internal API clients.,1525598509.0
MaterialDish,IMO it depends on whether views use rails helpers (e.g. link_to) or not. My project uses stimulus and webpacker. I writes all views in erb and stimulus makes the structure simple because all models and controllers live in rails only.,1525494467.0
discerr,"No; integration testing (backend + frontend) is a million times easier when you can mock stuff in the backend. The ability to commit frontend/backend changes that depend on each other also makes development easier.

A separate frontend/backend makes sense when you need to CDN your frontend, but until you get to that scale, keeping it together makes everything quite a bit easier.",1525494748.0
hardwaregeek,"Meh I mean decoupling wouldn‚Äôt be too hard in the future, so I don‚Äôt think it‚Äôs a terrible decision. Personally I like keeping the React and rails apps in the same repo but not connecting them in any way. Not a huge fan of webpacker but that‚Äôs just my opinion/usecases.",1525495495.0
SureLetsDoAnother,"I haven't used webpacker before, I'm curious. What are its benefits? Because otherwise I'd have just done the thing you're thinking about moving to now.",1525494409.0
loperaja,I‚Äôm in the same dilemma at the moment. I kind of don‚Äôt see the point of webpacker but it‚Äôs mostly due to ignorance as the available documentation is really poor. ,1525501930.0
ziptofaf,"I have tried both approaches actually - a separate front-end and back-end vs webpacker + react-rails gem. They both have pros and cons. 

Personally I have found the latter to be a really good solution when you have an already existing application. I couldn't justify rewriting easily 10000 lines of code and getting rid of rendering HTML in favor of JSON so React could function on it's own. However react-rails + webpacker combo lets me literally embed React components anywhere inside my application. Like for instance in the middle of the form generated by Rails cuz you need 2-3 fields with custom behaviour. That way I got the best of both worlds - routing, helpers, all necessary middleware (like Devise) handled with Rails and ability to create a live application with React. It also means less knowledge necessary to get React to work correctly - if these are all smaller individual components which are de facto serving as ""views extensions"" then you don't need to install 30 libraries and care about sophisticated state management and whatnot. Personally I do find Rails structure and convention over configuration approach to handily beat that of React environment at the very least. 

Building a separate application with React has the main advantage of being able to split your work - as long as you provide a decent documentation of your endpoints and parameters accepted you can pretty much focus on back-end alone and let someone else do the front-end (or the vice versa). Overall codebase size is visibly bigger but also easier and faster to test (concept of integration tests in Rails is now gone, it's just json after all, it doesn't even require a ""real"" web browser anymore). It makes sense to go with this approach if you are expecting application to become massive in the future or if you have someone dedicated to front-end development. ",1525673670.0
Serializedrequests,"The reason to separate them is if you are working at scale and need the front end servers to be totally separate.

If you are not, then keeping them together makes development simpler and testing easier. If you are developing a system for a client with a limited number of users, that kind of thing.",1525712020.0
tastycakeman,"Hello! 

So, I an deep in the world of heroku memory and performance optimization, with MALLOC_ARENA_MAX=2 and growth_factor env vars, etc, etc. 

As the image shows, I've got something that very sharply increases memory, but then it quickly disappears again. I can't figure out how to track it down. I've used new relic, logs, scout gem, and none of them show the actual transaction that spikes up the memory. Is there a way to hunt this down?",1525474116.0
tastycakeman,"BTW: as far as i can tell heroku says it is spending a lot of time in Middleware/Rack/ActionDispatch::Routing::RouteSet#call, but i think it might be a symptom instead of the cause.",1525475768.0
lift_heavy_things,"As someone else commented the best solution here is to precompile, but the truth is you can get away with compiling on app boxes for quite a while.  You'll need to make sure you have more than one server running per box and do rolling restarts if you require zero downtime deploys.  Compiling on each box will use memory unnecessarily and will take a little extra time to deploy, but I think basically you're asking if you can get away with it and the answer is yes.  Most people who deploy via capistrano do this.",1525495314.0
cmd-t,"1.	It takes precisely as much memory as it needs. 
2.	The rake task is run in a different thread then the web server so my guess is it doesn‚Äôt slow down the first boot unless you run the task before you start the app server. 
3.	Why wouldn‚Äôt it be?

It sounds to me like you are worrying about something while you‚Äôre not even sure yourself whether you really have a problem. 

Why are you worried about memory usage? Are processes killed because your container /VM runs out of memory? No? Then why would you care?

Are you experiencing slow boot times? Are customers complaining? No? Then why do you think booting is too slow currently?

There‚Äôs a bajillion ways of doing things in a rails project and if you found a way that works for you, that‚Äôs great. ",1525461939.0
MaterialDish,"I would do the task at build-time and share assets using docker volumes.

1. Precompile assets on building a docker image.
2. Create a docker instance with -v my-assets:/usr/src/app/assets. This will create a named volume ‚Äòmy-assets‚Äô and copy precompiled assets into it.
3. Run a nginx instance with -v my-assets:/nginx/assets/directory.

However, uploading all assets to CDNs seems a better solution. Keep old precompiled assets because there might be cached webpages that requests old assets.",1525462168.0
442401,"    %td.order_field{colspan: 3}= f.input :comment, label: false",1525477262.0
systemnate,"Will this work?

    textarea {
      width: 100%;
    }",1525457025.0
paneq,"Here are some tweaks that helped me:

```
timeout_to_compile_assets_on_first_visit = 90
Capybara.register_driver :chrome do |app|
  nested_options = Selenium::WebDriver::Chrome::Options.new
  nested_options.add_argument(""--window-size=1680,1050"")

  Capybara::Selenium::Driver.new(
    app,
    browser: :chrome,
    options: nested_options,
    http_client: Selenium::WebDriver::Remote::Http::Default.new(
      open_timeout: timeout_to_compile_assets_on_first_visit,
      read_timeout: timeout_to_compile_assets_on_first_visit,
    )
  )
end

Capybara.register_driver :headless_chrome do |app|
  capabilities = Selenium::WebDriver::Remote::Capabilities.chrome(
    chromeOptions: { args: %w(headless disable-gpu) },
  )

  Capybara::Selenium::Driver.new(
    app,
    browser: :chrome,
    desired_capabilities: capabilities,
    http_client: Selenium::WebDriver::Remote::Http::Default.new(
      open_timeout: timeout_to_compile_assets_on_first_visit,
      read_timeout: timeout_to_compile_assets_on_first_visit,
    )
  )
end
```",1525432546.0
bepragmatic,"I'm still on phantomjs v2.1.1.. is this any faster? or at least not slower.. if the same, why I should care?",1525470309.0
harsh183,"Helpful protip, selenium also works great for other sets almost just as well, with very few changes. I've been able to switch my code between firefox, headless chrome and actual chrome quite easily.",1525439604.0
so_just,Is there an easy way to take a full-page screenshot with headless chrome?,1525428834.0
hartator,Still main issue with Chrome headless is you can‚Äô t use proxy with auth. ,1525445229.0
delus1on,"Capybara-webkit was always faster than PhantomJS, wasn‚Äôt it? I haven‚Äôt bench marked against headless Chrome, but it would be worth a try. ",1525811398.0
kelseyhannan,"This gem emerged from a discussion about [adding magic link logins to Devise](https://github.com/plataformatec/devise/issues/4724). 

Making this feature easy to add to authentication systems would be a killer app for Rails as a framework in 2018.",1525404304.0
bgcali,"Are you using devise? If so you need in your application controller if that form is from sign up.

    def configure_permitted_parameters
       devise_parameter_sanitizer.permit(:sign_up, keys: [:sex])
    end",1525406528.0
Lucky_Chuck,Can you paste in your form?,1525400728.0
donkeypooper,"Using the 'byebug' gem to read/break/step-through the stacktrace, insert `byebug` into your user_params methods and inspect the params. 

    def user_params
        byebug
        params.require(:user).permit(:username, :email, :sex)
     end 
    
The :sex param is probably not being included within your user params object.",1525405063.0
markrebec,"Are you asking conceptually, whether folks recommend you use elasticsearch vs activerecord/postgres, or something along those lines? Or are you asking for a code example of how you would query those models with activerecord?",1525371799.0
planetmcd,"Assuming you want to do this in AR.  I would suggest you write a view in the DB (if using postgres, think about a materialized view) and just create a 'read only' AR model based on that view.  AR won't know whether it is a view or a table under the hood.  It's just a relation as far as AR cares.",1525377637.0
jessecurry,If I had this data in Postgres I‚Äôd usually build a view (maybe even a materialized view) and attach a read-only ActiveRecord subclass to it for easy integration into the Rails app.,1525399816.0
MaxHLap,"I recently released a gem for the exact purpose of doing conditions on your associations.

https://github.com/MaxLap/activerecord_where_assoc

You should really consider it as doing joins when all you actually want is to filter things out can lead to quite a few issues, as I note in this page:

https://github.com/MaxLap/activerecord_where_assoc/blob/master/ALTERNATIVES_PROBLEMS.md

Copying an example of another comments, but with the gem:

    Doctor.where_assoc_exists(:specializations, &:face_lifts)
          .where_assoc_exists(:schools) { by_school('Harvard') }
          .where_assoc_exists(:services, field: 'ancillary')
          .where_assoc_exists(:services, field: 'intensive care unit')

A big advantage of my gem is that checking for multiple different records of a same association, such as doctors working in 2 services, work automatically. If you went with joins, then you need raw SQL.
",1525450521.0
kenc138,"@markrebec I'm asking how others would handle a similar problem.  I'm also asking how this query would be structured in ActiveRecord.

My users will ask for returned list of all doctors that fit some criteria in each of the 3 models `Specialization, School, Service`  and I just don't know how to do this.  Do I query the joins tables that contain the associations, or the Model tables themselves?

Let's say I've got 2 models only, `Doctor` and `Specialization`

I could write something like:

`@doctors = Doctors.joins(:specializations).where(:specializations => { active: true } ).all`

and this would return an instance variable with all doctors who specialized in a particular area.

How do I extend the @doctors variable to hit the other models `School` and `Service` i.e. get all doctors who not only specialize in X, but went to school Y, and offer services Z?

I feel like I'm overthinking this and that the solution is actually really straightforward.  I guess I just don't fully understand the reasons or the uses behind joins tables other than just keeping a record of associations.",1525379695.0
Trout_Tickler,Something like [this](https://stackoverflow.com/questions/21771245/rails-best-way-to-query-across-multiple-models) first google result? Or [this](https://stackoverflow.com/questions/21083625/rails-joining-multiple-tables)? Or [this](https://pascalbetz.github.io/ruby/2016/04/17/search-across-mulitple-models/)?,1525380032.0
mokolabs,"I believe we're still owed a full statement from Thoughtbot on their deprecation plans for paperclip, so I opened a new issue on the paperclip gem repo (which is once again accepting new issues) asking for a status update.",1525365572.0
,[deleted],1525365155.0
hcsteve,"Does amazon use TOTP for 2fa? I‚Äôve used the [rotp](https://github.com/mdp/rotp) gem to generate TOTP codes before and it works just fine.

What you‚Äôve described doesn‚Äôt really sound like you need rails at all. If your chat program is Slack, [slack-ruby-bot](https://github.com/dblock/slack-ruby-bot) is a good framework to build on.",1525403799.0
iceyballz,Authparty.io built on Rails. I used it for blockchain-based authentication but it can be a design inspiration for you.,1525649973.0
piratebroadcast,"You might be able to do this without any code or servers at all: You could have an email address, like group@yourcompany.com, that acts as an alias, or an email group. Amazon sends the 2fa codes to the alias email, which then are automatically distributed to everyone in the alias group. ",1525799854.0
pjdavis,"I think it's your regex. Instead of trying to validate it with that, I'd probably try to do it with uri. 

    require 'uri'
    link = ""https://khabar.ndtv.com/news/bollywood/katrina-kaif-sidharth-malhotra-aditya-roy-kapur-prepping-or-avengers-viral-video-1845153?pfrom=home-bollywood""
    uri = URI.parse(link)
    uri.is_a?(URI::HTTP) # returns true",1525373793.0
JamesAllMountain,Does it save if you take the validation off? Looks more to me that your validation regex is wrong. ,1525369460.0
HaxleRose,"Here's the model, if that's helpful. Also, the gem MetaInspector pulls meta data from the link that's supplied:

class CompanyProfileNewsLink \< ApplicationRecord

  belongs\_to :company

  before\_validation :smart\_add\_url\_protocol

  validates\_presence\_of :title, :url

  validates\_format\_of :url, :with =\> /\\A\(https?:\\/\\/\)?\(\[\\da\-z\\.\-\]\+\)\\.\(\[a\-z\\.\]{2,6}\)\(\[\\/\\w\\.\-\]\*\)\*\\/?\\Z/i, :on =\> :create

  validate :check\_link

  protected

  def smart\_add\_url\_protocol

unless self.url\[/\\Ahttp:\\/\\//\] || self.url\[/\\Ahttps:\\/\\//\]

self.url = ""http://#{self.url}""

end

  end

  def check\_link

begin

news\_link = [MetaInspector.new](https://MetaInspector.new)\(url, :connection\_timeout =\> 12, :read\_timeout =\> 7, :retries =\> 3\)

rescue MetaInspector::RequestError, MetaInspector::ParserError

errors.add\(:url, ""#{url} is either not available or not correct.""\)

rescue MetaInspector::TimeoutError

errors.add\(:url, ""#{url}\) has timed out.""\)

end

  end

end",1525367393.0
CarefulAsk0,"I think you suppose to put a quote around the JSON object in the application.yml to make it a valid declaration in YAML format.

Like: 
GOOGLE_APPLICATION_CREDENTIALS: '{}'

I could be wrong, but looking at the SO post you gave, the example show the JSON with outer quote",1525533054.0
GroceryBagHead,You cannot style select options. Those are dependent and rendered by your OS/browser. It's possible to replace this control with html elements though. See: https://silviomoreto.github.io/bootstrap-select/examples/,1525358128.0
EqualsNull,"[premailer-rails](https://github.com/fphilipe/premailer-rails) - Great gem I used on my latest project that allows you to still use css classes in your email markup, and will then convert those classes into inlined styles before sending. This is useful as some mail clients reject styles that are not inlined.",1525367047.0
Rogem002,"[draper](https://github.com/drapergem/draper) & [activeadmin](https://github.com/activeadmin/activeadmin) - These are kind of well known, but these together are super complimentary.

Draper (A decorator/presenter gem) extracts some of the view logic out of models (Like how a date should be formatted) and if done right, you can reuse them in ActiveAdmin (An admin panel).",1525771742.0
jobtraining101,"Why not just a class method on the model object? 

```
class User
  def self.find_by_email(email)
    Model.find_by(email_hash: Digest::SHA256.hexdigest(email))
  end
end
```

Apologies if mistakes, I'm on my phone ",1525277571.0
in0pinatus,Don‚Äôt forget that email addresses are case-sensitive on the left-hand-side and case insensitive on the right.,1525304563.0
rooood,"I depend on Paperclip for a few monolithic legacy apps where I work, I just ran into an issue with configuring the URL path and found out that they had disabled the issues on Github, essentially locking me and everyone else out of all existing issues, even for read-only access.

I'm livid right now, there's almost guaranteed to be one or a few issues there which contain answers to my problem, but the maintainers just decided to lock us out if it. Great.

I will use ActiveStorage for new projects, but people must understand there are legacy applications which can't simply be migrated from one solution to another whenever people think they're obsolete.",1525284056.0
jaroh,They're aware of y'all's concerns after closing the issues and have opened them back up ,1525299619.0
RISCfuture,"Caveat emptor. Couple of things Paperclip does that Active Storage doesn't:

* Validation
* Content type security checks
* Default/placeholder images
* Scaled+cropped thumbnail images (special `320x320#` syntax)
* Eager generation of variants",1525284888.0
Serializedrequests,"Christ, I have so many huge apps depending on Paperclip, that I'm not spending $10,000 to migrate (many of which were originally migrated off older solutions). They could have handled this almost any other way, including NOT DELETING ALL THE ISSUES that contained important documentation.

Not wanting to maintain it is fair enough, I'd probably do the same if I were them, but deleting information about the gem is capricious and pointless.",1525293621.0
Nrdrsr,Why not just rewrite to use activestorage? Could use several of the features like validation and imagemagick wrappers ,1525311491.0
_Odaeus_,"Just FYI, Dragonfly is a fantastic alternative for flexible needs. ",1525326746.0
MonopolyM4n,"Tried to, but I could not figure out how to get the URL for ActiveStorage so I could use it with my react front end. Only the URL helper was found. -10 points to paperclip",1525304547.0
perfectdreaming,I tried using Paperclip for my video course website. Paperclip would not serve plain text files (vtt for subtitles). I ended up switching to carrierwave and have been happy with it.,1525310344.0
prh8,"Paperclip has been dead for awhile, and there's plenty of reason to use Shrine instead. ActiveStorage is just another example of Rails adding basic functionality for people who don't want to leave Rails land by using a much better quality gem.",1525279604.0
createthiscom,Hasn't paperclip been dead since 2013? I was using Carrierwave for years until Rails died in 2016.,1525353985.0
toobulkeh,I've used Grape in a few applications I've taken over. I'm not a fan. It's a complete departure from some pretty basic Rails concepts. Transfer-ability to other Rails engineers is a core benefit we give to our clients as well.,1525312141.0
CrimeInBlink47,Don‚Äôt over think it. Go with the simplest approach first and iterate later if the app gets the traction you‚Äôre hoping it will get. Particularly if you‚Äôve already done all the manual labor of keyword assignment already. ,1525268142.0
caiocaio,"Searching through titles and keywords is good and easy to do. I would definitely search through titles as well, or any other text the user can input. People really like tags so I wouldn't hesitate to keep doing it your way.

Implementing an AI that recognises pictures is something that people have been researching since the earliest days of computers, and they're only just starting to make real progress. Maybe in a few years free and reliable tools will be available, but that's something you'd almost need to specialise in full-time.",1525268583.0
Blimey85,"Is hotdog. Is no hotdog. Haha. Silicon Valley is a great show. Anyway, have you looked at Elasticsearch and the Searchkick gem? Won‚Äôt help with image processing but it‚Äôs very fast and has the ability to learn as more people search. I think that could take care of a lot of what you‚Äôre wanting to do.",1525295040.0
,"While you're building this app with Rails, I would probably check in with the people of /r/machinelearning and /r/computervision to see if your set-up for future testing will work, given what you hope to accomplish.",1525276181.0
manys,"I'd index tags and titles in this scheme and give up on (or put on a cold backburner) the idea that you're going to be able to detect food from photos, which is going to be a hard problem. Either that, or give up on everything else and focus only on the CV food-recognition part.

That said, all of your precursors are indeed data-entry apps. Yelp, Facebook, Instagram, Flickr...everything. Users put stuff in, then the site shapes that in various ways. Whether it's users or you coming up with the tags doesn't really matter, except that you yourself are less likely to create a tag that says ""freshmen suck dick"" or whatever.",1525282032.0
toobulkeh,"## Your post is asking a few things:

# 1. Is search setup correctly?

Does it work? If it works, even with manual human intervention, then it's 'correct'. Does it scale? Probably not easily. You could continue down the human path, using cheap interns, give birth to kids, hire college students, or use a service like [Mechanical Turk](https://www.mturk.com/) or Indian/Chinese clickfarms. You continue on to ask the right question though -- You Ain't Gunna Need Scale ([YAGNI](https://martinfowler.com/bliki/Yagni.html)) until people start using it. Don't sweat it now, unless you just want to learn!

# 2. In the future, can the AI recognize foods from photos with this approach?

No, as AI/ML is a totally different approach / stack / database. Google offers this in a [no-coding interface](https://cloud.google.com/vision/) now on their public cloud, has ways for you to train new systems through [other interfaces](https://cloud.google.com/automl/), and releases a lot of this technology as open source. It's a fun experiment, great for a resume and future large enterprise work -- but most (99%+) companies and projects don't come anywhere close to needing these approaches. If you want to stay relevant in the work force, I'd recommend [learning this stuff](https://developers.google.com/machine-learning/crash-course/ml-intro) in the next decade though. (I don't work for google, but they release a lot of good content! That advertiser $$!)

# 3. Can I autocomplete user searches based on their history and preferences?

Since you use [searchkick](https://github.com/ankane/searchkick), it has some cool techniques built in to support stuff like this. There's also plenty of other ways to [handle searches](https://www.ruby-toolbox.com/categories/rails_search) and other ways to [make recommendations](https://www.ruby-toolbox.com/categories/Recommendation_Engines).

# 4. Is this naive?

Not at all. Think of it as Lean. It's the first step to see if your idea has legs and conceptually works. Call it a Proof of Concept, a Minimum Viable Product, a Version 1.0 -- whatever you call it, make sure it serves the purpose of getting you to the next step. For a business/startup, that's usually income, users (traction), or investors.",1525314747.0
hmaddocks,"Yes, they probably will be hiding somewhere. But if they are development databases why does it matter, build new ones. ",1525244616.0
GroceryBagHead,"What you're describing sounds like a lot of fun. 

Can you describe exactly what you're doing?",1525241831.0
dmelin,"For anyone stumbling upon this, apparently ts-loader couldn't find the files unless they ended with .ts

I ended up reversing the order of the extensions (file.erb.ts) and updated the loader test regex to still run on those files. Not the best solution, but I got tired of wasting time :-) ",1525331096.0
delia_ann,"As far as I have been able to find, it's this, and it's super quick to set up.  https://github.com/lynndylanhurley/devise_token_auth",1525208138.0
janko-m,This same question was already asked just a few posts down: https://www.reddit.com/r/rails/comments/8fyh6o/how_do_you_do_api_authentication_with_rails_these/,1525213424.0
genosyar,You could use  [has_secure_token](https://github.com/rails/rails/pull/18217) to generate unique keys for your api.,1525208138.0
torrso,"I think the trend is shifting towards running some sort of API gateway like [Kong](https://getkong.org/) or an auth service such as [hydra](https://github.com/ory/hydra) instead of implementing all that stuff in your app.
",1525246897.0
fiveguy,"Edit: reread your model setup... updated queries

In each model definition in `app/admin`, you can define scopes for said model in a `controller` block.

i.e., to eager load the property managers (especially on your `index` - collection):

    controller do
      def scoped_collection
        resource_class.includes(property: :property_manager)
      end
    end
 
You can add conditions/scopes here too:

    controller do
      def scoped_collection
        resource_class.where(property_id: current_user.properties.select(:id))
      end
    end
 
Check out [the documentation for a bit more info](https://activeadmin.info/2-resource-customization.html#customizing-resource-retrieval)",1525193090.0
manys,"Are you trying to get a list of invoices outside of the property list?

    manager: 
      property1
        invoice1
        invoice2
      property2
        invoice3
        invoice4
      property3
        invoice5

Without associations, you're going to have to iterate the properties and collect the invoices. If not, I'm gonna need more info.
",1525200334.0
choonggg,I'm sorry ... You won't get answers when you're being an ass.,1525187587.0
tarlofny,"Braintree (interestingly, a subsidiary/part of PayPal) is a good option too (depending on the context), but I also second the suggestion that Stripe is better than PayPal standard / express.",1525185248.0
,"I'm curious, why Paypal and why not Stripe?",1525172983.0
thatyourownyoke,I would recommend using stripe instead ,1525176524.0
ozgg,Do you use https? I had a similar problem with sessions when cookie was set for https-only and user was using just http. Solved with setting force_ssl to true.,1525168829.0
derek_dyer,"This may sound silly but I had a similar issue and it was from a bad copy paste. When I was setting up smtp, I accidentally pasted the prod link into development once. So everything _looked_ the same but it took me a few to catch on and look at the link. ",1525169137.0
le_f,Is the domain the same? www and non www matters.  HTTP and HTTPS also matters. ,1525180672.0
CaptainKabob,"Lots of other good suggestions in this thread.

One thing to look into is how you're creating the session to sign in the user. Modern Devise will not, by default, sign in a user on registration, nor even on confirmation. That means that you're probably manually hooking into the Devise controllers to override that behavior to sign in the user. If you're not doing it exactly how Devise wants, that might be causing the problem.

Here is what my confirmations controller looks like to sign-on on confirmation. I would assume yours should look similarly, and also be similarly in your registrations controller too:

    class ConfirmationsController < Devise::ConfirmationsController
      # GET /resource/confirmation?confirmation_token=abcdef
      def show
        super do |resource|
          sign_in(resource) if resource.present? && resource.errors.empty?
        end
      end
    end 

Hope that helps.",1525194524.0
niborg,[here ya go!](https://github.com/hexorx/countries),1525140520.0
MeAsYouKnow,"You‚Äôll also need a geolocator to some degree. 
You can use the request.ip to get the ip address and pass that to the geoloactor. 

Alternatively, you can request their location in JS. That‚Äôs much more accurate, but will require asking the user for their location and they can decline very easily. ",1525143295.0
Blimey85,"I use the GeoCoder gem and only ask for zip code. Then from that I store city and state as well. From there I use the Searchkick gem to be able to search by location. For example if you want to see upcoming events within 25 miles of your zip.

It‚Äôs not ideal in that I don‚Äôt have their actual street address but that‚Äôs not something I‚Äôm comfortable asking people for. Using JavaScript to query location is going to make a lot of people nervous but in my limited testing zip code isn‚Äôt a problem.

With the GeoCoder gem you have several options for the lookup service and it‚Äôs very easy to use. ",1525149543.0
RabidBanana,"How much do you care if users see every announcement?

You could track a users most recent announcement seen, and display anything more recent than that. 

If you really don‚Äôt care if they see the announcements, you could compare the user‚Äôs last login to when the announcement was created. ",1525127277.0
andyw8,"You don't need to add hundreds of columns to Postgres. You could have an announcements table, then a announcement_views table which records the user_id and the announcement_id.",1525124133.0
v_krishna,"We use pendo to push product notifications, tutorials, etc to the frontend. Basically we could model all of that but it's so far from our core product that it's more sensible to pay somebody else than have our engineers and ui teams build and maintain it.",1525140262.0
erandros,"Why not keep a date of the last seen banner by every user (I'm assuming these banners have a created date stored in the db).  
And you only show one banner at a time.",1525137892.0
mferes,"hi, i use this:
    $('body').on('DOMNodeInserted', 'select', function () {
		$(this).select2();
	});


",1525128182.0
whobitchisdis,"I like doorkeeper+clearance, pretty easy to implement/extend as they just do one thing simply.

If you need more authorisation granularity it‚Äôs also trivial to add pundit to the mix.",1525084821.0
JamesAllMountain,"Doorkeeper + auth framework of your choice is good. You can also just roll your own with jwt depending on whether you need to scope stuff or not. If you just need to check access your own JWT should be good enough, but if you need to authorize clients and users doorkeeper is better. Do you just need to validate the token for your endpoints or do you have More going on?",1525089236.0
editor_of_the_beast,Devise and tokens.,1525093810.0
harsh183,Doorkeeper if it's just API. Devise if you have an existing Rails app that's on a normal web interface.,1525099457.0
tarellel,I use [devise\_token\_auth](https://github.com/lynndylanhurley/devise_token_auth) while my frontend is built with a JS Frontend and it makes things quite a bit easier that trying to build a DIY security mechanism.,1525100897.0
Twistedsc,"For something I was working on I had sorcery and custom jwt generation, but switched to using my own auth based on [this](https://github.com/jordifierro/rails-api-base) plus a modified knock, and it's much better feeling you're in control of the auth yourself.

If you don't provide access to your API through a website/frontend other than your own, you don't absolutely need doorkeeper, just generate your own JWT. Otherwise,  doorkeeper will make your life easier",1525121575.0
norsegaud,"I use Devise's friendly\_token.

application\_controller.rb \-

    protect_from_forgery with: :null_session
    include Authenticable  
    before_action :authenticate_user!

users Migration \-

    t.string :auth_token, default: ''

Create custom sessions\_controller.rb \-

      def create
        tries = 0
        begin
          self.resource = warden.authenticate!(auth_options)
          if self.resource.auth_token.empty?
            self.resource.auth_token = Devise.friendly_token
            raise('Unable to generate auth token') unless self.resource.save!
          end
          set_flash_message!(:notice, :signed_in)
          sign_in(resource_name, resource)
          yield resource if block_given?
          respond_with resource, location: after_sign_in_path_for(resource)
        rescue Exception => ex
          puts ""#{ex.message}""
          tries += 1
          retry if tries <= 2
        end
      end

Make it visible to the user in their profile page. Setup a re\-generate token button, etc.

I then setup a second controller named authenticable.rb \(will probably rename later\) and added \-

    module Authenticable
    
      # Override Devise stuff
    
      def authenticate_user!
        if request.headers['HTTP_CWT_AUTH_TOKEN'].nil?
          #render json: { errors: 'Cannot find header HTTP_CWT_AUTH_TOKEN in your request...' }, status: :unauthorized
          super
        else
          @current_user ||= User.find_by(auth_token: request.headers['HTTP_CWT_AUTH_TOKEN'])
          render json: { errors: 'Cannot find user with token provided...' }, status: :unauthorized if @current_user.nil?
        end
      end
    
    end

# 

HTTP\_CWT\_AUTH\_TOKEN is the POST header the user must submit \(you can change it to something else\) when they POST or GET, else I return an error.

It's simple, but my app is behind the corporate firewall. I don't have to worry about the interwebs trying to hack my shiz. Just gotta allow other apps in the company to make API calls with their user.

And yes, I rescue/retry on the warden process. Sometimes my database likes to crap out, but work on a second try. I'm working to fix it, but it's not a lot of overhead to retry.",1525139973.0
RubyKong,I had some issues implementing Knock so I ran with devise_token_auth...........it's easier and there seems to be a lot more support there. I know nothing about jwt so cannot comment. that's been my experience.,1525221539.0
obviousoctopus,"Sorcery, because of its small api and clean implementation.",1525305179.0
dadadadamattman,Do you have a link for a github repo? That would be easier to look through,1525064827.0
toobulkeh,"Forms should, ideally, be driven by the User Experience need.

It's an old method, but have a look at dynamic dropdowns from Railscasts - http://railscasts.com/episodes/88-dynamic-select-menus-revised

You can use this technique for several layers even, though the javascript (with that old Coffeescript syntax and naming scheme) gets hairy quickly.


I don't quite understand the difference between a Place and a Playlist.


Hope this helps.",1525312759.0
CarefulAsk0,"hmm this is entirely opinionated, but given that what you want to do is organize content by a given theme and category, then the user experience should be built around the content. In your case, this means that the user should be able to assign category and theme when/after creating playlists",1525525511.0
Mac-Hdz,"If you want an already working service, try SendGrid. It‚Äôs not free but it has everything you need to manage a Newsletter system and it has webhooks which you can integrate into your Rails application.",1525051749.0
cjk101010,"Whatever you do: ensure that you comply to legal aspects. E.g. in Germany you need a double opt in for things like that; a simple subscription is not enough. If you don't comply, fines can get pretty high.",1525068219.0
tf2ftw,Use mail chimp or good reads. If you're rolling your own make sure to comply with anti spam rules,1525054909.0
solilere,"Thanks for all your responses. I'm going with Mailchimp. Their documentation is awesome and the forever free pricing is perfect for simple marketing needs. I think I'd use SendGrid if I needed emails for user transactions but in this case, easy and free is priority. ",1525111127.0
tarellel,"Dependent on the language you're transitioning to, some may be harder than others to grasp.

I took up learning Elixir and at first it was pretty hard to get into the habit of using Type/Functions instead of using OOP to declare how to process the data. I really liked Elixir because of it's unmatched pattern matching, but that's a whole different ballgame. But the methods of recursion when looping functions instead of a for/while loop was one of the hardest concepts for me to grasp.

    # Example of pattern matching in Elixir
    season, weather = {'Summer', 'Warm'}
    
    # Example of Function expressions vs OOP
    # => Instead of something similar to:
    'Lorem Ipsum'.lowercase
    # You'd now use something similar to
    String.lowercase('Lorem Ipsum')",1525032646.0
hsndiz,"I wanted to learn Haskell, so I had to learn FP. I was also interested in logic programming and prolog, and that's pretty functional thinking.

Lots of time. No money. Biggest challenge is seeing things functionally. I believe that some things are best modeled imperatively, and in a pure FP language you have to actually think through these abstractions (from imperative to functional back to imperative) if you want an idea of big O. Type systems are another thing that take time to grasp.",1525030508.0
null-undefined,A huge thing for getting used to the functional mindset for me is using list comprehensions instead of iterations so that you lose the habit of state in your methods,1525044709.0
wikitih,"> Why did you decide to learn FP?

Sometimes, in ruby, it's easier to code a function with functional programming rather than imperative or object oriented. The `Iterable#map` is, of course, one of the basic pilars of functional programming in ruby.

> What's been your biggest challenge in learning FP so far?

As stupid as it may sound, `Interable#inject` was really hard for me to understand. I had to invest at least two hours to dig the documentation and do examples to fully understand it. This was just because, at college, one teacher started using that method without even explaining what was it.

> How much time and money have you invested in learning FP?

This is a hard question to respond. Since I learned functional programming at college, in one subject, I'll say it took like ~50 hours, and half the price of one course (~50‚Ç¨-100‚Ç¨). Outside college, I have not spend money on learning functional programming, but I still learn new things by reading posts and articles.",1525077596.0
d4be4st,"secrets stored in config/application.yml are using figaro (https://github.com/laserlemon/figaro) gem to handle their serets. You are correct that those still need to be pushed to .gitignore and when deploying you need to manually scp them to the server.

But since you are using heroku you can set specific env variables easily (https://devcenter.heroku.com/articles/config-vars)

If you want to use something like figaro with heroku that is also easy as figaro has a cli option to push your local env variables to heroku (https://github.com/laserlemon/figaro#heroku)

Hope it helps.",1525000718.0
jefff35000,"Do you access your application with an IP instead of localhost, because you may need to whitelist the IP 
https://github.com/rails/web-console/blob/master/README.markdown#configweb_consolewhitelisted_ips",1525018840.0
Blimey85,"You might try Better Errors. It has a console. Works fine with latest Ruby and Rails.
https://github.com/charliesome/better_errors",1525040721.0
choonggg,What's showing up then? Need more details before we proceed,1524997711.0
Rafert,Which version of the web-console gem are you using? Have you tried updating it to the latest version?,1525010219.0
00OO00OO00OO00,"My biggest question is this happen to only me?
I only tried this on a Mac.",1525039521.0
my_toesies,We've used it as a CI at work for a few months but haven't yet deployed with it. It took a few days to iron out all the kinks of getting our test suites to run but it's been really useful since.,1524947048.0
coderhs,"You can find steps to deploy here https://confluence.atlassian.com/bitbucket/build-test-and-deploy-with-pipelines-792496469.html

If you are launching to your own server and not cloud then basically you need to setup a Capistrano or Mina task for deploy and have the key in bitbucket and u can deploy.",1524959941.0
jmesserer9,"I'm using Bitbucket Pipelines to deploy (via Capistrano).

    image: ruby:2.4.0
    
    pipelines:
      default:
        - step:
            name: Deploy to Staging
            deployment: staging
            caches:
              - bundler
            script:
              - gem install bundler
              - bundle install
              - bundle exec cap staging deploy
    
    definitions:
      caches:
        bundler: vendor/bundle",1525203153.0
patientdev,"""the live stream for each day will only be available during the 'live' time of the conference. Videos for all presentations will be available within a month.""

https://twitter.com/confreaks/status/986634131252678656",1524929662.0
RubberRoad,"‚ÄúEmerging from our post-RailsConf daze to remind all interested parties: videos of almost all talks (not including workshops) at RailsConf 2018 will be available within a month post-conf.

@confreaks posts them when they're finalized & we'll share links here & on our program page!‚Äù

https://twitter.com/railsconf/status/988460496494850048?s=21",1524929750.0
jabawack81,"Thanks.
I had the same question",1524940526.0
442401,[http://guides.rubygems.org/name-your-gem/](http://guides.rubygems.org/name-your-gem/),1524915192.0
mikegee,"One detail to keep in mind: underscores aren‚Äôt allowed in domain names. I like the app name to match its hostname. 

Edit: I suppose I‚Äôve oversimplified. See https://stackoverflow.com/questions/2180465/can-domain-name-subdomains-have-an-underscore-in-it for details. ",1524931735.0
choonggg,"I think that's the least of your concern haha, I've even seen mixed gem name Eg faraday_middleware-aws-sigv4",1524981750.0
BaconGlock,"i have a personal ‚Äúsnakes for the back-end, hyphens for the front‚Äù policy. hyphens i mainly use only for css class names. works for me",1525098542.0
Ronald-Ray-Gun,"If I had to guess, the `_attributes` is what tells Rails it should treat those params as described in `accepts_nested_attributes_for`. As opposed to a column on the parent model.


`cars = Car.new([{ color: 'black' }])`

`Garage.new(name: 'Home Garage', cars: cars)`

Rails handles this no problem, since it's got *instances* of `Car` and it `belongs_to :garage`.


But if you're submitting a form, you'd need...

`accepts_nested_attributes_for :cars`

`garage_params = { name: 'Home Garage', cars_attributes: [{ color: 'black' }] }`

`Garage.new(garage_params)`

That way it can turn those attrs into instances of the `Car` model.

I'm not aware of any packages to handle this manually. I've just modeled my forms to include `_attributes` OR you could filter through your incoming params in rails and append the proper names. A bit of a hack, yes, but the `accepts_nested_attrs `seems to be mostly catered to Rails' form helpers.
",1524892418.0
in0pinatus,"> Also, does anyone know why Rails requires params to be named that way?

It is because the mechanism works by creating a special setter-like method called `yourmodelname_attributes=` which is called like any other setter by methods such as `#update` when you pass them attributes to set. So the parameter name is chosen to specifically match the special attributes-handling setter's method name. 

If you alias that `_attributes=` method to some other setter-like name you can use that instead for your nested form parameters. However I don‚Äôt think this qualifies as ‚Äúbetter‚Äù unless you‚Äôre trying to mask the fact that it‚Äôs a rails app, or implement a specific predefined protocol. Note that you can‚Äôt just name it after the association directly because ActiveRecord creates and uses that setter already for regular assignment.

Personally in this scenario I might create a service-layer form object instead and have the controller map incoming parameters to its liking. This is one of those areas where Rails‚Äôs abstractions are at their leakiest.",1524907955.0
Dennis_Ogre,"Are you local to the Bay Area? If you are, that‚Äôs super undervaluing yourself, as a contractor in the Bay Area look for $100/ hour plus. Even if you are remote, $30/ hour sounds low, but I haven‚Äôt hired an out of country developer so it‚Äôs hard to say. ",1524862860.0
jemminger,"An experienced local dev could easily ask $150/hr.  If you're fairly experienced and you're OK with $30, why not ask for $75 and let them negotiate down?",1524866359.0
vinsonandmassif,"Start with 100, they‚Äôll negotiate down.",1524866620.0
intentions_are_high,"Good for you! If you can get that rate, take it. Is it 40 hours a week? 

Hiring somebody for $150+ an hour makes sense when you need experienced talent to solve big problems on an inconsistent basis, e.g. 10-20 hours a week for a few weeks. Or for a contract with a fixed time period. 

Or I guess if they‚Äôre a startup, they might want the ability to cut costs real quickly. Hiring and firing is expensive. ",1524932492.0
lostapathy,"If they will name a number first, that's for the best - then you ask for 20% more.  If you go first you'll never get more than that - but they may well be willing to pay more than you expect.",1524879114.0
backprop88,"Ive hired remote a lot, and 25 to 30 is the rate for good experienced eastern european devs",1524867416.0
PeteMichaud,"They are looking at you because they want someone cheaper than local, so I think $30 is reasonable.",1524878034.0
prh8,"Fwiw I‚Äôd be concerned about a company looking to hire a bunch of [cheap] overseas devs. Every time I‚Äôve seen that, they have a variety of problems and don‚Äôt think very highly of the technical side of the company. This is possibly less relevant as one of the contractors, but just something to consider if you have other offers. 

Note: when I say cheap, that‚Äôs because that‚Äôs literally how these companies talk about the idea. I don‚Äôt mean to insult anyone specifically or in general. ",1524890480.0
das3ingg,Why would you not just submit the form and redirect in the controller?,1524860567.0
Verdana11,"As /u/das3ingg said, use the submit tag to submit the form, and put whatever logic you need in the controller. redirect_to action: 'index' (or 'edit') is quite nice. 

If your use case is non-standard, there's not enough information here to advise differently. Are you looking to have the form submit handled via ajax or something?",1524882057.0
in0pinatus,"You can

‚Ä¢ use a regular submit button and style it with CSS to look like a link, or  
‚Ä¢ see https://stackoverflow.com/questions/11645153/submit-form-using-link-to-in-rails - and I actually prefer the second answer.

You should also

‚Ä¢ explain what you are actually trying to achieve, because this is a peculiar thing to be doing and suggests a misunderstanding on how all the parts are meant to work together.
",1524987332.0
spacerobotTR,Thanks everyone. I ended up submitting the form and putting the logic in the controller as suggested.,1525090848.0
I_AM_GODDAMN_BATMAN,They were deprecating a bunch of api effective immediately after the Facebook scandal. So maybe your endpoint affected?,1524825310.0
wabber,Is it true that you can schedule posts to be published automatically using the Instagram graph api? I read something about that somewhere and went to check the api page but was confused more after that.,1524833276.0
jemminger,"I'm no guru, but I don't think there's any reason not to.  It should be marginally faster due to some middleware being excluded.",1524799257.0
HelloAnnyong,"Downsides - Some gems assume you have the full Rails stack.

Upsides - You might end up with slightly lower memory usage and slightly faster boot times. And fewer dependencies to worry about.",1524799311.0
Arrio135,Another upside is stack traces in dev will render json instead of that massive html doc.,1524800254.0
harbirg,We are running rails 5 in api mode in production with no issues. We started off with rails with views but slowly abstracted out ReactJS as a separate frontend. Rails 5 in api mode worked with no issues with existing gems. ,1524810214.0
PMDevS,Try rails db:create ,1524791936.0
kickinespresso,Did you save the config file before running `rake db:create`,1524798400.0
Americanstandard,MySQL<---- There is your problem.  No but seriously postgresql is better but your problem is you need to create your database. ,1524794608.0
JamesAllMountain,Doorkeeper can authenticate applications and users. Sounds like that might fit your usecase and the auth logic for you. ,1524773401.0
poptartsareravioli,Like the previous commenter stated I would probably use doorkeeper to handle this.,1524789223.0
intentions_are_high,"I would avoid an iframe, it‚Äôs get ugly. Can you package the front end as a JavaScript app that you embed into the page and then connect to your app via an API?

Question for you, where do users create accounts? In your app or on the partner app? If one of these companies embeds your app, will the company authenticate the user and send you some token? Or will they login via your app through the iframe? This will determine how you‚Äôll want to build out the Authentication. ",1524796430.0
intentions_are_high,"Ah I see. I‚Äôm sorry I missed the link. You can still use devise if you want. You should look at how stripe‚Äôs payment modal works, essentially you embed their app and define your public key and it uses their api and send the public key with each request. Your api should validate the api key on each request. You could use something like this  https://github.com/gonzalo-bulnes/simple_token_authentication. ",1524797368.0
intentions_are_high,"Yeah, I would whitelist. Does your plugin just allow a user to add their info, connect their bank account and then receive a instant income verification? I would probably not allow public keys to access any data outside of this report, all other api accessible data should be using a secret key. ",1524797603.0
brianlouisw,"Unless I'm misunderstanding you, you're linking to the wrong document.

:send, the method defined in AR::Associations is deprecated (also note that you linked to a 3.x doc), but :send is a method defined in Ruby on Object 
https://ruby-doc.org/core-2.5.0/Object.html#method-i-send

So you should be fine - note some people don't like to use send because it can call private methods. You can use public_send to avoid that.",1524770418.0
jmuguy,"I do something like this 

in ERB

    <%= tag.div id: ""howdy"", 
      data: { current_user: current_user } %>
    <% end %>

then when Vue is being initialized (this is with Vuex but same prinicple applies however you're handling data)

    window.store.state.users.current = JSON.parse(howdy.dataset.currentUser)

This Gorails series goes over using data attributes like this 

https://gorails.com/episodes/using-vuejs-for-nested-forms-part-1

",1524766142.0
_AdminAdmin_,"Rails Webpacker is pretty amazing. It has some great documentation and is supported by DHH.

https://github.com/rails/webpacker

After the initial setup it's pretty easy.",1524769928.0
jemminger,Gitlab is pretty invested into Vue.  https://docs.gitlab.com/ee/development/fe_guide/vue.html,1524797255.0
choonggg,"You should be able to bind data as json, using Vue <component :mydata=""#{@model.to_json}"" /> one of the easiest way as long as it's a Vue instance that's mounted. 

That's for Vue+rails renderer",1524763886.0
dnbsoul,"Found this to be a great tutorial for a Rails + Vue project.  
[https://blog.usejournal.com/rails-api-jwt-auth-vuejs-spa-eb4cf740a3ae](https://blog.usejournal.com/rails-api-jwt-auth-vuejs-spa-eb4cf740a3ae)",1534417261.0
skewerbr,"You need a new route and action to be triggered by the button.

Say you have a scaffold for the Sensor model:

change config/routes.rb to add an extra route /sensors/fetch:

    resources :sensors do
        post 'fetch', on: :collection
    end

add the action to sensors\_controller.rb, where you call your script and convert data to a hash of attributes to create a new record:

    def fetch
        raw_info = your_script_method()
        attributes = {}
        attributes[:ip_address] = extract_ip_address_from_info(raw_info)
        attributes[:hostname] = extract_hostname_from_info(raw_info)
        Sensor.create(attributes)
        redirect_to sensors_url
    end

create your button to call /sensors/fetch in some view with:

    <%= button_to 'Fetch', fetch_sensors_url %>",1524760382.0
seriouslyawesome,"I personally am not a huge fan of naming things like `assigned_to`, because an ""assigned to"" is not a noun that can have properties or attributes like a ""name."" If your `ServiceRequest` model belongs to two different users in different capacities, you could do something like this:

    class ServiceRequest < ApplicationRecord
      belongs_to :requester, class_name: 'User' # requester_id in your table
      belongs_to :assignee, optional: true, class_name: 'User' # assignee_id in your table
      # ...
    end

Then when you start referencing the association elsewhere in your code, it will read like `service_request.assignee.name`, which IMO reads much more naturally than `service_request.assigned_to.name`. 

On the other side, you might have something like this:

    class User < ApplicationRecord
      has_many :service_requests, inverse_of: :requester
      has_many :assignments, class_name: 'ServiceRequest', inverse_of: :assignee
      # ...
    end

So now your user model is referencing the `ServiceRequest` twice, but with context-aware names that properly distinguish the service requests that the user requested vs. the ones that have been assigned to them.

That code is untested pseudo-code, but should be close enough to get things moving along. Hope it helps.",1524755952.0
henrebotha,"`belongs_to :user, optional: true` in `ServiceRequest`?",1524747804.0
HelloAnnyong,"I would personally have this pair of associations, which makes it super clear which one is which.

    belongs_to :created_by_user, class_name: 'User'
    belongs_to :assigned_to_user, class_name: 'User'

",1524759570.0
drwl,"Things may have changed, but from what I've found on [Rails github repo](https://github.com/rails/rails/pull/30834) it doesn't look like it exists. However if you look at the pull request you can see how that person implemented it.",1524740196.0
intentions_are_high,I use parsley and it‚Äôs great [http://parsleyjs.org/](http://parsleyjs.org/). ,1524704547.0
teaearlgraycold,I've used [this](https://github.com/DavyJonesLocker/client_side_validations) before. It clones the validations from your models to the front-end (sticks them into a JSON format in  `<head>` where some client-side JS code then parses it out).,1524698378.0
recluce,I have no particular recommendations for that other than to be sure you don't use ONLY client side validations. That leads to pain and suffering and hacks.,1524721508.0
spacerobotTR,Thanks! Looking into these now.,1524715286.0
paneq,I simply use React.js \(with Webpacker integration\) and something similar to [https://goshakkk.name/instant\-form\-fields\-validation\-react/](https://goshakkk.name/instant-form-fields-validation-react/) ,1524756088.0
piratebroadcast,"> I'm using Rails 5.2 on a Windows 10 platform.

You're going to run into problems like this literally every single day. Gems won't compile, servers won't run, and you're always going to wonder if it is something you did, or if its because you're running Rails on Windows. At the very least, install some flavor of Linux on the same machine and run rails there.",1524700063.0
Blimey85,"bin/rails credentials:edit
Your text editor will open an unencrypted version of your credentials. If you don't have EDITOR set, you can run 

EDITOR=vi bin/rails credentials:edit 

or use your favorite text editor.

Your issue is that you don‚Äôt have an editor set. You need to either set it in a config file for your shell, or just pass it in like the line above. ",1524691658.0
ignurant,"Hello,

Do you possibly have `EDITOR` set to `editor` by chance? Or a string that starts with it like `editor hotdogs!`? The message you are receiving is what you'd expect to see if you tried executing `editor` from the command line. You can see your current env vars by executing `env`: take a look at what may already be set there.

The easiest way to set an env var in Windows is using the GUI. I usually just type `env` in the start menu, and select `Edit environment variables for your account`. You can also select the system env vars, depending on how saucy you feel (and your environment in general).

In the GUI, select `New` and name it `EDITOR` and for the value, use the Browse File mechanism to find your favorite editor. Some small changes you will want (need) to make: Your editor probably has a ""Wait for the file to close before returning"" option. This waits for you to actually edit and save the file, instead of immediately resuming. You probably also need to wrap the command in `""`s (but not the flags). It's much easier if you happen to have your editor on your path.

As an example, mine would look like this:

    ""%PROGRAMFILES%\Sublime Text 3\subl.exe"" -w -n

Except I have `subl` on my path to open it quickly, so for me, it's actually just

    subl -w -n


Aside from the GUI, you can also set it from command line. There are two commands you could use: `set` and `setx`. `set` will affect only the current shell session, and `setx` saves it more permanently. Sadly they have slightly different invocations. 

    Œª set EDITOR=""%PROGRAMFILES%\Sublime Text 3\subl.exe"" -w -n
    Œª rails credentials:edit
    New credentials encrypted and saved.

I've always had issues related to getting the quoting right when using `setx` so I just use the GUI for permanent settings.

Unfortunately, if you do not have the quoting and filename exactly right, Rails will still display this ""success message"" but it's a trap! You will not have actually seen the editor, and no message to make you think it went bananas.

Finally, there is very little magic what is actually happening here. The line that actually powers this is [pretty straightforward](https://github.com/rails/rails/blob/master/railties/lib/rails/commands/credentials/credentials_command.rb#L51)

        def change_credentials_in_system_editor
          Rails.application.credentials.change do |tmp_path|
            system(""#{ENV[""EDITOR""]} #{tmp_path}"")
          end
        end

As you can see, it's literally just calling whatever that ENV var is set to, with a filename. Knowing how Rails is invoking the editor should help you understand how to appropriately set the `env` var.",1524708727.0
hincywp,"It Worked! Thank everyone for your help! I'm now trying to use Rails 5.2, AWS S3 and Heroku to upload family pictures. 

Do you have any advice on potential problems?

Again Thanks.",1524770232.0
BonzoESC,Put a text editor in the EDITOR environment variable. Not sure how to do that on a non-UNIX.,1524691539.0
micketic,"I am not sure if adding non-open source projects are allowed. If they are not, please let me know and I'll delete this.

1. *Name of your project* - Monitor Certificates
2. *A short description* - It monitors your SSL certificates and reminds you before they expire.
3. *Stack* - Rails, Postgres, ubuntu.
4. *Link* - https://monitorcertificates.com/
5. *Link to github* - Closed source, but fairly trivial to implement for an experienced dev.
6. *Experience* - Working with Rails since 2012, so ~6 years.
7. *Advice needed* - Can anyone point me in the direction to market it right? Thanks!",1524665672.0
,[removed],1524677390.0
Draglung,"1. The Closing Docs
2. Instant Income verification for landlords and property managers
3. Rails, react, postgres, heroku
4. www.theclosingdocs.com
5. Closed source
6. Junior dev, working with rails ~2-3 years
7. Any advice would be great! Just wanted to share",1524690015.0
Ronald-Ray-Gun,"> we're gonna miss our deadline, and it will be my fault

Your team / managers set this deadline with a certain amount of developers, and you lost one. Don't beat yourself up. Look at it this way: you lost an important member, and you have the opportunity to show how valuable you are by picking this up.

Now, Devise is terrific. It's crazy easy to install, it's tried and true, and used in many massive web applications. Another day when you have more time you can build your own auth system, but for now just go with Devise. Its GitHub page has all you need to get it going.

As far as authenticating w/ react on the client, there are lots of guides out there and I'm sure you'll figure it out.

p.s. always remember even professionals spend most of their time googling and failing over and over until they get it right. ",1524627416.0
welkie,"I've used Devise for Rails hobby projects, and I've set up authentication and authorization manually using sessions in PHP. I can highly endorse Devise. The reason its docs advise learning how to do your own auth system yourself first is advice for when you have time to learn. You'll appreciate Devise and grok what it's doing under the hood after you do that.

For now, since you're on a tight deadline, just use Devise. Its docs and the myriad tutorials on the web will help you implement it fast.

I would tell your boss you probably need more time than Friday to get this done properly.

Feel free to PM me if you get stuck and need some help! I can't hold your hand, but I can help get you oriented if you get lost.",1524630939.0
erandros,"I would seriously disregard that advice about doing your own auth system before using devise.  

I just read the section you mentioned in devise@github, and I honestly can't imagine what was going through the devs heads when they wrote that. What a horrific advice. And i'm not the [only one who feels that way](https://stackoverflow.com/a/15981999)  

There a ton of devise tutorials out there to get you started with a basic email based auth system. Try to follow the most up to date ones.  

Devise even lets you generate cssless views for login, signup, forgot password, etc. It can't get easier than that, IMHO  

OTOH, I think your boss/es is/are being kind of stupid, the normal thing to do would be to stretch the deadline. 2 days to launch without auth system is stupid.  Best wishes to you, hang in there bud",1524628275.0
rArithmetics,You can easily follow a tutorial to implement devise. I would recommend spending a week doing hartl rails tutorial book first and then watching a devise how to on YouTube. You‚Äôll be golden. ,1524626089.0
juliantrueflynn,"You have actually been programming longer than me, but I started with building my own auth systems before using any libraries. I think that Friday goal is totally possible. I would spend 1 day practicing building an auth structure a few times with Rails. By repetition, really making sure you understand all the fundamentals of the key concepts (ex. hashing, salting, etc.).

I can't go into too much detail just because like I said I am pretty noob and don't want to give you wrong information.

For your actual job here, I would *not* use an auth process that you built and recommend using a popular library. This has been stated to me many times.",1524626416.0
z1lk,"Be aware of [Sorcery](https://github.com/Sorcery/sorcery). It's a smaller library than Devise but has a simple API and can provide your core authentication functionality just fine. It doesn't provide any controller or view files, but that may not matter if your front end is React. If you have much server-side experience and are comfortable handling forms and generating responses, consider using Sorcery and rolling your own controller strategy.",1524633495.0
tom_dalling,"It's time to slap in Devise. 

I would certainly recommend implementing all the auth yourself, some time in the future, on a different project, as a learning exercise, but you're not going to be able to do it in three days. Devise will work fine.",1524642001.0
rArithmetics,I would try to understand the rails implications of devise auth. I would say building a self rolled auth first is less important than just knowing rails in general so you know why to do to make the devise part work exactly how you want. ,1524628740.0
RubyKong,"* You're absolutely fine: devise is dead simple. unless you want to do something crazy, it's basically like a USB: just plug and it should work. You could literally finish your entire project in less than 30 minutes. That way you have something up and running. You can always change it later on.

* Authentication works like this: user name and password ----> if correct then a ""session"" is created. this session ID is sent to the browser of the person makes the log in request. For all communications with your app - your user need to pass that session ID with their request. if they don't then your rails app will send them a not authorised respose. this is done out of the box so don't fear about that. You don't have to spend a week doing the Hartl tutorials. just read the preceeding paragraph and you should be gold. 

* you'll have to add in the relevant bits about your mailer in the config files so that users can get their password reset emails etc. you also have to choose a few modules in the user.rb file and change the corresponding rails migraiton files to do that.

",1524642828.0
wreinoriginal,"Devise is standard and you have tons of examples available... I can't believe you can get screwed using it.

Does the User model exists in your app yet?",1525097709.0
jessedev69,"Hi there, I would HIGHLY recommend using Bcrypt. 
it involves a bit more set up and actaully writing out some of the methods you will be using, but there are a million tutorials online for getting set up.
The reason I reccomend bcrypt is that for a begginer to rails like yourself, its imperative that you be able to see what you are implementing in your app, and not rely on rails magic at first. This makes debugging and building on your auth system WAY easier. Good luck!",1524681598.0
PM_ME_THICK_LADIES,Devise all the way. It does so much of the heavy lifting. The GitHub repo wiki really has everything you need for even the more complex implementations of auth. ,1524635642.0
seainhd,Use devise! No question. ,1524654185.0
pbmarcano,"I think your instinct is right that good developers and good employers have trouble connecting, but your target market is off.

Senior devs have tons of experience and, naturally, a large network. Many I‚Äôve met can usually land a job prospect through word of mouth during their lunch break. 

I remember hearing somewhere that about 80% of job openings are filled this way and the following 20% rely on postings on job boards, recruiters, etc.



So what if you targeted junior developers instead?

There are many companies whose development work doesn‚Äôt require reinventing a wheel yet still have problems finding the right developers. 

They may not be convinced that a junior dev has the necessary skills solve their problem, or maybe they can‚Äôt budget for a mid-senior level developer salary. If they choose wrong, they could blow their budget and not have much to show for it.

Frequently, employers don‚Äôt even know exactly what they need or what they should be looking for when hiring a developer.

I‚Äôve been paid by a venture capital firm to help their portfolio companies without tech founders vet junior dev candidates, it‚Äôs a long and annoying process, but without help they can find themselves with a bloated and messy unrecoverable codebase (I‚Äôve also been paid to try to fix those).



On the flip side, there‚Äôs a large amount of junior devs who are very talented, resourceful, and quick learners but don‚Äôt have experience to show for it.

Without experience their best option is to simply write a list of programming languages they‚Äôve used (maybe once) and hope someone comes along with a position that matches a random tech stack like ‚ÄúRails, MongoDB, and AngularJS‚Äù. 

It‚Äôs a total crap shoot and it takes a lot of work for junior devs to differentiate and get real experience.

Many go to coding bootcamps not to become better developers, but to leverage the bootcamp‚Äôs network and get their foot in the door somewhere.



I‚Äôd seriously consider focusing your efforts on creating a different kind of site that can help junior devs show off their abilities, and help them communicate their value to companies in a way that a business can clearly see the ROI.

Start by contacting 10 employers posting jobs on job boards and ask them their 3 biggest pain points during the search process. Start innovating there.

It could manifest to a job board that shows off candidate‚Äôs sample apps, code challenges (described to employers in plain English and why a solution is better than others), courses to level up devs, etc.

I‚Äôm clearly just spitballing ideas and rambling at this point, but a lot of companies are salivating for a better solution than giving a recruiter a handful of buzzwords to do a LinkedIn search for. 

There‚Äôs a problem here that needs a better solution. Do some digging. You‚Äôll find it.

Edit: my grammar is terrible when I stream-of-consciousness on my phone. Sorry for anything I missed.",1524602780.0
piratebroadcast,"I would run ads for this to a landing page and check you analytics to see how many hits you actually get before you build it. I'm a Sr Dev and I am 1) too busy for this and 2) I get recruiters in my inbox all day, every single day. I honestly find it laughable that any Sr Developer would even need or want this. That sounds meaner than I meant it to be but thats my first reaction. That last thing this world needs is another job board.",1524592636.0
deedubaya,"Rails Dev here who tried to improve hiring for developers with a SaaS for employers and candidates. I‚Äôve shut the product down, but the landing page is still up: www.hireloop.io

Don‚Äôt. Just, don‚Äôt.

The employers (where the $$ to fund your thing probably comes from) who are hands on enough to be interested in this type of thing won‚Äôt ever hear about it because the internet is vast and noisy. They don‚Äôt hire enough to become repeat users.

The others have recruiters and HR staff that like things to be painful as it insures job security. They are inherently against ‚Äúsmarter‚Äù.

It‚Äôs a horrible, sad, situation.

Alternatively, don‚Äôt let my bad experiences deter you.",1524616725.0
gdffff,btw do not name your saas honeypot,1524601486.0
starogre,"When you say 'more useful' than what is out there...what exactly do you mean? Like other person has said already, i would do some market research / UX research about peoples' current pain points. I don't really have any qualms with having interns at our company pull tons of resumes and profiles of people who's criteria we give them.

Remember, these jobs websites are only useful for people looking for new jobs (which is usually not more than once a year, as opposed to facebook or instagram where there are useful actions to perform every day) or people looking for new hires (still, not that often for people hiring Sr. Devs)",1524593353.0
Axxiss,"Agree with the other opinions here. It reminds me of this 

https://xkcd.com/927/",1524596015.0
calligraphic-io,"I think your key problem is attracting devs, maybe spending time around /r/marketing could help.",1524613244.0
jessedev69,"Hi I would think about changing your target users to more mid level, maybe even jr devs. Srs have already proven themselves with years of hardwork, and have a ton of job offfers waiting for them.
On the other hand, developers w 2-3 of experience do need a platform to display their skills by showcasing their projects. If you were able to create a clever way to describe, demonstrate, and highlight certain projects thee devs had worked on, that would be totally worthwhile. 
If not though, you will just be making another linked in, angelslist etc. Good luck :) ",1524682861.0
rylanb,"You definitely have a `player` object in this partial view? 

This error almost always means you have a nil object in my recollection.",1524520177.0
dogweather,"Is there a reason why you're not simply doing, 

    <%= link_to '#', player %>

?",1524523669.0
Pyzlnar,"Most likely `player` here is a new record (not persisted) so `player.id` is returning `nil`, which would raise that exception.

If you want to avoid it you can just ask if the record is persisted to send the right link.

    <% if player.persisted? %>
      <%= link_to '', player_path(player.id) %>

Or something like

    <% if player&.persisted? %>
      <%= link_to '', player_path(player.id) %>
    <% else %>
      <%= link_to '', players_path %>",1524523753.0
Schrockwell,"I think you need the locale string as the first argument in the path helper:

    <%= link_to 'Show player', player_path('fr', player.id) %>

    # or if you want to use the current page's locale:
    <%= link_to 'Show player', player_path(params[:locale], player.id) %>",1524525150.0
tumes,"When I'm messing with scopes, I just default to fully qualified params, e.g.: `player_path(locale: params[:locale], id: player.id)`. The error message is telling you that Rails' usual path helper magic can't make sense of what you're giving to it and that it expects the key `:id` in your path helper arguments.

For namespaces I think you can pass an array in as long as the order matches the order of the params in the route, but I'm not positive if that's the case for scopes. Worth a shot, let us know if it works.",1524525989.0
piratebroadcast,"You should work through Michael Hartl's Ruby on Rails Tutorial first, or youre going to get stuck every 5 minutes, doing this with zero experience. https://www.railstutorial.org/book",1524520274.0
krapple,"Rails Tutorial for how to build your app, then use heroku to deploy it.  Sounds like you will have enough on your plate to learn rails, so a service like heroku to drastically similar the server configuration, management and hosting. ",1524526845.0
manys,Rails apps use sqlite3 by default. `rails new yourappname` should work right out of the box.,1524537914.0
tanya-tanasko,If you really want to learn how to develop apps in Ruby on Rails check Udemy courses by Jordan Hugens or some of the featured ones in that category. Everything is very good explained there. Good luck with development! ,1524564133.0
,".You will be fully ready, If you work hard everyday push yourself. I recommend it but after you finish the course , don‚Äôt go holiday. You code everyday and make iwhat you know solid
And also you will be lost after graduation, and don‚Äôt know what to do. Do 2~3 project based Udemy course in 1 month. Then, start looking for job.  Don‚Äôt rush. Keep calm and focus on quality. Create 3~4 portfolio including TDD based one. People who went holiday right after completion and those who start looking for job too early seem to be unsuccessful because they don‚Äôt have good portfolio because of holiday or writing cv, basically away from coding and fail technical test and inconfident.

Learn JS using Udemy on Sat and Sunday during the boot camp. It will make a huge diff. ",1524608365.0
walruns,Just finished Le Wagon - Sao Paulo last friday. I do recommend. ,1524526012.0
Bofu2U,"Nice man. Thanks for the vid, going to show it to a few of my guys that were interested in TDD. :)",1524498617.0
Ronald-Ray-Gun,"> I only wish to incorporate specific things from angular into existing views, etc.

From my experience, this isn't one of Angular's strengths. It's a more full-fledged single page app framework. The reason running `ng new app` gives you a ton more than you expected is because it comes with its own build process which can include complex things like source maps, typescript compilation, ahead of time compilation, server-side-rendering features, etc. Some of these things are more tuned to be run on their own Node server.

Now, this doesn't mean you can't use the two together, but if your goal is to keep your existing rails view code and sprinkle in some components (I use react-on-rails for this), I don't think that's feasible. Other libraries are much more suited for this, like React or Rails' own Stimulus framework.

If, however, you'd like to have some views be Rails generated (perhaps an admin dashboard) and others be a SPA (public user pages, cart checkout, etc) you can split things that way. In this scenario you'd essentially have 2 sets of routes: Rails' and Angular's. I've used this exact setup for a Rails + Ember application. Unfortunately, I don't know how it would be done with Angular -- my current company's setup is a Rails API + a separate Node server running Angular.

Best of luck!",1524437760.0
themaincop,You'll have better luck with React or Vue if you're not looking to make a full single page app.  ,1524456081.0
lucisferre,"I highly, highly recommend reconsidering Angular and looking at something else. I have worked with 1.x pretty much since it came out. I also agreed with the Angular team's reasons for a rewrite in 2.x and was looking forward to moving to it.

I used it through the beta. There were a lot of pain points but I figured they would smooth out. They didn't. Our team built out a full piece of end\-to\-end functionality with it \(with Rails\) and at the end concluded it just isn't good tech. Extremely difficult to use, verbose, heavy and broken in may places. I honestly can't say enough to discourage people from considering it. Personally, I would recommend sticking with 1.x over using 2\+.

In the end we made the choice to move forward with Vue. Template wise it is similar to Angular 1.x, which is handy for those familiar with it, but simpler, but at the same time it is also smarter, faster and easier to use. It also has some great tooling.

As for whether this is harder or easier with Rails. The only thing I can suggest is to avoid the asset pipeline and Sprockets and use Webpacker instead. It has a bit of a learning curve but you'll be much happier in the long run.",1524450873.0
ramongr,"I've used Angular 1.x ""sprinkled"" in a rails app. At the time I wanted to use angular-gantt for a specific functionality in the app. It was a pain, I hated every second of it. Angular's great but not like that.
Best of luck!",1524494847.0
jasonswett,Might this help? https://github.com/ike18t/typescript_angular2_rails,1524504071.0
Serializedrequests,"If you really want or need to use Angular, some other replies have you covered.

I favor Elm  http://elm-lang.org/ in my Rails projects, personally. I tried Angular briefly, and realized it was not going to work well to add to an existing Rails project. I liked React at first, but I had a lot trouble keeping up to date and keeping my code correct. Every time I updated the react rails gem, I had to prepare for pain and mystery errors. Elm was a big learning curve, but it lets me develop SPA portions of my Rails app with a single compiler and language that always works. Webpack works great with it, but you can easily use it with the asset pipeline alone.",1524505035.0
-casper-,"I think you're taking 'rolling out your own security' a bit out of context. 

The JWT gem is pretty good in of itself, you just have to use BCrypt to hash your passwords - if you wrote your own hashing algorithm, then that'd be pretty bad; granted they can all, sort of, be broken.

The BCrypt library is super easy to use, and has pretty good docs. It's worth looking into

EDIT: 

I see now you were still wanting to use Devise, I will say that I personally believe that JWT it's easiest to use without Devise.  If you went without Devise, you'd realize that everything you mentioned above is not too complicated to make once you start building it out, and is a great learning experience. 

I love Devise, and if you still want to use it, definitely go with devise-jwt.",1524423038.0
real_fanpuns,"I have used knock in some test applications and it is pretty nice. It's true that it hasn't been updated in a while, but based on it's expressed focused goal, this probably represents stability rather than neglect. 

The Devise stuff is not that hard to replicate for your situation. [Here is a gem](https://github.com/nicholasshirley/knock_once) I wrote based on knock just to see if I could get most of the functionality I needed without Devise. It's miles away from finished, but there was really nothing complicated what Devise is giving you, keep in mind that Devise has been around a long time and it accommodates many use cases which you may/may not require.",1524466810.0
Hell_Rok,"It looks like you're passing in a body to the note, could you make that unique and do `Note.find_by(body: 'blah')`?",1524361411.0
BaconGlock,"I figured this out. apparently there is a way to access the controller's instance variables in the test so i got it to work by changing the assert_redirected_to to

    assert_redirected_to notes_url(@user.account.hash_id, anchor: controller.instance_variable_get(:@note).id)",1524402903.0
pa_dvg,"Your assumption is generally correct. Default order is by id ascending, since uuids aren‚Äôt ordered first and last will not work as expected.

I suggest adding a scope to the model to order by created at and getting the latest record that way",1524355032.0
Prime09,/r/selfhosted is a great subreddit to get ideas and inspiration. Someone today was asking for an open source alternative to Plex for media organization and playback. Would be an interesting mix of challenges from backend storage to frontend playback etc.,1524373153.0
minaguib,"Don't build the output file in memory.

Find a library that allows immediate serialization of each row you push into it and appending to a temp file on disk.

Once it's ready you can let the web server stream the temp file contents to the client, or PUT it on a private or public static file host/CDN, etc...

Edit: Also if possible, don't spool the entire DB query results into memory - see if batches or DB-side cursors can be used.",1524345002.0
smittles2003,"2 things - as mentioned above, writing the CSV to a temp file and then returning that (or streaming the CSV response) should reduce overall memory usage. I would also look at not instantiating each Order as an ActiveRecord object. Because you are calling ‚Äòread_attributes‚Äô on them, you shouldn‚Äôt need any of the helper functions that AR provides - you‚Äôre literally just trying to get volume out of the database. Something like:

‚Äò‚Äô‚Äô
Columns = [:codigo, :ubicacion, ...]
Order.where( conditions ).pluck(*columns)
‚Äò‚Äô‚Äô

That will give you an array of arrays (each containing the value of the column in the database) in the order you specified in the columns variable. You can then write that to CSV, etc. 

Also, if you‚Äôre in Postgres, I believe it has a function you can call to automatically create a CSV - that‚Äôs probably going to be even more optimized than any Ruby code. ",1524359033.0
hmaddocks,"If you‚Äôre hitting the memory limit after several requests it sounds like the memory isn‚Äôt being released. 
You don‚Äôt need the orders instance variable in `build_report`. Just use a local. That might allow `orders` to be garbage collected sooner. 
Maybe add a `GC.start` at the end of the request to force Ruby to release the memory. 

This is all band aid stuff though. You need to figure out what is consuming the memory. 10k rows is nothing. 

Is it the CSV or the Excel that‚Äôs causing the problem?

How big are your `Order` objects? Are you loading stuff you don‚Äôt need, eg associations? 

Can you `pluck` just the attributes you need?

But the best thing to do is measure. Try something like this
https://github.com/SamSaffron/memory_profiler



",1524349638.0
HarryCallaghan,"Comparing axlsx vs csv rendering for the same search parameters this is the output, the report is about 2K rows:

CSV:

    Total allocated: 2624145 bytes (45668 objects)
    Total retained:  214021 bytes (1928 objects)
    
    allocated memory by gem
    -----------------------------------
       2037117  activerecord-5.1.6
        520681  activemodel-5.1.6
         25064  activesupport-5.1.6
         14995  newrelic_rpm-5.0.0.342
          6422  pascual-apps/app
          5898  arel-8.0.0
          5133  actionview-5.1.6
          3696  actionpack-5.1.6
          2480  concurrent-ruby-1.0.5
          2376  mutex_m
           160  monitor
            83  set
            40  delegate
    

AXLSX:

    Total allocated: 13012941 bytes (136144 objects)
    Total retained:  12474357 bytes (134121 objects)
    
    allocated memory by gem
    -----------------------------------
       9872688  activerecord-5.1.6
       1973496  axlsx-c8ac844572b2
       1021931  activemodel-5.1.6
         85040  pascual-apps/app
         27770  activesupport-5.1.6
         11224  actionview-5.1.6
          6916  newrelic_rpm-5.0.0.342
          4415  concurrent-ruby-1.0.5
          4032  actionpack-5.1.6
          2376  mutex_m
          2003  arel-8.0.0
           360  axlsx_rails-0.5.1
           191  rubyzip-1.2.1
           160  monitor
            96  puma-3.11.4
            83  set
            80  htmlentities-4.3.4
            40  delegate
            40  singleton
    ",1524411279.0
alexdeluxe,I had the same issue a few months ago. I ended up switching to the fast_excel gem. You should see a much faster output and a lower memory footprint. https://github.com/Paxa/fast_excel,1525958578.0
kidtaicho,"My favorite was the talk by Ryan Laughlin: *The Doctor Is In: Using checkups to find bugs in production*

The concept of checkups that he introduced is something that my team has started looking into using. I think its great to start having discussions on this idea and hopefully, the community can develop some additional best practices around the idea or a framework to help set them up.",1524331031.0
cheez_its,"Ernie Miller's Stating the Obvious was a great talk. Highly recommend. It's about work / life balance, questioning assumptions, empathy, and so much more. Highly recommend a watch when it's up.",1524347620.0
gznf,"I really liked Akira Matsuda's talk ""Turbo-boosting real world applications"" -- it was surprisingly hilarious, but also shed a lot of light on where Rails gets slow (and is ""written to be slow"").

Nick Quaranto's talk on GraphQL I thought was a very lucid overview with some great tips and advice/warnings, plus points you in the direction of some useful gems.

Derek Prior's talk on how migrations work in Rails and Vaidehi Joshu's talk on how the router works (which ties in a bunch of base cs stuff neatly) were also great.

Not sure how I'd pick a favorite between all of those.

Oh, and Sarah Mei gave an impromptu keynote that was really fantastic on thinking of our applications as spaces we live in, not things we architect and build.. any team working on a gnarly legacy codebase ought to watch it, I think!

All in all, awesome rails conf this year!",1524439034.0
schneems,"I think ""Debugging Rails Itself"" is something that (eventually) every Rails developer will need to do at least a little of. Sean Griffin  does a good introduction here. 

Keynotes I think are always worth watching. Eileen had a really good one with some talk about some features she's working on in Rails 6.

",1524349172.0
real_fanpuns,"I didn't get to go, but I watched a lot of the presentations from the main room on the live stream. Eileen Uchitelle's talk was really striking to me for a couple of reasons: it made me realize how mature Rails really is / is becoming and how deep the Rails contributing bench is.

It also reminded me of Aaron Patterson's talk about the ActiveRecord optimization. I know in his case he gets paid something to make OSS contributions, but the it's still amazing to me that so many people are building in such robust features into Rails (mostly as volunteers). It's an amazing community indeed.",1524467781.0
trae,"Cool, I forgot about it, looking forward to the vids!

What was your favourite talk from last year?

What was the atmosphere like? It feels like rails is not the coolest kid on the block anymore, and with Ruby steadily declining in rankings, I'm curious what the overall community feel is like at a big event like this.",1524366963.0
zubietaroberto,"Used ActiveMerchant for eCommerce. It is great. You do have to add your credentials, but it is only for interfacing with the Gateway. 

In an app of enough size you will eventually have to store credentials for third party services, like database logins or AWS Keys for Amazon S3. Those credentials are also very sensitive.

You need a strategy for dealing with those credentials without writing them in plaintext on your code. Rails 5.2 adds an API called **credentials** that handles this use case. You might want to look at it. Before that I used to store logins in environment variables.",1524325246.0
pavlik_enemy,"That's how it works with SaaS eCommerce platforms, I didn't see anyone complaining when I worked on one.",1524311590.0
SoxSuckAgain,I imagine they would be hashed and salted,1524303129.0
Anthematics,"no so what you'll do is have devise commands for generating some stuff.

rails g devise:controllers users
etc.etc.etc. 
but if I recall correctly the routes are done automatically.
If you're really new to devise depending on your needs I'd also recommend checking out active admin as it would make it much easier to work with admin roles.",1524297782.0
ramiaa_dm,that's a stupid question,1524300445.0
rkulp2,"hi everyone,

i recently did an interview as founder of Fomo (https://www.indiehackers.com/interview/fomo-05b996966c).

today i'm live streaming (Noon Eastern --> onward) a brand new SaaS product, which i'll build from scratch.

* user stories
* wireframing
* coding
* picking a domain name
* deploying to production

all contributions / comments welcome on YouTube live chat... please join!

live stream:
https://www.youtube.com/watch?v=1LNj3cKWzMg",1524238801.0
JamesAllMountain,Is Postgres running? Your environment variable should be a valid Postgres endpoint. Ssh into the machine and try to connect. ,1524228339.0
tongboy,"Check your database.yml to see what the production instance is using. Precompile runs under prod and so it needs to boot a prod env.

We get around this in ci by using a ci specific yml and a few other env variables like redis url",1524236091.0
tastycakeman,"by the way, for future people who have trouble with this. 

i got it working using `gem 'activerecord-nulldb-adapter'`, and then setting in database config `adapter: <%= ENV['DB_ADAPTER'] ||= 'postgresql' %>`

At runtime in my dockerfile passing db_adpater for the compile step. 

Not stoked about having an extra gem just for this, so still trying other approaches too, but this works for now.",1524518235.0
fedekun,"Less time thinking, more time building. It doesn't matter what you build. You are allowed to just dump a project and start a new one as many times as you want. It's a creative process.",1524236025.0
amilicrypto,Are you stuck in the ideation phase or actually getting your idea started?,1524324696.0
jessedev69,"one of the reasons why rails is so great is that it make it very easy to get up and running with projects
run 'rails g scaffold' for whatever models you want
implement devise for auth
and you have a foundation for your next project!",1524688308.0
krapple,"Thanks for sharing!  The Circle CI 2 docs are horrible... I was really lost for a while when upgrading from 1 to 2 because I didn't have experience with docker or anything like it.  Now I use docker for my development environment too!

Just wondering why you use the ruby2.5.1-browsers when the ruby2.5.1-node-browsers image comes with yarn?

Also, you are storing node-modules as the cache, but I believe there is a separate yarn-cache directory.  We are using the following w/o issue:

      - type: cache-save
        name: Store yarn cache
        key: yarn-cache-{{ checksum ""yarn.lock"" }}
        paths:
          - ~/.yarn-cache

Finally, why are you running `bundle exec rake db:migrate` after `db:schema:load`?",1524220535.0
trae,"Cool, thanks for sharing!

What is this `save_cache` magic? Does CircleCI go inside the container to preserve data there? That's a pretty annoying pain point for my docker builds right now. ",1524236507.0
swrobel,Why cache by branch? Seems like lots of unnecessary re-bundling ,1524239854.0
toadkicker,"Thanks for all your feedback. /u/krapple added some great suggestions and we've changed our config. I couldn't get CI to work as his example shows but did change the cache path and saved it similarly to the other `save_cache` keys. Lastly I hadn't noticed the way we loading the database, and removed the extra db:migrate call.

edit: also thank you /u/swrobel for the question about caching by branch. We discussed this and were concerned that restoring the cache from different branches would cause issues, but our git strategy prevents this problem anyway. I've deleted caching by branch in the gist.",1524269120.0
Anjin,"It might be a version conflict. I messaged Michael, he‚Äôs been at Rails Conf but he‚Äôs pretty good about quickly getting back on these types of issues. ",1524209262.0
mhartl,"Thanks for the heads-up. I've had a couple reports of this but unfortunately have been unable to reproduce. I suggest spinning up a fresh Cloud9 environment and seeing if it works there (as it did for me). In the mean time, I'll keep an eye on it and see if it becomes a general problem. ",1524225417.0
eskripnik,this link helped to overcome it - https://forums.aws.amazon.com/thread.jspa?messageID=821306&tstart=0,1524708738.0
kickinespresso,"Are you running this on CloudIDE? It probably won't work in the normal terminal.

If you're in the normal terminal, you don't need it. You should be fine with the normal Heroku Toolbelt. ",1524190902.0
kickinespresso,"Are you running this on CloudIDE? It probably won't work in the normal terminal.

If you're in the normal terminal, you don't need it. You should be fine with the normal Heroku Toolbelt. ",1524190921.0
noodlez,[Give one of these a try instead](https://devcenter.heroku.com/articles/heroku-cli),1524191085.0
eskripnik,"Having same issue, running on Cloud9, fairly new environment, may be a month old. ",1524706986.0
mhartl,"OK, I've reproduced the error and think it's now fixed. Something had broken in the Node ecosystem that caused the script to fail. Luckily, Heroku has released an updated standalone version of its CLI, so I've switched to that in the installation program:

source <(curl -sL https://cdn.learnenough.com/heroku_install)

Please let me know if it doesn't work.",1525291549.0
owens_trevor,"Hi all, this is my current project.

The goal is to take Rails (or JS) devs who want to start a startup and create an elite community, teach everyone the business/marketing side, and help with SAAS app specific technical issues that I have learned over the past 5 years building SAAS apps.

Let me know your thoughts!",1524159358.0
CarefulAsk0,"I would not say it is overkill, but there are definitely simpler options, such as using site builders. 

I would say however using Sendgrid is a bit overkill, though. A simpler, faster integration would be like using Airtable instead, you will get a snippet that you can just put on the page straight away, and no need to write anything on the backend",1524149597.0
Ronald-Ray-Gun,"If you're looking to learn, then build a private app with a contact form & sendgrid (or just a simple SMTP config).

But when it's time to expose that contact form publicly and share it around, you can run into spam issues. You could prevent that by using a captcha, but do you want to make potential employers deal with that? Probably not... However if bots ever end up scraping your site and send a ton of email via sendgrid, that could lead to them suspending your account or charging for all those extra deliveries!

So for a live, public feature, I'd go with a 3rd party that handles that kind of stuff for you (rate limiting, spam prevention, bot detection). Airtable looks pretty cool.",1524159354.0
jessedev69,"one of the tough parts baout rails is getting the single page app feel. 
I would highly reccomend using another framework if all you will be building is this single page app ( not the right tool for the job)
If you want to use rails though, I would reccomend using a simple ajax call with no page redirect. This will send the information through your controller and to your DB, without going through the normal process of redirecting to a new page. Would that be something you feel ok doing?",1524688975.0
Schrockwell,What does the network tab show in the Safari dev tools for that request? Is it maybe returning a 204 No Content?,1524144593.0
khiron,"What's the behaviour under no SSL (http)? If everything works fine under no-ssl, then perhaps you're loading something via no-ssl (like an image, or a script), or perhaps you're loading something from another site (like a CDN) that's not using https.

Also, are you using Turbolinks? The ""loads it just fine on 2nd attempt"" is something that Turbolinks is usually guilty of.",1524157364.0
harbogast,Is your site using websockets? Do you have ghostery or abp running? ,1524162629.0
archlich,Load it up in Wireshark and take a look at the handshake. See if there's any TLS Alerts being sent.,1524184775.0
jemminger,Got a URL for us to take a look?,1524234969.0
tinco,"You don't have to be good at it, but having read at least a book on it will definitely make you a better programmer. The topic of the book would be Algorithms, Data structures and Complexity. If you go on Amazon you can just buy whatever is most popular. You could also try watching the lectures of a university course.

Think of it this way. Every time you use a Hash, a fairly complex algorithm finds the value for you, every time you allocate a new object, a fairly complex algorithm finds some free memory for you. Understanding the consequences will give you a good foundation.

Anyway, I've never been a big believer in having to be able to write good algorithms even though it is a part of old school job interviews. I think it's more important that you understand the performance consequences of code you write and use, and that should you be faced with an algorithmic challenge you stand a chance of figuring it out with decent complexity, even if you have to Google a bit.",1524126345.0
rArithmetics,"Major application for me: find elegant ways to only hit the db a few times for data vs hundreds can really speed up a web app. 

Those ‚Äúreally tough‚Äù algorithms rarely come up for me, but they‚Äôre training so you have good instincts for what‚Äôs a bad idea and what will scale to a few hundred users on your site at once. ",1524123818.0
gelfin,"So not to pick on your use of terminology, but if you‚Äôre talking to other developers it‚Äôs going to come up: the way you‚Äôre using the term ‚Äúalgorithm‚Äù is a little off.  In short, you don‚Äôt ‚Äúsolve an algorithm.‚Äù  The algorithm is the solution, not the problem.  An algorithm is an explicit step-by-step process for solving a problem.

For a given problem, say, ‚Äúsort this list,‚Äù there are a LOT of algorithms that will solve it, with different performance characteristics in terms of time, memory usage and so forth.  For instance, this is a working sort algorithm:

1. Shuffle the list randomly.
2. For every item but the first, test that list[n] >= list[n-1]
3. If not, repeat from step 1.

I hope it‚Äôs entirely clear that this is in fact a *terrible* sort algorithm, but you could implement it in a computer program and it would (eventually, sometime within the lifetime of the universe) produce the correct result.  It‚Äôs just that practically any alternative you could come up with would be better.  If you can appreciate why that is so, then you can appreciate why computer scientists study algorithms.  It gives us a common basis to talk about how a given solution will perform, and to compare solutions to select the best approach for a given execution environment.  We often use the term ‚Äúalgorithmic complexity‚Äù to refer to a rough estimate of how much work needs to be done to produce a result relative to the size of the data.

Particularly as a novice developer, you aren‚Äôt likely to need a highly formalized understanding of algorithmic analysis to do your job, but it definitely helps to informally recognize when you can solve a problem without walking a whole list multiple times for every item in the list.

As for something like CodeWars, most of what that does is sharpen your skill for solving problems *at all*, which is something any developer needs.  Learning how to assemble a Rails app is one thing, but pretty much any real project that does something useful is going to have a few interesting problems to be solved under the hood.  Think of the difference between implementing the Google home page and implementing Google *search*.  The former is an hour job; the latter is beyond the capabilities of *almost everybody*.  As a beginner, doing CodeWars will start to develop your instincts for identifying problems, breaking them down, and knowing the tools at your disposal to solve them.

What I wouldn‚Äôt necessarily suggest is comparing your solutions to the top performers for any given exercise right out of the gate.  You‚Äôll sometimes see solutions that are difficult for even very experienced developers to tease out how they work.  As a novice that can just be baffling and frustrating.  You‚Äôd learn more by comparison with more middle-of-the-road solutions that you can understand without too much effort.",1524149316.0
Serializedrequests,"Most real-world programming jobs have much more to do with organizing complexity, clarity, and maintenance of said complexity. I see it much more as a writing job than an engineering job. I have hardly ever used anything I got from my degree, except the unit on multithreaded code, and *maybe* the hardware understanding I got from assembly and C programming.

That said, the reasons you want to know about algorithms are:

1. To know what solutions to hard problems are already available.
2. To understand the performance cost of the libraries you are using.
3. To understand how fast certain database operations are.

Most real-world applications are usually IO bottle-necked, i.e. waiting for the database or network. You can write really shit code that allocates dozens of more arrays than it needs to and have it never be a problem in a Rails app. Where you will get into trouble is doing too many slow database queries.",1524156767.0
henrebotha,"It often comes into play with optimising things. Making code run faster requires an ability to see what is making it slow and conceptualising how you can achieve the same thing faster. As /u/rArithmetics mentions, a common example is N+1 queries, where a poorly structured query hits the database multiple times instead of getting everything it needs in one go. Or doing huge queries that select every field of a table when all you really need is two columns.",1524128053.0
dvogel,"Algorithms are programming boiled down to it's essence: trade-offs between time and space (aka CPU and memory). The reason that sorting algorithms are the quintessential example is that sorting has so many possible combinations of those trade-offs. That's why we have so many sorting algorithms. Most other areas have two extreme choices. E.g. you can count things in the database or fetch every record and count them in the application.

Evaluating these time vs space trade-offs is required in every form of programming. Simple 1992 HTML authoring required considering how long it would take a page to be downloaded and rendered. For example, breaking an image up into multiple pieces allowed them to be downloaded and cached separately. If one section of that larger image had to be updated the browser would only download that section. Yet, tracking multiple images instead of one required more metadata storage and more CPU time to parse the extra HTML. This is a crude form of programming (the browser is like a strange virtual machine) but even here these trade-offs have to be made.",1524146964.0
Kuhnmeisterk,A lot of these answers hit some good points but the most important in my opinion is minimizing effort.  Algorithms have been studied forever.  Not just when computers were built.  Algorithms are tools to solve a specific type of problem.  The usefulness of knowing algorithms that are commonly used is avoiding trying to repeat coming up with a solution to a problem.  In fact many algorithms would be nearly impossible for you to come up with on your own unless youre a genius.  And the geniuses who did come up with them spent a long time finding them.  Understanding algorithms helps ypu understand ways to solve problems that are everywhere without wasting your time on something that people have already found the best method for solving.,1524148197.0
amplex1337,"If you enjoy programming you might enjoy learning common algorithms, also they might become very helpful to you down the line depending on the complexity of tasks you want to achieve.  When I started programming it seemed very important to learn these type of skills as they are widely applicable.  Being on the high school programming team and going to a state competition was a great experience, and really helped to provide confidence in attacking complex problems.  Learning how to break down a problem and solve parts of it at a time is a great life skill in my opinion and makes a lot of tasks seem less like magic and more achievable.  Just my .02",1524151208.0
wbsgrepit,"Algorithms: a process or set of rules to be followed in calculations or other problem-solving operations, especially by a computer.

You don't really ""solve"" them,   it is simply the formation of the rules/steps/operations to get from some input to some output.  One way to define ""developing"" is ""to write structured prose that specify algorithms"".

A basis understanding of how problems have been solved in the past and how those solutions change over time is fairly fundamental to being a ""good"" developer IMHO.   ",1524151345.0
calligraphic-io,"Algorithms probably aren't as important for fleshing out an app in the pattern that a framework provides, like writing models/views/controllers or some front-end UI code. This is the ""code-monkey"" aspect of programming.

A good knowledge of algorithms, data models, and design patterns is important for writing good library code. Junior developers often get code-monkey work, but if you want career progression, you have to learn how to write library code.",1524159746.0
editor_of_the_beast,"Here's the thing - lots of people don't really understand the software industry as a whole, or what an average developer really does. Not every developer is building systems that serve millions of users, but conversely not every developer is building simple static sites for businesses. The spectrum is large.

So, depending on what you're doing, knowledge of algorithms can be absolutely useless to your daily work, or your business would not be able to run if you didn't use the correct algorithm. Think about the general field of construction - you could be a handyman / small project carpenter and fix shelves in people's houses, or you could be a foreman of a project to build a skyscraper. They have vastly different skill requirements, and vastly different people will be in those positions.

There are plenty of people that are just going to do basic HTML and CSS for their career. There's nothing wrong with that. But there are also people who want to build databases, or operating systems, or process really large amounts of data. These people will care about algorithms. It's just about using the right tool for the job at hand.",1524167769.0
Dee_Jiensai,"In about 10 years of first building and then maintaining a commercial healthcare related application based around a rails app, I can tell you that I had to do something that I would even remotely call an 'algorithm'  exactly once. (*)

99.9% of your time working with frameworks like rails will be translating flowcharts into ruby code.

There are CS jobs where you actually need knowledge about algorithms, but they much much more rare than the run-of-the-mill developer job.

(*) I know it was once, because I still remember it as one of the most fun things I ever did there, and had to use actual maths. (although very little of it)",1524169945.0
toomanybeersies,"I guess it depends on what you're doing with Rails or any other language/framework.

At my old job, all my knowledge of algorithms and data structures was more or less unused. I was more or less creating a CRUD app.

At my current job, however, I've had to actually use a few things I learned at university as the project and the business logic is a lot more complex. I've had to leverage recursion a fair bit. Understanding boolean algebra is also a big help as you can simplify logic down a lot.",1524199070.0
hsndiz,"It usually doesn't. Real life programming is typically like building a road from point A to point B. All the tools exist and you just use them. If you were to build these tools yourself, however, you're going down the rabbit hole and never comming back. ",1524147310.0
Nrdrsr,"If you want to connect to a websocket server from your frontend? Use JS. The spec is well documented for browsers.

If you want to connect to a websocket using a Ruby client, it seems pretty straightforward with some gems that I googled like this one:

https://github.com/shokai/websocket-client-simple/blob/master/README.md

If it were up to me and I had to do it on the server, I'd keep a separate node.js process responsible for it and wrap calls to that process from Ruby, because async/event driven from the bottom up makes me more comfortable. 

",1524075352.0
pavlik_enemy,"You'll need a separate process that loads your application and connects to WebSocket server. To load the application just `require './config/application.rb'` in your script, you'll have all the models and other stuff accessible. Then use `faye-websocket` to connect to WebSocket server and process messages. If you use Docker to deploy, that's pretty much it, if you use persistent servers than you'll need to daemonize this process (use `daemons` gem) and make it monitored by whatever tool is most convenient (`god`/Upstart/whatever)",1524083401.0
Mac-Hdz,"Have you looked into ActionCable? You can have Rails run as the Websocket server. Perhaps, with some ingenuity and experimentation, it can be coerced into acting as a client to an external Websocket server. ",1524071429.0
GreenAnarchist,"tbh that's not a very natural thing to do from within rails. It's probably possible (would involve spawning a persistent thread that you could use to run a websocket client in a way that works with the threading model of the webserver you're using -- phusion, puma etc), but a simpler way would be to just run a websocket client in its own process. Then when you get a message, make a local http request to POST it to your rails app (or just make your own connection to the database and update it directly).",1524068550.0
htom3heb,"It'll probably be a lot easier to have rails talk to a socket server (ie, send and receive http requests to the socket server, the socket server listens to your external socket source and sends / receives http to the rails server). Rails doesn't handle websockets well.",1524106187.0
toobulkeh,"Think about why this isn't standard or common. It requires a persistent process for this back end connection. Webhooks will also solve this problem, and maybe you can see if your external data source has another pipe in place.",1524141579.0
henrebotha,"`new` gets called when you request the page with the form. `create` gets called when you submit that form.

The fact that `binding.pry` is not kicking off tells me you already have the form open in front of you, and just keep trying to submit it. Are you sure your code changes are being loaded automatically? Do you perhaps need to restart your server before trying again?",1524067004.0
JoDaBaRo,Have you tried running your build_customer method on an after_create callback? ,1524066117.0
evan56780,"How important is searching in this project, is it a core flow? Or is it a side part of the app.

I would say stick with Ransack for now, it's fairly easy to get up and going and is a pretty minimal gem. 

I just switched one of my projects from Elasticsearch over to Ransack so in speaking to your second question as to when I should switch, it depends if you have users or not, or if searching is an essential flow of the app. Elasticsearch is great for handling many queries and giving really fast results, but it costs money as you have to run it on a separate server. If searching is kind of a secondary feature or you don't have a lot of users then stick with Ransack. 

That's my own personal advice, there's never a right answer with these things though. ",1524064896.0
domenic99,"If it's only draft and published, do it yourself. If it's more complex, take a look at https://github.com/aasm/aasm",1524062892.0
tongboy,"The draftsman gem does this.

A state machine concern could also handle it",1524064284.0
fedekun,"This post [reminds me of this project](https://github.com/jezen/is-thirteen) :p

Just do it yourself first, and if it gets too complex or you need a state machine, swap to something like AASM as /u/domenic99 suggested",1524236169.0
zqom,Implement it by yourself as a concern.,1524035855.0
eoJ1,Enum in the model and you're basically there.,1524367118.0
GertDalPozzo,"Is there a specific reason for using a complex framework like Rails to build what it seems to be a static website?
If you want to stuck with Ruby you can use a simpler framework like Sinatra or Hanami or even just Jekyll.",1524031911.0
someparty,"I recently put together a personal blog and wanted to scratch that same itch of using Ruby for it. I settled on Middleman as a static site generator, doing most of the actual day to day publishing in Markdown but using Ruby and ERB templates for some helper functions and the layout. I‚Äôve enjoyed that approach and tend to use it for very lightweight projects these days.",1524052597.0
boonestock,Middleman is great,1524061320.0
seainhd,Use Jekyll and netlify for free hosting! It's my favorite thing these days.,1524062265.0
toadkicker,"I wanted to make this as simple as possible, so this is a way you can build the simplest static site with Rails using nothing fancy other than the framework itself.

https://gist.github.com/toadkicker/e3aa35677c5e10004e965e48bea5e623

",1524198135.0
in0pinatus,"I use association extensions for this sort of thing. Something like

    class Person
      #...
      has_many :balls, through: :sports do
        def most_common
          group(arel_table[primary_key]).order(arel_table[Arel.star].count.desc).take
        end
      end
    end

Now you can write `@top_ball = person.balls.most_common`.
",1524028206.0
Pikels,"Assuming that you have a `name` column in your `Ball` model and you don't have `arel`, you can order and group them by `name` using `person.balls.group(:name).count.max_by{|k,v| v}`. This will return a key-value pair of `[name, count]` rather than the Ball object itself.",1524051717.0
teohoch,"Assuming Ball has a attribute name, you can do:

Ball.group(:name).count

This will give you a hash where the keys are the names and the values are the number of appearances in the db.

If you want the most associated ball to a particular person (note that is the object person, not the class) you can do

person..group(:name).count

Same output but this one for just the balls associated to the person ",1524022888.0
yjblow,"Thanks to the rubber duck, I have reproduced the issue.

 1. Sign out
 2. Go ""back"" to the cached app UI.
 3. Click the button to generate a POST request.
 4. Observe the exception.

The solution here is to use `rescue_from` to likely redirect the user to the sign in page.

Thank you rubber duckie!
",1523998291.0
Serializedrequests,I have seen this constantly since upgrading to rails 5. Lots of users use the back button to resubmit a form. ,1524234678.0
quevon24,"Check this post: [https://blog.alex-miller.co/rails/2017/01/07/rails-authenticity-token-and-mobile-safari.html](https://blog.alex-miller.co/rails/2017/01/07/rails-authenticity-token-and-mobile-safari.html)

This might help you.",1529692861.0
jabbaroni,You can't nest forms like that. Check out the docs for `fields_for`.,1524037467.0
AfterQuality,Info I would like as well,1523989327.0
andey,"option #1: create two active admin namespaces. one for admin, and one for user. 

option #2: disable activeadmin authorization / users, and define your own authorization ",1523998266.0
Frizkie,Reddit is fucking with default settings and your frontpage is probably set to 'best' instead of 'hot'.,1523986620.0
AfterQuality,"Everyone should wake up to rails posts, it gets your blood pumping.  Mostly do to stress about having to go into work and deal with this freaking language, instead of a nice simple easy language like php.  ",1523989475.0
gelfin,"Disclaimer: My Rails-fu is about a year out of date, so I have not worked with ActiveStorage itself.  But this sounds like a REST problem, and it seems like you‚Äôre on the right track with the direction you‚Äôre going.

Ignore ActiveStorage for a minute and think about how you‚Äôd do this with a regular subresource.  Depending what you need, you might need to implement some nonstandard routes.

This ought to be the simplest operation to purge one attachment:

DELETE /resources/:resource_id/attachments/:attachment_id

That route would cover the case in your gist, but you might want some nonstandard routes:

DELETE /resources/:resource_id/attachments[?query]

You‚Äôd implement this much like you would with query params on an index method as a search/filter.  The only gotcha is on an index method calling the endpoint with no query params would return *everything* where you‚Äôd want the equivalent delete method to delete *nothing* in the same circumstances.

If you want to purge multiple attachments across multiple resources, that looks like it might get hairy.  In REST logic, just the fact that you‚Äôd want to access attachments independent of their controlling resource suggests attachments should have a top-level controller, and then support a query string in which :resource_id *might* be included as a value.  But it looks as if ActiveStorage might make it hard to implement something like this:

DELETE /attachments?created_at=<2017-04-17T00:00:00Z

(URL encoding omitted for clarity.  Also, I pulled a query syntax right out of my butt, but you get the idea.)

At a cursory glance it appears that might be tricky to implement using ActiveStorage, since there‚Äôs no true database relation there, and you might not even have metadata like that in the first place.  If you need something like that, my gut tells me what I‚Äôd end up doing is making a proper attachments table containing attachment metadata, attaching the ActiveStorage blob to *that* as a has_one, then giving it a belongs_to :resource.",1523972811.0
pa_dvg,"TLDR you don‚Äôt have to 

https://github.com/rails/rails/blob/master/activestorage/lib/active_storage/attached/macros.rb

Default behavior is to destroy attached records immediately and can be configured to destroy asynchronously",1523961114.0
toobulkeh,"REST design says to do this at a root-level route, using the DELETE method.

    delete /attachments/:id => ""attachments#delete""

or just
    
    resources :attachments, only: :delete",1523980153.0
editor_of_the_beast,Welcome to a real server framework.,1523963287.0
StoodOnLeft_DIED,"I‚Äôm on the opposite side, coming from rails now doing node. I miss rails, and ruby for that matter",1524019662.0
CarefulAsk0,"mate, basically the error happens because rails do not find the TournamentSystem class, as this is the class that is supposedly introduced by the gem, this means that you have not set it up properly. So do these steps:

1. make sure that the gem 'tournament-system' is in the gemfile
2. run bundle install
3. then to test it out, on your terminal, run: ""bundle exec rails c"", then type ""TournamentSystem"". ",1523973992.0
brandonm222,Thank you for that @CarefulAsk0 i took your steps and after some reviewing it turns out this gem isn't even complete yet so I am now stuck. With that being said I am wondering if anyone has or knows of any good tutorials or examples of a tournament done on ruby on rails. Preferably something besides round robin as I already got that one working.,1524206802.0
rArithmetics,I always set up devise first. ,1523935257.0
akxdev,You'll have a much easier time if you just create the User model with Devise.,1523940812.0
noodlez,"[solidus](https://github.com/solidusio/solidus), the official fork of spree when spreecommerce was bought by first data, does, i think.  and in my experience is better to work with.",1523917420.0
toobulkeh,5.2 was finalized a week ago. Give it a month and you'll have support. Stick with 5.1.x now and upgrade when all your requirements support it.,1523929509.0
andygauge,Last night I created a Rails 5.2 site and attempted to set up Solidus.  It did not work.  I had to create a new site in 5.1.x.  Watch this PR https://github.com/solidusio/solidus/pull/2690  if you want to wait for compatibility (or target the git repo in your Gemfile for now),1523919317.0
dribeiroexpertise,"have you ever tried the stripe gem?  


[https://stripe.com/](https://stripe.com/)",1531481231.0
scragz,You can put everything into one User class and just ignore the fields that don't apply to the other inherited classes. Or you can have a base User class with all the common things and have the buyer/seller/whatever be a joined class with has_one.,1523920240.0
goldenfinch53,"Have one table for user authentication, and have that have a relation to your different user types in separate tables.",1523926691.0
in0pinatus,"If Role is a meaningful entity then enrich your domain model with Role objects. Don't turn your User into a [God Object](https://en.wikipedia.org/wiki/God_object). Depending on your application it may also be unwise to have single-role users; surely some buyers are also sellers? I know when I last bought a property I also sold one to fund it.

I recommend write your ideal Pundit code first, then implement the domain model to suit this. This intention-revealing approach always helps me shape my implementation ideas.

I might want to write:

    class OrganisationPolicy < ApplicationPolicy
      def update?
        grant.valid?
      end

      private
        def grant
          AdminRole.grant_for(user)
        end
    end

I'll always ask the Role about the status of its granting to a given user. Not the other way around.

So for me the initial structure would have a STI Role model class with grant lookup by user that returns a Grant object that we can query. Including possibly an InvalidGrant that returns false for `valid?`.

The simplest I'll go is that User `has_many :roles`, although a richer and more flexible model has `users`, `grants` and either one STI `roles` table or (actually my favorite) one table per role class, with polymorphic reference from the grant. 

This isn't quite the same as Rolify because Rolify models each role as a table row not a class. This conserves the number of rows in the `roles` table but I find that a bit anemic since to me a Role isn't just a label, I need somewhere for role-specific logic (with Rolify this gets pushed up to your service layer), and I also want to include metadata on the grant itself like expiry or created_by.",1523926761.0
joesb,"Do neither. 

STI and MTI both make querying hard. Just have ‚Äúrole‚Äù object. ",1523937625.0
Serializedrequests,"Every time I've implemented Rails STI, I've regretted it. The number of quirks and things to learn was insane, even though it seemed like it should be the correct solution.

I do see it used most often in authentication systems so this isn't *terrible* per se, but I don't think it makes the code more straightforward or easy to understand.",1524004332.0
in0pinatus,"After reviewing all the replies in this thread I'm reminded of Ted Neward's famous quote (that was the essence of a much longer essay), [Object/Relational Mapping is the Vietnam of Computer Science](http://blogs.tedneward.com/post/the-vietnam-of-computer-science/).",1524118527.0
GrizzRich,"*sees post title and rushes in with a dramatic slow motion NOOOOOOOOOOOOOOO*

Don't use STI. It's always a dumpster fire, and it makes things complicated. The same applies to MTI but 100x over.

It is definitely possible to use one login for all roles. In fact, it's the easiest way to manage it. If you want to give users different roles then you'll want to (probably) institute some sort of strategy object to handle all the role dependent logic. Also, generally speaking, all of the role dependent logic can usually be assigned to another record that handles those relationships.

For example, an *Office Manager* user is managing an *Office*, and the *Office* will have multiple appointments.",1524638470.0
das3ingg,"Hahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahahaha

Ok so now that that's out of the way how can we help you? Do you need help with interfacing with coinbase/other api's? Do you need help with a specific gem? I'm no moderator but this is a great sub that's glad to help but you're unlikely to find anyone to work for free.",1523908772.0
sbr9,Go do Hartl's tutorial and create the site yourself. There's not a lot of complexity there. You should be able to get things going quickly.,1524081196.0
intentions_are_high,"Check out [this article](https://www.justinweiss.com/articles/how-rails-sessions-work/) for a basic overview of rail sessions.

Basically, you should be checking the user's session on each request. Gems like Devise and Clearance will do this for you once a user logs in and out. If you're rolling your own authentication system (which I don't recommend), you'll need to add some kind of hooks to check the session on each request.

1. Yes, you need to do something like:

    current_user = User.find_by_id(session[:current_user_id])

2. Session info is stored in a cookie, within the browser, so they would not be logged out of other sessions. If you wanted to log them out, you'd need to save session data to the database. 

Let me ask you this: how are you starting a user's session? Do you authenticate users",1523907427.0
awwfishsticks,"Our session store is redis based. When a user logs in, we give them a session cookie and store the pertinent information in the store. When they log out, we delete that. This will log out all other tabs within the same browser, because we use that session cookie for authentication on all of the endpoints. Once we find that someone is using an invalid session cookie, we redirect them to the login page.",1523907343.0
jb3689,"> My issue more specifically lies in a case where a user has multiple tabs open (all on the same account) and they decide to log out from one of the tabs. The problem is on the other tabs- the user is still regarded as being signed in. I believe the key to fixing this is verifying if the session has been destroyed before performing actions and redirect the user to the login screen if the session was destroyed.

The first thing I would do is check the session cookie each tab has. You have access to the server, so you have access to the secret and can decrypt the cookie if need be (say if a random string was added to each payload before being encrypted). Are the session tokens the same? If so then you're not properly invalidating sessions

> 1) How do I go about checking sessions in rails? I have seen examples using sessions(params [:user_id]) but it doesn't seem clear to me how this works and how sessions work in rails.

Each application is different, but there is usually a database backend (usually Redis or some RDBMS). This article explains it pretty well: https://www.justinweiss.com/articles/how-rails-sessions-work/. You should probably take a look at your middleware stack (see `rake middleware` for which module to dig into)

> 2) What happens if the same user is logged in on multiple computers? I think that there are different sessions for different browsers so does a user have multiple sessions or are sessions just linked to a specific browser?

Generally speaking different browser instances have different cookies and thus different sessions, but it all depends on the implementation. Tabs generally use the same cookies (incognito does not). In order to support multiple concurrent sessions on multiple devices you need a session strategy that allows for this (i.e. you can't just have a `current_session` token on your User record or anything like that)

If you're really interested in sessions, I highly, highly recommend reading The Web Application Hacker's Handbook. It has an excellent overview of how sessions work, what their vulnerabilities are, and the challenges associated with designing session management as well as how to do it correctly and safely. OWASP has some good articles on sessions as well, but I recommend them as supplementary material for specific questions.

Here's another resource I highly recommend (it's for Elixir, but you should be able to follow it still) http://nithinbekal.com/posts/phoenix-authentication/

One last thing: while Devise has been around long enough I would caution you to blindly trust any open source authentication library. It's definitely worth thoroughly auditing any solution you go with.",1523927935.0
SidDefinition,"`search_form_for @search` should be `search_form_for @q`

It should be same as the param key, which is :q",1523895634.0
manys,@search is nil (i.e. not a Ransack Search instance) if a search has not been requested yet.,1523908563.0
Rogem002,"They started doing this in [5.1](http://guides.rubyonrails.org/5_1_release_notes.html) ( search for ""Initialize Git repo when generating new app"" ), because they already generated a `.gitignore` file and in most cases developers were using git version control anyway. 

> Will it overwrite the existing .git directory if I rails new . from the root of an existing repo?

If rails sees that a directory already has a `.git` folder, it'll leave it alone & not overwrite anything.",1523889382.0
CarefulAsk0,"have you setup the feature spec to be able to run JS? The thing is, materialize is a bit annoying because it instantiates the select options after rendering with JS, so when your spec runs with JS not enabled by the driver, it wont have the options.  ",1525525924.0
henrebotha,Have you read this? https://rossta.net/blog/make-your-rails-app-a-progressive-web-app.html,1523865965.0
toobulkeh,"PWA is a front-end feature (really, a collection of features), where Rails' main focus is on the back-end (server-side rendering). It has a few touches to the front-end, but that's not the main focus.

Maybe since this is a student project, consider following along with a tutorial like https://developers.google.com/web/fundamentals/codelabs/push-notifications/",1523929706.0
joelajackson,"PWAs definitely add some great performance benefits and on Android some great functionality.


Rails is not by default set up on a super pwa friendly way. You can definitely get selling it, but getting it working involves changing the default fingerprinting behavior and asset paths or building a separate frontend and backend application.

This will add significant complexity to your project at a time you're still just trimming to brachiate the ins and outs of RoR. 

Just my two cents, I would just write a great RoR app, master that technology, and THEN move on to other technologies. You can create a very good web experience by just sticking to the basics and doing them well.",1523888546.0
krapple,"Trying to do this with the asset pipeline and ActionView is going to create a maintainability nightmare.  You will be stuck rendering HTML partials on the backend and writing your own caching system on the front end.  Or if you use JSON, you'll still have to write your own caching system and a state management system....

Keep Rails as the backend and use webpack w/ Angular2, React+Redux, or Vue as the front end.  I suggest pairing with [JSON API implementations](http://jsonapi.org/implementations/) because most of them have caching built in.  Plus you have the wonderful world of npm packages available to quickly build most front end features.

React+Redux is probably the easiest to learn.  React is simple and you only need a basic implementation of Redux.  ",1523876853.0
kobaltzz,"Use a soft delete instead of a hard delete. This will retain the information and keep the old data.

[Paranoia Gem](https://github.com/rubysherpas/paranoia) does this fairly well. You basically create a `deleted_at` datetime on the model you want to do the soft deletes on. 

[Screencast on Paranoia](https://www.driftingruby.com/episodes/deleting-and-undeleting-with-paranoia)",1523856021.0
harbogast,"if you're getting that error, then request_from_forgery is already added to your application controller

For the deleted user thing, you should make the app render a 404 page, because that's exactly what's happening. One user is trying to perform actions on a user that is not found.",1523861178.0
in0pinatus,"In my ApplicationController I rescue_from ActiveRecord::RecordNotFound with a friendly 404 page. This covers 95% of these transient edge cases. Specific common cases get caught in the controller action.

The point is, this is an exception case, and both Ruby and Rails have exception infrastructure. Let the language & framework serve you.",1523866543.0
MCbrodie, You should never truly delete an account.  Create a record in your database for a Boolean that marks the account as deleted.  If the account is marked deleted make action involving the account impossible.  You only want to do a soft delete on important information.  ,1523855236.0
ccb621,"If you absolutely want React, why not use Gatsby instead of Jekyll?

Also, this has nothing to do with Rails. ",1523836021.0
editor_of_the_beast,Not Rails.,1523836268.0
midasgoldentouch,"I mean, I guess you could use React with Jekyll, but why?

Also, r/jekyll",1523838307.0
nameless_cl,"i forgotten use HMT in my model. this was solved.

in nameserver model add:
`has_many :nameservers, through: :ns_and_domains`

in domain model add:
`has_many :domains, through: :ns_and_domains`


",1523833927.0
amadman114,"I think there's a lot of misunderstanding here

Your model setup looks... odd to say the least (you seem to have 2 models in another model?) which probably relates to the reason for using Arel. If it's a join model as you say, then that should be reflected in the db, ideally using the join table standard naming, or by a concept that 'means' something to you. It's super hard to work out what's going on otherwise 

Ultimately, your problem isn't with serialisation, but rather an incorrect query; it's returning a collection rather than a record",1523829057.0
,"[Fragment caching](http://guides.rubyonrails.org/caching_with_rails.html#fragment-caching) is probably what you are looking for.

That page in general will give you a good overview.",1523810919.0
intentions_are_high,"What are you trying to cache? Is it fairly static content or customized for the logged in user?

If you need full page caching of public pages, check out Fastly, they are a CDN with a nice rails gem that will let you purge cache via your app. It will essentially cache your page as static HTML on their edge servers. It‚Äôs really easy to setup and get going. If you need to cache private/authenticated content, you‚Äôll need to do some more work, though, but‚Äôspagebwiews it‚Äôs possible as well. 

We serve 5 million  pageviews on a listing site that runs on 2 t2.medium servers. Fastly caches 80% of our traffic. ",1523830953.0
80mph,We built our own function that puts the page into memcache and let nginx serve it directly without touching our app servers. Works perfectly. Here is someone else's post on how to do this: [page cache using nginx and memcache](https://www.igvita.com/2008/02/11/nginx-and-memcached-a-400-boost/),1523811129.0
Nrdrsr,"When I have this use-case I generally opt for straight up model with ```has_secure_password``` instead. 

I haven't found a compelling argument to use devise in these scenarios, since the work involved in configuring devise is likely more than it would take to re-create what you need from it. YMMV",1523822071.0
,[deleted],1523805395.0
Rafert,Do you see the same results if you extract `Category.all` into a variable that is used by most benchmarks?,1523799036.0
editor_of_the_beast,"How many Category records are in your database  during this benchmark? Maybe you only see the performance benefit on larger collections. I‚Äôm not sure, you‚Äôd have to benchmark some more granular things to find the difference.",1523793520.0
MoooPower,"What are the rest of the codes?  What does running this in reality yield in log without Benchmark?

I have measured this performance in log and running multiple partials always yield significant overheads compared to iterating over a collection, so your result seems very off based on my many measurements.  My guess is something is tripping in this process and giving false results.",1523810802.0
GroceryBagHead,"https://github.com/comfy/comfortable-mexican-sofa

It's the best. Also I wrote it. Feel free to ask questions.",1523717532.0
LivingAnywhere,"Oh man, rails cms'es are a sad story. Don't forget to check out pushtype. I wish we had something like craftcms in rails land.",1523729086.0
,"I am using administrate by thoughtbot. It's solid, but very immature. It's a good thing it's easily extendable, but if I had to make the choice again I wouldn't pick it.",1523741095.0
nicolrx,"In the end, I'm thinking of using a basic markdown parser, I think it will be way easier... ",1523745697.0
toadkicker,"Roll your own. Seriously! CMS‚Äôs are usually opinionated and not in a way most developers would like.

I‚Äôm looking at a combo of https://github.com/vuejs/vuepress and rails myself. Could be a great solution.",1523752249.0
BrainDeadUnit,"Consider using WordPress -- when it comes to CMS's, WordPress hasn't been beat.

I know, it's PHP and you have to leave Rails... but depending on what you need, WordPress might be the best choice.

https://hackernoon.com/wordpress-inside-a-ruby-on-rails-app-c324fbf39ad8

Then I'd imagine you'd use Wordpress's REST API to get content from Wordpress into your Rails app: https://developer.wordpress.org/rest-api/",1523805560.0
PickMeMrKotter,I like https://buttercms.com/ - it worked well for me on www.getmeparked.com/blog,1523997635.0
hmaddocks,"Radiant CMS http://radiantcms.org
",1523740348.0
Aluavin,"Check out Scrivito. They promote their react Version pretty heavy but the rails one works similiar and has a pretty neat wysiwyg editing.

https://www.scrivito.com/rails/documentation",1523748076.0
in0pinatus,https://xkcd.com/1883/,1523680250.0
WanderingStag,"Firstly: ALWAYS save the date to the DB in UTC, this will make things much simpler.

Rails is actually not terrible with Timezones. Check out the tzinfo and tzinfo-data gems. 

I'd recommend having the user pass their timezone to the server so that rails can do the conversion, otherwise you'll have to rely on some JS to do it and thats not nearly as nice (read: run, screaming). Once you have the time and the timezone, you can convert to and fro using the tz-info methods.

Essentially how I've handled it in the past is.

1. User submits local time and timezone.
2. Convert time to UTC and save in DB
3. When user wants to view the time, ensure you know their timezone (ie save it to the user model). 
4. Get the time from DB, convert it back from UTC and send it to them.

Hope that helps


    ",1523707873.0
midasgoldentouch,There is no friendly way. Time zones are evil.,1523676738.0
seainhd,"You might be overthinking this.

If a concert is in seattle at 9PM and I'm in New York, why would it help me to see it shown at ""midnight"" instead of 9PM PST?

If anyone goes to that event, they'll be using he event's timeline...",1523681170.0
scragz,"Last time I did this, I had them enter the date/time in their local time using premade widgets and then combined it together on submit using `Time.zone.parse` to get a full datetime in UTC for the DB. Kinda hacky but it worked. Uses jstz to set a cookie for their local time to tell rails what it is since JS is the only way to get that automatically.

controller:

    class ApplicationController < ActionController::Base
      protect_from_forgery with: :exception
      around_action :user_time_zone, if: :user_time_zone?
    
      def user_time_zone(&block)
        Time.use_zone(request.cookies['time_zone'], &block)
      end
    
      def user_time_zone?
        request.cookies['time_zone'].present?
      end
    end

model:

    class Submission < ApplicationRecord
      attr_accessor :post_at_date, :post_at_time
    
      validates_presence_of :post_at_date, :post_at_time
      validate :post_at_date, :validate_post_at_date
      validate :post_at_time, :validate_post_at_time
    
      after_initialize :populate_post_at_fragments
      before_save :combine_post_at_fragments
    
      def post_at=(date)
        super(date)
        populate_post_at_fragments
      end
      def post_at_date_or_default
        if self.post_at_date.present? || self.errors.messages[:post_at_date].present?
          self.post_at_date
        else
          DateTime.current.strftime('%Y-%m-%d')
        end
      end

      def post_at_time_or_default
        if self.post_at_time.present? || self.errors.messages[:post_at_time].present?
          self.post_at_time
        else
          DateTime.current.strftime('%H:%M')
        end
      end
    
    private
      def populate_post_at_fragments
        if self.post_at.present?
          @post_at_date = post_at.strftime('%Y-%m-%d')
          @post_at_time = post_at.strftime('%H:%M')
        end
      end
    
      def combine_post_at_fragments
        self.post_at = Time.zone.parse(""#{@post_at_date} #{@post_at_time}"")
      end
    
      def validate_post_at_date
        if self.post_at_date.present? && !valid_post_at_date?
          errors.add(:post_at_date, ""is invalid"")
        end
      end
    
      def validate_post_at_time
        if self.post_at_time.present? && !valid_post_at_time?
          errors.add(:post_at_time, ""is invalid"")
        end
      end
    
      def valid_post_at_date?
        valid_date?(self.post_at_date)
      end
    
      def valid_post_at_time?
        valid_time?(self.post_at_time)
      end
    
      def valid_date?(date)
        /\d{4}-\d{2}-\d{2}/.match(date).present?
      end
    
      def valid_time?(time)
        /\d{1,2}:\d{2}(:\d{2})?/.match(time).present?
      end
    end

js (uses jstz library):

    tz = jstz.determine().name()
    document.cookie = 'time_zone='+tz

",1523694177.0
Nrdrsr,"Save in UTC.

In all display related fields use the 

    your_datetime.in_time_zone(User's timezone) 

method ",1523717962.0
wbsgrepit,"On time:    Store and reason about time in UTC -- display in local.

",1523852625.0
jstad,"I would go with a single model if the login credentials are the same for all 3 views. 

Consider having a User model that handles authentication and then different associated models for the different data (ie has one :admin_profile)

For example: If I log into the admin view, I use the same credentials I use for the customer view. This would mean a single model for all authentication situations would reduce duplication.

Keep in mind with warden (and devise), you can use a single user and authenticate to multiple ‚Äúscopes‚Äù which act as independent sessions. See [warden scopes](https://github.com/wardencommunity/warden/wiki/Scopes).

When used, you can make controller helpers like ‚Äòcurrent\_admin‚Äô, ‚Äòcurrent\_user‚Äô and control permissions and access that way.

This is an option versus using cancan or pundit for permissions. ",1523582493.0
Godinezb,I have found Cancancan useful in a couple of my projects or just add a ‚Äúrole‚Äù enum and validate it in your controllers or views,1523570197.0
editor_of_the_beast,STI almost never works out in practice,1523616937.0
flaiks,"What I did in this situation, is make separate 'User role
' models, and you can attach them to the base User model using a polymorphic association.",1523602539.0
smoothlightning,"Hard to say without knowing your reasons behind this architecture. That said, I tend to agree with /u/editor_of_the_beast and the other people that have recommended using roles.",1523640594.0
fentanyloverdose,"Thanks everybody for the input! After reviewing the comments, I think a role based situation is best for my use case. Again thanks for dropping knowledge!",1523642016.0
owens_trevor,"     user = current_user
     user.admin = true
     user.save",1523803938.0
Ronald-Ray-Gun,"In my experience, every app I've worked on that began without Devise ""because all it needs is X and Y"", ended up needing all the features Devise provides in the long run.

So even if right now it seems overkill, you may thank yourself later when you want email verification, or password reset links, or Oauth integration, etc.",1523559062.0
editor_of_the_beast,"I can't think of a scenario where I wouldn't use Devise. Especially when it comes to authentication, you want to rely on the community having solved the problem. Never overestimate your ability - a community is orders of magnitude better at solving common problems vs. a lone developer.",1523557354.0
GroceryBagHead,"If you feel that Devise is too much (I think so) than give https://github.com/Sorcery/sorcery a try. It's way more approachable. There's more stuff that you need to do, but everything is outlined in the wiki: https://github.com/Sorcery/sorcery/wiki Most of it is a matter of copy-pasting.",1523558141.0
jstad,"Devise is excellent if your new to authentication. If you want something more lightweight, I‚Äôd suggest using something like [rails_warden](https://github.com/wardencommunity/rails_warden/pull/25). The benefit is you get the same secure core (devise uses warden) but without all the extra features.

Worst case you grow into devise from warden and all your warden code will work out-of-the-box. 

NOTE - I linked you to a pre-release of rails_warden that I should have released in a week or two. ",1523563294.0
Oecist,"The more I use Devise, the less I like it. I either have a tiny app for which it's overkill, or I have an enterprise app that needs code specific to the business.

My two cents: There's a reason authentication isn't built into Rails, and that's because there is no single best solution. Every product will have its own business needs, and since you're going to have to write your own code (whether you do it from scratch, or customize Devise and deal with gem maintenance and monitoring), why add a big dependency?",1523563108.0
dmelin,"Yes, 100%",1523569659.0
in0pinatus,"As a rails novice Devise was very useful to throw apps together quickly, but I'm more sophisticated now and find it a pain in the ass when you want to deviate from stock behaviours. My current preference is Warden or Sorcery or roll my own.

I also worry that plataformatec are far more active with Elixir than Rails now.",1523575025.0
limeblast,"It's a bit too prescriptive - it works fine as long as you're happy for your auth to work exactly how devise wants it to work, but as soon as you need something slightly different, life becomes difficult.

For what it's worth, I think clearance is the better option. A tiny bit more work to set it up, but far more flexible and able to cope with your needs.",1523552447.0
noodlez,"Is devise worth using? Yes.

Is devise worth using in your particular use case?  Eh, probably not.  Leverage gems when they make sense, but if they're overkill or difficult to work with due to you having very specific needs in mind, you'll probably want to DIY",1523556875.0
Arrio135,"Look into the clearance lib.

It‚Äôs a lot of devise functionality but cleaner and easier to hack.

Really anything that thoughtbot releases is great.",1523575813.0
hmaddocks,Every time I have used Devise I have regretted it in the long term. It gives you a huge leg up at the start but it‚Äôs too much of a black box and authentication is pretty easy in Rails these days. ,1523561889.0
witchofiza,You can really slim it down where it doesn't feel like it gets in your way but still provides a reliable solution.,1523560336.0
owens_trevor,"LOVE Devise. Personally, I'd never consider not using it. Never had any problems and I have much more important things to do.",1523564683.0
oztrax,"Devise is great and really useful for most apps. I think most people tend to forget (or avoid) that you can subclass Devise controllers and fine-tune it to more specific needs. 

It may seem daunting if you haven't done that with a gem before, but once you take a look at the Devise source code and Wiki instructions it's really straightforward and works well.",1523565002.0
smitjel,"For the folks that say you can't build authentication on your own, I'd love your feedback on this sample app using only Rails' built-in functionality. Thanks for any feedback!

https://github.com/leesmith/decent_authentication",1523586000.0
Flopsey,Do you know how to use Devise? If you're just learning the other reason to use Devise is to learn how to use Devise. This way when you're doing more complicated projects you'll already know how to use it.,1523610013.0
obviousoctopus,Take a look at sorcery. Much lighter and easy to customize. ,1523760580.0
poptartsareravioli,Yes no exceptions.,1523881006.0
jasdeep13,"Please don‚Äôt use Devise, it‚Äôs too heavy for most apps. Use sorcery instead, it has just the right amount of features. And i highly highly recommend it.",1523577506.0
mindovermiles262,"Short answer: Yes

Long answer: Absolutely Yes",1523572366.0
rubyredstone,TL;DR.. Yes. Definitely yes.,1523573505.0
odisant,"As a contrary opinion to some others in this thread, while every project I work on eventually needs all the features of devise, they also inevitably need it to work _slightly_ different from the default implementation. Devise doesn‚Äôt have a _great_ story for feature overrides, and I find I‚Äôm much happier in the long run with something like Sorcery, which provides the means for all the features but leaves the business logic to you. ",1523583438.0
_Odaeus_,"I always regret it when Devise is used on a project, it's incredibly prescriptive and inflexible. On every long term project I've worked on it's been a huge pain point as requirements change or become more complicated. Another vote for Clearance, which is much more lightweight.",1523603668.0
eddkerr,"Devise is probably what you want. Both of my last two jobs have been at agencies. I have rolled out my own auth (big mistake...) and I have used devise. Its definitely a learning curve but there‚Äôs a lot of support out there for it. 


If you use devise though, attach almost nothing more to the user model it generates. It can get pretty opinionated. Instead just build an associated has_one table to store stuff like profile info etc...If you are going to have multiple user types don‚Äôt use STI even if it means having a couple very similar tables. Devise will bite you in the butt on that. ",1523619560.0
joltting,"Yes and no... 95% of the things Devise offers will suffice your needs and even then some. But when you need to deal with more custom integrations or dealing with multiple login methods. Things can get a tab bit crazy and can start to feel like you need to monkey patch large components.

It's always my go to when using Rails since its pretty much a plug in play library.",1523809740.0
amicloud,"I think the real question is ""Is Devise ever not worth using""?",1523564946.0
dvogel,"The `as_json` method recursively converts objects to primitives that can be converted to JSON. To test the actual serialization to JSON text you need to call `to_json`. You can pass it various parameters to make it faster (e.g. skip human-friendly formatting) but none of those options will solve the fundamental problem of returning too much data. Serializing 5MB of JSON text is always going to be slow. Pagination is your best bet. If you can't paginate for some reason, returning fewer attributes for each of those 600 objects could help.",1523537839.0
JamesAllMountain,"Can you pagination the data? 600 records is a lot to return period. 

Also look into gems that specialize with json data if you don‚Äôt need to return all fields. Jbuilder is slow but has a clear DSL. There‚Äôs also activeserializer. You could also open up a graphql endpoint and let the user specify the the fields they need. You‚Äôll still want to use pagination however. ",1523536908.0
henrebotha,"If you're able to replicate the production environment & data on your local machine, then interactive debugging might help you. Install the Pry gem, then put `binding.pry` somewhere in the offending controller action. When that action is hit, your code will pause execution and give you a REPL in that scope.",1523540852.0
modnar42,"Two thoughts for you

1) Have you tried using an alternative for creating the json? It‚Äôs been a while since I had a problem like this one, but googling ‚Äúrails json performance‚Äù brought up some benchmark articles like [this one ](https://github.com/stereobooster/ruby-json-benchmark). I seem to recall having good luck with oj on similar problems in the past. 

2) Does the project have an application monitoring tool you can use to inspect production performance of arbitrary parts of the code? If not, there are some you could get started with for free/cheap that might make your analysis easier. ",1523540889.0
markrebec,"OK, so you've ruled out DB queries, and you've verified that converting the object to JSON (using the built-in `as_json` method) in a console is ""fast"" (at least fast enough).

That leaves a few options. Maybe there's a slow serializer library overriding the `render json: ...` in your controllers. Or maybe there's a JSON view for this route that iterates over the object(s) and tries to load association data (resulting in more queries that aren't generated when just calling `as_json`).

Is there a `app/views/campaigns/index.json` template? If so, look through that to see what additional data it might be querying and try preloading that with `includes` on your associations.

Does this project use any serializer libraries? I'm betting the app might be using something like [active_model_serializers](https://github.com/rails-api/active_model_serializers), which could be the source of the problem. Similar to the view mentioned above, look around for something like `/app/serializers/campaign.rb`, and see if it's defining/serializing any additional attributes that might be triggering associations to be loaded or additional queries to be executed. Again, preloading some of your associations might help speed things up a bit.

As someone else mentioned in the main thread, it's also possible that at least a chunk of the time isn't being spent in ruby at all, but in transport. If the JSON data is *huge* it might be taking a few seconds for the client to load the response over the wire. Although, if you are generating *that much* data for the request, there's a pretty good chance the bulk of the slowness is still coming from the backend querying/serializing.",1523557783.0
kohvihoor,"Is it slow returning the JSON or rendering the HTML?

If you try this endpoint with curl or Postman or the like, does it return fast or slow?

Also, does the user need all this data right away or maybe it could be chunked and requested when needed?",1523533437.0
xly,And there‚Äôs no json view that is creating additional heavy queries? You can see all loading times in the rails dev tools extension in chrome. Have you tried that?,1523541292.0
editor_of_the_beast,"There‚Äôs no hard rule for when to add pagination - but it sounds like that would really benefit you here. At a certain point, sending all of the user‚Äôs data in a response doesn‚Äôt scale, and it sounds like you‚Äôve actually hit that point.

The other thing to think about is, do you actually need all of the keys that you are sending back on the client? Even for 600 items that sounds like a ton of JSON - is there an opportunity to return only a subset of attributes for each returned object that the UI actually needs to render? I can specifically think of an endpoint in my application right now that returns anywhere from 500-900 items in a response, but there is no nested data and only about 5 keys per item are serialized. I don‚Äôt have performance problems there.",1523542448.0
classhero,"It sounds like you have a hypothesis as to what's slow, but you don't actually know for a fact. You should [profile](https://github.com/ruby-prof/ruby-prof) first, before trying to optimize `render`.",1523547610.0
hmaddocks,Can you cache the Jason?,1523562416.0
hsndiz,When I had this problem I just used CSV. I think it was a library called FasterCSV but it was like 10 years ago so...,1523584987.0
Locke,"I'm not sure about your entire issue, *but* at least with respect to your last question, in development and test environments, rails generates a secret key base from your application name. So, if it's not set, you'll always have a consistent secret key base and cookie store will work.

I tried to find a reference for this and came up empty-handed, I think this is the relevant code though: https://github.com/rails/rails/blob/f339b098b20c7f6675d375cfa29828a911fe1b53/railties/lib/rails/application.rb#L428-L430",1523501906.0
ryanlue,"> So I removed the `RAILS_MASTER_KEY` env variable

Did you do this on production or development? This should only break things in production; in development, Rails grabs your master key from `config/master.key`. (It'll do so in production too, IIRC, but since that file should never be committed to version control, it's typically not there.)

> I can just log in with a fresh browser window and it remembers my session.

Try doing it in an incognito/private browsing window. Most people have their browsers configured to remember all open tabs from the previous session on launch, which effectively prevents sessions from expiring when the browser is closed.",1523502180.0
ziptofaf,"Application I develop at work uses... quite a lot of gems (I think it was around 100 nowadays). But you shouldn't throw them in randomly just because they exist - see if they are actively developed first. See if documentation is solid. The rule here is ""trust but verify"". 

> meaning I prefer more modularity and less black-box functionality that could be digging its claws anywhere into my app, for all I know

Question to ask is really - what kind of application are you building and how specific are your needs? I personally don't think twice on throwing bootstrap and text editor via gems to my codebase if I am building a CRM system. I will be spending PLENTY of time on actual logic, not going to battle (and then remember to update them) with integrating such things manually.

If you look at high profile Rails applications like Discourse:

https://github.com/discourse/discourse/blob/master/Gemfile

Their gemfile is quite big. That is an application with front-end being de facto separate written in Ember.js meaning they don't need to use much helpers in this regard baked into Rails. 

Now, if you looked at GITLAB's source code (which is one of the bigger Rails applications out there):

https://github.com/gitlabhq/gitlabhq/blob/master/Gemfile

Wohoo. 445 lines of gems. 

So ultimately most projects do use libraries when it's applicable. Don't go into NodeJS territory however, you don't need a library for 4 lines fo code ([I wish I was joking](http://www.haneycodes.net/npm-left-pad-have-we-forgotten-how-to-program/)) but when it's something that will take you a while to develop and then requires additional maintenance - sure, check out existing gems first. 

At the end of the day it's up to you to decide. I would choose a well maintained and documented gem that solves a problem I am encountering completely over my code any day personally. But the opposite holds true too - I won't use a gem if it requires shitloads of customizations to fit and seems to be rather unpopular in the first place since this means I will sooner or later need to fork it and keep it updated on our company's repo and that kills the point. ",1523478532.0
Blimey85,"It really comes down to what you‚Äôre trying to accomplish and the gems in question. Sometimes I want to do something and I‚Äôll try a few gems to see how they do it and then code my own solution because maybe I only need part of the functionality and I can get rid of overhead. Or maybe I just don‚Äôt like the solutions.

One such example was threaded comments. While there‚Äôs gems to get this done, some really hammer your database. I ended up with one query and some JS to sort everything. Didn‚Äôt need a gem at all.

But then there‚Äôs things where it makes zero sense to reinvent the wheel. Authentication is a great example.

So yea, I think it‚Äôs great we have such a variety of gems and I don‚Äôt think using a bunch is inherently bad, but just be choosy with what you use. ",1523500875.0
SminkyBazzA,"Rails 5.1+ supports Webpack, so a lot of those gems-to-add-JS may not be necessary any more, and now helps to remove an extra layer between the JS developers and your project.

Just don't look at the contents of node_modules... ",1523520508.0
CarefulAsk0,"The [first principle of Rails](http://rubyonrails.org/doctrine/) is ""optimize for developer happiness"", and developer is the happiest when he/she can complete any given task with the least amount of effort (without the employers knowing, of course) . At the end of the day, we developers are paid for the use of what we produce, not what we actually did. ",1523793711.0
tjdracz,"To go further with Rails, it's a good idea to go further with Ruby. Some of my favorites:

[Rails AntiPatterns](https://www.amazon.co.uk/Rails-AntiPatterns-Refactoring-Addison-Wesley-Professional/dp/0321604814)

[Metaprogramming Ruby](https://pragprog.com/book/ppmetr2/metaprogramming-ruby-2)

[Practical Object-Oriented Design in Ruby](http://www.poodr.com/)

[Everyday Rails Testing with RSpec](https://leanpub.com/everydayrailsrspec)",1523476964.0
kobaltzz,"I run [Drifting Ruby](https://www.driftingruby.com/) which has a bunch of intermediate to advanced stuff. It isn't really geared towards beginners, but has a lot of specific use cases for things.",1523471362.0
dfmtl,"Destroy All Software. Drifting Ruby's youtube videos are good, haven't checked out the paid site though as I'm too cheap! Also the classic Rails cast's still hold up well. Crafting Rails 4 applications (idk if theres a new version) is good to see some of the more advanced Rails' apis. Ben Orenstien (sp?) has a recent Rails course thats pretty good too. DHH's youtube channel has some good videos on it.",1523471930.0
Randy_Watson,GoRails,1523476911.0
dogewatch,Rails 5 Way,1523497926.0
ylluminate,"Michael Hartl and his https://www.learnenough.com/ is still about the best right now. It's a lot better than anything else I've seen for many years now. He has said he's got more content coming, but the Rails stuff is really cohesive, but I'm not sure if that's what you're looking for exactly.",1523471369.0
BaconGlock,"i did the michael hartl book and then jumped right into making the project i have in mind. when i get stuck i bust out my google fu or ask on stackoverflow or look up a relevant GoRails. this has helped deepen my understanding more than just reading any other books or courses where doing for me. also, looking through some pro-level open source projects (discourse, whitehall, gitlab) i have found to be helpful",1523625774.0
RobertHopman,https://tech-craftsmanship.zeef.com/roberthopman,1523631963.0
owens_trevor,There's no magic. Best way to learn is by doing. Try building a side project or contributing to open source.,1523804781.0
Muchaccho,"To what everyone said, I add: 

- [Ruby Science](https://gumroad.com/l/ruby-science)  
- [Growing Rails Applications in Practice](https://leanpub.com/growing-rails)",1523895605.0
tjdracz,"Apartment is great for SAAS type of websites where you are running multiple versions of the same thing from one codebase.

Using just foreign key works out fine for smaller-scale data fencing but can get fairly convoluted when you scale up. Apartment is kind of set-up-and-forget type of thing. Scaling can get difficult and it all depends on MySQL/Postgres/whatever situation you're running.

I've worked on the apps built in both ways and I do prefer the gem route. The problems I've seen with the apps that tried to roll their own solutions:

* default_scope everywhere (big no, it's great until you don't need it, which is more often than not)
* global variables to figure out what the current tenant is (even bigger no)",1523477680.0
hcsteve,"There's pluses and minuses to a shared database for all tenants vs a separate database or schema per tenant. It really depends on your application and use case.

Shared database

* Single database to manage
* Schema changes are easier / faster
* Low overhead to create a new tenant

Database per tenant

* Can backup/restore per tenant at database level
* If you have multiple instances of the application (say in separate datacenters) it's easier to move a tenant from one DC to another
* Security ""story"" is easier to understand for clients

I'm in the process right now of moving a fairly large app from a shared database to a database per tenant for the reasons outlined above.  FWIW, it's looking relatively simple so far to move in that direction (from shared database to database-per-tenant) by just copying the full database to each tenant's copy and then running a DELETE WHERE tenant_id != this_tenant_id (or doing a tenant.destroy with cascading deletes if your model associations are set up right).  Moving in the other direction would be a lot harder, especially if your associations are based on auto-increments - your foreign keys would almost certainly conflict if you try to just do a straight database dump/import.",1523481130.0
kobaltzz,"I've tinkered with the apartment gem, I just never had the need for it. Seeing the open issues, it seems like there are a lot of (what I would consider common use cases) where the gem lacks the ability. I'm not convinced that it simplifies anything that cannot already be easily done manually.",1523457692.0
etagwerker,"I'm using it for a client project (SaaS in the education space) in production and it works quite well. It might be considered ""over-engineering"" depending on the context. 

As u/hcsteve said, there are pros and cons. The pros that I like the most: 

- There is a clear separation between SaaS clients. You need to try really hard to fuck up your code to end up with a record in the wrong tenant. 
- There is a simple Rack middleware you can use in your application. No need to reinvent the wheel there. 

The down side is that there is some weirdness when you have records in the public schema which are related to the tenant schemas. ",1523485983.0
ActiveModel_Dirty,"I use it regularly for clients that have a lot of clients of their own. It's great for these purposes because you don't have to worry about scope as much. Calling \`Post.all\`, for example, from within the context of a tenant is will yield the same result as \`Post.where\(tenant\_name: ""example""\)\` without the Apartment gem. 

If your codebase is large enough, that sort of thing can dramatically reduce the amount of things you need to think about each time you're creating new things. ",1523501983.0
tongboy,"Use acts_as_tenant instead, default scoping and validation are important",1523458345.0
owens_trevor,Same as u/kobaltzz. Looked into it but had no use. I'm actually not a fan of mutli-tenancy pattern in application at all. It doesn't offer any benefit over generic nested resources for 90% of apps IMO.,1523465050.0
systemnate,"The bad:  If you are deploying using Heroku (with Postgres), the backup utility cannot easily handle backups with many schemas (past 30ish or so IIRC).  It's another dependency to maintain (maybe you want to update to Rails 5.2, but support does not exist yet).  Maybe there is a use case not supported by the gem that is hard to work around.



The good:  I've found several good tutorials online that go into setting this up (even with tests).  Once it is setup, you don't really have to think about anything.  Once a user signs in, their ""tenant"" gets set and after that doing something like SomeModel.count will always be scoped to that tenant/subdomain without you having to really ever think about it.  It would be extremely hard to do something where data can ""leak"" over from one account to another.



With that said, if I were starting a new app, I'd be more inclined to either roll my own or go with a solution that scales a little better.  This is probably largely due to just growing as a developer and feeling more comfortable with Rails.  

",1523471846.0
deviio,"Healthcare entrepreneur/software engineer here.

I used to avoid multi-tenant database architecture when creating new software, thinking that the added complexity of handling individual schemas wasn't worth the trouble, but these days you're really not going to complete the sale of technology into a healthcare organization (at least in the US) without the ability to offer separate databases for each customer.

Additionally, I think the usage of an authorization gem like CanCan(Can) or Pundit becomes infinitely less complex with multi-tenant database architecture.

I agree with most of the comments here saying that this kind of database segmentation isn't necessary for 90% of applications, but from a healthcare vantage it's all but required these days.

Happy building!",1525104066.0
markrebec,If you setup your associations correctly you can access the associated user model with `ServiceRequest.find(123).user` (or `User.find(service_request.user_id)`). It's up to you to serialize whatever attributes you want with AMS.,1523464176.0
dogweather,"1. Public.Law, ""Law is code: open-source it""
2. An online law library: easy to read, search, and link to.
3. Web app: Rails 5 + Mysql (for now?) + Heroku. Parsing and web scraping is in any convenient language. Lately, Haskell.
4. The New York site: https://newyork.public.law
5. https://github.com/public-law
6. Pretty experienced - using Rails since 2008

I'm about 80% done with the *.public.law sites. The original is still on Rails 2 at https://www.oregonlaws.org.

EDIT: A good idea, listing the gems like u/owens_trevor -


    gem 'mysql2'
    gem 'rails', '5.1.6'

    gem 'dalli'
    gem 'dig_bang'
    gem 'jquery-rails'
    gem 'kaminari'
    gem 'law_string', github: 'public-law/law_string'
    gem 'memery'
    gem 'naturally'
    gem 'nokogiri'
    gem 'puma', require: false
    gem 'sass-rails', require: false
    gem 'schema_dot_org', '= 1.3.0'
    gem 'sentry-raven'
    gem 'sitemap_generator', require: false
    gem 'uglifier', require: false
    gem 'will_paginate'

    group :test do
      gem 'capybara'
      gem 'fuubar'
      gem 'rails-controller-testing'
      gem 'rspec'
      gem 'rspec-rails'
      gem 'simplecov', require: false
    end

    group :development do
      gem 'annotate'
      gem 'debase'
      gem 'guard-rspec', require: false
      gem 'rails-erd', require: false
      gem 'ruby-debug-ide'
      gem 'spring-commands-rspec'
      gem 'terminal-notifier'
      gem 'terminal-notifier-guard'
      gem 'therubyracer'

      # Live Reload
      gem 'rb-fsevent'
      gem 'guard-livereload'

      # Access an IRB console on exception pages or by using <%= console %> anywhere in the code.
      gem 'listen'
      gem 'web-console'

      # Spring speeds up development by keeping your application running in the background. Read more: https://github.com/rails/spring
      gem 'spring'
      gem 'spring-watcher-listen', '>= 2.0.0'
    end

    group :development, :test do
      gem 'byebug'
      gem 'dotenv-rails'
      gem 'pry-rails'
    end
",1523906548.0
Favidex,"1. Jobfairr
2. A careers page aggregator for tech companies. It lets you save company careers pages to a dashboard to make it easy to check and keep tabs on jobs at companies you want to work for. Also has office locations on google maps, tags, and job boards. I've curated a collection of about 750 Canadian tech companies (e.g. in Toronto, Vancouver, Montreal, Waterloo, and Ottawa), but anyone can add their own companies no matter where they live.
3. Ruby on Rails, Postgres, no front end framework
4. [Jobfairr](https://www.jobfairr.com/)
6. I've been learning to code for the last ~4 years
7. Just wanted to share!",1523492780.0
jonopens,"1. Purposeful SEO

2. Simple SEO inisght generator for small sites/businesses (in progress as a hobby project) with a goal of making SEO more actionable and straight forward.

3. Rails BE w. Knock for Auth; React FE w. Semantic components for styling

4. Not live yet!

5. FE: https://github.com/jonopens/purposeful-seo

BE: https://github.com/jonopens/purposeful-seo-be

6. Graduated Flatiron School end of 2017. Long time Bash and Python tinkerer.

7. Service objects - been thinking to refactor and remove Crawl model altogether and some of the cases in insight_generator. No practical use on FE so does it make sense to move to a service? 

Also, anything you dislike otherwise in terms of best practices?

Thanks all!

Edit: formatting",1523498784.0
zwschlei,"- My Tiny Wins
- A social network to share your accomplishments!
- Ruby on Rails
- https://www.mytinywins.com
- Private repo
- Any advice / recommendations would be great! ",1525955258.0
owens_trevor,"1. Lean Venture Partners
2. Pre-Accelerator designed for technical founders to get new ideas off the ground. Focused on creating self-sustaining businesses that don't need outside funding OR if they want to raise funding will be in a great position to do so. It's a pretty simple app where people can create a profile and invite their team to work on the application.

3. Rails, Postgres, Heroku, Bootstrap 4, Jquery
4. www.LeanVP.com
5. http://github.com/owenstrevor/
6. Does this program appeal to you? Why or why not. :)

These are the gems used:
>         gem 'bootstrap', '~> 4.0.0'
>         gem ""bootstrap_form"", git: ""https://github.com/bootstrap-ruby/bootstrap_form.git"", branch: ""master""
>         gem 'devise'
>         gem 'devise-i18n'
>         gem 'haml-rails'
>         gem ""erb2haml"", :group => :development
>         gem 'impressionist'
>         gem 'inline_svg'
>         gem 'jquery-rails'
>         gem 'pg'
>         gem 'premailer-rails' # CSS styled emails without hassle
>         gem 'rails_12factor', group: [:production, :staging] # for heroku bugs
>         gem 'redis'
>         gem 'rinku' #finds links in strings
>         gem 'sentry-raven', group: :production   # error handling
>         gem 'sidekiq'
>         gem 'nilify_blanks'",1523562006.0
solilere,"1. Sezia
2. An app that checks for ingredients that promote the growth of malassezia. 
3. Rails, Heroku, PostgreSQL
4. [Github](https://github.com/RosalynnAshwood/sezia)
5. [sezia.co](https://www.sezia.co/)
6. Self taught junior developer, still learning.

Malassezia is a yeast that causes a variety skin diseases, and it feed's on a ton of different ingredients used in skincare and makeup products. It's a struggle to avoid because the only way to know if a product is safe to use is to reference a list of about 100 ingredients every time you want to buy something. So I built an app for people to use to easily check their products. This is my first development project that wasn't based on a tutorial and I'd love it if you took a second to check it out.

",1524202355.0
kaspernj,"* PeakFlow
* CI testing through Github integration like known from CircleCI or Travis. Use our servers or your own Docker daemon. Also error reporting like known from HoneyBadger or Rollbar.
* Rails, Postgres, Heroku, ActionCable, Docker, Bootstrap, WebPacker, Stimulus
* [www.peakflow.io](https://www.peakflow.io)
* Its a private repo
* Freelance developer for 15 years
* I am looking for feedback and constructive criticism to finish the product before launch. Its currently free for both private and public projects, but you can subscribe to get more simultaneous builds as well.",1524742554.0
WalterPecky,"1: MenuBerry

2: A resource for people to contribute and discover vegan options at restaurants around the world.

3: Rails, Semantic UI, JQuery, Google Places

4: [MenuBerry.org](https://www.menuberry.org)

5: [Github](https://github.com/chrislabarge/vegan-choices)

6: Junior

7: How do I approach the different thinking cap of marketing and growth?  I built this as a hobby project and wouldn't mind continuing development, but have no interest in the business side of things.",1525064345.0
yashm4,"1. DoesMyStartupIdeaSuck
2. Find out if your startup idea sucks: Post it \> Get upvotes/downvotes \> Discuss \> Build a team
3. Ruby 2.4, Rails 5.2, Postgresql, Heroku, facebook oauth
4. [https://doesmystartupideasuck.herokuapp.com](https://doesmystartupideasuck.herokuapp.com), [http://doesmystartupideasuck.com](http://doesmystartupideasuck.com) \(did not buy SSL yet\)
5. [https://github.com/yshmarov/doesmystartupideasuck.com](https://github.com/yshmarov/doesmystartupideasuck.com)
6. No idea. Self learner. as of early 2015.
7. **Advice: security, ux design, code style**",1527711198.0
owens_trevor,Is this only for open source projects or also for commercial ones built on Rails?,1523463337.0
ezekielriva,"> Name of your project: Aion Agile Tracker

> A short description: started a reengineering project of PivotalTracker for my University, and now it's alive.

> Application stack: Ruby on Rails, ActionCable, PG, Heroku (ReactJS soon)

> Link to Live app: http://aion-agile-manager.herokuapp.com/

> Link to GitHub: https://github.com/wavelabs/aion-agile-tracker

> You experience level: SrSE

This is part of a new project",1524790015.0
MrCheesy,"1. Whats Out When
2. A quick and easy app for keeping track of new video game releases. I built this because I needed to try to build a project with a modern Rails stack including webpacker to see what it was like(pretty darn good!)
3. Ruby 2.5. Rails 5.2. Webpacker. Bulma
4. [https://www.whatsoutwhen.com/](https://www.whatsoutwhen.com/)
5. Private for now. Might open source later!
6. Senior I guess? Been working with Rails since 2011
7. You should give webpacker a try. Having hot module replacement is fantastic. Also this was the first project where I used Stimulus. I like it so far. It doesn't do a whole lot but it does remove a lot of spaghetti hacks. This was also the first project where I managed to combine Turbolinks and Instantclick. You can read about what I did here: [https://www.mskog.com/posts/instant-page-loads-with-turbolinks-and-prefetch/](https://www.mskog.com/posts/instant-page-loads-with-turbolinks-and-prefetch/). It increased the perceived speed  of the app by a whole lot actually so you should try it some day if it fits your app.",1532955727.0
JohnBooty,"I made this for personal use, to scratch a longstanding itch. I think others would like it too...

1. Rubydash - your Ruby dashboard!
2. Rubydash is a configurable CLI app you can use to fetch, consolidate, and display your update feeds from a wide variety of sources - Facebook, Reddit, Gmail, RSS, etc.
3. It's a CLI app, so it's pure Ruby really. Data is cached in Sqlite
4. n/a - it's CLI
5. https://github.com/booty/rubydash
6. Experienced developer, last 4 years have been w/ Ruby
7. Feedback and contributors welcome. It would be quite easy to jump in and contribute a plugin for your source of choice in ~20 lines of code -- Facebook or a weather plugin might be an obvious next step.

https://raw.githubusercontent.com/booty/rubydash/master/screenshots/rubydash-with-formatting.png

Major TODO list:

1. Refactor app structure, make into gem
2. Improve the first-run experience. Ideally it should walk you through setting up your config.yml (?)
3. More plugins obviously
4. Tests =)",1533232852.0
etherrob,"1. Koi 
2. Self Learning Tracker
3. Rails 5.2, Postgres, Bulma CSS, S3
4. A Demo Video Instead? [Demo](https://imgur.com/4VXMLJt)
5. [Github](https://github.com/robertsimoes/OpenRails/tree/master/Koi)
6. Just started seriously getting into rails recently
7. a) active\_record and encrypted credentials are super cool! b) Going through the process of setting up a Unicorn/Passenger Nginx Server on Digital Ocean from Scratch for the first time taught me a lot. 

&#x200B;",1535168528.0
tedowler,"you could create helper methods in category and post that obfuscate the nesting. i.e. category.post would be a method that returns that instance‚Äôs event.post. it might not be what he‚Äôs looking for, but it might help make the front end code cleaner : p",1523447218.0
dfmtl,"tell the front end guy to git gud? But seriously, you could look into using a presenter and a form object to abstract the backend details but this really doesn't seem like its a complicated enough relationship to warrant that. I would probably just sit down and explain the relationships between the models to the front end guy and just pair program with him until he grocks it.",1523471623.0
hsndiz,"""re-opened"". It sounds like an event doesn't belong to a category, but to a specific opening of that category. Are you opening and closing cateogries with a requirement to keep a record of them opening and closing? If so, then model CateroryOpening. I'm not sure that's what you're doing though.

Ultimately, if events have different dates then they're different events. Perhaps ""best car of the day"" is an Event that has_many :occurrences.",1523961591.0
modnar42,That git link doesn‚Äôt work for me. Can you share it again?,1523454802.0
brandonm222,"https://github.com/ozfortress/tournament-system

Sorry I don't know how it got cut off",1523460768.0
gberger,"Nice try, Cambridge Analytica",1523421607.0
Insomn,"I'll give you an answer, which is obvious if you've done this work before but not if you're new to the game:

You cannot access the Instagram API without an OAuth token, and this is even more so with GDPR and the CA scandal.

I remembered you posted something about the IG API a while back, and yeah they've deprecated their ""classic"" API in favour of the Graph API.
You must now [get permission](https://developers.facebook.com/docs/instagram-api/getting-started/) via the Facebook Developer console, and then have your users formally accept your integration with a ""Login with Instagram"" button, through the OAuth 2.0 flow.

I'm in the process of doing this for my business, I'm not 100% sure how it'll actually integrate but we're using the [Koala](https://github.com/arsduo/koala) gem so I'm hopeful I can ape that.",1523450766.0
davidnquach,I'm going! Woo!,1523416981.0
leequarella,"I'll be there, count me in for drinks.",1523426855.0
seriouslyawesome,I'll be there with my whole team!,1523460255.0
andyw8,Two of us from [Financeit](https://www.financeit.io) in Toronto will be there.,1523475352.0
mhartl,Come to the 7th Semi-Annual Rails Tutorial Beerware Night! https://www.eventbrite.com/e/7th-semi-annual-rails-tutorial-beerware-night-tickets-45036732078,1523496785.0
TravlRaider,Second year! Excited for next week!,1523558651.0
JamesAllMountain,Store the current page in session/cookie. Each new page submit the form and persist to the database. On opening of the page to resume the session redirect to the correct page while giving them an option to start over. ,1523396761.0
ErCollao,"Could you check when the first unanswered question is, and then show that page?",1523396639.0
tedowler,"you need a user_answer model (or something similar) that links a user to a question. when a user chooses an answer, they get a user_answer record that has the user‚Äôs id and the question_id for the question they answered. You can either store their answer in this record or create another level of abstraction by creating question_answers and user_question_answers. let me know if that‚Äôs not clear or if it helps. good luck!",1523411561.0
geniusstorm,You can use redis to save update and retrieve partial content before its actually committed to the database.,1523413504.0
tquill,"The [rails guides on testing](http://guides.rubyonrails.org/v5.2.0/testing.html) are a good start.

As for rspec vs minitest, my suggestion would be to stick with the default (minitest) unless you know exactly why you'd want to use rspec instead.",1523388265.0
thomascountz5,"The Odin Project has a good ramp up to testing: 

https://www.theodinproject.com/courses/ruby-programming/lessons/introduction-to-rspec

The great team at SemaphoreCI just released a FREE testing ebook, which covers BDD in depth, as well as, setting up a Rails app with RSpec, Cucumber, Capybara, FactoryBot, & Database Cleaner.

http://semaphoreci.com/blog/2018/04/05/rails-testing-handbook-free-ebook.html

Edit: 
I can't believe I forgot Sandi Metz's talk on unit testing, [The Magic Tricks of Testing](https://www.youtube.com/watch?v=URSWYvyc42M)",1523413546.0
jasonswett,"> I am a relatively new to development

If you're new to development, it's hard enough just to learn Rails by itself. In addition to the Rails concepts (e.g. ActiveRecord, view rendering, etc.) there's Ruby, databases/SQL, servers, HTML, CSS and JavaScript. Even if you're already comfortable with all those things, it's pretty hard to throw testing into the mix. When I first got started my question was, ""What do I even test?"" Do I write unit tests? Integration tests? View tests? Controller tests?

My advice would be to forget about Rails for a little bit and just practice testing Ruby by itself for a while. Then, once you're comfortable with testing Ruby, it will be easier for you to go back and try to write some tests in Rails.

> What is your recommendation on if I should focus on rspec vs minitest?

A person could make technical arguments for either. Deciding which testing framework to use depends on your objectives. If you're teaching yourself testing to become a more marketable developer, then I would definitely recommend RSpec. Almost every Rails project I've worked on (20+ production projects) has used RSpec. Having said that, it's less important which tool you choose and more important that you have a solid understanding of testing principles. I personally chose RSpec and I'm glad I did.

Here are some testing resources I often come across:

[Growing Object-Oriented Software, Guided by Tests](https://www.amazon.com/Growing-Object-Oriented-Software-Guided-Tests/dp/0321503627/ref=sr_1_1?s=books&ie=UTF8&qid=1523479833&sr=1-1&keywords=growing+object+oriented+software+guided+by+tests) (awesome book, highly recommended)

[Rails 4 Test Prescriptions](https://www.amazon.com/Rails-Test-Prescriptions-Healthy-Codebase/dp/1941222196/ref=sr_1_fkmr0_1?s=books&ie=UTF8&qid=1523479867&sr=1-1-fkmr0&keywords=noel+rapping+test) (just started it, seems good so far)

[Working Effectively with Legacy Code](https://www.amazon.com/Working-Effectively-Legacy-Michael-Feathers/dp/0131177052/ref=sr_1_1?s=books&ie=UTF8&qid=1523479892&sr=1-1&keywords=working+effectively+with+legacy+code) (super good book and more relevant to testing than it might seem like)

[Everyday Rails Testing with RSpec](https://leanpub.com/everydayrailsrspec) (haven't bought it yet but seen it recommended a lot)

[Destroy All Software](https://www.destroyallsoftware.com/screencasts) (just bought it today, seems good so far)

Lastly, I myself created what I call a [Ruby Testing Micro-Course](https://www.codewithjason.com/ruby-testing-micro-course/) designed to make it easy for people like you to get started with testing. Feel free to check that out and let me know what you think.",1523480016.0
andyw8,I really like https://leanpub.com/everydayrailsrspec,1523388954.0
schneems,"It's fine if you're using Rails 5+. Heroku recommends explicitly adding a Procfile to let us (I work there) know that you know you have control over how to run your processes.

I also added the Puma integration to Rails 5!! You can read about some of this work at https://blog.heroku.com/container_ready_rails_5",1523395380.0
SagaciousCrumb,"It's my favorite conference. I've been for the last 5 years. You'll definitely speak to a lot of devs. Presentations are usually very good, though a few speakers struggle with their presentations. I've never seen one where it seemed like they just threw it together. This year there are 6 tracks, plus workshops, it's packed with content. Often very hard to pick which one to go to. ",1523398472.0
systemnate,"> it might be a good place to generate new business

I'm not sure what you mean by this.  Care to expand on this some?

> learn some tricks of the trade

Absolutely.

Anything specific you are wanting to know?",1523385639.0
ProfessorFog,"Just commenting because I saw your ad and couldn‚Äôt comment on it.

Your ad is stupid.

All it says is hire someone to code for you.  

And 

You‚Äôll get results. 
That‚Äôs so empty of a promise. Like if they did no work or only half, that‚Äôs results but not 100% completed results. 

Your ad is bad and you should feel bad.",1524277651.0
,What did people think of Rails conf 2018?,1524277672.0
jasdeep13,"I think attr_encrypted is the standard in Rails ecosystem.

Also, look at https://github.com/metaware/underlock in case you want to encrypt anything that you want to have more control over (could be anything files, strings, db columns etc)

Full disclosure: Author of Underlock.",1523377416.0
systemnate,Another option is [crypt_keeper](https://github.com/jmazzi/crypt_keeper).,1523380811.0
SkyPuncher,"Unless you have a specific reason for not encrypting everything, I recommend simply setting PostgreSQL to encrypt data at rest.

https://www.postgresql.org/docs/8.1/static/encryption-options.html",1523378782.0
NilsLandt,"I have used [vault-rails](https://github.com/hashicorp/vault-rails) with some success, but it's not super popular / updated a lot, and probably not worth the additional infrastructure if you don't have a running Vault installation.",1523381887.0
toutlemartin,"Don‚Äôt know about implementations of database level encryption.

For encryption in Rails you might take a look at [attr_encrypted](https://github.com/attr-encrypted/attr_encrypted)  ",1523377137.0
JamesAllMountain,Write a custom validate method on your user model that checks to make sure that there‚Äôs only 1 primary. ,1523311302.0
pavlik_enemy,"I don't think there's a clean way to make it work with nested attributes. The race condition isn't weird if you think of it. The validator checks emails one by one querying the database, so it sees that the old primary email is in the database and refuses to save a new primary email. 

So you'll probably want a custom validator that enforces that rulle by looking both at the database and the newly changed/added/deleted records. I would also suggest not using nested attributes at all, as you've just discovered, they are a huge PITA.",1523349471.0
cmd-t,"Add a unique validation scoped on person_id (on the Email model) that gets checked if primary? is true:

    validates :primary, uniqueness: { scope: person_id }, if: :primary?

and for nicety add a database side check/constraint as well to combat race conditions. ",1523373863.0
hsndiz,"Make a foreign key users(id, email_id) that references emails(user_id, id). Then you can have many emails but your user also belongs to one that they have. Or you could make a separate table for primary emails and extend your email class separately for each table. Or you could make the boolean into a sequence and call the lowest one primary.

Edit. Just make your user model have primary and secondary email fields. The previous paragraph was just pointing out that there are so many ways to do this that you should just choose the simplest one and get on with things. I wouldn't even make a separate table unless emailing a guy at 10+ addresses is a core feature.",1523314685.0
cultfitnews,This is the first time I‚Äôve seen someone make a post on here asking us to review a post somewhere else. ,1523307539.0
SminkyBazzA,"Looks fine, have you considered turbolinks isn't firing ready when it loads a new page? There's another event you need to listen for too I believe",1523313467.0
Mylogin0101,Require select2-all,1523322487.0
motikor,Haven't read the question but I wish more people would approach asking the way you do. By that I mean take it seriously. ,1523348553.0
dfmtl,"try changing `document.on('ready'...` to  `document.on('turbolinks:load'...`

edit: the question looks fine, in fact it's way better than average.",1523472511.0
indenturedsmile,"What we typically do is add a field denoting which language to each model that needs to be translated and have a copy of each instance for each language. 

It's much easier if you've built an admin interface/CMS to manage the content. You could even add a field to associate all the different language versions of the instance back with the ""parent"" or ""primary"" language version. ",1523314952.0
crabstic,[globalize](https://github.com/globalize/globalize) ?,1523344755.0
piratebroadcast,You don't. Nobody does that.,1523312110.0
hsndiz,"It's kinda funny to see Rails, a full stack framework, down there as the bottom 1/3 of the server block.",1523283346.0
amicloud,Definitely haven't used it but it looks pretty awesome. Might have to mess around with it for my next small project. ,1523306649.0
pixelgoo,"It actually looks very nice. Probably just doesn't worth the effort to learn this framework as you have already a lot to learn in Javascript ecosystem itself.

I guess for small spa this and rails API will work nicely though.",1523274930.0
uncle-enzo,"Make sure you know the difference between HTML and DOM, and their relationship. A dev console shows you the DOM. You are scraping the HTML. Hint: Scraping google search results will lead only to headache...",1523275065.0
Nemya_Nation,"Are you sure its bottomads and tads.

For example I'm getting that the id of the parent div for the ad section is #tvcap

https://imgur.com/a/OjpmI",1523269683.0
qrevolution,"When I do a wget on a google search URL, I get a lot of basic page structure and a lot of javascript, including what are clearly some XHR requests.

I've done my own share of scraping with Nokogiri, and it looks like you're going to have a bad time here. As in, unless you can also find a way to execute that javascript and return the result of *that* to Nokogiri, you're coding into a brick wall.",1523281751.0
Arrio135,"You‚Äôll still have some cors to deal with, but using rails with the api flag is good just for less boilerplate to turn off.

Also, check out the node lib ‚Äúredux-token-auth‚Äù to go along with the ruby lib ‚Äúdevise-token-auth‚Äù https://github.com/lynndylanhurley/devise_token_auth

EDIT: cors only for prod. If you‚Äôre using a procfile and Foreman for dev, you should be fine.

If you get csrf issues, you only need to deal with removing the ‚Äúprotect_from_forgery‚Äù method call in your ApplicationController",1523234747.0
kornbred,"If you want actual help, you will need to post the code that is producing these logs.",1523232165.0
Schrockwell,Why is the `email` parameter in the insertion query an array with two values?,1523231000.0
Cyrax89721,Please post your `/models/user.rb` file and your `new.html.erb` file where this output is generated from.,1523235612.0
tongboy,"API documentation is hard.

IMO you write tests and the documentation comes out of those tests - so you don't have to write an API, then tests, then documentation.

There are a number of gems that do just that but I couldn't get any of them working with any workflow that I ended up liking - super clunky DSL, out of date, or required a very specific API tech stack.

in the end I ended up going with a static doc generator - slate https://github.com/lord/slate",1523230793.0
dmelin,"I just tackled the same issue and tried out a few solutions. rspec_api_documentation was the winner by far. I was writing request specs for the api endpoints, and this is essentially the same thing, then it generates your docs. Win win and a huge time saver. 

Plus you guarantee that the docs are up to date.

https://github.com/zipmark/rspec_api_documentation",1523251878.0
GroceryBagHead,"Million years ago i wrote a gem that generates api docs from tests: https://github.com/twg/api_docs I'm not suggesting you use that (probably won't even work), bit it's pretty easy to make something like that from scratch. ",1523251916.0
safesound809,https://github.com/richhollis/swagger-docs,1523291661.0
bullfightr,Is the word ‚Äúrealm‚Äù coming from a book or blog?  I have never heard of ‚Äúrealm‚Äù used to to describe anything related to rails. ,1523211209.0
mariozig,"Could the interviewer have been trying to describe the separation of concerns that M, V and C have?  

Other than that I've personally never heard ""realm"" used in the Rails community.",1523220658.0
nielsbuus,I have never seen realm used in conjunction with Rails. Only Java. https://docs.oracle.com/javaee/6/tutorial/doc/bnbxj.html,1523222840.0
ricardoont," That's how the question was, the context doesn't  goes beyond than oop, mvc, ruby or rails. I will receive the feedback soon, I'm surely will ask for that and get back with you guys. Thanks all for your time. ",1523223953.0
d4be4st,Maybe concerning Basic Auth? https://stackoverflow.com/questions/12701085/what-is-the-realm-in-basic-authentication,1523215521.0
rooood,"I believe (given the context from other comments) it's only an expression for ""layer"". The overall meaning should be something like ""the controller's layer"", ""the model's layer"", as in the controller/model/view pattern (MVC).

IMO, this expression was used somewhat poorly, given there's no literature I know of that uses it",1523230121.0
amicloud,"Uh, that's a great question... I've never seen that word used with rails at all. Could you add a bit of context?",1523222984.0
anton-k,"Have you tried ""Always use HTTPS"" option from the Crypto settings page?

Another option would be to set up a redirect on the server side.

",1523204811.0
tongboy,"Spin a new rds instance, create a non super user role with creation permissions then `rake db:create`

Everything else I keep in the schema def so it's portable and not forgotten",1523200685.0
mycatisadoctor,"chef, puppet, or ansible. Write it once and use it multiple times without thinking too hard.",1523206555.0
piratebroadcast,This question needs more detail. What are you trying to do?,1523200705.0
piratebroadcast,But yeah creating initial objects is usually done by SSHing into the rails console of the new database you just set up after running your migrations etc.,1523200764.0
,"Database users/roles are configured through puppet.

Database schema is handled by Rails.",1523205562.0
400921FB54442D18,"Just run the latest [postgres image for docker](https://hub.docker.com/_/postgres/) or for your containerization platform of choice. Way, _way_ simpler than writing a chef, puppet, or ansible script.

Then just run `rake db:create`. If you need additional data set up, there's `rake db:seed` for that.",1523214953.0
magicmarkker,Wkhtmltopdf my friend,1523152348.0
rhldy,Prawn ,1523153977.0
jaxn,"I don't think most people want PDFs. They want the damn report to look right in their email or to print right or to be accessible later.

But, when a PDF is really what's needed, I use Prawn",1523232857.0
hhthht,"What a stupid fucker. Tell him, ""print to file, dumbass"".",1523200154.0
tongboy,"I don't believe the problem is with PDF output.

I do agree there is a reporting problem / opportunity in the Ruby eco system. I think it's more holistic than just PDF but that's part of it. 

It's getting data out of a web app. Excel, CSV, pdf, reports, invoices. It's sorting, ordering, filtering, adding/removing data to be included.

It's removing the need for a developer to get involved to add or remove a column from a report, change a color, etc.

I'd be happy to collab with anyone on this as it's a problem I need solved",1523200440.0
hhthht,"Are you running a headless browser that simply saves to pdf? That would be nice. No matter how good a pdf rendering lib is, it totally sucks to write and debug yet another view with charts and graphs. I would just be concerned with confidentiality if it was a service.",1523200442.0
tquill,DocRaptor,1523183372.0
Lucky_Chuck,"This sounds like a SQL problem, where you‚Äôd have to join all the employees for that user and their projects and tasks and filter by task.date",1523141650.0
valadil,Can you define user has many tasks through projects?  Then it becomes trivial. ,1523142524.0
just-suggest-one,"Entirely untested, but:

    class User < ApplicationRecord
      has_and_belongs_to_many :employees
      has_many :projects, through: :employees
      has_many :tasks, through: :projects
    end
    
    # (Employee and Project as you have them.) 
    
    class Task < ApplicationRecord
      belongs_to :project
    
      scope :due_on, ->(date) { where(due_on: date) }
    end

Then `User.find(id).tasks.due_on(date)`.",1523143106.0
v_krishna,"Calculate it in your controller, or in your response object to the view layer. Logic like this directly in templates seems like a bad smell to me.",1523136696.0
hsndiz,"Scope your model. In StoreProducts do this...

    scope :current, -> { where(archived: false) }

In your controller or view do this...

    current_store.products.current.count

    current_store.products.current.sum(:stock_value)",1523197625.0
Fireworrks,"Essentially the index page shows the total price of stock and the total quantity of stock, however even though every single product is 'archived' (boolean column marked as true) the total price of stock and quantity of stock doesn't change. I want the total stock and quantity to recognize if a product is archived and not display that products cost/quantity.",1523134480.0
skewerbr,"From the models you posted on SO I think you got most of the associations reversed.  Read:


http://guides.rubyonrails.org/association_basics.html#choosing-between-belongs-to-and-has-one

The foreign key ""goes on the table for the class declaring the¬†belongs_to¬†association"".

So you don't want CharClass having an ID of a Character if you only have 3 records on CharClass and unlimited Characters.

",1523147602.0
djcp,Why is it time to move off heroku? Just curious about your decision making factors.,1523102300.0
mycatisadoctor,"all the services below are great hosted services that allow you a lot of flexibility in what and how you log

sumologic

loggly

splunk

datadog",1523112198.0
modnar42,"I‚Äôve helped a few companies migrate off heroku and I‚Äôm not sure there‚Äôs a typical way. The best answer depends on the motivation for moving, but here are some thoughts. 

Many of the heroku add ons are dead simple. For example, when I last checked the sendgrid add on basically just added a text file with your api key. Not much migration necessary there, just some work in getting independent accounts and figuring out the format of the relevant config files. 

In my experience, Digital Ocean is generally more user friendly than AWS or Google Cloud. They have a specific focus on ease of use. OTOH they have far fewer features, which puts more of the service migration in your lap. For example, AWS has a hosted elastic search service and has providers in their marketplace that will just add to your bill like Heroku. 

AWS has basically every option under the sun, but it‚Äôs complex. I can‚Äôt tell if you‚Äôre familiar with AWS, but I‚Äôve seen many experienced devops people fall into the ‚Äúwhich services do we use and how do we compose them‚Äù trap and spend a lot of time there. It helps if you‚Äôre already opinionated about the AWS services and have some basis of automation. If not, expect choosing AWS to suck up more time than you‚Äôre hoping it will. 

I mentioned Google, though I‚Äôve never used it for a production system, in case you‚Äôre cost sensitive. They contact my company once a year and offer _huge_ discounts to migrate to them. On paper many of their services seem better for less money than AWS. They have a wide service offering and marketplace like AWS. Depending on your circumstances, pressing them for discounts could offset some of your migration cost. 

tl;dr The easiest/best way depends on a bunch of stuff, so I rambled on. 

",1523113722.0
dom_eden,I use dokku on digitalocean as an awesome heroku alternative ,1523084119.0
Flopsey,"If it's just a trust issue and you're worried about them making up bogus charges once they have your card don't worry, they're a reliable company.

If you don't have a credit card I think https://glitch.com/faq#cost might be your only option short of actually buying a server. I have no idea what they offer, yada yada yada. But I think it might be the only service that won't require a card",1523082909.0
,"I am 16 years old and my mother does not want me to open a bank account for 18 years and for a few months I've been learning Ruby On Rails .. fuck :(
/u/Flopsey
/u/dom_eden 
/u/eyeheartboobs ",1523085600.0
tastycakeman,"the best alternative for you might be to just build a server machine! maybe you can scrounge up enough parts to build a small linux box. ive never done it, but as a 16 year old kid, with a remote server in my room, that wouldve been neat.",1523086492.0
motikor,Try OpenShift they have free starter pack. Or Buy a Raspberry Pi for 15-35 bucks and host your own server https://elinux.org/RPi_Ruby_on_Rails ,1523087864.0
DerNalia,Nanobox,1523096184.0
skewerbr,"As an alternative, you can use:

    redirect_to(request.referrer || root_path)",1523047632.0
editor_of_the_beast,Does this help? https://stackoverflow.com/questions/32322597/redirect-to-specific-view-if-pundit-not-authorized-for-show-action,1523057255.0
skewerbr,"Which DB and Rails version?

You can try [simple_token_authentication](https://github.com/gonzalo-bulnes/simple_token_authentication) too.",1523049586.0
Code4Greatness,I changed the datatype back to string and renamed it token. Now it saves without issue. Thanks.,1523050629.0
Code4Greatness,"Would be great to know how to use it with the JSON attribute (PostgreSQL) for future references, though.",1523050659.0
sshapiroNJ,"I admire how do you understand all this coding. I prefer easier ways actually. For example, there is a platform [MyWish](https://contracts.mywish.io/dashboard/create/crowdSale/?utm_source=com&utm_medium=redditJ&utm_campaign=sc&utm_content=J1104next+level) with a friendly interface where you can create a smart contract without coding. It's the next level in my opinion. It's so easy now to launch your own ICO and create tokens",1523436524.0
t3hj4nk,How does the CSP affect an api-only rails project?,1523020953.0
mbhnyc,"Curious how this will work with tag manager and other pixel-based services, sounds like they‚Äôd all have to be added to the policy?",1523055470.0
100shadesofcrazy,This is typically done in the players.,1523005832.0
z4yz4y,We should organize an unofficial reddit meet up during the conference. ,1522973683.0
lifeismusic434,"Yup! Two from my company will be attending, this is my second year.",1522972250.0
andyw8,Yes! Two of us from [Financeit](https://www.financeit.io) in Toronto will be there (and we're hiring!). Looking forward to it.,1522971123.0
schneems,Yes,1522972042.0
etagwerker,Yes! ,1522973590.0
jrgifford,"Yes! I will be there, as will a crew from RVshare.com. Say hi, we should have stickers!",1523014752.0
tastycakeman,"the schedule and sessions look amazing this year, i wish i could afford to attend!",1523004421.0
t3hj4nk,I'll be there this year (first year). ,1523020575.0
virtyx,"Nope, nobody's going. Sorry!",1523081310.0
angghrea,I wish someone from my company [41studio](https://www.41studio.com/) would attend. But Pittsburgh is so far away from Indonesia :D ,1523410133.0
oztrax,"You might want to check out Spree:
https://github.com/spree/spree",1522962599.0
midasgoldentouch,"Hmm, you could try using pluck? Or maybe a query object that helps make the logic explicit. I do have a question - why have a separate Permissions table? Why not just have columns on the User table?",1522943771.0
wbsgrepit,I would invert the query.    Build one query (or as few as possible) that gathers all of these role/permission states and then a PORO that takes the result and allows you to answer these questions.  This tends to work better when you have complex rules regarding access and allows one set of queries (that may be able to be memoized) to inform the  state.,1522944473.0
lavendar_gooms,"If you're going for efficiency let the database do the work. Add an index on the permission type and query on account Id where permissions = A OR B OR... then just check if any value is returned. You'll get less results which should be less iops/network bandwidth if you're doing this a lot or have users with lots of permissions. And the query engine will likely be much faster than Ruby
",1522981422.0
sizl,If you are looking for speed you‚Äôre gonna want to use a custom query. Maybe you can shoehorn the results into pundit (I‚Äôve not used that gem before). ,1523023777.0
virtyx,"If the size isn't prohibitive and the combination of of permissions can vary a lot between different endpoints, I'd just grab all the user's permissions and keep them either in RAM or memcached once the user logs in.

Then just build a helper if using `Array#any?` is not simple enough. (e.g. `%i(is_user_account_owner? is_user_account_admin?).any?{ |s| user.send(s) }`)",1523081745.0
hhthht,"> I have a Permissions table with columns id, account_id, user_id, resource_type, resource_id, and role. 

IMHO you should drop the polymorphic permissions table and elevate each role to a full model through a join table...

    User has_many :articles through: :owner_role
    User has_many :articles through: :contributor_role
    User has_many :cows through :rancher_role",1523119189.0
mokolabs,"There's already a [thread](https://www.reddit.com/r/ruby/comments/89xqwy/imageprocessing_10_released_wrapper_for/) for this over on r/ruby, but I wanted to specifically share it with Rails developers in this sub too.

ImageProcessing is a gem with awesome helpers that make it super easy to resize and process images. If you're using an existing attachment gem like Paperclip, you're probably just using whatever resizing helpers that the Paperclip folks wrote.

But the goal of ImageProcessing is to create a shared set of helpers that any attachment gem can utilize. That way, we keep things DRY and every attachment gem author doesn't need to reinvent the wheel when it comes to resizing images.

Also, in this new version, ImageProcessing has added support for resizing images with the libvips library -- which can resize images 5X to 10X faster than ImageMagick.

It's definitely worth checking out.",1522943378.0
magicmarkker,"[Gemsmith](https://github.com/bkuhlmann/gemsmith)
A command line interface for smithing new Ruby gems.  Found this one today, looks like a nice way to create new gems.",1522932532.0
Ronald-Ray-Gun,"[https://github.com/lorenzosinisi/shutup](https://github.com/lorenzosinisi/shutup)

For when you rage quit out of a stalling rails app",1522943031.0
polysaturate,The email ending up as spam will most like have more to do with coming from an Amazon Email IP than pretty much anything you can control with Rails ActionMailer. ,1522895580.0
SminkyBazzA,"You can also set up email event tracking with SES - some of which may provide you information about why an email gets into spam.

I would also recommend checking mxtoolbox to see if your domain has been blacklisted.

And there's also the obvious one, does your email look like spam? Could the subject or any of the content be taken to look like junk?

Finally, if any visitor can fill in this form and have its content emailed to an address they enter, then it is ripe for abuse. What are you doing to prevent it being used to send spam?",1522913586.0
Resquid,Setup DKIM,1522904328.0
hsndiz,"If you can trick the user into emailing you first you'll get whitelisted. Maybe on signup, have them reply instead of verify through a link. You could use web push or some other notification in order to get passed the spam filter the first time, but people are usually looking for a signup email.",1523337164.0
editor_of_the_beast,"The standard is Capybara. You should just use that, it‚Äôs extremely reliable and has a great API. There‚Äôs no reason to build this stuff yourself.",1522890897.0
Draglung,I have a heavy Javascript front end and use capybara running on bit bucket pipeline for full integration tests. What don't you like about capybara? Using jest for integration just sounds silly. Isn't it meant for unit tests and Dom snapshots?,1522908008.0
piratebroadcast,"If I were you'd I'd throw together a Sample app w Rails 5 and Foundation installed so someone can easily pull it down from github and poke around in it. 

The fact that you are new to rails and new to foundation and there are no other reports online about this issue indicate that it is most likely something about your setup and not a bug in either frameworks. Screenshots would also be helpful.",1522866803.0
gmfthelp,"I'm using F6 with Rails 5.1 and it's fine. Are you on Linux or MS? I'm using Linux so if you;re not, your mileage may vary.

Did you start using it from the beginning of your app?

Like someone has already pointed out, create a little app and make it public on github so people can take a look.",1522873717.0
waiting4op2deliver,If I had to guess you're running into complications with turbo links,1522883738.0
mrjsykes,"i agree with what /u/piratebroadcast said...I just started working with foundation (albeit in Vue) and from my Rails days, remembered something similar with Bootstrap 3. 

Double check to make sure you're requiring the CSS and JS in app/assets/stylesheets/application.css. 

It's the only thing I can think of short of a sample app or seeing your code first hand.",1522877810.0
GroceryBagHead,Check browser console and see what is going on. Seems that browser is simply no re-rendering the list.,1522856312.0
KingPretzel,"I don't see any JS views, unless I'm missing something. If you're requesting in JS, then the controller is looking for a *.js.erb in your view path.",1522863182.0
intentions_are_high,"I agree with most of the thoughts above. Our app structure usually looks like:

/app
- /app/controllers
- /app/decorators
- /app/errors
- /app/forms
- /app/helpers 
- /app/jobs
- /app/lib
- /app/mailers
- /app/models
- /app/presenters
- /app/queries 
- /app/searches
- /app/serializers
- /app/services
- /app/workers

All the custom folders like forms, presenters, services, etc are further organized, usually there‚Äôs nothing in those root directories except some base class. ",1522984504.0
jryan727,"I often add an app/services folder and toss service classes in there (that's probably where I'd put your Twitter and Facebook classes).  

When I have a specific kind of class that's heavily tied to my application's domain, I'll sometimes create a folder specifically for them under app/.  For example, I have an application that sends various SMS text messages, so I have an app/sms_notifiers folder.

You don't want app/ to become a junk drawer, so I personally set a high bar for what should be nested directly under it.  On larger apps, I'll heavily organize app/services and place a lot of classes there.  

I make heavy use of form objects on complex apps, so I'll stick those in app/forms. 

After many years of writing software, I can tell you that the best answer is whatever is most easily understood by you and your team and most easily maintainable.  You can reach for all sorts of patterns and search for specific ""rules"", but the bottom line is that every application is somewhat unique, and you can feel free to customize its layout a bit.  You just want to make sure it's organized, easy to reason about for new developers, and maintainable. ",1522855547.0
sprayAtMeBro,"Imagine that your libraries are just gems, and organize them accordingly. `lib` is a perfectly good place for non-Rails-specific code, though given how much magic Rails monkey patches into Ruby it can be difficult to ensure your code really is ‚ÄúRails independent‚Äù. ",1522875067.0
HarryCallaghan,"I'm not an expert by any means, but I think what you are looking for is Domain Driven Design.

Also I found this blog to contain very interesting entries for patterns like this one on Service Objects:

http://www.thegreatcodeadventure.com/rails-refactoring-part-ii-services/

",1522840440.0
ziptofaf,"Points covered by it mainly include user consents and it's versioning, per-row encryption (connected to right to be forgotten) and retention policy. I also mention most basic ways of ensuring private information don't go inside log files and what you can use for auditing (but it's not implemented yet). 

Frankly it was nowhere near as bad as one might think. The only breaking change is per-row encryption (since it pretty much means you can say bye bye to any fast lookups unless you also separately store hashes, all kinds of database groupings are also going to be broken) and there can be situations when you get away with NOT relying on it (although it heavily depends on your backup policy and it's not like you can just leave this data lying around forever in plain text). 

So if you are building a brand new application that has to adhere to GDPR then overhead needed is relatively small (my MockOrder model shows pretty much everything needed to get it compliant with GDPR once you have your core logic done and it's like 10 lines of code total). This can get much worse in existing applications however, you will need a clear list of which field holds personal information, how long can it exist in the database, do some profiling to see how performance changes once you add encryption (AES is fast enough to ignore it in most cases but turning O(1) lookups into O(n) can be destructive) etc. Still, hopefully this is of use to some of you.",1522824700.0
mantasm_lt,"I may have missed that, but it may good to store part of encryption key on the application server. With your current scheme, if someone gets access to both SQL database and Redis, they got full access to data.",1522831191.0
d0nkeh,I'm currently working on adding GDPR features to a rails app.  I enjoyed your approach and insight.  Good stuff.,1522856993.0
olivierlacan,Thank you very much for taking the time to do this. Glad to see some GDPR-awareness finally arrive in the Rails community.,1522880754.0
CarefulAsk0,"are you set on using rolify to implement the permission? I have implemented a permission in a multi-tenant setup at work, but using CanCanCan instead as it does give you the ultimate flexibility",1523974266.0
jasdeep13,"What you need is to add the role on each instance of your `Note` ex:

```
Note.where(account_id: params[:account_id]).each do |note| 
  user.add_role :moderator, note
end
```

Hope it helps. ",1522818930.0
ziptofaf,So a few days ago I have mentioned that I am working on GDPR compliant application using Rails to showcase some of it's key requirements. Hence here it is. Still shaky in some details but it's probably better than just reading on requirements without seeing any actual code. ,1522796710.0
FairsleyDifference,I think you have the general idea. You should take a look at these authorization gems as well: CanCanCan and Pundit. ,1522784760.0
learning_by_doing,"Devise is great for user authentication. CanCanCan integrates well with Devise to add permissions (read records, modify records, etc). I have not worked with Pundit as I found Devise and CanCanCan did what I needed.

I recently developed a similar application as you describe. I have an accounts table, a users table, and an account_users table. The account_users table has account_id, user_id, and role. CanCanCan uses the role field from the account_users, which is the object loaded into current_user.",1522810979.0
jemminger,Have you tried putting it in app/public?  Then you should be able to reference it from the root of the app.,1522789402.0
midasgoldentouch,"Hmm, the README says it's built for both webpack and sprockets though.",1522768292.0
oxtrue,"Woah! Thats alot to take in there! have you tried wrapping it in this?

$(document).on('turbolinks:load', function(){

});",1522760048.0
dr-drew,You may want to look at using solr or elastic search to improve performance. They will make your life and db reads much faster and less intense.,1522760327.0
saturnflyer,"You should consider switching to a different type of index like trigram which is designed to solve this problem.
http://blog.scoutapp.com/articles/2016/07/12/how-to-make-text-searches-in-postgresql-faster-with-trigram-similarity
If you read the code for https://github.com/textacular/textacular or https://github.com/Casecommons/pg_search you can see how to hook it all together in your own code.",1522760430.0
acdesouza,"Could you post db/schema.rb?

Maybe you should add a couple of indexes. And use dmetaphone.",1522760674.0
morphemass,"/u/saturnflyer makes a good suggestion to change the index type; using ILIKE has many limitations on when the index will be used.

My primary suggestion though is to stop thinking of this as a code problem for now and use the DB; log your queries and then use EXPLAIN on the query to get the query plan. https://robots.thoughtbot.com/reading-an-explain-analyze-query-plan and google to understand thoroughly. 
",1522797117.0
yottapoint,"Do you want the modal on every page of your site? You can put it in the application view then. If you want it only on specific pages, you can create a partial with the modal and the modal toggle. You render this partial on the pages you want the contact form modal.

On the guide you posted, the form_for has url: create_message_url, so the form knows that it needs to post on the specified url.

Hope that answer your question.",1522759994.0
hmaddocks,Which bit are you unsure about? The form will work exactly the same as a conventional form. You can render your form anywhere as long as you set the post url correctly. Rendering a form as a modal is usually done with css and some JavaScript. ,1522779641.0
djfrodo,"The way I did it was to have an empty modal div in the application.html.erb.

This div is then included on all pages ad used for all modals - the only drawback is if I want two modals, but I haven't run into that situation.

Then I use the link that launches the modal to define which page to request via get using ajax, and the form is then populated by the server and placed in the modal div.

If you need an example [go here](https://www.headcycle.com) and click ""log in"" or ""register"".",1522783244.0
lubekpl,"https://github.com/ambethia/recaptcha#sinatra--rack--ruby-installation
with support for invisible captcha ;)",1522756971.0
jryan727,"You can roll your own honeypot relatively easily.  Add a field to your form named something like ""email"" or something that a bot would typically fill out.  Hide it with CSS.  When the form is submitted, validate that the field is empty.  Humans won't fill it out.  Bots might.  I've found them to be more effective than nothing and less effective than reCAPTCHA. ",1522855966.0
GroceryBagHead,"Paste errors you're getting here. Maybe it will be clear what the issue might be.

I can also recommend better (imho) CMS that should be easier to work with.",1522725303.0
gdffff,"its easy to write maintainable code with jbuilder, but you have to know it‚Äôs also really slow, like reaaaaaaally slow

it might be an issue later on (also in development if you‚Äôre working on some data heavy views it‚Äôs quite normal for render to take >1s)

i‚Äôm still using it though as the ease of maintenance offsets the slowness, but it‚Äôs really becoming painful

edit: gave jb a try and immediately switched to jb, never going to user jbuilder again, jb is like 20 times faster in development and 10 times faster in production and jb templates are even easier to maintain
",1522725400.0
jlsync,I replaced jbuilder with **jb** [https://github.com/amatsuda/jb](https://github.com/amatsuda/jb) - it's easier and much faster than jbuilder.,1522755597.0
GroceryBagHead,Jbuilder is fine for small things. Keep in mind that it's not very performant as it's part of the templating system. If you want performance you want to use something like https://github.com/Netflix/fast_jsonapi,1522725112.0
dorktran,"No problems with any Vue apps I've used it for. My thoughts, it works great right out of the box, so why not use it? ",1522723226.0
agnosonga,For jsonapi I would look in the the Netflix fast_jsonapi gem or jsonapi-resources if you want full CRUD,1522736906.0
Antikue,"I've been using https://github.com/fabrik42/acts_as_api

The DSL is pretty good and straightforward, and I'm getting on nice with that and Vue. 

TBF I tried to search for some after seeing ASM is a little dated and under heavy dev, and never found fast_jsonapi in my searches.",1522791789.0
Fustrate,"I use jbuilder for all of my json, it's very simple to get the exact results I want. I also added a couple extra methods to render paginated collections and Authority permissions.",1522723937.0
jordanaustino,"I've used json-api, custom written json renders, jbuilder and recently playing around with graphql.

I think jbuilder would probably be my last choice out of these options.",1522728543.0
JimmyPopp,Graphql....makes a lot of sense. Makes rest seem dated,1522768020.0
jasdeep13,Active Model Serializers and fast_jsonapi FTW! Jbuilder is slowwwwww! ,1522735917.0
muirbot,Guys?,1522771826.0
kornbred,"This problem seem so basic that it almost screams that it is some sort of assignment for a programming class.  So, if that is the case, I am not gonna give you the answer, however, I am gonna point you in the right direction.

Please review [ActiveRecord associations](http://guides.rubyonrails.org/association_basics.html). Pay extra attention to the `has_many, through` [many-to-many association](http://guides.rubyonrails.org/association_basics.html#the-has-many-through-association).",1522716919.0
nmwh917,"    :order has_many :products through :order_products 
    :product has_many :orders through :order_products


    @product.order.products",1522716310.0
JamesAllMountain,I‚Äôve use appboy (braze) and kahuna. Not sure your use cases but they‚Äôre pretty flexible and have a lot of features. ,1522753800.0
chrislaurentbis,"Same here Appboy is really straight forward plus you can do A/B test , and lot of campaign optimisation to improve click through rate ",1522788280.0
blazingkin,"Not sure what your error is, but you should never use folders with spaces. Tons of programs hate that",1522681444.0
OldManInternetz,"Have you tried running `gem install pkg-config -v ""~> 1.1""` like it mentions in the error message?",1522674949.0
TomConnolly,What version of Ruby? I had problems with Nokogiri so I switched back to 2.4.1 from 2.4.2 and the problem went away.,1522856747.0
janko-m,"> I want everyone on the website to be able to listen to the audio files but no one outside the site (so i dont get killed with charges).

In this case setting public-read access is probably not what you want, because that would allow users outside of the website to listen to the audio files, if they're able to get their hands on the S3 URL to the files.

I think what you probably want is to stream the audio files through your app, and add authentication/authorization before the download. That way you can keep the the private access, because every time the audio file is requested the app will generate a new expiring S3 URL to download from, but only authenticated/authorized users will be able to access the audio files.

I don't know if you're using any file attachment gem, but with Shrine you can use the [`rack_response`](http://shrinerb.com/rdoc/classes/Shrine/Plugins/RackResponse.html) plugin, which does all the heavy work of streaming, handling [range requests](https://developer.mozilla.org/en-US/docs/Web/HTTP/Range_requests), and setting the correct response headers for you.

If you're using something else, you can still use Shrine just for this functionality. The following example should work:

    # config/initializers/shrine.rb
    require ""shrine/storage/s3""
    Shrine.storages[:s3] = Shrine::Storage::S3.new(
      access_key_id: ""..."",
      secret_access_key: ""..."",
      region: ""..."",
      bucket: ""..."",
    )
    Shrine.plugin :rack_response

    # app/controllers/audio_controller.rb
    class AudioController < ApplicationController
      # ...
      def show
        # ...
        uploaded_file = Shrine::UploadedFile.new(""id"" => s3_object_key, ""storage"" => ""s3"")
        file_status, file_headers, file_body = uploaded_file.to_rack_response

        response.status = file_status
        response.headers.merge!(file_headers)
        self.response_body = file_body
      end
      # ...
    end

You can also use the `rack_response` plugin [source code](https://github.com/shrinerb/shrine/blob/master/lib/shrine/plugins/rack_response.rb) as an inspiration for your own custom implementation.",1522669598.0
tadrinth,"Either stream the file through your website server, or redirect users to a presigned expiring url. Latter is more performant.",1522678128.0
worldDev,"So the key to your issue is knowing that your rails server has access to the s3 resource and your users do not.

To have full control of auth in rails, you would need to load the file into rails, then serve it to the user after auth, but this is terribly inefficient.

To have full control like that in a reasonable manner, you would ideally use a media server, in a messier manner you could be creating aws permissions for each user individually and try to manage it all through the AWS api but this would be a bit of work and seriously bad if you did it wrong granting permissions to your aws account.

A half way solution is to use expiring presigned tokens for access. This isn't fool proof and a link could be shared for a short time, but that may be a reasonable risk to ignore depending on the case and your priorities. The presigning of urls happens when you want the expiry period to start (on url request usually) rather than on upload as you mentioned, so you may need to go back and review the documentation on how to accomplish that. The flow of that goes... user asks rails for link to file > rails asks s3 for token that will expire in x seconds to resource > s3 gives authed rails server token > rails gives user presigned url with received token.",1522692378.0
jryan727,"As others have noted, if the S3 file is public, then the whole Internet can access it. Not what you want. 

You could stream the files through your application as others have noted. That would solve your problem, but it‚Äôs harder to scale and removes many of the benefits of using S3 in the first place. 

The way I‚Äôd solve this is with [S3 pre-signed URLs](https://docs.aws.amazon.com/AmazonS3/latest/dev/ShareObjectPreSignedURL.html). 

When your user wants to access an S3 object, it asks your application, which asks S3 for a pre-signed URL for the object. It then passes that URL back to the browser, which it can use to directly request the object from S3. The object is only directly accessible by your application (it‚Äôs not public). The pre-signed URL is public and grants the holder of that URL temporary access to the object. The key is that you can set the pre-signed URL to expire.  Yes, the user could share the URL with someone else, but it‚Äôd be short-lived (relatively).

This approach puts minimal load on your application and lets you continue enjoying all of the perks of letting someone else host your data.  ",1522698810.0
djfrodo,"As others have said, use presigned urls.

Basically you get a token that's good for x number of hours, which let's you access the file.

I use it for thumbnails in an RSS feed. It expires after...a week (I think) but it's good enough to allow access for those who access the content via the url.

After a week, it expires, but RSS feeds really don't need more than that.

You do have to generate a new token for each piece of content you want to be accessible.",1522705903.0
Gluaisrothar,It's not clear exactly what you want to do and the purpose of such analytics.,1522663350.0
appothecary,"This will probably do everything you're looking for

https://github.com/ankane/ahoy",1522954291.0
murjax,"Just tell them what you know. Good companies look for passion. If you've committed yourself in one way or another to being a good Rails developer, you'll be fine. In my situation, I made a good impression by having a large personal Rails app on Github. The fact that you've built a Reddit clone is very impressive. Point being, they want to know you have a desire to learn and skyrocket as a developer. ",1522635037.0
UnderwaterPenguin,"You'll go crazy cramming your head with things that you *think* you should know. 

Just relax - you know what you know. 

If I don't know something in an interview I usually throw out similar ways I would solve the problem. For example they might ask me ""how do you set up mocks in Cucumber?"". Well I don't know the first thing about Cucumber, honestly. So I'd answer ""I'm not as familiar with Cucumber but I've done it in RSpec several times by doing XYZ"". I've now taken control of the question and I am answering it on my terms.

Like another poster said - companies look for passion and willingness to learn. Don't be nervous or look nervous - look like you're eager to dive in and contribute (and you need to know in your head that you CAN contribute. Don't let [Imposter Syndrome](https://en.wikipedia.org/wiki/Impostor_syndrome) get to you). 

Best of luck.",1522650769.0
JustinCampbell,"Interviewing is tough and there are dozens of ways for them to decide ‚Äúno‚Äù. Best advice I can give is to be yourself and do your best. If you‚Äôre rejected, reflect on what you think went wrong, ask them for feedback, and improve for the next one. Even if you have a good feeling after this one, it can‚Äôt hurt to apply to other places and attempt to get a few more interviews lined up.

It‚Äôs nice that they gave you a list like that, so you know just what to study. For me personally, the best way to learn something is by working towards a goal and figuring things out when I need to. So I think your Reddit clone project is a great idea.

Most importantly, companies want someone who can figure things out when needed, and communicate well with their team.

Also if it‚Äôs an internship, I‚Äôd imagine their standard is not as high as it would be for a full-time salary hire. They‚Äôre not expecting you to be an expert.
",1522635372.0
3vol,"Relax and let them know what you know while indicating what you think you can improve on and areas that you think would be interesting to investigate. In today‚Äôs climate everything changes so fast that you simply need to demonstrate an ability to learn and a passion for development and you should be good to go. Chill out! That‚Äôs the most important thing. Impossible to do, I know, but try. ",1522638952.0
dfmtl,"Relational Model - You'll need to know how foreign and primary keys relate entries in the DB and also be able to explain a join table.

HTTP protocol - You'll probably just need to know the HTTP methods and what they're used for eg PATCH -> update a record.

Web stack - Can't see any particularly tricky questions here, I wouldn't be surprised if they don't ask any questions on this.

Relational database - I doubt they'll expect you to express a preference for one relational db over another. Just be able to compare them to a NOSQL DB like Mongo. Make sure to trash Mongo.

Ruby - You'll probably be asked some questions about SOLID, why to favour composition over inheritance maybe some string manipulation. edit You'll probably be asked the classic (and fairly useless) Ruby interview question 'what is the difference between blocks, procs and lambdas?'

Rails & MVC - I'm going to guess they'll ask you to explain MVC use the term separation of concerns.

Scaling - I really doubt they'll ask tough questions on this for a junior dev. Say things like moving long running tasks into back ground jobs to increase response times is good. Avoiding N+1 queries is important etc. It's ok to say you don't have experience dealing with scaling issues, as a junior dev why would you?

Bonus - Explain that you know how to use git and are comfortable with using branches in your workflow.
Mention you know how to / why you like using TDD

I did a bunch of interviews before landing my first job. It was by far the toughest part of my career so far. Stress that you're actually interested in programming outside of work and that you're highly self motivated to work on problems / can become obsessive. 
Remember it's an internship, you're not expected to be a super genius, they just want to check you can learn stuff.",1522662160.0
CarefulAsk0,"Hey, I am also a self-taught rails developer, also started learning from Michael Hartl's book (3 years ago). From the list above, my suggestion is to focus your study on Rails & MVC + relational model, as it is very crucial for Junior developers to indicate that they can start contributing to the team when hired ASAP",1523794109.0
JamesAllMountain,I used Doorkeeper for auth and data retrieval. That maybe heavy handed for you depending on what you need to do. You could always just generate a token on login and have the android App Store that somewhere secure. Then just authenticate based on that token. ,1522606956.0
sixkorn,Trix editor,1522602142.0
markwhistler,"Froala, it's a bit more fully featured than Trix and does much better job on formatting, particularly when pasting from dubious sources (Word).

(Not sure about Markdown though!)",1522638676.0
meisteronimo,"https://github.com/bevacqua/woofmark

Is a pretty clean editor, and has some plug-ability if you need you additional features.",1522639171.0
gruhehe,"form.text_area

I've never seen a rich text editor that I liked. And now that browsers do spelling it's definitely not worth the tradeoffs.

The markup can never be semantic. Use fields and it can be, and your creation will display correctly on everything from paper to mobile to desktop. WYSIWYG is just a handicap when it works and is a complete readability failure when it doesn't.

WYSIWYG text needs to die for the same reasons scribble-text signatures, fax machines, and telephone menus must die. There are better ways.

BETTER WAYS.",1522607919.0
SagaciousCrumb,"Much like what /u/abadabazachary said, I've had success using Sidekiq as my job processor (it does require you to install/run Redis), and there are addons for it that let you limit the number of concurrent jobs that run in specific queues. Though, if you're only sending the newsletters in sidekiq (no other jobs), you can just configure sidekiq to only run, say, 5 jobs at a time, so the load is less.  

I've used https://github.com/brainopia/sidekiq-limit_fetch and it's worked well. ",1522605477.0
classhero,"The way this read to me is that each you're doing an O(n) ""load user, generate newsletter, send newsletter"" across all subscribers. Holistically, is there a reason you can't:

* generate the newsletter once (does the content vary by user? if so, does *all* of its content vary by user?)
* bulk-select all subscribed users (with a limit)
* send to many at once?

Other suggestions about a read replica are good, too. I'd put scaling the database as a good option before rearchitecture, but after tuning (but, depends on if you can spend the engineering dollars on optimizing). ",1522605524.0
lift_heavy_things,Take a step back here. You dont need throttling or many of the suggestions in this thread. If youre sending out fewer than 10k newsletters and melting your db there‚Äôs almost definitely something obvious going wrong unless you have the most complicated table format ever.  My first instinct would be to look for missing indexes but maybe you can cache partials of the newsletters or something? Without more understanding of your system its hard to say but this really sounds like missing indexes to me. ,1522606127.0
morphemass,"Profile.
Profile.
Profile.
Profile.
Did I mention, profile?

Identify where the bottleneck(s) are in you process and then try possible solutions; *test* your solutions at scale and re-profile. Databases are not slow, the way many people use them is slow - ensure that you are not hitting the db with queries without indexes (i.e. run explain and understand the query plan), ensure you are not hitting any n+1 queries; be prepared to cache aggressively and perform long running jobs; be prepared to split up your workload and run multiple background workers in parallel; be prepared to increase your hardware allocation in a way to mitigate bottlenecks.

edit: if you're biggest problem is a website slowdown while running this, the suggestion of a read replica is probably the cheapest way to go.
",1522633387.0
tinco,"Well, there are several strategies to make it a little more performant, for example by caching, and perhaps cache warming, but I think there's only two hygienic solutions.

The first solution would be to scale your database hardware up, so it would not slow down due to the heavy load. This is a quick and easy solution, and probably cheaper than the engineering cost to maintain a complicated optimized process, but that depends on your situation of course. The downside of this solution is that at some point it might start breaking again and you would have to scale again.

In my opinion the only proper solution is to work on a mirror or snapshot of the database. So you provision a separate database, that you keep up with all the changes of your master database, and you use that mirror for querying your newsletter data. I admit that's a bit heavy handed, but the result will be that it's impossible for your batch operation to have performance effect on your regular users experience.

That said, I think the traditional solution would be to have extra tables or 'dataviews' that store data specifically for your newsletters, so that querying that data is fast and does not affect your users. Depending on which db you use that could also be a bit ugly/cumbersome.",1522601925.0
abadabazachary,https://github.com/sensortower/sidekiq-throttled,1522602236.0
Haegin,Could you not batch up the inserts over the proceeding hour or so (longer if necessary)? You can still have them all go out at the same time (provided that won't hurt your performance). ,1522604809.0
pjleonhardt,"Depending on the size of your dataset, could you load all users, load all articles once then iterate over the users and do the processing and newsletter generation without additional db hits?",1522627784.0
jorgewisconsin,"Is the update to the user one request at a time? That could be a bottleneck too. 

My suggestions:
1) check your indexes
2) use sidekiq
3) use eager loading
4) analyze how the format is being generated (any additional queries here?)
5) any polymorphic models that you are trying to iterate through?
6) use a read replica for heavy read loads

Edit: is it really the database slowing down? Is your web server also responsible for processing the queues? It‚Äôs possible the server is being overloaded and slowing down",1522634637.0
tf2ftw,Toss as much custom user data you can into a view and query from that instead of having a ton of joins for each email,1522638206.0
petercooper,"I send over 400K per week through a Ruby-based system, but I just went raw and did it without any specific framework. The subscriber data is in Postgres and when a send is queued up, all the relevant records (basically addresses and names) are piped into a Redis list, then several threads are spun up and each pops an item off the Redis list, does the mail merge, and kicks the email off to Sendgrid to send. There's almost no load from this approach beyond the several seconds to pull out the data from Postgres in the first place due to the complexity of the models we have.",1522891946.0
SteveButler2210,"Sounds like what you want to do is fork the repo, and re-point your gemfile to use your forked version, e.g:

gem ""Spina"", git: ""git@github.com:/timmy_trejo/spina_custom.git""",1522573117.0
LivingAnywhere,"You can also vendorize it by cloning in the vendor map, and reference to it.

gem ""spina"", path: ""vendor/spina""

don't forget to remove .git directory.",1522573499.0
timmy_trejo,Thank you all! ,1522588931.0
choonggg,"Wait, why not add it as a git submodule?",1523207175.0
hhthht,"Additionally, my models are calling broadcast_to in an after_create but since I was using jsr I do not have a client side rendering library. What do you guys do for rendering? Do you somehow call up partials from the model or do you add a client-side rendering lib and accept some code duplication? ",1522529680.0
kornbred,"I believe that you can use a debit/pre-paid card.  If that is the case, you can go to your local supermarket/Walmart/Target/etc and purchase a pre-paid Visa or MC, put like $20-25 on it and verify your account.

If that is still not a possibility, you can register a free tier on Sendgrid (49k emails 1st month, then 100/day after) with no CC and just do the configuration in your app yourself.",1522509519.0
SminkyBazzA,"Unfortunately the docs seem quite clear that you need a card: 

https://devcenter.heroku.com/articles/account-verification#no-credit-or-debit-card",1522505747.0
derek_dyer,"I skimmed through and saw one reply that eluded to this but it sounds like you‚Äôre trying to use an add-on. Have you tried configuring SendGrid directly in your code?

This way you shouldn‚Äôt need the add-on

https://sendgrid.com/docs/Integrate/Frameworks/rubyonrails.html",1522514762.0
ramijan,"I copied your Gemfile into a new app and *bundle update* runs fine. Based on the stacktrace you pasted, it looks like the issue could be in your *./bin/bundle* file.  The default *bundle* file is only two lines long, but your stacktrace is showing the error starts on *./bin/bundle:42*.  I would check there to start.  Good luck!",1522511805.0
adm7373,"Two weird things I notice here:


    git_source(:github) do |repo_name|
        repo_name = ""#{repo_name}/#{repo_name}"" unless repo_name.include?('/')
        ""https://github.com/#{repo_name}.git""
    end

Just get rid of that. You don't need it.

The other thing is that you have comments in your development and test groups that need a \# in front of them.",1522498234.0
matlfb,Have you seen the ruby version of the current installed bundler? This may the the problem too,1522500566.0
rio517,"Mostly, using rails for an API, you're mostly removing things. 

The few things I often add are versionist, rack-cors, oj, active_model_serializers and some json-api parsers.  Of course, your needs may vary depending on the frontend framework you might be using. 

Also, Netflix's new library might be useful: https://github.com/Netflix/fast_jsonapi although, I haven't used it. 

",1522484603.0
waiting4op2deliver,"Don't need haml, just use json. Past active record, the world is your oyster, just add what u need.",1522481286.0
editor_of_the_beast,I‚Äôd really wait until you hit a specific problem until you pulled in a gem. It‚Äôs impossible to give you a gem recommendation until you have a specific set of problems you‚Äôre trying to solve.,1522511568.0
danimoth2,"Based on checking my last Gemfile:

rack-cors, some serializer (active_model_serializers), the ""standard"" ones (something for jobs (resque/sidekiq), ""whenever"" gem for cron).  I love testing API-only applications, the ""integration"" tests are usually just hitting the API and making sure you have correct JSON returns/checking changes in the DB.",1522506659.0
bearfact,"grape, doorkeeper, pundit",1522509860.0
jordanaustino,"I'm a pundit guy when it comes to authorization. 

I like json-api and the new Netflix fast json for json API serialization. Been playing around with graphql-ruby which has been super easy to use so far, just starting a new project I think I will deploy with a graphql instead of json API backend.",1522556337.0
LivingAnywhere,"Heya, if you're writinig API's nowadays i'd go for graphql, you get typed api and documentation out of the box :) The gems i use are ruby-graphql, cancan and devise for 80% of my APIs!",1522494363.0
francc3sco,"If you're only building an API, then Sinatra would be most useful, Rails is packed with a lot of things that you're not gonna use in an API.",1522509055.0
Erwin_the_Cat,What resources are you currently using? What do you mean by authentication? 2 days isnt a lot of time to even scatch the surface of rails in my experience. Not that that is meant to discourage you.,1522453399.0
3vol,‚ÄúThe Rails 5 Way‚Äù is an excellent read if you want something you can read cover to cover that goes through pretty much everything in a coherent and connected manner. ,1522463202.0
hhthht,"I learned a lot reading the sources for [Mephisto](https://github.com/mephistorb/mephisto) but that is an old project now.

Does anyone know about some modern projects that have a small enough scope to comprehend in a day but large enough to introduce most of the features in rails? That's what I would recommend, if only I was fluent enough in the modern ecosystem.",1522516190.0
rArithmetics,"I used the react on rails gem to build a live action cable app and it went fairly well. As the user above me said it does add some extra points of failure, but the helpers it provides to throw props in the right place are very nice. The guy at Learnetto does a good job explaining react on rails gem but it costs $",1522457816.0
banporkpie4,"Advantages: 
You don't have to maintain two different environments with entirely different configs. RoR let you completely avoid the asset pipeline, so it'd be really easy to just rip out the frontend and put it in its own app if you ever want to.

Cons: Big, potentially bloated codebase. Separate front and back apps would let you write a standaard REST API serving the frontend (though you can just do this with RoR too). Webpacker is just one more layer/potential point of failure in the app that requires config and potential debugging. RoR doesn't render the main component in a standard React way. I used RoR to build a todo app for a job interview, and at least at the time, it didn't support Webpack 3...and a big of the documentation was out of date and I had to just kind of figure some things out.

I used it with client-rendering on Heroku and found it pretty easy to deploy. Using a server that requires manual config could be a bit of work, probably a use case for Docker or something similar.",1522455108.0
,[deleted],1522458733.0
pa_dvg,"It does literally nothing with regard to state management.  It‚Äôs just a set of tools to render a react component from a rails view and set up server rendering.

You should question why you _want_ to use a gem when you don‚Äôt have any particular need that you have defined. Webpacker already makes it easy to bridge node and rails, id suggest starting there ",1522458311.0
LivingAnywhere,"We skipped react-on-rails, we have a monorepo. A frontend folder with webpack. And some extra buildpacks to compile the JS on heroku push. We use graphql and it has been a dream so far. I tried to get our react setup as close and as comfortabe as normal rails. But i had to do a couple of things to make it pleasant.

- Use a monorepo with 2 buildpacks to make a heroku push as easy as a normal rails project (it compiles the JS to a bundle and does the rails gem install etc)
- Have a custom router that support named routes (such as the rails router) 
- Have a couple of auto includes to not have to import a ton of things in our code base
- Some conventions on our javascript folder structure.

It works really well for over 8 projects now, however, make sure that you use react fo the right reasons. You do lose a lot of nifty things. (Slim, SimpleForm, Routes) etc etc.",1522507725.0
manys,"It's much simpler to retrieve what you want than what you don't want, and in this vein I suggest:
`Foo.where(event: [""create"", ""update""])`

Rails does have a #not method for AR queries, but it's harder on the db (so to speak: table scan vs. index). I do realize there can be woolier dynamic-parameter situations where #not makes more sense, but for what you've described I'd use the explicit positive case.",1522442207.0
kobaltzz,"This is a super old article, but is likely still applicable. You would basically create a renderer and then reference this when calling `will_paginate` in the views.

https://thewebfellas.com/blog/roll-your-own-pagination-links-with-will_paginate

Alternatively, you can use Kaminari which does have a generator for the views which can then be customized.
",1522425186.0
banporkpie4,"2nd on Kaminari, makes customizing the paginator super easy.",1522441165.0
lespooner,"The update from 5.1.1 to 5.1.6 should be only patch fixes since only the patch component of the version changed. Good test coverage helps a lot with confidence but the APIs should not have changed between these versions, so theoretically there shouldn‚Äôt be any steps to do on the upgrade besides updating the version and bundling. ",1522420460.0
jemminger,Do you have test coverage?  Upgrade it and see it your tests still pass.,1522384003.0
hoomei,Check out Delayed Job,1522378778.0
doughtz,You could do practically all that with JavaScript / AJAX,1522384300.0
Code4Greatness,"I'm using whenever gem to rake the destroy_post_after_30_minutes tasks. I added a JS based timer that keeps of that particular record. Hopefully, it works the way that I need to lol.",1522524022.0
mizalewski,"Check out Sidekiq. It integrates really nice with ActiveJob from Rails (if you on Rails 4.2 or 5):
https://github.com/mperham/sidekiq/wiki/Active-Job",1523711216.0
janxious,"We've spent a shitload of money on our lawyer to find out what's next. We have a lot of documentation to write between now and May. We have a bunch of tools to write to do the data portability and deletion compliance. We've signed up with a service that deals with DPA management. It's a big ball of wax. There's no case law yet to determine what the limits of the law are, and the GDPR statutes have lots of self-contradictions. In short, there's a lot to do for a lot of people. üòë",1522370881.0
ziptofaf,"> I've been surprised at the lack of articles related to GDPR and custom web apps.

I am actually in the process of finishing one showing how can a basic app that abides to these regulations be built from scratch. Surprisingly enough it's not nearly as bad as I thought it would be. Well, at least when building new ones. Not when you have 500 different tables already... 

Deleting data recursively from backups (since GDPR does not say directly it's fine to have it there) was by far the weirdest requirement to fullfill. Solution we have at our company projects is an additional and separately stored Redis storage with user_id and encryption key. User wants to be forgotten - boom, you just get rid of that particular hash. O(1) performance :P Well, also needed to modify ApplicationRecord so it implements retention policy date (aka you can iterate through all your models and know what should be deleted by now) and implement to_text function for certain models so they can be exported in a readable format if user asks. 

Not sure we are 100% compliant at work (frankly I don't think ANYONE can claim this) but I doubt any penalties would occur since what's left are minor details that do not even break GDPR and are just a ""gray zone"". ",1522390318.0
caadbury,We have a legal team and a compliance administrator. We've built data destruction into our apps and are as compliant as we can be. I just wish there was a GDPR compliance certification so we can appease our customers.,1522371085.0
just-suggest-one,"Ensuring personal data is deletable on request and not propagated to where it doesn't need to be (dev environments, 3rd party services, etc.) are the main things I've seen so far from a dev's perspective. A bunch of ops stuff and documentation is happening, too.",1522374911.0
LivingAnywhere,"Good topic. What about encryption is anyone doing that? We encrypt ou backups using GPG (backup) gem, but at the moment not actual names and emails in the DB. What are your thoughts.

I think its important to understand whats really necessary, and what the epiphany of privacy (but not needed).",1522425753.0
LivingAnywhere,"How far do you go in documenting third parties? I.e data send to intercom, slack, etc?",1522425834.0
etafavoti,"Came across this today and, since it fits the topic, thought I'd share here: https://github.com/ziptofaf/gdpr-rails",1522947066.0
pa_dvg,It‚Äôs been awhile since I ubuntu‚Äôd but it‚Äôs entirely possible that you have the libsqlite-devel package installed which may or may not include a SQLite binary for you to use from the command line.,1522362718.0
jemminger,"The sqlite3 gem is only a ruby adapter to the database. You must still have Sqlite itself installed on your machine.

https://rubygems.org/gems/sqlite3
",1522356225.0
manys,`rake db:create:all` then rerun your migrations.,1522357085.0
hardwaregeek,"Can you run `sqlite3 db/development.sqlite3`? Basically can you manually access the db not through rails, but through the terminal? Because if not, you need to install sqlite in Ubuntu using `sudo apt-get install sqlite3 libsqlite3-dev`",1522359665.0
fogeyman,"Without trying it myself, I believe what's happening is that the sqlite database is installed on your machine but you don't have a CLI installed to access it. Rails can talk to the DB through the gem, but your terminal needs a CLI.

The solution is install the CLI from sqlite.org/download.html",1522363144.0
betterxhalf,"Run ‚Äòwhich sqlite3‚Äô and if it‚Äôs installed on your OS, then you will get a location to where SQLite exists... If not, then you don‚Äôt have it installed. 

SQLite is just documents so it‚Äôs possible that Rails interfaces with the docs through the gem installed on your development env. If you want to access that database outside of your rails code, just run ‚Äòrails console‚Äô and you will be able to interact with your data. 

For example, Micropost.all will get you all of your created Microposts.

But yeah, basically what I believe is that sqlite does not need to be spun up and run like PG, MySQL and Mongo... It‚Äôs just documents saved in a certain structure that you can query using SQL queries... But active record takes care of that.

I say this because I‚Äôve been using rails for years and don‚Äôt recall ever having to spin up an instance of SQLite... It just works. Unlike all other databases I‚Äôve used.

Here‚Äôs a link that delves deeper cuz I‚Äôm too lazy rn:

https://jvns.ca/blog/2014/09/27/how-does-sqlite-work-part-1-pages/

Hope that helps!",1522369247.0
InCaseOfEmergency,Because there is nothing under `private`?,1522348717.0
SagaciousCrumb,"BTW, I just learned that you can prefix `private` to each private method in a class. I find it *way* more readable than some tiny line far far above the code I'm currently reading.  


    private def foo
      ...
    end

    protected def bar
      ...
    end

    private def baz
      ...
    end
",1522362341.0
400921FB54442D18,"I know this isn't specifically what you asked about, but...

Be careful not to take Rubocop's default rule configuration as the word of god. It purports to be a community-driven document, but it mostly reflects the specific opinions (and IMO biases) of bbatsov. Very few of the default configurations are supported by any kind of research, sampling, or democratic process ‚Äì I've literally heard people justify them by saying ""well, this is the default, so it must be right"" with no further thought or reasoning behind it. In my (10 years of) experience, some of the rules actually make reading ruby code _harder,_ rather than easier.

Long story short: like a cat that wants attention, just because Rubocop screams about something doesn't mean you should go out of your way to care.",1522363451.0
trippingman,I assume you mean Checkin belongs_to :event instead of being self referential?,1522352927.0
Trout_Tickler,The primary difference is that Agile Web Development With Rails 5.1 uses Rails 5.1 and Agile Web Development With Rails 5.0 uses Rails 5.0,1522330666.0
dom_eden,The first one has 2% more Rails. The clue is in the version number. ,1522329760.0
tongboy,I'd consider anything rails 4.2 or newer to be 'current' there are differences but they aren't meaningful in most cases.,1522335623.0
henrebotha,What effort does this take away from the Rails dev? ,1522248020.0
owens_trevor,Looks super interesting! Can you explain more the benefit of using this vs what Rails has built in?,1522320463.0
walruns,"Congrats, man!",1522264356.0
tommykk,"I started learning rails in April 2015, and have been spending a solid 60+ hrs a week on it since then between my own projects and a few contracts... I consider myself intermediate level as I haven't had the opportunity to get much mentorship yet. All of my personal projects are at linode (with Capistrano and Passenger) since I am not a fan of heroku pricing, and prefer not to support A to the Z. Heroku however does deserve some props for helping me get projects deployed in the early days of learning. I'm using postgres for all my projects so far, and also Bootstrap for the front end, though will likely replace it with something leaner soon.

I have three of my own projects so far... 

The CMS for https://sexinfo101.com (NSFW). A site I started back in 2001 in flat html originally. Eventually moved on to Drupal... which started out as a blessing, but ended up being a curse... especially after the fork of drupal that integrated with vBulletin died a couple of months after I adopted it. One of my main goals when I started learning rails was to build my own cms for it... the new site launched in Oct 2017 and it has become a pleasure to work on again. It includes a simple forum with a custom avatar system I made that lets user combine 4 image layers to make a custom avatar for themselves, a bucket list / checklist to help people keep track of what they've tried, their favorites, etc... and a lot of 3d rendered illustrations of sex positions and better sex guides.

My newest project is a social bookmarking site that just went into open alpha a couple of days ago: https://webmarks.org  It allows people to collect bookmarks and optionally share them with the rest of the community. Members can follow other members, or just certain folders. I was inspired to build this because of all the censorship happening by the gatekeepers... 

The last that is currently public, http://sagetube.com, is a site that extracts my fav youtube guitar teachers into a stand alone site so that you can search for guitar lessons without all the rest of youtube getting in the way. It isn't very pretty, and has been getting neglected for the past year, but a few friends and I prefer using it over youtube directly when having guitar sessions.

I'm open to all feedback... the only question I have at the moment is more on the JS side... Webmarks is using paperclip with papercrop (a wrapper for jcrop)... It works great on desktop, but it isn't responsive... so kind of a pain to deal with on mobile. I'm kind of holding off on doing much to get it responsive, as ActiveStorage should render paperclip obsolete, but at the same time, I need to start getting over the hump on my JS weakness.",1522265802.0
manys,There are two sticky project threads now.,1522458252.0
huttledotco,"**Name of your project**:
Huttle (https://www.huttle.co)

**A short description**: 
Huttle is a community for career help. We built it because we all remember what it's like to be unemployed and lost or in a tricky situation trying to negotiate a raise or figuring out the next career move, and we don't want it to be taboo to ask for help. You should be able to ask other people for advice and connect about career goals and struggles. 

**Application stack**: We are using Rails and Heroku

**Link to Live app**: https://www.huttle.co

**You experience level** We are a team of 3. 1 is a great engineer with a wealth of experience but not enough time. 1 is a marketing wizard, and me--the founder--is a marketing guy who has been learning programming in his free time to build this crazy idea.

**Other information or areas that you would like advice on** Would love any feedback on the site in terms of features you would like, thoughts on how to improve UX, and if you are in need of career help, feel free to make an account and post! 
",1522710837.0
DehydratingPretzel,"Why do you need a custom gem for a custom app you are building? 

Just throw your classes in the lib directory (structured properly) and go about your day. dont add complexity where you dont need it.",1522342705.0
LivingAnywhere,"Well in the case of rails you'd probably wanna create a rails engine. I've build a couple its not so hard, just reading the rails docs on creating engine was enough to get me going.",1522507904.0
clumsy_shaver,"Although trying to bolt on a design pattern for the hell of it is the exact wrong approach, there is an authentication pattern that crops up repeatedly: the null object pattern.

It's common in Rails apps to have a `current_user` method that returns `nil`when the user is not authenticated. This often results in view code like `<%= current_user ? current_user.name : 'Guest' %>` throughout the app. It's often better to have `current_user` return a `GuestUser` that responds to the same methods as `User`. That makes the view code simply `<%= current_user.name %>`",1522255536.0
X678X,"I would look up articles that talk about design patterns with specific code in Ruby and try to understand them. Then, once you understand what they're solving for, you can implement them into your own project, even if it is partially completed.

Simplicity is subjective and is determined by your ability to learn and how large your project is.",1522241276.0
greymalik,[Design Patterns in Ruby](https://www.amazon.com/Design-Patterns-Ruby-Russ-Olsen/dp/0321490452),1522261883.0
Serializedrequests,"You'd have to invent complexity for its own sake to use either of those patterns. The only times I have ever used an observer in a Rails app, I regretted it.

ActiveRecord is itself a design pattern, the idea that a row from the database can be an object with methods for interacting with it.

How about notifying users of changes to something they care about? Or creating an object to represent a concept that involves multiple database tables? (Could be a decorator or Domain Model.) Most interesting Rails apps require orchestrating multiple models during requests, which you do NOT want to do in a controller. I usually use a Domain Model or Operation pattern. (Service Object is advocated heavily, but has become a meaningless term.)

If you do a search, I'd recommend creating a ""form object"" for that, I don't know if that qualifies as a pattern though.",1522436221.0
danimoth2,"If you're interacting with a 3rd party API, check out adapter/facade. I literally had a payment gateway close while our project was ongoing, adapter pattern made it easy to change the gateway.",1522506899.0
udfalkso,"A bit more adventurous, but you might want to try Elixir/Phoenix.  Excellent for apis, FAST, and just a powerful platform overall.  ",1522177838.0
menge101,"React native is close enough to reactjs, which is in the js world, are you sure you don't want to look at node?

[Node API frameworks](https://nordicapis.com/13-node-js-frameworks-to-build-web-apis/)",1522165721.0
Xxpussy-destroyerxX,theodinproject.com,1522131187.0
oztrax,"Rails is great because out of the box you can use it as ""just an API"" if you want to. 

This might help get you started. https://scotch.io/tutorials/build-a-restful-json-api-with-rails-5-part-one",1522163332.0
pittofdirk,"Express, Spring Boot (Java), Rails, ASP.NET, ASP.NET Core, etc. All have their place.

Tell me a little about your current stack, what kind of architecture you want running your backend, and what you want to do with it.

For example: recently I had to decide on a backend to use for a rest api that would be running in a Linux docker container and needed to connect to LDAP. I initially wanted to go with ASP.NET Core but found out it doesn't natively support LDAP yet so I went with Spring Boot.",1522196200.0
pavlik_enemy,"I suggest trying some of the Node.js frameworks. Modern Rails has rather steep learning curve, relies heavily on meta-programming magic and is a bit dated with the whole server-side rendering approach.",1522243475.0
the_angry_angel,The record and profile are just boring CRUD stuff and probably not specifically worthy of a gem beyond what rails ships with. However for search you might want to use [ransack](https://github.com/activerecord-hackery/ransack).,1522093211.0
bannhaeuser,"for search, try ""smart_search"".... i wrote it, works with plain mysql, been using this for years now in all of my projects....

about CRUD stuff.... you can check out ""active_admin""",1522097866.0
this_is_not_nil,There is a list of Rails search gems here: https://www.ruby-toolbox.com/categories/rails_search,1522107842.0
djfrodo,"https://github.com/elastic/elasticsearch-rails/tree/master/elasticsearch-model

It's pretty great. Basically you need elastic running in your stack, you define what you want to be searchable and you're done.

The syntax in the setup can be a bit confusing, but once you get it running you have a fully searchable dataset, and it's fast.

*edit - sorry I linked to the wrong project",1522118809.0
naveedx983,"You can use Devise for authentication, this will help you get a logged in user setup for the profile editing part.  Tons of examples around to help you get it all wired up",1522132341.0
IrishWebDev,Thanks all. I ended up using elastic search with the tire gem. Works like a charm,1522235029.0
halvster,please post a gist of the JobApplication class so we can see the for_payout method,1522065632.0
dark-panda,Is that selector for `meta[name=‚Äòcurrent-user` correct? It looks like it isn‚Äôt closed off. Don‚Äôt know if that‚Äôs the issue but it‚Äôs the first thing I noticed. ,1522072448.0
SilensAeon,"If the issue is due to actioncable still trying to connect after your users have logged out but have their window open, it suggests that the subscriptions are still executing.

You will need to remove or unsubscribe from these connections client side.
```
App.cable.subscriptions.remove(App.chatrooms)
```
or
```
App.chatrooms.unsubscribe()
```
should work.
",1522092395.0
ScootsMcGootz,"Ruby is a fine language to start with, and rails is a great way to prototype web apps, so you're likely on the right track.

I can't recommend Michael Hartl's Rails tutorial enough, it's a step-by-step guide to building a twitter clone. Unlike most tutorials, a lot of attention is given to the ""why"" of rails development, not just the ""what"". I haven't found a more comprehensive and effective intro to rails development than this.

As with any language, finding success in learning to program largely depends on setting specific, attainable goals and working towards them, so think less abstract and more concretely about your goals (i.e. ""what specifically do I want to build?"" vs ""ruby sounds cool, how do I start?"")",1522012668.0
BankingOn30,Jordan Hudgens Rails Tutorial on Udemy. The best I've found and you make a blog while doing it. ,1522024368.0
vinicomelo,"Tutorials from Mackenzie David is what I used on top of some mentioned above. This guy really explains things well. You'll build sample apps from scratch and that led me to get curious and trying to build my own.

https://medium.com/ruby-on-rails/how-i-finally-learned-rails-95e9b832675b",1522032949.0
zizi77,https://onemonth.com/courses/rails this one really helped me to get started,1522081414.0
nwss00,"Start with Python instead if topics such as blockchain, big data or artificial intelligence interest you.",1522085755.0
God-Punch,"If you're going to look at rails, make sure the tutorial does not put a heavy emphasis on using scaffolding. It's important to know how to create MVC from scratch. This will help with the overall undertanding of why and how the code works.
I would agree with my fellow rubyist that Michael Hartl and Jordan Hudgens. It really depends on if you're good learning with a book or if you're an audio/visual learner. ",1522256730.0
hhthht,"Rails knowledge has become mandatory. All modern web-monolith request/response frameworks were inspired by rails so rails itself is a good place to learn this structure. Rails is comprehensive. Off the top of my head: active record, controllers, views, routing, tests, migrations, dependency management, automated deployment, and an asset pipeline. These are all solid in the rails ecosystem and there is a lot of help online.",1522687590.0
,"    has_one :specialized_user

which will return nil if the user isn't specialized",1522005819.0
manys,Why not just make it an atttribute on User?,1522009283.0
naveedx983,"Can you elaborate on what you're trying to accomplish?

You want to have a collection of users, some that are specialized.  How is the specialization defined?

I feel like you've got some assumptions in your original approach that don't really sound right",1522132711.0
typpex,You should single table inheritance. Create a model SpecialisedUser that inherit from user and add a type column in your Users table,1522116414.0
GroceryBagHead,"I can't really help you with simple_form. I never used it as I felt that it was too magical for my tastes. Always used default Rails form builder.

If you decide to rewrite forms and want Bootstrap 4 formatting for free take a look at: https://github.com/comfy/comfy-bootstrap-form",1522013616.0
ramongr,You might looking for this https://github.com/rafaelfranca/simple_form-bootstrap/,1522077311.0
dfmtl,"Introduce the concept of membership and ownership.
Tenant has organisation through membership.
Membership belongs to tenant and organisation.
Organisation has many tenants through membership.
etc
",1521993777.0
PM_ME_RAILS_R34,"No one answered your question yet - You can do it with the relations you have. 

Organization.rb

    belongs_to :landlord, class_name: ""User""
    has_many :tenants, class_name: ""User""

You may or may not need to specify the foreign_key. I don't think you'll have to, they default to landlord_id and organization_id on landlords and tenants respectively. ",1522007728.0
Shmutt,"Tenant and Landlord are the models, which have a common module User.

Another option is to have User as an abstract model, and then Tenant and Landlord subclass from it. 

In both cases, the tables in your database will be separated as ‚Äútenants‚Äù and ‚Äúlandlords‚Äù and each class can be treated as a first-class entity. ",1522020734.0
blisher,Isn't `has_and_belongs_to_many` what you're looking for?,1522247728.0
BruceNotLee,I would recommend going over [Association Basics](http://guides.rubyonrails.org/association_basics.html),1521992100.0
,"There are a variety of ways to do this - authorization is good maybe - but it sounds like you just need to add a toggle to your users table that identifies whether one is a doctor or a patient...that makes more sense to start, it's simpler
",1521941325.0
nofxsnap,It depends on how close the two models would be. If they are basically the same besides their type it probably makes sense to just have one user model with many types. You might also consider assigning roles to users with something like CanCanCan.,1521935246.0
tumes,"So devise _seems_ like the tool to use for this problem since it deals with authorization, but really, I think you‚Äôre looking for role management. In terms of terrible metaphors, you might have a key to get into your workplace, but you aren‚Äôt necessarily authorized to hang out in an executive office an cut yourself a huge bonus check. 

As such, you probably want to look at the most popular solutions for role management. Most recently, I have used [pundit](https://github.com/varvet/pundit), but there are plenty of other solutions (cancan is/was really popular), so feel free to do some searching for something that feels right to you. It wouldn‚Äôt be the hugest deal to roll your own as an interesting exercise, but it‚Äôs such a common problem that you‚Äôd definitely be reinventing the wheel. 

Edit: I completely glossed over the practicalities of your question involving medical data. Unless you have experience in information security, you should not roll your own solution and you should absolutely do as much research as you can. If you‚Äôre in America there are almost certainly HIPAA compliance regulations that you‚Äôll need to take seriously for your use case, and I‚Äôd bet there are similar regulations in many other countries.",1521961394.0
Philmecrackin,"I've used enum in the user model to do this in the past. Then had a dashboard that rendered a partial for each user so they would see, in your case, a patient dashboard or a doctor dashboard. There's gems that will help, rolify, pundit, authority. Also look at devise invitable for the doctors invite section you want. 

Clinic seems like it would be a location, not a user. Staff can be another enum. I guess it depends on if all your users have the same attirbutes (first name, last name, phone number, age), or if they're all completely different attributes. ",1521962375.0
DehydratingPretzel,Concerned question is this a real app or a test project.,1522172148.0
just-suggest-one,"Devise is authentication (who are you), not authorization (what can you do).

I would suggest having two separate models for Patient and Doctor, but with a one-to-one relationship with User. A bonus of doing things this way is you can have Doctors and Patients who are not users of the system.",1522375427.0
tf2ftw,"    Doctor has_many patients
    Patient belongs_to doctor
    User belongs_to doctor and patient",1521947222.0
Cockadawalk,"If you're modeling the Github permission system, one thing to think about is the different ownership levels for members of an Organization (Users). Members themselves can have different roles and access to a repository, which is not that different from a user-owned repository. I always find that it's best to model the current use-case and not try to over-plan for the future, therefore, my suggestion would be to have an Owner model (as you suggested) which can have a one-to-one relationship with a Organization (could be NULL in the case of a user-owned repository) and a one-to-many relationship with Users. This covers the use-case for the permission structure of organization members _and_ the single user owned repository use-case. The one-to-many relationship would probably be modeled through a join table with an enum field for your various access-levels. You may also find that having a DB backed Owner model is unnecessary and a ""dumb"" Ruby model is sufficient. This solution avoids polymorphism and should allow for straightforward SQL querying through some well-defined joins.",1521929002.0
jordanaustino,"Just spitballing, you might be able to use STI here.

Organizations have some similar settings to users, and some different, so the STI table would only have the similar pieces, everything else would need to be stored in relationships.",1521927280.0
robertross,I‚Äôm writing a video series that actually goes into this type of scheme! You might find it interesting: https://blindside.io/classroom/let-s-build-firehydrant-io/our-database-design,1521935041.0
empireofryan,"Classic has_many :though association.
http://guides.rubyonrails.org/association_basics.html#the-has-many-through-association

    class User
      has_many :repos
      has_many :organizations, though: :repos
    end
    
    class Repo
      belongs_to :user
      belongs_to :organization
    end
    
    class Organization
      has_many :repos
      has_many :users, through :repos
    end

You could run user.organizations, organization.users, user.organization.first.repo, repo.users, and so on from active record.",1521941596.0
dfmtl,you could try looking at the gitlab source code https://github.com/gitlabhq/gitlabhq,1521976798.0
daub8,Your code does an inner join and you're seeing the expected behavior of an inner join. You probably want a left outer join here to guarantee all posts are included. I'm not familiar with squeel but in vanilla Rails you'd swap out '.joins(:comments)' for '.left_joins(:comments)' or '.left_outer_joins(:comments)'.,1521925329.0
so_just,Why'd you need to override the setter? ,1521910771.0
schwashbuckler,"This is how I solved it:
I renamed the association to something else and created new accessors.
A quick insight:
The error that was thrown is because of the getter getting used for presence validation and it should return a model, but because overriden it returned a string.
I wonder if this is somehow doable that the getter for validation is not overriden.",1521947764.0
MCbrodie,"Being prepared to learn and being humble.   It is better to learn and listen than to say ""yeah I know"" and be wrong.  ",1521848118.0
dadadadamattman,"I agree with u/MCbrodie. Be humble and excited to learn. We interviewed a dev today and turned her down because she pitched herself as a mid and asked for a mid salary, when she is definitely junior. If she had been more realistic we probably would have hired her.

Is this the type of internship that is like pre-junior level? Or do they use internships as a trial period for any level of dev?
",1521853024.0
Ugolino_,"Focus on improving your soft and social skills. I had few interns and from a coding point of view they were all excited and ready to learn. They both grew as developers getting to work daily but what made the difference is actually the soft skills. Only one of them focused on other skills, like learning more about the business, about the users, this makes the difference on the long term. So be ready to learn not only about coding but be curious about everything else.",1521904602.0
harbogast,"I'd recommend you confirm that you're actually running in staging env, then output log level, then search the project for anything that might be setting log level after application.rb. Maybe something in the initializers dir? ",1521836827.0
jemminger,Are the normal logs being generated?,1521835769.0
null-undefined,"What is the log level set at? Staging doesn't log SQL by default, so you have to crank up the log verbosity",1521849346.0
muzfuz,"To be clear, you want to log out the sequel string that is being generated by Arel?",1521877470.0
schneems,"I would recommend using postgres for both development and production.

Run `bundle install` locally and commit the changes to your Gemfile.lock and then re-deploy. Should get rid of that error.

Also if you're on a branch you need to run

```
$ git push heroku <branchname>:master
```

If you're not on a branch, then ignore that comment.

",1521770650.0
flt001,"Put your sqlite gem inside this block:

    group :development, :test do
     gem 'sqlite'
    end",1521801797.0
abughat,"if you can call the proper method to generate a real one and put it into a variable without worrying what it actually is, go for that. I err on the side of not stubbing, if I can write the test without it. ",1521769861.0
jakenberg,"Generally speaking, testing is just like coding: separate your concerns. Stubs are meant to allow the developer to do just that.

If your controller is responsible for the work of generating the JWT token, then definitely allow it to do so because otherwise what are you really even testing?

However, if your controller is *not* responsible for doing this (e.g. a service handles it), you should stub it for this controller's test. Then properly test that functionality in the class (i.e. service) which _is_ responsible for generating your JWT.

**Best guess example:**

    let(:jwt_token) { 'call your mom regularly' }

    subject { get :index, as: :json }

    before do
      # This is your stub. 
      allow(controller).to receive(:generate_jwt) { jwt_token }
    end

    it 'sets authorization header with JWT token' do
      subject
      expect(controller).to have_received(:generate_jwt)
      expect(response.headers['Authorization']).to eq jwt_token
    end
",1521770624.0
nthock,"I will write a test helper method to generate the token for the user, pass the user to the method to generate the token, and then pass the token as the header in my request specs. 

If the controller contains lot of logic, I will refactor them to model or service class, then test those logic separately. 

I will only test request specs for authorization - who can access which controller and the error message return when it is not authorized.",1521769440.0
rooood,"IMO, you're testing your controller endpoint, not your app's authentication. Stub it and make sure you also test the case when there's no authentication at all and the request returns a 403 or similar.

The authentication should also be tested, of course, but in a separate spec.",1521815043.0
paneq,"BTW, Recently I covered how to add testing to this setup as it turned out to be harder than I expected https://blog.arkency.com/testing-react-dot-js-components-with-jest-in-rails-plus-webpacker-plus-webpack-environment/",1521717558.0
dvogel,"Don't try to do this in your database. Have a background job index those models in a search service. I default to elasticsearch these days. Include each of your searched fields along with a pair of fields for your model name and id so that you can walk search results back to models to get other non-searched fields you want to display to the user.
",1521724476.0
nicolasMLV,"Maybe SQL is enough, maybe with ""ILIKE"", then in your controller you can query both model :

    part_ids_from_search_on_parts = Part.where(""title ILIKE ?"", params[:query]).pluck(:id)
    part_ids_from_search_on_variant_parts = VariantPart.where(""title ILIKE ?"", params[:query]).pluck(:part_id)

    @parts = Part.where(id: (part_ids_from_search_on_parts + part_ids_from_search_on_variant_parts) )

also maybe check that there is not too much results, or find a way to paginate results... But in a search the logic would be that there is not a lot of results.

2 - Or use elasticsearch with searchkick for example :

    def search_data
     { title: title, variant_titles: variants.pluck(:title) }
    end",1521727641.0
98jetta,give https://github.com/wvanbergen/scoped_search a try,1521748710.0
thibaut_barrere,"It's hard to provide a full answer just based on available information, but roughly you have many different ways to achieve what you have in mind.

Some families of ways to handle this:

* ETL (Extract Transform Load) -> extract from CSV, during the process transform / clean / remap any field, if you don't do incremental reload you could also dedupe in the transform step, then load a ""clean dataset"" into either Postgres, ElasticSearch, etc
* ELT (Extract Load Transform) -> extract from CSV, dump right into ES or PG (mostly unchanged), then modify there (or query a ""temporary dataset"" to do a sort of ETL, clean / filter etc, and pour the data into a more ""final"" destination in the same datastore

What's the most adequate way to do this depends on various factors:

* Do you want to deduplicate inside a single CSV (which can be achieved in memory before loading), or cross-CSVs (in which case you need a business key, with unique constraint, and do ""upserts"", or at least verify if you must drop the rows by checking id presence before)
* Do you have many different CSV formats or are them quite different? (if they are quite different, it's often more easy to go ETL, to have a very flexible & well tested way to verify the mappings & conversions etc)
* Are the outputs mostly largely similar with a bit of different fields, or mostly completely different?

Finally, here are some tools which can help:

* My own gem https://www.kiba-etl.org (which I use both for ETL & ELT scenarios)
* Ruby Sequel https://github.com/jeremyevans/sequel (which is actually used by my upcoming Kiba Pro offer for database related tasks)
* pgloader https://github.com/dimitri/pgloader
* embulk http://www.embulk.org/docs/

If you are into this for the long term, it can be worth reading a book that I [often mention](http://thibautbarrere.com/2015/03/25/rubyists-are-you-doing-etl-unknowingly/), which is the [ETL book by Ralph Kimball](https://www.amazon.com/Data-Warehouse%C2%A0ETL-Toolkit-Techniques-Extracting/dp/0764567578). While quite old, it provides interesting patterns.

Happy to detail this more if you provide more input!",1521732379.0
janko-m,"> These might have duplicates, a million to two million rows.

1-2 million rows sounds fine, in my previous job the most I experienced was handling a Postgres table with 15 million rows.

> but just being able to count how many exist and filter on maybe 15 or 20 or more fields is getting tricky

Yeah, COUNT queries can be really slow on Postgres :/

> The fields can also be dynamic as they are setup as their own table. Any good ideas? 

Maybe some fields could go into a JSONB column?

> Elasticsearch seems great until I start looking for pricing and how much data it can actually handle.

Well, Elasticsearch can handle a *lot* more data than Postgres. In my current job we're using it to handle time-series data, and we receive about 500 million new records each day. It's true that in our situation query optimizations are just a never-ending task.

But with your tens of millions of records in total Elasticsearch should have absolutely no problem handling that efficiently. Count queries are also much, much faster.

In my current job we're hosting the Elasticsearch cluster ourselves, but in my previous job we were using Elastic Cloud just fine (formerly ""Found"").",1521714101.0
ignurant,"Are these projects more like a 1-off ""need the answers for research"" kind of thing, where this data is not relevant to you the next day, or something that you need to make accessible for analytical queries more long term? 

If the latter, I bet ES will be a great, low-barrier fit. The domain of skills and knowledge you are asking about is specifically called ""data warehousing"" and ""business intelligence"". There are some key ideas in this domain that make those types of queries incredibly dynamic and painless. It takes a lot more up front to build and manage, but the end product is quite powerful.

This is the outright jam of /u/thibaut_barrere so I look forward to seeing his thoughts. He often chimes in on these types of topics and maintains a gem for helping get this stuff done.",1521722871.0
kyleboe,"I might consider looking into adding user roles or user abilities (something like [CanCanCan](https://github.com/CanCanCommunity/cancancan)) instead of having an entirely separate model for something that feels more like attributes of a user.

You can roll your own method for `authenticate_admin!` and put it in the `ApplicationController` so it can be used as a `before_filter` in your corresponding admin areas.

Example:

    class ApplicationController < ActionController::Base
      . . .
      def authenticate_admin!
        authenticate_user!
        return redirect_to(root_path) unless current_user.admin?
      end
    end

Then in your admin controller:

    class Admin::SuperSecretController < ApplicationController
      before_filter :authenticate_admin!
      . . .
    end

Maybe I am misunderstanding the problem or misreading the post so let me know if you have any questions/clarifications.

Disclaimer: I have not used Rails Admin before.",1521680510.0
karuna_murti,"You should understand besides authentication there's also authorization. One user may not have the same privilege as other user.  
You can use rolify and cancancan to make roles for devise user and use cancancan to act according to the user role(s)",1521701168.0
niborg,if you explain your problem you might get people to help you out for free.... I've had to deal with this issue generally and successfully written tests for it.,1521667199.0
jakenberg,Why don't you try [timecop](https://github.com/travisjeffery/timecop)? The nice thing about it is it won't unnecessarily slow down your test suite.,1521672394.0
manumanu78781,"i got an activejob that runs a perform later within in

module OneModuleJob
  class MyJobBatch < ActiveJob::Base

def perform
  AsyncJob::AnotherJob.set(wait: 1.seconds).perform_later(id)
end
end

and on my spec i have
RSpec.describe OneModuleJob::MyJobBatch, type: :job do
  include ActiveJob::TestHelper
  let(:worker) { described_class }

 it 'should run' do
      expect(AsyncJob::AnotherJob).to receive(:perform_later).with(anything).twice

      worker.perform_now # 10
    end
end

problem is that the asyncjob is not running? and if i try has_enqueued_job i get 0 as well",1521695263.0
jakenberg,"Developer environments may vary. 
For example, to avoid one of your developers leaving the company and accidentally leaving all of their keys in, say, their `.bashrc`... I recommend [dotenv](https://github.com/bkeepers/dotenv).

One time this happened to us and the dev uploaded their `.bashrc` to their public dotfiles page. Had $10k x 5 in server bills on AWS by the morning!",1521650868.0
daub8,"    NoMethodError (undefined method `users_url' for #<Users::ValidationsController:0x007fbd2bc41040>

My suspicion is that `respond_with` is trying to redirect to the users index action because the user record is valid but not persisted. By convention, `users_url` should be defined when a users index route is defined. Since it's undefined, I'm guessing your `routes.rb` file does not have a users index action.

The solution depends on what you expect the response to be in the valid case. If it were me, I'd not use responders here and be explicit about what to return in the valid and invalid cases.",1521650462.0
Code-Master13,Definitely added this to my list for reading! Thank you. ,1521648082.0
recycledcoder,"So how much traffic do ""most"" apps take? If it's a relatively low volume, having a 1:1 tenancy strategy is probably quite wasteful. This bespeaks of a decent case for containerization as a means to increase utilization of hardware resources and getting a unified install image.

This will mean ECS, sure - but maybe not the whole kubernetes stack - learning/managing it can be a bit of a hassle. So maybe [AWS Fargate](https://aws.amazon.com/fargate/)?

This still means RDS for the database layer. Provisioning that... or at least keeping track of it, could be done with Ansible (again, a bit of a learning curve, but it works very nicely once you get across it).

Once, I dockerized a dozen or so rails apps, and https://github.com/heroku/rails_12factor was of much help... but that was some years ago, I think rails now has options that don't require it. Still, ""some assembly required"" regardless.

I think it's worth keeping in mind that ""scaling"" can mean to many apps, not just many users per app :) A standardized way of deploying, running, logging, debugging, decommissioning applications can have great operational benefits. It really depends on what X you're trying to solve for.",1521628814.0
Gluaisrothar,"Another vote for containerisation.

How are you even patching and maintaining that many unicorn servers? By hand?

This sounds like you need more devops capability.

Monitoring, resillance amd security should also be concerns.",1521641046.0
jeeperbleeper,Not familiar with Rubber but for that many apps worth updating Rubber yourself?,1521624684.0
Steverob91,Check Nanobox out. Might interest you. ,1521650083.0
schneems,"Do you have any kind of ""force SSL"" middleware in your app? If you do, you'll need to have cloudflare SSL set to ""full"" instead of ""flexible"".

Looks like you got it working for now. What did you do?",1521643942.0
ccb621,It's been a while since I worked with Rails. Do you need to configure a test database in `database.yml`? Did you set `RAILS_ENV`? See https://stackoverflow.com/questions/5916126/how-do-i-prepare-test-databases-for-rails-rspec-tests-without-running-rake-spe.,1521591589.0
exegete46,"When testing, your `RAILS_ENV` **should** be set to `test`.  If you don't have your test environment set in `secrets.yml`, then it would make sense that db:migrate (still in `development` mode) works fine, but test:models (in `test` mode) doesn't.

Take a look at `test/test_helper.rb`, which should start with:

    # Configure Rails Environment
    ENV[""RAILS_ENV""] = ""test""

Set up test in your `secrets.yml`, and it should start working.
",1521603243.0
HorrifiedRabbit,"It's going to depends on what you actually did during those 5 years experience and how much you have taught yourself outside of that experience.

Competition for remote is fierce. Probably people with over 5 years and a very well rounded skillset.

Source: working remotely for 10+ years",1521576632.0
lubekpl,"Well that almost always depends on the company. Sometimes they are slow, sometimes they skim through your cv and decide that it's a bit risky to hire someone without remote experience. I've actually landed a remote job about two months ago and have similar experience as you. For the past year though I've been working remotely part time and maybe that was a plus? Also if there's a big time difference it can be a push back. Pm if you want to talk more üòâ

Edit: typos",1521573883.0
Pr0ducer,"I think you have to luck out a bit.  Having some remote experience does help.  

I'm a Python/Django dev, and I had been working mostly remote for about a year (I'm self taught and was working in my first developer job, which wasn't even supposed to be a developer job) when I landed my current gig, but I found the job posted on Reddit of all places, and although I demonstrated the necessary skills and interviewed well, it's hard to claim that luck wasn't a factor.",1521575865.0
ahaok,Hi there! We at https://github.com/zammad/zammad are looking for some new colleagues - including rails devs. Fully remote. Open source. International team. Drop me a PM or contact me at Twitter @mrthorsteneckel if you are interested in working full time payed on open source. Would be great to hear from you. üöÄ,1521583264.0
Moontrepreneur,If you're currently looking for a new opp as a remote PM me. ,1521582120.0
nolamesa,Great question! We over at [Scribd](https://www.scribd.com/) are looking for experienced people for [remote](https://boards.greenhouse.io/scribd/jobs/1083389#.WrF2CZMbNTY). Have a look at our job post and PM me for details!,1521623135.0
thibaut_barrere,"It's much easier to get success if you are marketing yourself on a niche (or a number of them). If your skills are more rare, people will be more willing to accept the remote.

Also, as I [documented it here](https://www.wisecashhq.com/blog/how-to-have-clients-find-you-rather-than-you-chasing-them), it's important to ""plant little seeds"" online, so that people can find you & trust you.

If you do this on the long run, competition is not a problem, and you can filter out non remote clients.",1521732820.0
oowowaee,"I haven't found it that difficult - the caveat being getting the first job is the hardest.  A lot of companies don't want to hire someone who hasn't been remote before because they don't have any proof you can actually be motivated and manage your own time.

Otherwise it's relative.  I don't think I've ever been without a job for more than 3months, but I had offers way faster for semi-present jobs (I've always worked remotely at least 2 days a week) just because the demand in my home city is way higher.",1521596603.0
danimoth2,"Folks, I'm also looking for remote work. I've got 4 years of remote and Rails experience. PM me! :)",1521622168.0
skipthedrive,What sites are you using to search?,1521632206.0
corolok,"I wonder why would a company hire a remote person from US rather than 2-3 people outside (India, Ukraine, Mexico and etc) for the same money?",1521661076.0
clunt_eastwood,"It‚Äôs going to be hard as fuck the first few years until you land several gigs with different clients and they start calling you back or referring you to other companies. the major problem with working remotely is that you have to build a ton of trust with your clients and this is not an easy task. One way to do it but I am not certain your personal situation will permit is to target companies that are at commuting distance and offer them to work on site the first month or a few days a week to let them get to know you and see by themselves how you do work. Another way and i wish someone had told me so earlier is to stop marketing yourself as an individual software developer but to team with a designer, a solid front end dev or two and may be another backend dev to present yourself as a small dev shop that can tackle a project from start to end (even better if someone in the team has some de ops expertise). Finding your first client won‚Äôt be easy but you‚Äôll land better/bigger gigs than what you would have as an individual and you‚Äôll be able to markup your hourly rate by at least 30%. One last thing and it goes the same as a solo dev or if you work in a team and this is to NEVER accept fixed bid projects unless you need that to bootstrap your consulting business and in that case be ready to work for free toward the end to finish the project and make your client happy. ",1521599631.0
thedudewiththething,yes plz,1521554614.0
nonsenseless,"Don't take this as authoritative, but I think you're probably conflating the workflow and the authorization. The authorization/ability for Update might say, ""If Document is in X state, User must have Y role to edit"", but I think the logic handling ""This is automatically approved"", ""This requires 'Bob'"", ""This requires ""Alice"" needs to be handled at a higher level.

So a User uploads their document. Part of the processing involved should be ""Does this require authorization?"" and then stamp the appropriate state on it.

On the approval side, you might consider using scopes so that either Bob or Alice see corresponding documents that require their approval.

In the CanCanCan layer, you'd just check to confirm that they have the authority to approve that document.",1521552680.0
NilsLandt,"> I want to use ""name"" column in the Person table as the foreign key. 

What is the rationale for that? Zero upside, lots of downside.

>  But the problem is for some reason the column should be named ""subject_name"" in the join table.

Are you sure you understood the requirements correctly? `subject_name` should be the name of the person, not the subject?",1521551360.0
robertross,"Hi all, I've posted portions of this series here before, but this is a pretty good milestone. I've been slowly but surely working on this series where I created a Rails application from scratch and this portion I just finished and uploaded is the first CRUD portion of the application. No account required, just enjoy and leave any feedback should you desire to!",1521518827.0
mydickinabox,"If you‚Äôre professional and email the correct hiring manager it doesn‚Äôt hurt. If anything, it shows you‚Äôre actually interested in the role and care more than many candidates who just spam their resume everywhere. As a hiring manager I‚Äôd probably just forward it on to the recruiter and let them take it from there, although I would likely remember you if you made it past them.",1521521131.0
menge101,"IMO/IME - I have a ""public API"" for applying for my open positions.  You are a software engineer, you should appreciate what that means.  There are all kinds of 'hooks' that fire off of that.

Its how you get in the recruiting system, which after an HR specialist reviews it, will send me your resume, and I can reply to that system with my thoughts and next step recommendation.

It also keeps track of you, so I don't forget about you.  Which I might, because I am an engineer.",1521548167.0
grftoi,"Tricky because your quantity might be 3,4,5 after clicking ""+"" 3 times, but the responses might come in the order 3,5,4. So your last update would show 4 even though the server has 5. Since addition is commutative you could fix this by doing the addition locally and rolling it back only if you get a failure. That would be instant visual feedback. Maybe you could try a combo of the two... Or you can just disable the + and reenable on success.",1521500264.0
rafath,"Thanks for replies, actually it will be cart in restauranta, so sometimes there could be situation when two or more waitresses would try to order meal, which is almost out of stock, thats why I need real time stock... or maybe another idea is to load stocks from backend (when new order is created...)",1521535832.0
blueflame9t9,"I think you should stick to building the simplest solution first, which is a form POST that validates quantities only on checkout, and shows a flash error message if the quantity was recently depleted.

I think you're underestimating how hard this feature is to build (I'd estimate 15x to 50x more time to build than a simple flash message on checkout POST as I described). I think you're also overestimating how important this particular feature is. If this is something a product owner or designer thought of, I'd send strong pushback their way.

The scenario you're thinking of, is not going to happen more than once in a very very long while. And even if it does happen, the business impact is nil in the simple solution. Your system shows an error on checkout because of 0 quantity in the database.... So really you're never going to have any business impact because of the problem (i.e., the restaurant's customers will never get affected... And the waitstaff are internal, so they won't really mind seeing the error on checkout as long as your UX and messaging leading up to that point is appropriate). Therefore it makes no sense to predicate your architectural choices on this edge case.

And also, once the qty hits 0, you can grey out that item on the menu, so the waiter can never select it until replenished. The waiter won't have the problem you described more than once per replenishment.

If you observe how waitstaff place orders, it's highly unlikely that two waiters will place the same order at the same time for an item. Its MUCH more likely that they will access the system a few minutes apart, at which point your system will show a greyed out menu item to the 2nd waiter because the 1st waiter has already depleted the stock.

TL;dr: don't worry about the case you're describing.
",1521552469.0
iaan,"You can't cut out delay caused by network requests... It may be fast from your fast 100Mbit connection, but on the mobile it will be slow anyway. So it doesn't matter much if you'll make get/post request or use something like websocket message (although this one may be slightly faster).

What matter more whats the business value behind this. Is your stock/inventory moving really fast so you can't afford just checking stock values at the next step of checkout, or just on every cart update?",1521498021.0
oztrax,"I don't believe you can upload or store files on Heroku at all -- you *have* to use some other cloud storage (S3, Azure) for the file and just store a reference to it in your database. [edit] -- ha, just realized you know this already, sorry I misunderstood.",1521498164.0
Hell_Rok,"If heroku actually lets you save the file but deletes it later it should be as simple as creating a method that looks like:

    if File.exists(path_to_file)
      path_to_file
    else
      path_to_placeholder
    end

Carrierwave should be able to get you the full path of the file very easily with current_path and Rails.root",1521507307.0
eddkerr,"I think we would need to know a little more about your code around this feature. Are you using tools like paperclip or Carrierwave?  

",1521505889.0
flt001,Setup IAM just for the app and you‚Äôll have no issues. It‚Äôs not as painful as it sounds. ,1521535255.0
derek_dyer,"In https://github.com/piotrmatusik/railsapp/blob/master/test/integration/users_edit_test.rb

I would start by moving ‚Äòlog_in_as(@user)‚Äô above get ‚Äòedit_user_path(@user)‚Äô
   
I suspect the issue is that this controller action requires authentication but you are trying to visit the URL before you‚Äôre test is authenticated. 

Edit: on mobile. Sorry for lack of formatting. ",1521467975.0
mysteryihs,"After tinkering with your code, it seems the problem is in line 57 of your users_controller.rb.

Hartl's original code is

    redirect_to(root_url) unless current_user?(@user)

Which checks to see if current_user == @user, if so return true or return false and redirect.

Your code is 

    redirect_to(root_url) unless @user == current_user?(@user)

Which if I'm reading correctly checks to see if @user == true or false, assuming that current_user? method returns true or false. This would mean everytime you try to edit, you would be redirected to root_url.

As for future coding, you should compare your last successful tests with your unsuccessful ones and see what you changed and narrow it down from there.",1521492997.0
ncuesta,"It aims at deep duping nested structures, duchas Arrays and Hashes. Take a look at the full source:

https://github.com/rails/rails/blob/master/activesupport/lib/active_support/core_ext/object/deep_dup.rb",1521456513.0
hernanat,"Glad you are enjoying it so far :)

I wouldn‚Äôt use sessions. People have a horrible habit of cramming things into sessions and that is something I would encourage you to kick early on.

I would instead recommend that you use something like a LikedPost model which has the user id and post id as foreign keys. When a user clicks like on a post, you can create a LikedPost; when the user clicks unlike, you would destroy it. You could also add a unique index on (user_id, post_id) to prevent a user from liking the same post twice. 

I think that the rest follows quite naturally, but if you are still stuck feel free to ask questions. In fact, I think this approach solves and simplifies the issue of the liked state not persisting, as long as you utilize LikedPost properly.",1521433983.0
grftoi,"Write a helper in app/helpers/... that reads your session variable and returns the style you want, then use that helper in your view. You can use this helper in your Ajax js.erb too, for DRY.",1521470482.0
wikitih,"You may want to use enviromental variables as an ERB template:

	# config/database.yml
	development:
	  adapter: postgresql
	  database: blog_development
	  username: <%= ENV['POSTGRESQL_USERNAME'] %>
	  password: <%= ENV['POSTGRESQL_PASSWORD'] %>

You may also try to use `Rails.application.secrets` on that template, and see if that works:

	# config/secrets.yml
	development:
		postgresql_username: my_postgres_user
		postgresql_password: <%= ENV['POSTGRESQL_PASSWORD'] %>
		
	# config/database.yml
	development:
	  adapter: postgresql
	  database: blog_development
	  username: <%= Rails.application.secrets.postgresql_username %>
	  password: <%= Rails.application.secrets.postgresql_password %>

Read [this](http://edgeguides.rubyonrails.org/configuring.html#connection-preference) for more information.",1521372538.0
,"If your app is frontend heavy, webpack/yarn and other JavaScript tools are very useful. ",1521340235.0
alexdeluxe,Any reason not to use webpacker? ,1521346469.0
nielsbuus,"I have been trying a few times to adopt webpacker on new projects in favor of the asset pipeline in an attempt to adopt what appears to be the future.

However, each time I have ended up thinking ""this cannot be serious"" and I ended up postponing the adoption, because it felt clunky.

First of all, when I install something through npm, it seems to include a astounding chain of dependencies. I tried Bootstrap 4 and I believe I ended up with thousands of node modules taking up hundreds of megabytes.

I feel like you must take a leap of faith as a developer to adopt this. With such a complex dependency chain, it seems difficult, if not unfeasible, to audit the code or determining if the authors are trustworthy. And as the dependency version requirements are often open ended, you really have little chance of tracking what is happening when you bump your assets.

Comparing this with dropping a set of assets into the vendor folder once and seeing what you are adding, it really feels like giving up a lot of control for an untangible benefit.

On top of the swirling torrent of dependencies, it also seems that webpacker/yarn itself is harder to get set up with than the asset pipeline. Of course it may boil down to familiarity with your tools, but the asset pipeline comes with Rails when you bundle install, while webpacker requires you to manually install yarn and webpack in recent versions behind the scenes and as such, adds additional steps for setting up the project on a new dev machine.

It's plausible that I would feel more confident about webpacker, if I did a real nodejs project, but so far I'm so accustomed to Ruby on Rails, that I have no idea why developers are jumping to Node/ES6 in droves.",1521377778.0
joshiekins,"If you're using React on your front-end, I would say it's worth it. Makes bridging the two a breeze!",1521364295.0
jemminger,"I've been using Rails 5.1 with webpacker, and the experience has been almost effortless.",1521386000.0
acdesouza,"Like every question in programming world: It depends.

At my current job, we have a couple of highly front-end projects.

An institutional site, with some data coming from our main project. And an SPA using an API provided by this main project.

Since the main project is a Rails app, we created those other two project as rack apps. And to manage assets(JavaScript, CSS) we use Sprockets.

But if you use a node.js app I'm not sure if Sprockets will fit your problem.

By the way, if you got interested in how we do this. On our rack app, we added two methods to concatenate and minify those assets and serve them at /assets/javascripts/application.js and /assets/stylesheedts/application.css. Actually, those methods are very simple:

    def javascript_include_tag(js = 'application', options = {})
      if ENV['RACK_ENV'] == 'production'
        asset = self.sprockets[""#{js}.js""]
        href = ""/assets/javascripts/#{js}.min.js?#{asset.digest}""
      else
        href = ""/assets/#{js}.js?""
      end

      %Q{<script src=""#{href}"" type=""text/javascript""></script> }
    end


And the sprockets method which config Sprockets:

    def sprockets
      Sprockets::Environment.new.tap do |environment|
        environment.logger = logger
        environment.append_path 'app/assets/javascripts'
        environment.append_path 'app/assets/stylesheets'
      end
    end",1521393562.0
,No thx. I can‚Äôt deal with all the dependencies.,1521382866.0
HeyCanIBorrowThat,If you want to use webpack properly be prepared to read a LOT of documentation. Make sure you understand it fully before committing to anything. It can be a gigantic pain in the ass when it doesn't work.,1521414171.0
coderhulk,Checkout the three part series from Evil Martians regarding setup and using webpack https://evilmartians.com/chronicles/evil-front-part-1,1521423814.0
Americanstandard,https://me.me/i/you-dinosaurs-have-probably-never-seen-webpack-this-makes-me-13933008,1521424519.0
dkdkdkdkdkdkdkh,Try babel-node instead of node?,1521340266.0
SminkyBazzA,Have you tried adding stimulusjs to your rails app via yarn yet? Does that have the same problem?,1521362263.0
john_beatty,"I found reading the first few chapters of this book very helpful for just getting familiar in setting up webpacker, and using it to include Bootstrap: https://pragprog.com/book/dcbang2/rails-angular-postgres-and-bootstrap-second-edition
 ",1521551582.0
htom3heb,"If your users expect an app like experience, you'll be writing a lot of JavaScript. Webpack makes this *so* much easier once you get over the initial configuration hump. Take 2 - 4 hours to struggle setting up a simple webpack config manually, once it clicks it's a phenomenal build system.",1521597901.0
NilsLandt,"Smaller business logic frameworks would be [mutations](https://github.com/cypriss/mutations) and [ActiveInteraction](https://github.com/AaronLasseigne/active_interaction).

They would replace the operations (and parts of reform) of TB.  
Personally, I wouldn't use either of them over TB, they still add complexity, but don't offer too much over self-written stuff. YMMV of course.

If you want to start simple: create POROs for your ""operations"" with 2 public methods - initialize and run (or call, execute, apply, process etc.). Put your logic in them, create / execute them in your controllers.  
Call them services, workflows, procedures, operations, scenarios, whatever.  
try to put no persistent state in them - let them do their thing, return some sort of result (`true` / `false`, model / nil, small result object).  

This fulfills a number of your criteria: it shouldn't slow you down much at all, it's simple, fairly maintainable and easily unit testable.

If you would like to research a different approach, look into DDD. The [Arkency book](https://blog.arkency.com/domain-driven-rails/) should make for a good start, with the [original DDD book](https://www.amazon.com/Domain-Driven-Design-Tackling-Complexity-Software/dp/0321125215/) giving quite a bit more background information.

> I'm not coding SPAs, so I still need awesome logic for Views / Presenters.

If you liked the Cells from TB, you can use them without using the rest of TB.  
If you want something simpler, use a decorator like [draper](https://github.com/drapergem/draper) with ERB or Slim.",1521314074.0
meagar,I honestly don't understand what part of *vanilla Rails* doesn't *more* than satisfy your requirements. Why are you set on picking something *on top* of Rails?,1521336811.0
janxious,You might check out padrino and hanami. They are both non-rails frameworks that give you some nice defaults.,1521322526.0
darkclark,Hanami,1521320609.0
GroceryBagHead,"I'm very curious about move from Phoenix to Rails. Usually it's the other way around. Agreed about way smaller ecosystem, but that's a great opportunity to contribute, no?

Stick to default Rails structure. No need to over-engineer until you need to. ",1521312722.0
bhserna,"In my team we have this 5 rules that help us to...

* Keep our business rules clear and separated from Rails
* Make changes fast and with confidence
* Delete code with confidence
* And have fast tests

1 - We try to keep all the business rules behind module functions...

We prefer to use module functions as the interface to our business logic, because there are times when the logic is so simple and there are times when the logic is very complicated. And this let us to decide if we should use an object to solve the problem or just 
writing some lines of code, case by case. 

An example of some functions of a module that we have could be...

    module Projects
      def self.admin_projects_list(projects_store:, instrument_translator:, date_formatter:)
      end

      def self.publish_project(project, current_time:, projects_store:, project_status_cacher:)
      end

      def self.teaser(project, translator = nil)
      end

      def self.rates_for_project(project)
      end

      def self.status_for_project(project, current_date = Date.current, from_cache: false)
      end

      def self.add_termination_date_form(project)
      end

      def self.add_termination_date(store, project, params, project_status_cacher)
      end

      # ....
    end

2 - Call this functions inside Rails controllers/jobs/models/mailers...

Something important is that we try to not call functions of nested modules... so we can call `Projects.publish_project` but NOT `Projects::Publisher.call` or something like that. This is important because this help us to change and delete code with confidence.

3 - In this modules we don't have a direct dependency to Rails stuff...

We can include libraries like ActiveModel or ActiveSupport but all specially all ActiveRecord or ActiveMailer clases should be injected dependencies.

    class ProjectFundingTerminationsController < ApplicationController
      def destroy
        Projects.revert_funding_termination(
          project_id,
          projects_store: Project,
          receipts_cancelator: ReceiptsCancelator
        )
        redirect_to admin_projects_path
      end

      # ..
    end

4 - All our tests are through this module functions

So we are going to test this functions just like the Rails components will use them.
We don't test directly internal clases or methods. This is what let us refactor without changing our tests.

5 - We don't use active record in our tests

This is because thanks to it we have very fast tests, and because we try to be explicit about what we are using from active record.

We do things like...

    before do
      @user = user_with(first_name: ""Maria"")
      @project_one = project_with(
        fixed_annual_rate: 11,
        execution_date: Date.new(2015, 10, 8),
        investments: [investment_with(amount: 100_000, user: user)])
    end

    def project_with(attrs)
      FakeProject.new(attrs)
    end

    def investment_with(attrs)
      FakeInvestment.new(attrs)
    end

    def user_with(attrs)
      FakeUser.new(attrs)
    end

    class FakeInvestment
      attr_reader :id, :date, :user, :amount, :user_id, :project, :project_id, :investment_type

      def initialize(attrs = {})
        @id = attrs[:id] || SecureRandom.uuid
        @date = attrs[:date]
        @user = attrs[:user]
        @user_id = attrs[:user_id] || user && user.id
        @amount = attrs[:amount]
        @project = attrs[:project]
        @project_id = attrs[:project_id] || project && project.id
        @investment_type = attrs[:investment_type]
      end
    end

I am not sure if you can take everything from this, but maybe can give you some ideas to try =)",1521601789.0
obviousoctopus,"I recommend taking a look at the interactor gem as a useful pattern for business logic. POROs are also good. 

https://github.com/collectiveidea/interactor/blob/master/README.md",1521613922.0
menge101,"Maybe [Sinatra](http://sinatrarb.com/)?

Trailblazer is itself 'an alternative' to traditional rails.  So it kinda depends on what you mean by an alternative to trailblazer.  Trailblazer is also the most recent note-worthy framework/whatever that I'm aware of.

Take a look at [this listing](https://github.com/planetruby/awesome-webframeworks).

The further you move from the established frameworks like rails, sinatra, etc the less of an eco system you will have.  If you thought the phoenix eco system was too small, you probably won't be too happy past sinatra. (YMMV, IMO/IME, etc) ",1521311729.0
coderhulk,"Interactors (https://github.com/collectiveidea/interactor) or mutations as previously mentioned. You can also build your own classes to achieve the same goal and dsl eventually.

Alternatively checkout dry transactions (https://github.com/dry-rb/dry-transaction) or build your own similar using dry validations and dry matcher.

Otherwise actions in hanami are quite nice.",1521424024.0
GroceryBagHead,Slim/HAML are modern options. Use those and stop banging rocks together. ,1521300426.0
amadman114,"I think the most mature library for this is [Arbre](https://github.com/activeadmin/arbre). That being said, IMO using this is only appropriate if you're doing some metaprogramming shenanigans. If you're just building views, looping through collections and interpolating variables, I'd stick to using a normal template engine.",1521303813.0
paneq,">  I found Crafty but last time that was updated I had a different wife, car, house, and job. So what gives? Aren't there any modern options?

If you don't like what you found and you have spare time and energy, feel free to build/fork your own solution and maintain it.

> I prefer do/end

Me too. That's why I can use HAML but I would prefer not to.

> Do ruby coders hate ruby so much that they need a template language to write essentially 99% ruby code?

I am not sure what is that even supposed to mean.",1521303776.0
paulcsmith0218,"I'd never seen Crafty before but it looks a LOT like what I ended up doing for Lucky: https://luckyframework.org/guides/rendering-html/

I agree that doing things in pure Ruby is nice in part because you get partials/helper methods for free. They're just regular methods you can mixin with a module if needed. In Lucky it's nice because it is also type safe. You declare what the page needs to render ahead of time and it ensures you don't accidentally forget a parameters or accidentally try to render `nil`.

Something similar (without the type checking) could be done in Ruby. The bulk of the code is actually really simple. This is in Crystal, but you could pretty easily convert it to Ruby: https://github.com/luckyframework/lucky/blob/master/src/lucky/tags/base_tags.cr",1521728094.0
iaan,"> Aren't there any modern options?

Write API and build frontend with Javascript ;-)",1521321447.0
das3ingg,"If you're just learning Rails for the first time and are pretty new, no I don't think it's worth it.

If you're pretty fluent in Ruby/Rails and are looking to learn do more complex concepts and tools, then yea for sure. And age is a dumb metric for quality. VIM, testing etc don't change very often if at all. ",1521296839.0
andyw8,"There's no trial as such, but:

> If you don't love Upcase, just let us know within 30 days and we‚Äôll refund your money. It‚Äôs as simple as that.

There's a lot of really good content on there, even though it's not updated so much these days.",1521322887.0
skyksandr,"Used to be their subscriber for 3 month, learnt a lot. If there will be 1 new trail/month I will be their subscriber until now.",1521563833.0
mysteryihs,"Read what the error is telling you. The errors occur when the user makes a successful or unsuccessful edit, and it is expecting a wrong redirect and wrong render.

Also, the code you posted on github is outdated and missing the relevant code.",1521256953.0
GroceryBagHead,"That is odd. Django is there, but not Rails? Wat?",1521236892.0
moffman3005,"That's just like, some opinions man",1521236928.0
hmaddocks,As long as I‚Äôm getting the big bucks for Rails work I don‚Äôt care. ,1521253912.0
,"1. 20% of them are students. Not only is Rails seldom included in any curriculum, but new devs are not learning it, in favor of Node, etc.

2. Only 20% of these respondents are American. Rails is much more popular in the US than elsewhere.

",1521245582.0
k1r8r0wn,"There is no Phoenix either, but I think it‚Äôs popular in minimum 1% of developers...  and in general I agree with the author of the post.",1521250655.0
meagar,"> There is no fucking single reference to Rails as a framework or anything

Why are you personally offended by this? I agree it would have been nice for it to be included, but take it down a notch.",1521246680.0
virtyx,"For a lot of people, Ruby implies Rails. There are tons of questions like ""How do I validate a model field in Ruby."" You do not see the equivalent in Python (e.g. ""How do I login a user in Python""), they'll specifically mention Django or Flask (or Pyramid or web2py or sanic or...)",1521266307.0
hmans,"A certain part of our industry feeds off the ""if it's older than a couple of years, it's not good"" narrative, and SO is very heavily invested in cultivating it.",1521276798.0
in0pinatus,"Don't sweat the internet popularity contests. No-one will lie on their deathbed wishing that <favourite framework> got more recognition or that they got more upvotes or GitHub stars etc.
",1521281344.0
polyglotpurdy,"Notice the fine print on the question specific to frameworks:
>51,620 responses; select all that apply

Perhaps someone goofed and rails got filtered out? If you're interested dive into the full dataset once it's released
>Want to dive into the results yourself? In a few weeks, we‚Äôll make the anonymized results of the survey available for download",1521245807.0
jdickey,"It may be that their survey asked for ""Ruby on Rails"" and there are plenty of Ruby shops now that have moved on from Rails. It may also be that Rubyists, especially Rails folks, no longer find Stack Overflow as useful a resource as in years past, and so were under-represented in the survey.

Rails isn't going away, and Ruby *certainly* isn't going away, and you can thank `$DEITY` and/or Matz that the two are no longer as synonymous as they had previously been perceived.",1521273941.0
tinco,"It says 10.3% of the developers were using Ruby. It means that of those 10.3%, 87% either did not use Rails, or did no web programming at all.

That does seem a little bit suspect to me. I know Rails is less popular amongst Ruby developers, but not by that large of a margin. I also know lots of system administrators and scientific programmers use Ruby, but surely they don't exceed 80% of the Ruby userbase on SO?

I would expect Rails to be at least 3-5%, or 30%-50% of the Ruby coders.",1521297560.0
ryenski,"It does seem odd, considering ‚Äúruby-on-rails‚Äù is not exactly an unpopular tag on SO",1521290539.0
flyerguymn,"Regardless of personal opinions about the Rails framework itself, this is clearly just an error. There are seven pages worth of Rails questions asked on StackOverflow in the past 24 hours. The framework is clearly still in wide use. As a manager in a Rails dev shop who looks at year-over-year trends of the web framework landscape, this omission is annoying because it means the survey report is not reliable as a representation of the current state of software development. We'll see once the raw data comes out what actually happened.",1521483145.0
motikor,"Its time for ""Is Rails dying ?"" posts
/c",1521267553.0
,I was also surprised. I'm only a ruby hobbyist nowadays because I work at a company that's dedicated to .NET but I was still a little sad.,1521249622.0
DeltoidSchizachyrium,"The selection seems a bit arbitrary, anyways...",1521270149.0
witchofiza,Strange. But I recently had to spin up a web application to handle a large Postgres database and rails is what I reached for. It was by far the fastest way to put something together and be confident it‚Äôs ready for production/secure. I love not having to worry about things going wrong. Now performance wise? It‚Äôs okay and maybe that‚Äôs why people use other things.,1521569521.0
Node_edm,"Ok, this thread is hilarious. I get it, I would be mad if the technology I worked with wasn‚Äôt mentioned. It‚Äôs like this. The less people working/learning a technology the higher the salary for people who know it....until it dies lol. 

DotNetMasterRace tho. ",1521840841.0
Mallanaga,It‚Äôs dead. RIP,1521259612.0
GroceryBagHead,"Great guide. Wish I could see it.

Also, I always recommend just installing some sort of Linux under VM to do any kind of development. Less issues that way.  ",1521226485.0
grifftaur,"So there's actually an easier way to install Ruby on Rails on Windows that I learned about today and installed myself. I discovered that with Windows 10 Creator Edition (most recent version of Windows) that Linux and bash are baked in that you can set them up and start coding. I followed this [tutorial](https://www.youtube.com/watch?v=On0R1qCNxHM&t=2s). Link to download [Ubutu Windows store download](https://www.microsoft.com/store/productId/9NBLGGH4MSV6). Also the [explanation](https://stackoverflow.com/questions/39886862/the-lxss-folder-in-windows-for-bash-on-ubuntu-on-windows-is-missing) for how to find the folder for your project. OP the guide you has works, but I think this is an easier alternative if everyone has Windows 10. In the description below the video the creator has a link directly to all of the commands he uses in the video. Hope this helps!",1521237067.0
Trout_Tickler,"[Gorails](https://gorails.com/setup/ubuntu/17.10) has setup guides for every major linux distro, OS X and Windows.",1521244127.0
dogewatch,"Aws cloud9 is always an option too. There are few downsides to beginning familiarity with a cloud provider, especially aws. Free instances for a year, though you do need a valid debit/credit card(no charge)",1521241340.0
brainbag,"I'm curious why you are trying to avoid 50mb. I've worked with massive repositories before (games), 50 mb is nothing. Our web app right now is 600mb. You didn't mention what source control you're using, but if it's anything even remotely modern, it should be a non-problem.

If these files are required for running tests, I think it's a very poor choice *not* to put them in the repository, where they're safe and can be versioned along with the tests that use them. If you have to change a test, and/or change these files, now you've got version misalignments, just to save a little repository space (but no actual disk space). Plus all your developers have to change them again, etc. 

You may have more information than you gave us, but I honestly can't think of any compelling reason not to keep them in the repo.",1521222845.0
GroceryBagHead,"Do files need to be 50+ megs? What's the absolute minimum you can use for testing purposes? Unit testing is not performance testing. So you should be able to use csv files with 10 lines in them instead of 1000s of lines, for example.",1521228081.0
jasonswett,"I would personally be inclined to just put the files in source control.

There's something else I would probably do as well, which is to reduce the dependency on the files if possible.

I'll give an example of something I've done in the past. I've written some CSV-loading functions before. I'll often create a class called ImportFileRow or something like that (preferably something more specific if possible) that represents one row of the CSV.

Then I can write tests that verify that when this class gets a hash of data, it saves that data to a database record. The fact that the data originates from a CSV is irrelevant at this point.

I realize that this tactic is not always possible. It also usually doesn't altogether eliminate the need for an external file. But it can help.",1521233047.0
sprayAtMeBro,"FWIW it‚Äôs probably fine to repo them, but you run the risk of bloating your production instances unnecessarily. Frankly I‚Äôd either use S3 or a bind at build/test time to avoid doing that. 

Assuming you‚Äôre using containers, could you just make a data container and link it at test time? Pretty seamless. ",1521233527.0
Simonchibao,I do it all the time and never had a problem with it. It's a great way to reuse code and keep everything simple without going nuts with a fullblown front-end framework.,1521174708.0
mrPitPat,"I just started a new rails 5.2 app and i'm glad this was brought up because i've had some recent feelings on it.

On the one hand.. i love rails. I love developing apps in the full rails stack. I think it takes away from the enjoyment when I have to use a front-end framework like React or Angular. Nothing against those guys.. i'm a big react fan. But if I have an app that needs heavy react, i would just do it all in React and have the app digest an API (possibly from rails). Integrating react/angular/vue in an rails app kind of takes us away from the rails ecosystem (no remote: true for easy ajax on forms anymore unless you want to handle ajax:success on your own). Respond_to's everywhere mudding up my controllers, or a completely different set of API routes.

But on the other hand.. it really rubs me the wrong way to send js from the server. Personally, I hate the js.erb technique and anyone that's never used rails for anything looks at you like you have two heads when you explain how to add a new Todo from the list. Not saying it's a bad technique, just personally i'd rather digest json.

I want a powerful javascript front end capable of managing state, ajax, etc.. while also being tied in completely into the rails workflow. I was hopeful that Stimulus would be that bridge, but it still requires you to use the js.erb techniques for server side requests (unless you want all the setup work i mentioned before along with something like fetch or axios)

Maybe it's just wishful thinking.





",1521212006.0
Serializedrequests,"I don't recommend doing this. Having worked on codebases that did this all the time (and currently working on a really nasty one), I can tell you that the issues are 1) maintainability, and 2) security.

1.) Generated code is hard to debug, period. It's worse if you mix languages, and using Ruby to generate JavaScript to generate HTML is a complex mix. I could barely follow your example until I read it a few times. And now that I know what's going on, I can still tell you that you will not have fun if it breaks and you have to debug it. You sacrifice easy understandability of what JavaScript is being executed and how to work on it with this kind of code.

I have nothing against serving snippets of HTML from the server, and using client-side code to inject them into the page. If you don't need a front-end framework, this old-fashioned technique can be a great time-saver for appending a row to a table or updating an element. **Go SPA if you are doing anything complex.**

2.) Most sites nowadays should be using a content security policy. If you are using a CSP header, you have to allow ""unsafe-eval"" for your script-src policy. Maybe it's not a big security hole compared to XSS or SQL injection, but I'd rather not if I don't have to.",1521214111.0
,"Not a big fan of js.erb, mostly because all too often, I see it used for what should left to a frontend framework like React.",1521173672.0
,Most non-tech people - and even some developers - don‚Äôt know the difference between Ruby and Rails.,1521173928.0
phoger,"Google should lead you to more specific information in this case.

When I get such requests from hiring companies, I simply move on to the next buyer. And it's funny how often I'll see them reposting--apparently nobody else likes this shit either, and/or the companies are completely unrealistic in their expectations. (Though we knew that at the beginning, based on their use of such tests.)

These tests are all bullshit from used-car salesmen, and gullible companies who subscribe to these services, thinking they can magically outsource their ""risk"" and buy assurance for the cost of a monthly subscription.

Most hiring companies--especially clueless CTOs and ""Leads"" who have no business trying to assess and hire other humans--are stupid, and missing out on qualified and experienced candidates.

Perhaps things will change if more collective attention is brought to this issue.",1521177124.0
FrozenArtist,Maybe they are going to force you to do the test in Ruby ?,1521168846.0
justin071894,"I‚Äôd refer you to MSDN for setting up TFS, but you can definitely host git repositories inside of TFS. You can also have your repositories based on the TFS-proprietary Team Foundation Version Control. This requires you to check individual files in and out and I wouldn‚Äôt recommend it. 
If your company doesn‚Äôt require you to host your instance of TFS onprem, you can use Visual Studio Team Services, which is just TFS hosted in the cloud by Microsoft.",1521156562.0
jP_,Why would you event want that? Lol ,1521174849.0
jeremywoertink,"I actually had to do this at a job. I worked on my mac, pushed to github through git, then on my windows box, I just synced from git to TFS. As for *how* I set that up, it was a few years ago, but it didn't take long with enough clicking around. But you can also just use TFS directly with VS or VSCode if you want.",1521156829.0
ccb621,"TFS, Git, SVN, etc. are all SCM servers that can handle your codebase. Whether your code is Rails or something else doesn't matter.",1521160316.0
lucisferre,My condolences.,1521161893.0
ccb621,"1. Define slow. 
2. What don‚Äôt you like about your current setup?
3. Unless you take your service offline during deploys, old code will always run alongside new code. This is why you should always ensure your migrations are backward-compatible with old versions of code. I wrote about this at https://engineering.edx.org/django-migration-donts-f4588fd11b64. The info applies for Rails, too. ",1521131869.0
tongboy,"If you require blue green (a good thing most people skip) you are always going to be waiting for an environment build.

The way we handle it is to leave the inactive environment in beanstalk running with zero instances. Fresh deployment is then the time it takes to spin and provision the new machine and do the deploy. No new load balancer, alarms, etc.

With packaging and deployment we average 9 min. From start of deploy to swapping the cname.

If we left a single machine running in the inactive instance we'd save another minute, maybe 90 seconds..

The easiest places to reduce time in the process is reducing package size and what gets put in the package. 

Beyond that... You're never going to get rid of the time it takes to provision new boxes, you can pre warm/boot the env while you're packaging and other things that will  help add some parallellism to a serial process.

Imo saving time in test suite is far more valuable than grinding a minute or two in deploy.

10 min or so to go to prod is awesome, don't overthink that, some orgs take 2 months and 10 direct man hours to do a deploy.",1521151049.0
lift_heavy_things,"We don't use EB and use ansible to deploy directly to EC2.  Our deploys take about 1 minute per environment, and about 3 minutes if we need to provision a box for first deploy.  Puma has rolling deploys built into it.

It really depends on how many boxes you're deploying to and how many times per day you need to deploy, but if its <100 boxes and >10 deploys a strategy like this will be much faster than Dockerizing.  ",1521137535.0
tongboy,"I love elastic beanstalk

The elastic beanstalk gem cleans the process up.

Yes it's more up front than heroku but the future scaling is dead simple and there is no reasonable limit on scale up. The extra time spent in setup has paid dividends",1521123753.0
flaiks,"What issues are you having with heroku? We use it for production deployments and have no latency issues with it that are noticeable. If you use the free tier it‚Äôs not great but it‚Äôs not meant for production apps. You can use the standard x1 dyno for $25/month and the setup is dead simple.

I find aws is great, if you have a devils beginner to manage it full time, otherwise spend the little extra to use a paas like heroku. For example, setting up a sidekiq worker instance on elastic beanstalk was insanely frustrating and never really worked properly(mostly because doing this kind of thing isn‚Äôt documented well at all), whereas on heroku it took me about 15 minutes and I‚Äôve never had any issues with it.",1521138534.0
Schrockwell,"[Cloud66](https://cloud66.com/) for days. I use it for personal projects, my day job, and consulting work.",1521120620.0
jasdeep13,We use Cloud66,1521127515.0
spinlock,"I really like `capistrano`. It's ruby so it fits into a rails project really well. Plus, it's nice to just do a `cap deploy` from your repo to push code to EC2.",1521151436.0
Hazecl,EC2 + nginx.,1521139901.0
thecrentist0,https://nanobox.io/,1521180039.0
ethboy2000,"The clue is in your error message. It‚Äôs looking for administrator\_role\_id on the roles table. That‚Äôs because you‚Äôre using has\_one instead of belongs_to.

has\_one basically means the id is on the table for the model you‚Äôre referencing. In this case _:role_ or the _roles_ table.

belongs\_to means the id is on the table for the model where you write belongs\_to.

I think the confusion for beginners can sometimes come from how these two are named. ‚ÄòBelongs to‚Äô implies it is a child to a parent. However in this case you want the id on the ‚Äòparent‚Äô so it has thrown you off a bit. You‚Äôd still use belongs\_to",1521124896.0
ryenski,Why not use `belongs_to :role`?,1521119471.0
boonestock,"In certain circumstances, it can seem like logically it makes more sense to use has_one than belongs_to, ie:
 
User ""has_one :administrator_role"" instead of User ""belongs_to :administrator_role""

However, in Rails, the foreign key has to be on the belongs_to record. ",1521146009.0
vmcilwain,Thanks everyone for your responses. Using `belongs_to ` did solve my issue. I'm glad to see a little bit of additional discussion around this to clear things up for me.,1521218991.0
monosinplata,"I've done my best to compile all of the best books, courses, tutorials, content, etc... for learning Ruby and Rails. Check it out here: https://www.leighhalliday.com/best-ruby-and-ruby-on-rails-resources",1521147327.0
DanielKehoe,"Before trying the course, you might want to take a look at my book, [Learn Ruby on Rails](http://learn-rails.com/learn-ruby-on-rails.html) (Book One is free). It will give you background and context that is missing from most courses. I haven't taken the Coursera courses but many students tell me they get more out of typical university courses (for example, CS 169 from Berkeley) by getting a good background first. The book also has a chapter on a recommended learning path and suggests good resources.",1521103947.0
k1r8r0wn,You also can try this course from [Pragmatic studio](https://pragmaticstudio.com/rails). There is also another second part.,1521134413.0
lewisflude,"I don‚Äôt know of any dev plugins for notepad++. But I suggest you look at downloading VSCode, Atom or Sublime Text. They‚Äôve all got good developer plugin systems and will cater to all your dev needs. :)",1521104903.0
tonekk,I suggest using the normal notepad.exe instead. It is a solid program which has been developed for 20+ years by expert engineers at Microsoft. Do not trust the freeware mafia or you might infect yourself with a serious disease. ,1521114525.0
RustyPeach,"Thats a pretty broad question thats tough to answer without code to use as example. 

If you dont want to do major updates to the exisiting rails code base, the easiest thing would be [Mime Responses](http://api.rubyonrails.org/classes/ActionController/MimeResponds.html). That way if someone uses html to access your site, they are rendered a html view. If someone sends a JSON request, then you can return json. I hate posting code on reddit and trying to format it, but you can see in the above link its a simple 

    respond_to do |format|
        format.html: render some view
        format.json: render json: @data (or jbuilder or something)
    end

render json: and then data will convert the data to json and return that for your react application to read and use. ",1521074976.0
brainbag,"Most people strongly tie their controller behavior into the HTML view behavior, which makes it quite difficult to just ""turn on"" API usage in Rails controllers the way /u/RustyPeach suggested (though that would certainly be ideal). 

If you're one of the lucky ones that has carefully designed your controller methods to be true APIs and offloaded all of the form/view/etc. behavior into other places, then you're in luck. 

Otherwise, I'd recommend GraphQL, especially with React. The front end and the back end often have different data needs (optimal usage syntax vs optimal storage format) and GraphQL lets you do both without sacrificing either. The ruby gem version is used in production by both Github and Shopify, so it's well tested. It doesn't take long to set up if you want to experiment with it.",1521077956.0
phoger,"It's pretty typical to create a `controllers/api` space within an existing app for this purpose, if I'm understanding correctly (surprised nobody mentioned that yet). I'm sure there are numerous articles on this topic, if you have a look. It's been a while, but I think there was a similar 'Zombies' course on this topic, too.

This would also provide a distinct space if you want to experiment with alternative data stores, but given ""working fine,"" and your existing use of Postgres, I dunno. (And I believe many have gone the NoSQL-and-back-to-Postgres route.)",1521179328.0
thunderkey,This would be a list: https://github.com/qazbnm456/awesome-web-security/blob/master/README.md,1521050032.0
iaan,What is Zorba?,1521056560.0
Twistedsc,"My advice: If you have separate repositories/folders you're keeping the frontend and backend in, move all your css/js to the frontend. Disable the asset pipeline on rails, remove package.json and any css/js gems, and if your (Rails 5) application can handle it set `config.api_only` to true.",1521048041.0
ryanto,I'd keep the two projects in separate repos. Use Ember CLI with its on repo and deployment strategy.,1521126368.0
kobaltzz,"Seeds are typically my preferred way. Make sure that the scripts are idempotent incase `rails db:seed` is ran multiple times. If the production database is already in existence and you're needing to add to the environment, I would prefer a Rake Task instead, but then also make the similar change within the `db/seeds.rb` so that a new environment will also get the new records. Similar to the `seeds.rb` the rake task should also be idempotent.",1521029725.0
boonestock,"At my company, we built a library of custom rake tasks that build up a bunch of sample data. It works great for us. We run the rake tasks with every build on our testing server as part of our continuous integration process.",1521034624.0
lostapathy,"I'd use json over yaml, it's quite a bit faster.

I'd also look at https://rubygems.org/gems/db_subsetter (author here) - if you have a DB you can use for source data, it works great to pull out a consistent subset and reload it later - and is super fast.",1521036638.0
matteoredz,"You should definitely use seeds to load data for the 1st time. Seeds should be run once, otherwise you'll have to foresee conditions to avoid data duplication",1521042284.0
nielsbuus,"I know this doesn't solve your immediate problem, but if you have never written a line of JavaScript before, I would suggest that you take a break from your Rails app and create a simple static html file on your computer and try including jQuery on the page using a <script> tag. Then you can try adding your own JavaScript code, which manipulates the page using jQuery. Try the ""Developer Console"" in Chrome to run JavaScript on your test page directly from the built-in console.

By doing that, you will develop a feel of whats going on with JavaScript on a webpage and I think it will make it easier to troubleshoot the issue you are having now.",1521039081.0
gelfin,"There‚Äôs not really enough information here to say with certainty what‚Äôs tripping you up, but if I were to guess, a quick glance at that jquery plug-in suggests you need to include it in application.js in addition to (not instead of) the base countUp.js javascript.",1521013745.0
paneq,Any browser console error or assets compilation error?,1521015189.0
Cyrax89721,Try putting the file into your `vendor/assets/javascripts` folder instead of the main `app/assets/javascripts` folder.  Please also paste exactly what your `//= require` line is.,1521169442.0
john_beatty,"I would copy the distributed js (https://github.com/inorganik/countUp.js/blob/master/dist/countUp.js) file into the app/assets/javascripts/ folder, named `countUp.js`. Then make sure `application.js` has 
    `//= require jquery`
and below that, put in 
    `//= require countUp`
Sprockets should find the js file, and it will be minimized when you deploy. I'd also double check your `Gemfile` for 
    `gem 'jquery-rails'`
",1521552186.0
oztrax,"The best technology is the one that works reliably and you are proficient in. Trying to gauge the ""best"" by asking for opinions is a lost cause because *everyone* will have an opinion. ;)",1520978748.0
jaredcwhite,"Try out Stimulus ‚Äî you can return either HTML fragments or JSON from the server and update pieces of the DOM via concise little JS controllers. I've used Turbolinks + Vue.js before and that's a good solution for highly interactive UIs, but for a lot of apps it's overkill. I'm having a blast with Stimulus and will choose that by default on most projects going forward.",1521038304.0
gelfin,"As with all things it depends on your use case.  The JavaScript SPA approach is more than just a fad.  It solves a real need in terms of front-end responsiveness (perceived or actual). ERB/HAML rendering on the server side is s-l-o-w.  Caching is possible, but harder to get right than it seems for many applications, and may be entirely impractical for large portions of some kinds of apps that depend on data freshness (dashboards and the like).  It‚Äôs possible to work around these things and still use your cached, pre-rendered Rails templates, but the result won‚Äôt look like naively-written canonical Rails views.  To make it work you‚Äôll end up creating that API anyway, and the further you get down that hole the more you‚Äôll wonder what using the template views is buying you.

Source: that‚Äôs how I became a React developer.

Alternately, if your app is of a sort that you can cache views for relatively long periods, you don‚Äôt require large, expensive DB queries to build the page, and your users don‚Äôt have responsiveness complaints, then stay the course.  Old-school template views are super easy to work with if they meet your needs, and don‚Äôt require wrestling with new patterns.",1520998455.0
Simonchibao,"I'm using UJS in 2 production apps, one of which was migrated from using backbone.js, and haven't had any problems with it. It's super fast to add features and I love the fact u can use partials/helpers in J's responses. ",1520989528.0
hmaddocks,"I‚Äôve recently built a new vanilla rails app. I wanted it done as quickly as possible and be reliable so I went with what I know. 

Now I‚Äôm drip feeding a bit of JS into it where I need a bit more interactivity. I‚Äôm using Intercooler JS at the moment. If the app flies then I‚Äôll look into adding more JS, probably with Vue. ",1520990459.0
jaryl,"When you do implement a CSP, one thing to take note is that returning and evaluating JS directly will be be treated as unsafe. If security audits are a concern for your project, you will want all your JS code loaded statically. ",1520991836.0
htom3heb,"I use them out of necessity, but I find it a very clumsy and brittle way to handle user interactions. Writing components feels much cleaner and more maintainable.",1521076181.0
cheald,First place to check is class variables and constants. If you have to do it the hard way (inspecting object dumps and diffing them across time) then [this post](http://blog.skylight.io/hunting-for-leaks-in-ruby/) will be useful.,1520984354.0
MrMandelbrot,"It's totally possible to have a memory leak in Rails.
Obvious things to look for are class variables, thread variables, and complicated controller configurations. ;) Less obvious things include Gems with C extensions.


Given your first comment, I'd suggest Memory Profiler: https://github.com/SamSaffron/memory_profiler

Look to see if your memory usage grows by about 2mb every request, it might be your file handling logic.",1520994029.0
dark-panda,"Rails apps and ruby in general are fairly leaky to begin with. You may want to start with tweaking the Apache config to reap your processes more often. You can have Apache for instance kill an instance and spawn a new one after performing X number of requests. See https://httpd.apache.org/docs/2.4/mod/mpm_common.html#maxconnectionsperchild for instance. 10 hours is a long time for an Apache process to hang around, although that does depend on your load and app, but in general you want Apache reaping processes with some regularity. This will buy you time to either a) figure out where the memory leak is or b) tweak the Apache config until you‚Äôre okay with the performance and are reaping processes often enough but not so often it‚Äôs a drag on performance. 

To track down the memory leak, there‚Äôs all sorts of tools like looking at the ObjectSpace class and using the built in profiling tools and ruby-prof. I‚Äôve written a gem that can make some of that easier, and can use it to profile actions or blocks and see where your memory is being consumed. It works with ruby-prof and GC statistics and such and can dump out a bunch of data per request into any format that ruby-prof supports. See https://github.com/dark-panda/active-profiling for details. You‚Äôll want to look at the memory profiling options in ruby-prof specifically, configure active-profiling accordingly, then start narrowing down the places in code where you‚Äôre allocating stuff maybe inadvertently or doing something that you‚Äôre maybe not quite expecting. Of course, this can also help with CPU profiling and all that other jazz, but start with the memory profiling. ",1520997903.0
cryptoindex-info,"some more info.. my app reads from some JSON files (a choice of 3, depending on the view the user wants).  These JSON files are about 2MB in size and they update about every 30 minutes.  I'm not sure if any of this matters, just trying to paint a clearer picture ",1520971046.0
crikeydilehunter,Does this happen in your dev environment?,1520971768.0
karuna_murti,"1. Recreate production env somewhere
2. Profile that, especially places where you suspect leaking
3. Fix
4. Try upgrading ruby & libraries
5. Else fail use monitoring which can restart server like monit, ruby sometimes claim memory but never release",1520993150.0
dr_zombies,Are you updating these json files or creating new ones every 30 min? Maybe these files are building up in memory. Just a guess. ,1520993347.0
brainbag,"1\. We do something like what you're asking about, using a serializer on a `jsonb` column.

    class UserOptionsSerializer
      def self.dump(user_options)
        user_options.to_json
      end
    
      def self.load(hash)
        return UserOptions.new if hash.blank?
        hash = JSON.parse(hash) if hash.is_a?(String)
        UserOptions.new(hash)
      end
    end

 This just turns the `user_options` column to and from a Ruby hash from JSON. There's some extra error handling in there that you'll need for that conversion.

We also have an object called UserOptions that handles some other logic, but if you don't care about that, you can just have it return the hash.

2\. Then make a [custom validator object](http://guides.rubyonrails.org/active_record_validations.html#performing-custom-validations) using `ActiveModel::Validator` to validate each key of the JSON, adding errors to `record.errors`.

    class UserOptionsValidator < ActiveModel::Validator 
      def validate
        record.errors['some_json_key'] = ""TOTAL FAILURE""
      end
    end

3\. Finally, add this to your model:

    serialize :options, UserOptionsSerializer
    validates :options, user_options: true

Shazam!",1520981123.0
lavendar_gooms,"Take a look into protos. You could usea repeated message with key value pair where the value is a oneof specific type
",1520960008.0
amplex1337,"Could probably just make an array of keys and value pairs and then parse them on load to figure out the type.  How necessary is having the type saved in the database?  Or join to a table that tells the data type of each key if you wanted with a many to many. Or something like:

Table Element:
  String Key
  String value
  String type

And in rails you could just convert the string to any other data type.  But if the app is not dealing with large amounts of data you might as well just parse it on the fly.",1520967371.0
waiting4op2deliver,https://nandovieira.com/using-postgresql-and-hstore-with-rails,1520975771.0
tadrinth,"You're definitely going to want some kind of typing on these. Possibly by storing both the data and the type.

Look into Entity Attribute Value models. May not be quite what you need, but relevant.

How many of these are you storing and how big are they going to be? Because we started off serializing the attributes to a text column and then users started putting essays into them, and we didn't validate that the serialized data fit in the column. Then it truncates and you can't deserialize it and that suuuucks to clean up. Nowadays the nicer DBs directly support json columns which makes this all much easier.

What you may want to do is to make a custom attributes table. If these are totally custom per user, make them put in a field name and a type. Then have columns for user id, attrib id, field name, type, and the actual value stored. Then just join on that table when you load a user. Depending on your needs you might also have separate tables for data types that need different columns.",1520989737.0
brainbag,"You can't inject methods, lambdas, or procs as regular variables in a block **with the exact code you have**. There is a way to do it with `instance_exec` though.

There's no telling *why* you'd want to do this, without seeing the ReportThing code. 

Here are two ways of doing that that I can think of:

    class ReportThing
      def scope
        @scope = yield
      end
    
      def initialize(params, &block)
        instance_exec(&block)
      end
    end
    
    report = ReportThing.new({}) do # no |scope|
      scope { User.all }
    end

---

Slightly different requiring `call`:

    class ReportThing
      def scope
        @scope = yield
      end
    
      def initialize(params)
        # does something with params
        yield method(:scope)
      end
    end

    ReportThing.new({}) do |scope|
      scope.call { ""potato"" } # with ""call""
    end

You could do something easier with this (depending on the use case):

    class ReportThing
      def initialize(params)
        # does something with params
        @scope = yield if block_given?
      end
    end

    ReportThing.new({}) do 
      User.all
    end

I do a ton of metaprogramming in Ruby and this seems weird even to me.

---

If you're new to Ruby and generally curious about blocks, here's some extra info:

Blocks are commonly used for iteration (like `each`) but not always. You can think of a block as passing in a method that is defined in place. Some languages like JavaScript actually let you pass functions, Ruby lets you do blocks. Here's the same code in JavaScript:

    [1, 2, 3, 4].forEach(function(num) { console.log(num) })

A block really works for anything the method wants to `yield`. Here's a completely useless example to demonstrate:

    def num2x(x)
      result = x * 2
      yield result if block_given?
      result
    end

    num2x(15) { |x| puts x }",1520944193.0
menge101,"I've seen something like this:

    object = ObjectThing.new(params) do |config|
        config.ping = 'pong'
    end

Hopefully it's obvious, but it yields its configuration to the block, so you can run custom configuration code, not just pass args to the constructor.
",1520944971.0
ignurant,"The best thing you can do in these situations, is hop to the source for `ReportThing`. 

I'm not much of a rails person, but `scope` is a common class macro found on ActiveRecord models. I suspect that this class is a bit of meta programming to generate custom AR report classes. You will find something referencing `&block`, `block.call` or a `yield` statement in either the `#initialize` method, or an overwritten `self.new`.

You might have to follow a few other modules to actually get that answer. Using Pry and typing `show-source Report thing.new` might help you answer the question more quickly if the source in your app isn't direct.",1520944197.0
ethboy2000,"This may help you understand http://rubymonk.com/learning/books/4-ruby-primer-ascent/chapters/18-blocks/lessons/54-yield

Basically what‚Äôs happening above is that the class you‚Äôre instantiating is yielding something to the block (which they have called scope). 

It might make more sense if you look at what ReportThing is doing inside it‚Äôs initialize method.",1520944561.0
menge101,"> how do you go about doing this when the JSON data isn't perfectly fragmented into how the model/schema data is expecting.

You return a 400 and make your caller give it to you how you expect it.

Your API is a defined contract between you and the caller.  Accepting data that isn't formatted as expected isn't your API's job.

If you are saying the API contract you want to provide isn't a 1:1 match with the schema of how you want to store the data, then you need to provide a mapping layer between your api and your db, this would likely be done in the model.

Depending on what your use case is and what DB you are using, you could use a JSON field in the table and just store whatever you are given as is as well.

",1520906382.0
SnarkyNinja,"You can use a [service object](https://hackernoon.com/service-objects-in-ruby-on-rails-and-you-79ca8a1c946e) to encapsulate the param translation/object creation logic. Here's a quick pass. Make sure to write tests for the service!!

    # app/services/record_measurement_service.rb
    class RecordMeasurementService
      def initialize(params)
        @unit_id = params['device']['deviceid']
        @measurement_data = params['measurements']
      end

      def perform
        unit.measurements.create(measurement_data)
      end

      private

      attr_reader :unit_id, :measurement_data

      def unit
        @unit ||= Unit.find_or_create_by(id: unit_id)
      end
    end

    # app/controllers/measurements_controller.rb
    class MeasurementsController < ApplicationController
      def create
        RecordMeasurementService.new(params).perform
      end
    end",1520926030.0
schwashbuckler,"Hey, I made something similar.
https://bitbucket.org/Tristan_/tbox
Hope it helps.",1520952082.0
naveedx983,"you could use the URL to identify the unit -

URL: `/units/:unit_id/measurements`

payload: 

    {
      ""temp"": 71.45,
      ""humidity"": 31.1
    }    


If you configure your routes to in the way above, you can grab the unit_id from params like `params[:unit_id]` 

then in controller you have something like

    @unit = Unit.find(params[:unit_id])
    @unit.measurements.create(measurement_params)
    
    ...
    
    def measurement_params
      params.permit(:temp, :humidity)
    end",1520960517.0
oztrax,"gorails.com
also this: https://www.leighhalliday.com/best-ruby-and-ruby-on-rails-resources",1520886339.0
tolas,"Pick an idea, project, cool app, and build it.  Try to implement things like concerns, background workers, ajax using rails js.erb partials, turbolinks (if you want), and anything else you might run into while building the app.

Then they whole internet becomes your resource for figuring this stuff out, and you'll learn much faster.",1520887462.0
frudance,"My company pays for [Upcase](https://thoughtbot.com/upcase/). It's developed by ThoughtBot, home of popular RubyGems FactoryBot and Paperclip. They don't update the content as much as they used to, but the Weekly Iteration videos are helpful.",1520950730.0
G-marn,Hi!! I hope this link could be useful for someone is working on application subscription. Any doubts do not be shy and ask it ;),1520877490.0
DemEat,"Hey there, so we are finishing up rolling our own solution to this b/c we couldn't find any decent open source libraries that do it.
Our solution happened to use a pdf library (hexapdf), which we used to do exactly what you suggest -- merge a signature image w/ an existing pdf.
Sorry can't point you to anything out-of-the-box, but those two will at least provide you with enough tools to roll your own. Good luck!",1520846875.0
tongboy,Jsignature + imagemagik + whatever your output needs are wickedpdf or whatever,1520865313.0
isthattrulyneeded,"If you can capture the signature then it sounds like the next step is to add it into the document. Look at some pdf tools, prawn for example should let you open an existing document and add a image to a particular spot. ",1520827126.0
jaxn,"Exactly this. You can use Prawn to place the signature on the PDF.
  Also, tweak the settings for how signature pad saves files. They are unnecessarily large.",1520829104.0
Ronald-Ray-Gun,"https://dochub.com/ is an alternative PDF editor with a much cheaper pricing model.

If you really want to roll your own solution, I'd suggest the same as others in this thread. There's `wicked_pdf`, `prawn`, and some others to choose from. Use the JS library to export an image (or some SVG code) and apply it to a document with one of those libraries.",1520868774.0
Momer,http://railscasts.com/episodes/196-nested-model-form-revised?view=asciicast,1520773406.0
tongboy,cocoon gem,1520798359.0
headykain,"Personally I would avoid cocoon because it adds unnecessary abstraction.

Check out Form Objects and that pattern in Rails. You don't need to use accepts_nested_attributes nor depend on a gem.",1520818915.0
Cyrax89721,"I just want to note that I went through the same thing when I was first starting, and trust me -- You'll want to learn Javascript and use it where needed.  I have an app set up with deeply nested has_many forms, and they all work great, only with the help of Javascript though.

[Here's a question of mine from last year](https://stackoverflow.com/questions/42618369/dynamically-generating-three-levels-deep-nested-forms-in-rails) that outlines my start in deeply nested has_many forms",1520862176.0
wikitih,"Consider using AWS S3 for storing files. Is extremely cheap, and there's a [free tier layer of usage](https://aws.amazon.com/s3/pricing/). Even for production, don't use a EC2, which is way more expensive than S3 or any other [cloud service](http://edgeguides.rubyonrails.org/active_storage_overview.html#setup).

Anyways; if you still want to use disk storage, consider reading the [source code](https://github.com/rails/rails/blob/master/activestorage/lib/active_storage/service/disk_service.rb#L76) to see if you can tweak your helpers to achieve what you want.",1520769709.0
jerrocks,"There‚Äôs a setting to change to local
URL in activestorage to solve your problem. If you can‚Äôt find it with that info post back and I‚Äôll find it for you.",1520786296.0
StalkerTachikawa,"Just in case anybody comes across this later...

I took the advice from /u/tquill and used AWS S3 as the storage method in the development environment. I got it to work after some tinkering, which wasn't too unexpected since I hadn't worked with AWS (or similar services) before, but now that it's functioning, it seems pretty slick. Looks like I'll need to tinker with the CORS configuration to get direct upload to work, but that'll have to wait until tomorrow.

Hopefully once 5.2 is officially released, there will be more definitive documentation regarding ActiveStorage. Some of the blog posts I'd found suggested using the attach function during the create action on the controller, but others said that it was no longer necessary and the files would be automatically attached if the parameter for the attachment was whitelisted.

In my inexperience, ActiveStorage seems really useful to me, but I see some posters here and in /r/ruby who seem to think it's flawed or at least not necessary compared to other gems that already exist. There sure is a big ecosystem of stuff to learn in Rails!",1521716720.0
jemminger,"You should be using strong parameters, it's strange that it didn't throw an error.

You could reshape the payload a bit and end up with something like this:

    {
      ""message_json"": {
        ""device"": {
          ""id"": ""002""
        },
        ""measurements"": {
          ""temp"": 78.45,
          ""humidity"": 34.5
        }
      }
    }



    def create
      @device = Unit.create(device_params)
      @device.measurements.create(measurement_params)
    end


    device_params = params[:message_json].fetch(:device, {}).permit(:id)
    measurement_params = params[:message_json].fetch(:measurements, {}).permit(:temp, :humidity)

",1520748811.0
naveedx983,"Are you sure you want to create a Unit on every measurement?  Seems like those would only be created on the first measurement (or already existing), and then a Unit just collects measurements?",1520820513.0
zee-wolf,"There is a data modeling pattern that can help you store arbitrary attributes/values.

This is the idea:

http://www.essentialstrategies.com/publications/modeling/pictures/advfig15.gif

Ignore the **relationship** (left most entity)... 

So **thing** would be Activity logged by user. **Thing type** would represent ActivityType (Playing Basketball, Reading, Daydreaming). ActivityType would could have many **characteristics** (duration, time units, calories, external_link, etc) specific to the particular ActivityType or even shared among other types (via habtm). Thus, some of your ActivityTypes could have duration field, while others won't.

Actual values (15 min, link URL, etc) associated with specific instances of **Activity** would be stored in **values** table.

The admins would be able to create new ActivityTypes and specify any characteristics these should have.

This might seem confusing and overly complicated, however, it's a pretty robust model to cover many use-cases where a **thing** could have different characteristics/properties depending on the **type of thing** that it is. Example: products in the store, each having different applicable characteristics. 

",1520746875.0
manys,"Look into using the Decorator pattern for your default values. You can also reimplement each attribute in its model that you want to have a default and put it in there. Other than that, is there much difference between this and a To Do list? Add a something, give it a name, and futz with the time or duration or what have you.",1520746918.0
systemnate,Where do you live? ,1520704544.0
menge101,"> I have had a very hard time finding a ""good"" job.

It's not you, its the field.  The number of good jobs I've had with less than 10 years of experience is zero.

When i broke 10 I was able to be choosier about my employment situation and then I got into good jobs.

Five years is another mile stone, i wouldn't call my job after 5 years 'good' but it was a better effort to compensation ratio, and it was less shitty.",1520710891.0
RobertHopman,"Small change: (I'm in a similar position, not a lot of time) I'm working on a practice project where I ask feedback here and via www.rubyonrails.link

Big change: If you actually want to switch jobs, start making a list of locations where you want to work and start connecting the dots like your post already does a bit.",1520702277.0
mrmontrose,"Get on the right team will do more for your advancement than anything. The problem is this depends on company or more specifically the team lead. If there is a strong emphasis on engineering culture you will get all the things you are looking for. The thing is everyone wants those jobs, so they are the most competitive.  So what is considered ‚Äúsenior‚Äù is generally a higher level. 

My advice be patient, and push for these things you want in jobs you have, and keep looking. Don‚Äôt stress about the other stuff, stay as involved in community as you can, but don‚Äôt feel like you are losing opportunity if you can‚Äôt do everything. ",1520703335.0
wes-k,"The best mentoring I got was working at an established medium sized tech company. While most startups sacrifice code quality for speed (which slows them down later on).

So my advice is to join a bigger company for a few years. They usually have many senior devs and have had time to establish good practices and high code quality standards.",1520702398.0
erandros,"In cas you want to hear offers, I usually see offers the #work-offers channel in http://www.rubyonrails.link",1520713162.0
schneems,"I recommend Metaprogramming Ruby. If you‚Äôve not been through it already (pragprog). It‚Äôs a good book. 

If you can‚Äôt find quality local people to learn from and work with there is always the open source community. Try https://www.codetriage.com as a lightweight way to get started.

RubyWeekly newsletter is good. This subreddit is good. For perf and scaling check out Complete Guide to Rails Performance by Nate Berkopec.
",1520740384.0
hernanat,"Can you be a little bit more specific? Side note I would heavily advise _against_ using them unless you _really_ need to. Our experience with the service / reliability / quality has been rather poor, and my team is probably going to stop using them in the future.",1520700024.0
kuhcd,"I work in telematics. Don't send gps coordinates one at a time, the network overhead makes it not worth it. Collect them up and send them in batches every 30-60 seconds at the fastest. Queue those on ingest, and use a background job to store them.",1520706297.0
Schrockwell,"Either tool will work fine. Elixir may scale better, but honestly for posting coordinates either will scale.",1520657343.0
JustinCampbell,You should use whichever you and the team are more comfortable with. Most languages will handle hundreds of requests per second at a minimum. However you can also write a really slow API in any language.,1520661600.0
jasdeep13,"If you are already familiar with Ruby/Rails, consider taking a look at Crystal for this sort of thing. It shall scale well and syntax should feel right at home too.

I‚Äôve done some work with Crystal, and shall love the opportunity to do some more if given the chance. 

https://github.com/metaware/flipper",1520697318.0
ralampay,Thank you. Will try that out. Sounds right. Will add some sidekiq spawning job thing to process the request which does the saving. So what i should expect is an array of objects right?,1520729986.0
jaykerman,`&#10;` is an HTML encoded line feed. Get rid of the line feed after `0.9` Place your cursor at the beginning of the last `http://` line and press backspace until the `h` is right next to the `9` then press space and save.,1520658838.0
paneq,I recommend sitemap_generator gem. We wrote short article on it https://blog.arkency.com/2014/02/sitemaps-with-a-bit-of-metal/,1520616446.0
torimus,"As already mentioned, it is html encoded linefeed (newline) character.

You inserted it yourself, when breaking the last string:

    'xsi:schemaLocation' => 'http://www.sitemaps.org/schemas/sitemap/0.9
      http://www.sitemaps.org/schemas/sitemap/0.9/sitemap.xsd'

There are various ways how write long strings on multiple lines. The simplest one is just *enclose it at one line* and *reopen on the next line*. Backslash `\` informs ruby, the line continues on the next one, ie.

    'abc' \
     'def'

becomes

    'abcdef'

It's that simple. No need to look for other gems, just fix your code.

",1520716884.0
NilsLandt,"> what's &#10 ?!?!?!?! How can I delete it?

It's an encoded line feed character. I imagine you can either move the `schemaLocation` to one line, or add an array instead of a string.",1520617760.0
karuna_murti,"> Would Rails be a better fit for my project 

Eh, after 10+ years doing rails and many other frameworks, it's just a tools. But since this is rails sub, of course it's rails.

> and which frontend Javascript libraries work best with Rails?

Rails remote helper + jquery. Fite me SPA proponents.",1520606025.0
henrebotha,"Rails vs Express here doesn't matter. It's completely academic.

It's a good idea to use Angular/React/Vue for your front end **if** you actually want an app-like front end. If not, vanilla JS is just fine. ",1520607074.0
LivingAnywhere,"We use both of best worlds, super rapid api development with Rails and graphql and apollo/react/webpack as a front-end tools. It doesn't need to be one or the other :) ",1520608620.0
genosyar,"Just my two cents here, but either would work.
To make a case for Rails though, it works a little better out of the box, coming with ActiveRecord as an ORM and supports several SQL databases off the bat.  There's also a lot of great gems that have been produced by the community to help with various functions.
I'm not sure what your needs are exactly for a dynamic frontend, but embedded Ruby can be a powerful tool for making some dynamic content on your front end.  Additionally, the [Gon Gem](https://rubygems.org/gems/gon/versions/6.2.0) allows you to access rails variables in frontend javascript code, which can be useful. 

If you're looking for a whole javascript framework for your frontend, [EmberJS](https://emberjs.com/) is cool.  Its conventions are pretty similar to Rails.  But if you already know Angular or React, feel free to use either of those.  Rails 5.1 brought support for Webpack and yarn, so javascript now plays better with Rails than it ever has.

To be fair to Node, it can also do all this but it does take more time to set up everything like connecting to a database, getting an ORM, etc.  Fortunately, there are a lot of guides out on the web to help with this if you do go that route.

",1520606633.0
jordanaustino,Front end you can use basically any front end library you want with webpacker. StimulusJS was created recently to work with rails by DHH though.,1520607335.0
zenzen_wakarimasen,"The question is, are you really going to invest a lot in the UI? If yes, then use React, because it will give you a lot of tools.

If not, stick to Rails and you will remove a huge amount of complexity from your code. Besides, a lot of people move to React just to do things that could be easily done with Rails, SJR (server generated JavaScript responses) and a bit of jQuery. ",1520607672.0
tumes,"Personally, I'd use rails, but that's what I work with professionally, so I'm biased and it's what I'm most familiar with. If it adheres best with your expectations of what a web app should do, then it's probably a good choice because chances are good you can work with it pretty quickly.

Front-end wise, I don't have especially strong feelings, but I've been working with Vue a fair amount lately and I like it. Reminds me a bit of my time with Backbone inasmuch as it's not _too_ opinionated about structure, and when it is, it's not a whole lot to memorize. As someone who has to simultaneously maintain some legacy Angular stuff alongside new Vue stuff, I find it's way easier to drop into Vue when I'm feeling rusty. Reminds me a bit of the good old backbone/knockout days inasmuch as they give you plenty of rope with which to hang yourself. Also, the docs are pretty good and unintimidating.",1520630230.0
sizl,Rails and node have lost the cool factor and become stable frameworks. Use the one you want to brag about. The one that will land you a better job or make you more relevant in the field. ,1520639999.0
aarkerio,Ruby > JS.,1520615543.0
schwarzfahrer,"The belongs_to relationship really only makes sense if you have/need an actual devices table. But if not, you could just include the device id as a column in the measurements table. 

Beyond that, is there any reason you can‚Äôt just include the device id in the body of your POST request? That to me seems easier than defining some sort of custom header field.",1520569404.0
wbsgrepit,"This is called an ""irregular"" time series, and beyond the structure of your relations you may want to dig in much deeper to understand how to do this well/performant given larger numbers of events (as nodes grow or you gather more events).   It can get very costly (on the DB side) to report against this type of data unless you take time to structure it against your use case.",1520637421.0
jemminger,"You might want to look into http://pow.cx/ instead, it's dead simple
",1520542580.0
jerrocks,I use ngrok for stuff like this,1520545751.0
dryspell_,"What error do you get?
was apache restarted (successfully) after the change?
did you create a /etc/hosts entry for 'hostname.local' ?  e.g. can you ping hostname.local and does it resolve to an IP Address?

",1520548522.0
crikeydilehunter,I have a bad feeling about what you are trying to do here. Are you trying to deploy a rails app? What's your goal here if you don't mind me asking?,1520543773.0
itsvishesh,"[Schema to Scaffold] (https://github.com/frenesim/schema_to_scaffold) 
This Gem generates Rails command strings based on a Rails database schema you already have. Unlike traditional migrations, which modify the database as they generate Rails scaffolding code, this Gem reads the schema for your database and generates the Rails code which matches your database's existing columns.",1520514763.0
danielfriis,"[ModelUpdates](https://github.com/kaspernj/model_updates) pushes updates to models into the frontend through ActionCable. It allows you to build ""live"" applications.",1520584239.0
micketic,"I have made a screencast on how I use Secrets and Environment Variables in Rails - https://www.youtube.com/watch?v=sijY72SvnqU

What I do differently is I use figaro to populate `ENV` and then use that variable in `secrets.yml` which is later committed to git.

Something like this :-

    shared:
      mailgun_api_key: asljfna12
      mailgun_domain: domain.com
      slack_client_id: <%= ENV[""SLACK_CLIENT_ID""] %>
      slack_client_secret: <%= ENV[""SLACK_CLIENT_SECRET""] %>
      admin_username: <%= ENV[""ADMIN_USERNAME""] %>
      admin_password: <%= ENV[""ADMIN_PASSWORD""] %>

    development:
      secret_key_base: ad705030469137b4d4085a45b575519744bffbc5f61dc5c05c
      default_mail_from: <%= ENV[""DEFAULT_MAIL_FROM""] %>

    test:
      secret_key_base: 29bc8c0e71b6e19086a7b804a392fa9c4a39c8da10e9c058861d39abd30b7d6f5a0a9e576d9d
      default_mail_from: <%= ENV[""DEFAULT_MAIL_FROM""] %>

    production:
      secret_key_base: <%= ENV[""SECRET_KEY_BASE""] %>
      db_password: <%= ENV[""DATABASE_PASSWORD""] %>
      db_username: <%= ENV[""DATABASE_USERNAME""] %>
      db_name: <%= ENV[""DATABASE_NAME""] %>
      mailgun_api_key: <%= ENV[""MAILGUN_API_KEY""] %>
      mailgun_domain: <%= ENV[""MAILGUN_DOMAIN""] %>
      default_mail_from: <%= ENV[""DEFAULT_MAIL_FROM""] %>


In the `application.rb` file, I set `::Secrets = Rails.application.secrets` and then in the code, if I want to use, say, `mailgun_api_key`, I just do `Secrets.mailgun_api_key`.

This approach provides a lot more flexibility, like I can raise an error if certain var is missing, or convert them to int, boolean and use that converted values, in place of `if ENV[""BOOL""] == ""true""`",1520513986.0
pau1rw,"Omg, 5 minutes in and I was like, what, the, hell. 

Credentials looks like a fucking nightmare. ",1522266633.0
CaptainKabob,"I don't think that you'll be able to use a Wilson Score Confidence Interval because you aren't trying to discover an objective ""score"", but rather it seems like you're measuring ""trending"" or ""hotness"".

Here's the algorithm I use for [Popular T-shirts on Day of the Shirt](https://dayoftheshirt.com/?order_shirts=popular): https://gist.github.com/bensheldon/dd42a698df6dfe75acb6308d86a0ff9c

I count up all of the clickthroughs on a t-shirt in the previous 24 hours, then I use a decay function to weight newer clicks more heavily than older ones, then I sum up those clicks for each t-shirt, and use a Postgres window function to then rank and bucket them (so I know can call the top quintile ""trending"").

I'm using [Scenic](https://github.com/thoughtbot/scenic) btw to create a SQL View for easy joining/querying with ActiveRecord.
",1520486921.0
JustinCampbell,"You could do that, and create a validation that ensures all values are from a specific set:

    ANSWERS = {
      ""1-2"" => ""once or twice per week"",
      ""3"" => ""three times per week"",
      ""4"" => ""four times per week"",
      ""5+"" => ""five or more times per week""
    }.freeze
  
    validates :answer,
      inclusion: { in: ANSWERS.keys }

And then use the keys/values in your view for the dropdown/etc.

You could also do the same thing and store them as an integer, similar to an enum:

    ANSWERS = {
      0 => ""once or twice per week"",
      1 => ""three times per week"",
      2 => ""four times per week"",
      3 => ""five or more times per week""
    }.freeze

Hope this helps!",1520472319.0
,[deleted],1520460975.0
,railstutorial.org,1520462908.0
Cyrax89721,"https://upskillcourses.com is where I got my start, and is very easy to follow.",1520473645.0
owens_trevor,"https://gorails.com/ is my personal favorite. Learned so much from this guy. Many practical examples you can use to develop a real app idea. Most lessons are free, I pay for the pro lessons.",1520479394.0
RobertHopman,https://tech-craftsmanship.zeef.com/roberthopman,1520541517.0
TelosMayCry,Theodinproject.com is really goood,1520550712.0
kingshane,The links in the sidebar are pretty well vetted. I personally learned from the Michael Hartl book which I found very helpful.,1520460959.0
Nemya_Nation,"Fix for future reference:

Spent ages figuring it out but I think it could be useful to people (and me) in the future.

Install yarn,npm,nodejs and then locate the package.json file which should be in the root directory of the project.

Change the version for the engines of the project at the bottom of that file. In my case I had to change the versions for npm and node to the versions I had installed (newest).

And check what script commands there are, in my occasion there was only one called postinstall which generated the bundle.js file I needed right at the start.

Once you locate this script you can change its name to something else or leave it and then run

EDIT: Specifically the script needs to run webpack, if it doesn't exist create it.

>""postinstall"": ""./node_modules/.bin/webpack""

inside the scripts section of the json file.

npm run postinstall

It should generate the required files in app/assets/javascripts and then after you generate the database locally using rake db:migrate and running bundle install you can then run rails s and it should work locally.",1520719763.0
PM_ME_RAILS_R34,"Are you in contact with the old developer? 

Generally, even a webpacker project should work out of the box with the usual non-webpacker steps. Except for maybe ""yarn install""

What error are you running into?",1520462477.0
Bliiiiip,"Where is it failing, and what‚Äôs the failure message?",1520458333.0
442401,"It looks like your view is still displaying a 'Log in' link after a user has logged in.

Can you show your `app/views/layouts/_header.html.erb` file.",1520466966.0
doughtz,"You‚Äôre better off posting on Stack Overflow for stuff like this. I can‚Äôt even read the error because the image. 

On stack overflow you can paste the text in and makes it easy to read and comment and help ",1520482604.0
Casao,"If you use RubyMine, you can go to definition on things pretty easily, even in libraries.

Session in Rails is part of ActionDispatch::Request, which is part of ActionPack. The session object is at https://github.com/rails/rails/blob/master/actionpack/lib/action_dispatch/request/session.rb but it delegates almost all commands to the concrete implementation you're using (Cookie store or memory store or redis store, etc).

As far as the helper, it's not quite defined as simply as ""Def session"", ActionController::Metal delegates it to the request, https://github.com/rails/rails/blob/master/actionpack/lib/action_controller/metal.rb#L149 which includes Rack::Request::Helpers https://github.com/rack/rack/blob/master/lib/rack/request.rb#L144 which defines the actual method.

Rails has a lot of these types of wrappings, mixins, and indirections, so it's sometimes a little tricky to follow. A good, library-aware Go To Definition is super helpful, but I'm only aware of Ruby Mine as being good enough to follow this type of thing.",1520436802.0
henrebotha,"> More generally, how do I go about finding the definition of any method like this that I want to look into more?

My preferred way: actually check it at runtime. Stuff like monkey patching and dynamic code generation is so rampant in Ruby that you can never trust that what you're reading is really what is being executed. So stick a `binding.pry` somewhere, run your app, and `cd` into the method or object in question. ",1520437789.0
in0pinatus,"> how do I go about finding the definition of any method like this

`puts method(:session).source_location`
",1520454420.0
fiveguy,"Standard HTML select options don't allow you to display anything but plain text. While font awesome outputs icons using a font's glyph, it won't work inside an <option> tag. So, standard rails inputs aren't going to do the work for you.

You're going to need to use (or write) a javascript library to handle this part for you. There's a ton of them depending on your JS ecosystem. Most of them have you output the options (text with an icon, in your example) as a hidden list (maybe an <ul>). Then you'd output a hidden input which the javascript library would populate based on the user's input.

For instance, see the example for this library (which I have never used) which allows you to include any HTML in your select options: http://dane.one/projects/jquery-dropdown/demo/#custom-html",1520454645.0
rArithmetics,Coffee script is insane to me. Use es6 and stay sharp for literally everything else you do in the web ,1520441111.0
henrebotha,"Coffeescript is compiled by a Node package, not a Ruby thing. This is probably closely related to which JS runtime you're using in your app. ",1520418681.0
ohitsleonid,"You need to be using CoffeeScript 2 for these features to work.  I‚Äôm not sure how to do that with asset pipeline, but it‚Äôs pretty easy with webpacker 

https://github.com/rails/webpacker/blob/master/README.md#coffeescript",1521115286.0
Simonchibao,I recently switched to pure es6 project and I miss coffescript a lot.,1533948354.0
toadkicker,I was never a huge fan of coffeescript. That being said why not just write plain JavaScript? Rails works without coffeescript just fine.,1520407333.0
tongboy,"for that small of number of objects just jamb them all in to the same model and add additional elements/associations as necessary.

normally this question comes back when you need to *remove* the STI you built because requirements change or scale demands it.

that's when you have hundreds of thousands or millions of points of data in a table and need to split it up.

if you're looking at what will be sub-1k for a long time - you aren't going to run in to any issues and keeping it simple will make it easy for someone to pick it up in the future if you aren't around.",1520370265.0
tumes,"It kind of depends on what you want to do structurally. Have you ever considered something like the [ancestry gem](https://github.com/stefankroes/ancestry)? I may be mis-reading you, but this structure kind of implies a hierarchy to me, since I'm assuming that Q&A and discussions tend to be related to a particular talk.

You could definitely consider plain old STI, but I kind of get the feeling that all these objects will ultimately be treated in the same way (meaning having entire other classes for each might not buy you much), and that they could be organized more clearly. You might still need something _like_ an STI `type` field* to distinguish between sibling types for scoping purposes, but otherwise just treat them all like a model that encapsulates the idea of a recorded thing.

\* Please note, adding a `type` field to a model will make it automatically trigger the internal mechanism for STI. You need to do some configuration or choose a different field name if you want to stop Rails from automatically interpreting that as an STI model.",1520374490.0
kidtaicho,"The questions that I would ask here are about the differences in functionality and possible growth. 

If the different models act differently and constitute distinct concepts they should stay as different models. Any shared logic can then be extracted into a module which you can mix in to each.

In contrast if they pretty much act the same with some minor exceptions and are conceptually the same then fold them into one model you can then introduce a type attribute which could be used to hang the different models differently when necessary.

I lean towards the first because it seems a little more sustainable and cleaner. But in my experience I've ended up doing the latter a lot more just because I run into models that constitute different types of the same basic concept, a talk or recording in your case.",1520398198.0
davidcharlesweber,Polymorphic association 'podcastable',1520386882.0
EqualsNull,"If you're not using mass assignment it's still a personal choice (as it is in regular Rails). I personally use them just as a safeguard incase I ever do use mass-assignment somewhere.

Docs: http://edgeguides.rubyonrails.org/action_controller_overview.html#strong-parameters
",1520360463.0
hmaddocks,"Strong params is whitelisting in the controller. It works the same as a non API app. 

It can be tricky to get strong params right for nested params. I find it easiest to stick a break point in the controller and hack about a bit until I get back what I want. ",1520360692.0
danilobarion,I prefer to use Dry-validation for sanitize/validate received params.,1520392682.0
adamcooke,"Funnily enough I wrote a little library for this a couple of weeks ago to formalise the approach of defining permitted parameters in Rails controllers. Maybe you‚Äôd find this helpful. I‚Äôd enjoy hearing any feedback. 

https://github.com/adamcooke/parameter_sets",1520368284.0
myme,"For more complex validation requirements in an API, you can also use json-schema and validate against that, e.g. with https://github.com/Soylent/jschema - I used that approach once and found it to be quite flexible and more approachable than strong parameters.",1520370968.0
RubyKong,"imagine you have many different types of users. some users are admin users, and other users are normal users.

if a normal user submits an ""edit user"" form, then you don't want them to be able to change their ""role"" from basic user to an admin user. Accordingly, you would not allow your controller to accept the ""role"" attribute to be changed from this type of user.

**tl;dr - how strong params work?** Basically you are forced to list the attributes which you are allowing to be changed for a particular circumstance. That's basically how strong params work in rails. And it's as easy as that.
",1520371700.0
agungsetiawanrb,"You can see the list of Indonesian company using Ruby (and Rails) in this link http://ruby.id/

From there you can make a guess which one is the best based on your own criteria",1520319116.0
Key720,"What‚Äôs your criteria? Because ‚Äòbest‚Äô is subjective. 

80/20 time where 20% of your work week is delegated on working on open source or your own projects?

Being able to remote-work?",1520314368.0
Steverob91,Struggling to understand what you‚Äôre trying to do here. Are you running the install generator on an already existing shopify app? Why so?,1520316852.0
SagaciousCrumb,"I think I get the disconnect:

The `rails generate` command is only run once, ever.  It creates all the files you need. But after they're created all you do is edit the files and the site changes, you never re-generate it. 

(although typically the command is `rails new some_app`, I'm assuming generate with this parameter list behaves like `new`)

So, if you are adding a new route you just edit `config/routes.rb` and add a single line to it specifying the routes. 

There are rails commands to generate new parts of your application, models and controllers, for example. If you need a new controller you can generate it using a similar command. Like before though, once it's generated you just edit the files, don't generate them again or it will wipe out your files. ",1520346489.0
tf2ftw,Look in the routes.rb file. Looks like you have that app defined twice. ,1520306161.0
das3ingg,The docs are pretty good on all those topics... Is there a specific problem you're having that we can help with?,1520300595.0
pa_dvg,"You can effectively ungit the inner repo by removing the .git directory as you stated.

In the future, you can also do rails new somename ‚Äîskip-git to prevent it from initializing the repo in the first place ",1520296448.0
,"Well, the way I do it it seems like you did it in reverse order.

1.  Create rails application
2.  Enter folder with rails applications
3.  Either git init immediately or after doing your basic set up (I create databases and change gem file)
4.  Git add .
5.  git commit
6.  Create repository and push local app to repository 

That's how I learned

",1520294195.0
sdn,Are you using the react-rails gem? It seamlessly integrates rails with react into one project.,1520343100.0
ignurant,"Can you share more information? Specifically what has led you to believe these don't work? It is my understanding that fixtures are loaded into your test database before your tests run, and each test is wrapped in a transaction so as to reset DB state every time.  This very much uses the real database.

Here's a note form the guide that supports this notion. 

http://guides.rubyonrails.org/testing.html#the-low-down-on-fixtures",1520290253.0
SminkyBazzA,"What type and version of database are you using? Rails 5? We use fixtures and minitest for all kinds of tests and don't have any problems with MySQL or Postgres. 

The fixtures are all loaded into the database at the start of a test run, and each test runs in a transaction. You can create, modify, query as much as you want. At the end of each test the transaction is automatically aborted and rolled-back so the database is back to its initial fixture state. 

Can you give a simple example of a failing test?

",1520290630.0
,"Well there's two options that I know of.

You can use something like factory girl / faker and the like to insert data into the database randomly.

In my case, I had some complex queries I wanted to work so 'fake' data wasn't an option, but I had a chunk of 'test data' that I would just load into the test database when I needed it.

Make sure you have database cleaner set up, but from reading other subreddits this is one of the huge advantages of rails, the test database has no impact on other ones.

(PS, you can load seed files into your test database if you want, but make sure to clean properly after each round)",1520272787.0
ThorOdinsonThundrGod,"You can stub out the response from the db queries. I'm not sure of the minitest syntax, but for RSpec it's

    allow(ModelName).to receive(:where).and_return([array of values])",1520285137.0
MoooPower,"Wrong answer deleted and replaced with:

Ah yes, sorry, been about a decade since I've dealt with this.  Subqueries, need to get the max id first.  I remember spending a lot of time on this back in the day too.

    SELECT * FROM table WHERE id IN (SELECT max(t.id) FROM table t group by t.mac )

So in Rails, try something like this? 

    temp = Model.group(:mac).select('max(id) as maximus')
    ids = temp.collect &:maximus
    full_results = Model.where(id: maximus)",1520270330.0
JustinCampbell,"I would store it however you plan to use it. Do you need to know where users are to mail them something? Then store whatever fields the USPS/etc need. Do you need to know their general area? You‚Äôd probably do fine just collecting a zip code. If you‚Äôre storing location data for finding something local/proximity, store lat/long and anonymize it slightly by only storing a few decimal places (ie enough for 100m accuracy),",1520217171.0
acconrad,"Extract properties into a class, so if you have a class like `User` and it has a series of address properties, create an `Address` class and extract those properties out into your new class and make sure it `belongs_to :user`. Then, if other types of classes need something similar (such as a `Billing` object), you can use the same class and have that belong to that object as well.

As far as naming, feel free to use whatever you want, though it might be best to use `province` instead of `state` since the word ""state"" in programming means something different, not to mention a province generally covers that same kind of location as a US state does (in fact I'm pretty sure under the hood Google Maps API handles it this way as well). Also make sure you store zip codes as a string since many countries use letters in their zips and US zip codes use a dash to include localized neighborhoods or PO boxes.

I'd pick up a book like [Refactoring (Ruby ed.)](https://www.amazon.com/Refactoring-Ruby-Addison-Wesley-Professional/dp/0321984137) which covers this pattern and a whole lot more.",1520233760.0
ccb621,See existing examples and gems. Here is one of the top hits on Google: https://github.com/jonathantribouharet/jt-rails-address.,1520218288.0
menge101,"Will your addresses only be USA addresses?

Global addresses are a pretty painful thing to deal with.  I believe there are ~39 different standards to support globally.

[International address formats reference](http://www.bitboost.com/ref/international-address-formats.html#Formats)",1520264747.0
--_-_I_-_--,"Do you plan on doing any reporting? If so, in my experience, separated fields makes for a much nicer reporting experience.

 I hardly ever separate out address info into a separate model. The only time I do this is if, you need to store historic address information. 

This isn't really rails related - but I also, I highly recommend using Google Places autocomplete API for auto-completing the address fields for a user. 

https://developers.google.com/maps/documentation/javascript/examples/places-autocomplete-addressform

Depending on what you are using for the front-end there may even be libraries you can use for this functionality.",1520302569.0
ryanbigg,"Hi! My name is Ryan Bigg and you might remember me from [the books I‚Äôve written about Ruby / Rails](https://ryanbigg.com/books) :) 

I've been developing Rails apps for 10 years now and have only recently begun to look at Hanami.

I‚Äôve been toying around with Hanami for a few weeks now and imo it _feels_ better than Rails.  If you want to see some code rather than text, [here's my little example app I've been building with Hanami](http://github.com/radar/hanami-example).

Here are the top three things that I like about Hanami, in long form:

## Repository pattern instead of Active Record
Documentation link: [Hanami | Guides - Models Overview](http://hanamirb.org/guides/1.1/models/overview/)
 
The Active Record pattern encourages you to throw everything into the model. Think: callbacks, validations, persistence, database logic (queries) and business logic. 

In contrast, the repository pattern (through ROM) leads to a cleaner separation between your database and your application. I _especially_ like how validations are handled by `dry-validation`, a completely separate library to ROM. This _enforces_ a separation between your models, persistence and validation layers, allowing you to pick and choose which ones you wish to use.

My _favourite_ part about the repository pattern is that it's incredibly difficult to make database queries from a view. This helps prevent things like N+1 queries. 

Also: ROM has no such thing as callbacks, and that's a huge plus in my eyes too. Callbacks are _way_ too magical and -- using DHH's words -- too sharp a knife for developers to have. Explicitness in code leads to a much better understanding.

## Action classes

Documentation link: [Hanami | Guides - Actions Overview](http://hanamirb.org/guides/1.1/actions/overview/)

Rather than throwing all your actions into the same controller, they're separated out into their own classes.  This helps keep each action isolated from one another, leading to overall a cleaner application architecture. 

If you want to share things across actions, it's very easy to create a module for that functionality and to include it into those action classes. For instance, if you wanted a `find_post` method for `show`, `edit`, `update` and `destroy` actions, you can define this in a module and only include it in the actions you want. 

A Rails controller is typically made messier by the addition of ""helper"" methods like this. It's not uncommon to have Rails controllers of multiple hundreds of lines, due to the complexity of the actions and these helper methods. Separating out each action into its own class indeed makes them easier to work with. 

You're also able to test the action in complete isolation from the routing layer, as it is simply a class. I think this is what was attempted with Rails' controller specs... but those never really felt ""right"" to me and I typically go to Request Specs these days instead. Hanami brings me back to testing the actions easily. I like that.

### Params validation for actions

Documentation link: [Hanami | Guides - Action Parameters](http://hanamirb.org/guides/1.1/actions/parameters/)

Somewhat related to the previous point:

Actions in Hanami also use parameter validation (with the help of `dry-validation`, I think). This means that each action can uniquely validate the parameters. Rather than having `create_project_params` and `update_project_params` defined within a controller -- as you might do in Rails -- you can define what constitutes valid parameters right there in the action class. 

In my Hanami experiments, I've not found a use for this yet, but I can think of several places where I've needed this sort of thing in a Rails app.

## View classes
Documentation link: [Hanami | Guides - Views Overview](http://hanamirb.org/guides/1.1/views/overview/)

Similarly to Action classes, Hanami also has the concept of a view class.  I like these because they separate the logic of view ""helper"" methods and the templates very cleanly. 

In a Rails application, you define a helper in a module named after the controller. I never liked this approach for two main reasons: 1) normally I would only ever use the helper in _one_ particular view and 2) the helper is made _globally available_ across _all_ views in the application, which means I can't have a similarly named method in another helper module. A quite horrible design decision.

In Hanami, the view classes are a _great_ place to put these little helper methods _and_ because they're just small, isolated classes, you can test these without involving the router, controller or model.

## Conclusion

As I said at the beginning: Hanami _feels_ right. It's ""familiar"" enough -- still somewhat following the Model-View-Controller architecture that we know-and-love from Rails -- that it feels comfortable to use. There's a few places where your mind has to change into the ""Hanami Way"" (see above), but ultimately once your mind does that you'll realise that the Hanami way _is_ better.

Hanami has demonstrably learned the very hard lessons of big Rails application development and presents a robust, well-developed alternative web framework for Ruby.  

In fact, it is so robust and well-developed that if I was to develop a Ruby web application from scratch for production use, I would use Hanami over Rails -- despite my 10 years Rails experience.",1520379963.0
jodosha,"Hi all, I'm the author of Hanami. AMA if you have questions.

The bottom line of Hanami is to have a framework oriented to long term maintenance, testability, code clarity.

It goes beyond the classic ""flat"" Rails architecture, by introducing new abstractions like actions as objects and separation between views (still objects) and templates (ERB files).

It's also a factor of technical diversification for the Ruby Community: we're introducing a new way to build web apps. If your background is Rails, you've got covered for the 60/70% of the main concepts, but the remaining part constitutes the innovation of Hanami.",1520245217.0
strngsvlmstng96,"Not an experienced Dev, by any means, but it looks slike there will be a lot less weird gotchas as compared to RoR",1520202360.0
Quantumbinman,Had heard of it but never really looked into it - just had a look at the url and I am now interested to have a little play and see how it goes.,1520211247.0
cd_reddit_ls_-lt,I‚Äôm a little late to the party but we have a dedicated subreddit over at r/hanamirb !,1520640234.0
NilsLandt,"I suggest using `ember-simple-auth` [here](https://github.com/simplabs/ember-simple-auth), it includes helpers for Devise backends.",1520186366.0
NilsLandt,"I suggest using `ember-simple-auth`, it includes helpers for Devise backends.",1520186345.0
,[here you go](https://dgosxlrnzhofi.cloudfront.net/custom_page_images/64/page_images/Rails_Competencies.png?1386276348) ,1520184864.0
FairsleyDifference,"You don't specify what you currently know so it's hard to answer. Outside of Rails itself, which builds upon the Ruby language through DSLs, you should read Ruby-specific books like ""The Well Grounded Rubyist"" so that you are able differentiate between Rails syntax and Ruby syntax. Understand how to develop DSLs in Ruby so that you understand what Rails is doing. Are you doing front-end work? Learn CSS. Using CoffeeScript? Don't rely on that without knowing JavaScript as well. Have you used jQuery? Learn it. Back-end work? Study up on web services and how to implement APIs in Rails. Are you building data-driven apps? Are the databases SQL? Learn the SQL language and learn the specifics of whatever the RDBMS is (MySQL, Postgres, Oracle, etc). Or do you use a NoSQL database? Study up on that. On and on!",1520185314.0
kkempin,Some time ago I wrote an article [What skills should a junior Ruby on Rails developer have?](https://medium.com/kkempin/what-skills-a-junior-ruby-on-rails-developer-should-have-c1589710507c),1520225033.0
guiniveretoo,"This is a [bad question](http://www.catb.org/esr/faqs/smart-questions.html#explicit).

What do you know now? Have you studied anything yet? Are you looking for tutorials or other resources, books? Do you know any Ruby or are you starting from scratch? Have you looked at the extensive resources in the sidebar?

Put a little effort into your question, please.",1520177734.0
pelfinho,"DRY - Don't Repeat Yourself. 

You've got 2 ""shoulds"" in your question. Get rid of one!",1520197557.0
,WEll - what sort of environment does your job work in?  If you don't know the basics of CRUD in two months you're in trouble,1520197678.0
joshoheman,"Read and understand the Rails Guides. Which I‚Äôm sure you‚Äôve already done since they are linked in the sidebar. 

PS. You‚Äôve put minimal effort into your post. Why would you expect others to put effort into their responses?",1520202202.0
jackrandom0,"yes. at my workplace they have a lot of old projects written in rails 1.x and 2.x. I began to learn rails 5 in October last year and doing this full-time since. And I really can only recommend it. it got better with every major version. As soon as you get your head around it, you'll be able to combine a really powerful, magic and beautiful language (Ruby) with a state of the art web framework (RoR). I can really recommend 'the rails 5 way', from Fernandez.

it's not about the language you learn, it never is. it's the same with natural human languages like French or Russian. all the time you spend with trying to find the best language is kinda worthless. success will come from alone if you just speak it. so just learn Ruby and stick with it for a while. no matter what you learn afterwards, it will be easier, because you already speak one programming language. the more you speak, the easier new ones will be. 

and there's one language all programmers speak: to rant :)",1520156732.0
monorkin,"**I'd say yes.** Rails has become the defacto standard when it comes to MVC frameworks. Even if you end up not liking it and moving to another framework/language the base concepts are still the same as in Rails.

**Learning Rails has helped me do projects in Java, Elixir and Python without having to go through a major learning curve.**

I have to point out here that **my opinion is biased**. I've been working profesionally with Ruby and Rails for the last 5 years.

If your question is more focused on job security I can just state from experience that it's harder (or at least it was) to get a starting position with Ruby than with say Python, Java or Swift, but it's not as hard as with Elixir or Erlang. Though after a year or two of experiance the job market opens up significantly. There still is a demand for Ruby developers, as other comments stated there are a lot of legacy projects and there are new projects being started all the time. Recently DigitalOcean and Netflix have been hiring Ruby developers for new projects.

**Ruby isn't the hot new thing anymore, but in my opinion, it's here to stay.** That's just the normal cycle of the industry. Look at PHP, I thought it was dead back in 2011 yet here it is, stronger than ever.

Also, this subreddit is focused on Ruby on Rails, the framework. I'd suggest you take a look at /r/ruby which has a vibrant community that will be more than happy to answer all your questions while learning Ruby.

Hope this helps :)",1520160865.0
robertross,"My answer is yes. But keep in mind you‚Äôre also asking in the RoR subreddit. The answer here will likely always be yes.

You might want to consider opinions in /r/learnprogramming as well.",1520189137.0
,"Rails n00b here, so I have an unbiased opinion. :) I've really been enjoying learning Rails. I know a bit of JS/React but wanted to try a different language for the back-end. Ruby has a certain simplicity to it and seems less pedantic than Python. Coming from HTML/CSS and utilizing Wordpress, I also like it more than PHP.",1520411131.0
oxtrue,"I'm at the same stage as you, I have just brought ""the rails 5 way"". Ive only read the first 20-30 pages so far but its seems very informative about what goes on. Let me know how that course goes and I'll have a look into if you recommend it ",1520168326.0
alexcp,"I did the course, it's great, learned a lot of useful things about Rails. I would also recommend Jose Valim's book Crafting Rails Applications, although it might be a bit dated.",1520169953.0
in0pinatus,"anagram of ingrow nails, ouch!

",1520454879.0
jasdeep13,"Use sorcery gem. It‚Äôs an absolute pleasure to work with, And you can whip out Token based auth in less than 10 lines. API is less than 20 public methods I believe. 

I‚Äôve used it on 10+ projects and prefer it any day over Devise, which IMO is quite bloated and heavyweight for my needs. 

Heck, if you even need some code samples, drop me a message and I‚Äôll share some gists with you. ",1520179192.0
sutabi,"Devise dropped token auth, but doorkeeper is a good replacement. You can use both together and both support Rails 5.",1520135162.0
dasgurks,"Just to clarify: You are using Rails 5 in API mode (possibly with a SPA-client) and are looking for the ""canonical"" way to do user authentication? Then I am in exactly the same boat and haven't found anything better then rolling my own solution on top of [ruby-jwt](https://github.com/jwt/ruby-jwt).",1520162892.0
human_tendencies,"I abandoned Devise and wrapped up _has_secure_password_ along with JWT. Pretty straightforward, honestly. I much prefer having explicit control over everything rather than the ""convenience"" of Devise.

Of course, do not under any circumstance attempt to invent your own signing/hashing/encryption schemes.",1520174588.0
olivierlacan,"I‚Äôm surprised no one is defending Devise. I did notice maintenance activity had declined dramatically in recent months/years on Devise but it‚Äôs been a workhorse for me on large apps where I didn‚Äôt want to leave anything to chance and wanted to know my with framework was regularly tested against security vulnerabilities (which happens simply because of how popular Devise is). 

Is Sorcery a lighter alternative people would pick over Devise when starting a new business? Or is it a much more restricted alternative?",1520192571.0
tarellel,"The current universal learning tool to jump start learning Rails is Michael Hartl's: [RailsTutorials](https://www.railstutorial.org/).

Once you get a little acquainted I'd suggest looking into Udemy, GoRails, and some RailsCast videos are still relevant.",1520119261.0
oztrax,gorails.com is worth the small cost.,1520121402.0
andreobrown,"I‚Äôm about 3/4 way through this course, which I highly recommend: https://www.udemy.com/professional-rails-5-development-course

Having tried a number of tutorials, I have to say this course has been my best experience so far. ",1520131718.0
acdesouza,"I always recommend starts with [Agile Web Development with Rails](https://pragprog.com/book/rails51/agile-web-development-with-rails). Because it show you a Rails project from scratch. And, also, because Rails is an opinionated framework, and this book will give you some context to those decisions.

Then, since Rails has really good documentation you should find common usage on [Rails Guides](guides.rubyonrails.org).

I also use [Rails API](api.rubyonrails.org) to see examples on how to use a Helper.",1520141547.0
Muchaccho,"What everyone said, plus [The Rails 5 Way](https://leanpub.com/tr5w).",1520159088.0
dangerdave17,"I really like CodeAcademy‚Äôs rails course. I did a coding boot camp not too long ago that focused heavily on rails and I used the CA course to help me on my own. If you can afford 20 bucks a month for the pro access it really helps. You get access to projects, quizzes, and you can get live help from advisors if need be. ",1520172653.0
sdn,There haven't been any fundamental changes between 4/5 so your knowledge shouldn't be outdated :),1520122214.0
midnightbrett,"You're missing a colon in the Activity class.

The line:

        belongs_to team

should be: 

        belongs_to :team

Hence why you are getting undefined local variable or method team - the lexical element ""team"" doesn't refer to any value, it's an undefined variable. 

This error has nothing to do with the db migration - rails is trying to load your whole application and can't because there's an error starting it up. Therefore it never even makes it to the rake task.",1520117153.0
,"If you look at

    League.find_by_id(2).teams.to_sql

it's actually running a query on the teams table, something like 

    select * from teams where teams.league_id = 2; 

So you need the association from teams to league to create the method on League:

    # team.rb
    belongs_to :league",1520115028.0
thereisdwarf,Posting here to remind me to look into this for you on Monday when I‚Äôm back at my computer :),1520110617.0
editor_of_the_beast,"It is great to see his reasoning of things, as he's very detail oriented. That part is inspiring. What's not inspiring is his defense of techniques that almost everyone else considers harmful, such as ubiquitous usage of callbacks and concerns. 

I'm a die-hard Rails user, but things like that and making their own JS framework I think are harmful to the direction of the framework.",1520065048.0
,[deleted],1520112690.0
hernanat,"original library: https://github.com/jasondavies/d3-cloud

Pretty basic. Create wordle-like word clouds with D3.js. I created the plugin so that I could use it for a project I am working on. There is a word cloud ruby gem for but it requires RMagick and I wanted to be able to create clouds dynamically on the client side without creating actual files ~

More info is in the repo link :) This is my first ever gem / plugin and it's just a simple port so go easy on me haha",1520050891.0
betterxhalf,"I suggest you wrote your API in Rails and your mobile app in React Native (JS).

RN is great for simple mobile apps, I recommend it.",1520024530.0
ryanlue,"Sam Stephenson (of Basecamp) wrote Turbolinks for this very purpose ‚Äî to make a web app feel as snappy as a native app, and reduce the overhead of developing the same application for multiple platforms.

Check out [this talk from RailsConf 2016](https://www.youtube.com/watch?v=SWEts0rlezA).",1520041878.0
jgisin,"While you wouldn‚Äôt want to use Rails as anything more then a backend for a mobile application, you could use www.rubymotion.com to create mobile applications in Ruby",1520018920.0
Serializedrequests,"**Edit:** This ramble got upvoted a lot, so I really want to clarify that, in my opinion, Rails has gone down a weird direction compared to the rest of the internet with Turbolinks. But, that weird direction does allow rapid prototyping and good performance, so it makes sense for some projects. **I would not recommend that a new developer start with Turbolinks, but instead use Rails as an API and learn a JS framework.** ActionView and Turbolinks really shines if part of your app is very static and simple form driven (say, the customer facing portion). You can still make the admin a SPA.

-----------------------

I have a number of monolithic enterprise applications doing things the old way. I don't see why it would particularly be worth spending hundreds of hours migrating them to a SPA framework.

The Rails guide way is great for rapid prototyping and graceful degradation, and apparently making Basecamp. Once you go API+SPA you lose all these shortcuts that make things quick as you are effectively building 2 apps, but you can definitely do that in Rails using any toolchain you want. You can really go a long way with Turbolinks and UJS, just check out Basecamp.

Personally, I build SPA portions of my apps in **Elm** because I love the language, and because I don't have time for a new JS framework every week. I have elm-make emit a .js file to include in the asset pipeline and call it good. The only other non-standard view components I use are Slim or Haml. I am trying out Trailblazer Cells, but I just don't have the kind of complexity in my view layer that demands being so explicit about my view objects and learning a whole new API with its associated pitfalls. ActionView is fast and easy. (I really like Trailblazer concepts and operations though.)

The problems that you can run into with the Rails conventions are numerous, and detailed in many articles. I've seen every kind of setup and alternative component used in a Rails project (and used many of them myself) and I can tell you that everyone's silver bullet is making some kind of tradeoff, and ActionView + the asset pipeline (as antiquated as it is) can still get you a long way.

**tl;dr** Yes I do use the Rails defaults on greenfield projects, because it is extremely quick to get up and running and still has decent results. However, for a new developer I would definitely suggest using Rails as an API only, and learning a SPA framework like React + Redux, Vue, etc. (Or my favorite language, Elm!)",1520032588.0
tf2ftw,It seems most people who learned web dev through JS always default to SPAs being the ‚Äúbest‚Äù way to build web apps. ,1520033754.0
smitjel,"Wouldn't the needs of the app you're building dictate the front-end technology choices you make? You make it sound like javascript frameworks are the first tool you should reach for when building a web app. You're betting big when you commit your entire front-end to frameworks like React. I still like DHH's approach to js: sprinkle it where you **need** it.

By the way, give haml a try...you'll never use ERB again.",1520033654.0
2called_chaos,"I guess the days of a website being somewhat functional without JS are over? I personally try to still work that way and unless I'm doing intensive realtime related stuff I don't see why I should even bother to look into SPAs.

We use ""the old way"" + turbolinks for a bigger shop an our page feels faster than any other site I visit. Then I look at an old competitor and I can just laugh at their site (with fancy animations and intensive JS to load stuff because their site is so slow).",1520035764.0
jaxn,"We are in the process of moving a big monolith Rails app to a Rails API/Vuejs app. Where the Vuejs front end is a completely separate repository.

If I was starting a new project, without a doubt I would go Rails API backend and VueJs Frontend.

The migration is not easy. Especially since we are doing to gradually. ",1520024572.0
SagaciousCrumb,"The webpacker gem has made it a lot easier to build rails projects that use big JS front-ends. Personally it's still more work for me to get that running than plain old views, but I'm an old. 

The last year there has been acknowledgement from the Rails team that they need to work better with JS, and it's showing.",1520032550.0
erandros,"A very valid question. How do we fit the ever changing js world into rails.  

I found a post mentioning how to use rails with vue, it seems worth taking a shot.  https://mkdev.me/en/posts/rails-5-vue-js-how-to-stop-worrying-and-love-the-frontend

I'll post this in the ruby on rails slack community and see what others think.

I don't get though why rails was clunky for you over C#. And I have more experience in ASP.NET than rails. 

Currently rails out of the box lets you reference npm packages with sprockets.
AFAIK, that's not true for aspnet OOB. 

Cache busting too, rails implements that for you.
It was no fun for me having to implement that manually in aspnet 2016.",1520048978.0
IllegalThings,"I build a lot of backend apps, so a lot of my rails apps are nothing more than Sidekiq workers, with some basic frontend to help manage those. Those apps tend to use haml, which I was reluctant to use at first, but have grown to actually enjoy it.

I do work on one app that uses Angular (1.0 FWIW) and its pretty horrible. The actual app is pretty nice, and it works super well to the end user, but development of new features takes a really long time. 

DHH leaned towards coffeescript for quite some time (still does?), which I personally find to be horrible. I find it uncommon to encounter a rails developer that doesn't rip out coffeescript (and turbolinks along with other things) as soon as they start a new app. 

For the most part, javascript has a tendency to evolve so fast that its really difficult to follow the standard ""convention over configuration"" as there is no real convention in the javascript land. Because of this Rails doesn't really prescribe to any specific framework, and for the most part follows the ""you can do it if you want, but we wont make it the default"" way.",1520051237.0
,"I work for a Rails consultancy and we built a lot of MVP apps and small sites for NGOs and non-profits. Especially when we're budget-constrained, Rails views are just faster to get up and running than a SPA frontend. And a lot of our clients go for function over flashy, so they're fine with pageloads.

A lot of design-heavy sites or advertising firms will go with a SPA, but there's still plenty of work out there where Rails views fit the bill.",1520115310.0
null-undefined,"There's always react-rails! I've never used a better integration of a frontend framework, especially compared to how awful the integrations are on the .NET MVC side. As for SPA vs MVC, it's preference, but I find that MVC is much faster to iterate on",1520337267.0
jordanaustino,"Honestly, my preferred rails uses all just use it as an API. 

I feel as though the rails community is stuck up on this bad separation of concerns even with the new stimulusjs, JavaScript html and css are not separate concerns they all control how the page looks and acts on the page, that is why other ecosystems are moving towards things like web components.

I also dislike the way many rails apps use helpers (functions that are kinda hard to locate and just decentralize  more logic) and using ruby in you templates makes it super easy to bleed n+1 queries without it being super obvious.

All that said if building a simple app it certainly makes things quick, and since webpacker gem was created it is now much easier to integrate other frameworks into your app.",1520006533.0
JustinCampbell,"Both for side projects and at work we use a Rails API + Ember frontend. The more I learn Ember, the more I enjoy it.",1520025217.0
tongboy,Sounds like you found a 4th model `region` that is associated to domains and pages but probably not links,1520001061.0
Bokatatun,"As tongboy said, you need a new model at the top. An then you can do:

    class Region
      has_many :domains
    end

    class Domain
      belongs_to :region
      has_many :pages
    end

    class Page
      belongs_to :domain
      has_one :region, through: :domain
    end",1520006841.0
Cyrax89721,"I haven't watched the video myself yet, but GoRails just put this up on YouTube and it reminded me of this thread.

https://www.youtube.com/watch?v=jtKEP_lsLco",1520282297.0
,[deleted],1519977598.0
stouset,"Given that a Rails controller‚Äôs interface to views is instance variables, I *really* don‚Äôt like the ‚Äúspooky action at a distance‚Äù of hidden state-manipulating `before_action`s.

I‚Äôd set it in each, but have a constant or function to define what the value should be:


    DEFAULT_STEPS = [ :link, :name, :details ]

    def index
      @total_steps = DEFAULT_STEPS
    end

This way there‚Äôs a small amount of repetition, but it‚Äôs still clear when instance variables are being set. ",1519959341.0
riffraff98,Class method or constant attached to a model. Not everything has to be a magic instance variable.,1519965166.0
rick_and_mortvs,"You can do that in a before action. 

before_action :set_total_steps, only: [:create, :new, :destroy]


def set_total_steps
  @total_steps = [:link, :name, :details]
end",1519933972.0
xly,"I would set it in a before_action filter. Check the section regarding filters here:
 [http://guides.rubyonrails.org/action_controller_overview.html](http://guides.rubyonrails.org/action_controller_overview.html)",1519933914.0
wikitih,Try changing `json.set` with `json.set!` in `_answer.json.jbuilder`.,1519919221.0
arup_r,"Solved it. I need to use `.set!` not `.set`. 

    json.set! ""#{answer.id}"" do
      json.id answer.id
      json.title answer.title
    end

The above code worked.",1519919224.0
hhunaid,I think there is no concept of 'change' in an attachment. In order to attach a new file you purge the previous one. At least in 5.2.0beta2 this was the case. Take a look at this [StackOverflow answer](https://stackoverflow.com/questions/45870021/how-to-update-attachment-in-activestorage-rails-5-2),1519974609.0
editor_of_the_beast,"We ended up converting all Coffeescript files to ES6. I liked Coffeescript, but lots of its ideas made their way back into pure JS. Which is kind of what you want to happen when trying out new ideas. They got upstreamed.",1519914990.0
aziflaj,"Technically, it doesn't matter as long as you're productive and your code scales well when adding new features. 

If you're working on a team, give a try to React/Vue.js with webpacker (comes bundled in Rails 5). You can do it even solo, but that would require you to totally change your mindset when moving from frontend to backend code. ",1519909201.0
dextr0us,"Coffeescript is finally getting some love from a new maintainer, so I if you like the syntax I say go for it. The features are less impressive now because es6 is good, but the syntax is still more ruby-y. ",1519955953.0
gabrielc63,have you tried coffeescript 2?,1519953548.0
grillworkio,ES6 is the way of the future and really fun to write.. time to do away with coffee.,1520006806.0
Serializedrequests,"No. It provides almost no advantages over plain old ES5/6 except for terseness. It just just adds an extra layer between your code and the browser for nothing. It's not safer or easier to write clean code in, and the compiler can't catch very many mistakes. Some of the syntax is actually kind of tricky.

Typescript actually gives you something useful!

Credit where it is due: When coffee script came out, JavaScript absolutely sucked and they were really the only game in town. But the best features have been upstreamed, and other compile to js languages are far more useful.",1520473537.0
waiting4op2deliver,"Don't use coffeescript

Edit: Oh noes, the one coffeescript user left downvoted me.",1519910803.0
wazoocakes,no,1520013645.0
koryteg,LOLOLOL,1519931157.0
StuartGibson,"The upcoming Rails 5.2 has [Active Storage](http://edgeguides.rubyonrails.org/active_storage_overview.html) to abstract away multiple file upload solutions. If you're not wanting to use one of the existing solutions, writing an adapter that talks to your own server would be a good plan, as it would give you the ability to move around at a later date if needed, while giving you all the niceties Active Storage provides for linking to files etc.",1519906371.0
wikitih,"Rails 5.2 will bundle `activestorage` (its beta currently does), which does what you want to do.

However, until that, you'll need to either use a gem like PaperClip or CarrierWave, or create your own storage system.

Both methods works with the same approach: store the file in the file system, and store a reference to it in the database.",1519906506.0
SidDefinition,The first half of [this video by GoRails](https://www.youtube.com/watch?v=Q8wF9RrJhrY&t=25s) talks and shows on how to make you own mechanism for uploading and storing files.,1519924753.0
editor_of_the_beast,"Why don't you want to use the gems? They provide a lot of value. You need a gem somewhere because at a minimum you want to store the files outside of your database, e.g. In S3. ",1519904972.0
tobeportable,[transloadit/uppy](https://uppy.io/),1519969010.0
editor_of_the_beast,"You should 100% test validations - that's behavior that's relevant to your domain. Especially when you have custom validations. 

Columns are implementation and not behavior, so I wouldn't test that.",1519904509.0
Mylanok,"You should test everything. And especially validations/associations. Most of the time it's super easy yo do with shoulda matchers.

And you are not testing the framework by testing validations. You are testing the fact that your model is using this rails feature, and should behave according to it. It can save you if some code has side effects on the validation (maybe a before_validation that is manipulating data and could break validation).

Testing is also a way to show that you added code for a reason. You think twice before modifying a tested code. And it can also prevent from removing the validation code by mistake, tests will fail and save you (yes yes it happens).

Test everything you can. Take the time to master how to test your code, it will save you time later.",1519906579.0
ReasonDidntPrevail,I don't test any of these things for the same reason you point out. Do you encounter this in production code or hobby projects? My boss would be pissed if I was spending time writing tests for built-in model validations...,1519898695.0
dvogel,"I test these things by proxy, through feature tests, as the user would experience them. Testing them at the model later is overkill IMO. Tests are meant to help you make software better, faster and I've never found model tests for validations to help me on either front.",1519913273.0
,[deleted],1519899248.0
GeneReddit123,"I test validations but not association definitions (has_many, belongs_to, etc). The reason is, validations have independent functional behavior on their own - if they are missed, application logic will be impacted, but no other part of the system will notice that. Also, sometimes complex validations (e.g. conditionals, or due to callback rules) may actually not make them run exactly as you expect, so some test case are beneficial.

Whereas associations are a means to an end. If an association is missed, surely some *other* tests would fail, which rely on that asosciation being present, and it's more valuable to use these tests than to test the association definition in a vacuum. If nothing else breaks, that means the association is unused and thus not needed.",1519898898.0
GroceryBagHead,"    hash = { name: ""Paul"" }
    hash[:elderly] = user.age > 80

I don't even like `tap`",1519859527.0
aharpole,"The pattern that is popping out to me is extracting the hashes with conditional content into separate methods:

    { name: ""Paul"" }.merge(elderly)

    def elderly
      user.age > 80 ? { elderly: true } : {}
    end

This leaves the hash alone if the condition isn't met and you can chain it.

I don't see much gained from your proposals. The first two examples wouldn't be valid Ruby code. The third one does feel a bit better, and is actually easy to implement for yourself if you wanted it:

    class Hash
      def merge_if(other, &block)
        merge(other) if block.call
      end
    end",1519885791.0
midasgoldentouch,Quick question: did you run bundle install first?,1519873510.0
ignurant,"I wouldn't care for an official rails image as much as a dockerfile generator included in the app scaffolding. The images themselves vary too much to make sense for them to build them natively. Different rails versions, different database adapters, all sorts of things...",1519860951.0
lostapathy,"It seems like most projects at this scale don't want to deal with the disagreements that would come out of finding ""one true way"" - I've seen much smaller projects (with much fewer choices) step away from shipping a Dockerfile for just that reason.

Your decision tree fans out fast - especially when you factor in database choices, and then backup choices, etc.  Ends up easier to make nobody happy than make half the rails users mad.",1519870063.0
ThatRailsGuy,"Good idea, how about making one?",1519855221.0
vagmi,"I think one docker image is not practical. You want to wrap each process as a separate image. Also, running plain docker images is a pain. You would want to network between containers, perform blue/green deployments and have the ability to spawn multiple VMs. So would need something like kubernetes or swarm or other cloud vendor specific flavors of container orchestration. Even then, running a database server like PostgreSQL in a container is hard. You are better off using something like AWS RDS/Google Cloud SQL. So, if we have one more strong opinion on the container orchestration tool, eg., kubernetes, then we can create a Helm chart for a standard Rails App and expose it with an ingress controller.",1519881653.0
sdn,Does it even make much sense to run ror in a container? I tried setting one up and it was way too complicated for me with no perceivable benefit.,1519911823.0
rubyredstone,I'm not in the Docker world so I personally wouldn't care..,1519868081.0
aarkerio,"Yeah a closed source solution that you must pay in order to use. And no, is not free in any sense.",1519863486.0
sylvezine,"Guess I'll kick things off over here:

1. Outpost
2. A single location for all project resources to reference and share.
3. Ruby on Rails on Heroku. Very rudimentary custom styles.
4. Check it out here: https://heyoutpost.com/
5. The Github project is private
6. Exp Lvl: Designer. Yeah, I'm really a designer by trade and skill, but work on the front-end and know enough Ruby and RoR to build CRUD apps and some basic programmatic things.
7. I screwed up early on by nesting resources, that came back to bite me. Currently, Project views are locked down and only accessible by Team members. I plan on adding a Public Share link so a Team can share the link with the client (and control what the client can see); if anyone has a recommendation for how to build that I'd love to know. I haven't investigated how to do it yet.",1519884509.0
nsantiago2719,"Name: learning-management-system(for now, haven't decided on what to name the project yet)

Short Description: It is a open source online learning platform that allows the users mainly the instructors to post a certain topic for their student. It also has a feature of file and video repository, quizzes and home works. The instructor is allowed to attach a file or a video on their posted topic to allow the students to review their past lectures or do some advance learning on the incoming lectures.

Application Stack: It is build with RoR and MongoDB. There is no front-end framework implemented yet. But if you want to implement one I'm all ears.

Link to live app: None so far.

Link to Github : [Github link](https://github.com/nsantiago2719/learning-management-system)

Experience Level: I have been using RoR for more than 3 years 

Others: I want to invite you guys on contribute or take a look on my project and give me some suggestions that you have in mind. ",1520211667.0
gruhehe,"1. Latency Tester
2. A simple app to compare latency of html, turbolinks, ajax, sjr, and actioncable.
3. Rails 5.2 and jquery
4. I deployed this to https://latencytester.herokuapp.com/
5. Code is at https://github.com/fadec/latencytester
6. I'm a Hobbyist
7. Need to read up on cowsay 

This is just a simple project. I was curious about the latency of different interactive requests in various places. Specifically I wanted to see if turbolinks saves that much time. I also wanted to experiment with heroku. See how long my free cycles last. 

Rant time: I'm also frustrated that webapps always feel so laggy yet I can type htop or emacs in the console and have it feel almost local, without writing a separate frontend! My ideal toy framework would probably work like turbolinks except it would maintain virtual dom state on the server and only send the diffs via a websocket... basically how ncurses works. These old fashioned terminal programs only send the screen diffs, but you program them as if you're writing the whole screen on each action. They're sooo nice to write, just like a pure http webapp. I'm back to rails now. This turbolinks+jsr is pretty close to what I have in mind. Very nice!",1520910972.0
nmb93,"1. TechTutor
2. My first ruby website for my first web dev class. The ""idea"" is that people can book a tutor to come to their house and teach them how to fix their tech problem.
3. Rails 5.1.5
4. Not applicable/not hosted live anywhere.
5. https://github.com/nmb93/techtutor hopefully I did this part correctly...also planning on deleting in ~48 hours.
6. Second year CompSci/IT student
7. Frankly I'd just be happy to have somebody look at it. I hit a wall tonight when I broke my ability to commit new records to the Review table. I know my associations are the problem but :has_many and :belongs_to *should* work. I've tried many more complicated versions of that but no dice. I'm also having issues updating the Balance field in my Accounts table but that functionality is probably a pipe dream.

Anyway, it's all due Thursday (3/15/18) night. I've aced every assignment so far, just adding specific things like log-in or a shopping cart, but taken as a whole the website kind of sucks.

The Reviews stuff all broke down after I added associations. The reviews I hard coded in via seed are still in there but on update ruby notices they're breaking the rules. From shell when I try to commit a new review:
`""review""=>{""customer_id""=>""3"", ""tutor_id""=>""1"", ""reviewdate(1i)""=>""2018"", ""reviewdate(2i)""=>""3"", ""reviewdate(3i)""=>""14"", ""reviewstars""=>""5"", ""reviewtext""=>""""}, ""commit""=>""Create Review""}`

Which is exactly what I intend. But then!
`Person Load (0.5ms)  SELECT  ""people"".* FROM ""people"" WHERE ""people"".""id"" = ? LIMIT ?  [[""id"", 1], [""LIMIT"", 1]]`
`Unpermitted parameter: :customer_id`
`   (0.0ms)  begin transaction`
`  Tutor Load (0.5ms)  SELECT  ""tutors"".* FROM ""tutors"" WHERE ""tutors"".""id"" = ? LIMIT ?  [[""id"", 1], [""LIMIT"", 1]]`
`   (0.0ms)  rollback transaction`
No idea man.

As for accounts, I added an empty ""cart_price"" array to my sessions controller and update it from within the cart view to match totprice. Then in the home controller, where lot's of functionality lives, I have this. It interacts with the Accounts model, but currently it just passes nil.

`Account.where(:id => session[:user_id]).update(balance: session[:cart_price].to_i, lastpayment: Date.today)`",1521025902.0
,"1. Rails Book List App

2. Just a simple app utilizing some of the modern front end tools.

3. Rails 5.1.5, webpacker, rails-react gem, bootstrap

4. N/A

5. https://github.com/christinavoudouris/rails-booklist

6. Beginner w/Rails, well-versed in HTML/CSS

7. Open to feedback, but mostly just sharing something for other beginners or people new to Webpacker.",1521186911.0
domaio,"> 1. Magic
> 2. Buy, sell and discuss ads worldwide
> 3. Rails on Heroku
> 4. http://magic.doma.io
> 5. https://github.com/Dorian/magic
> 6. Experienced ruby programmer
> 7. So, what do you think?",1523453724.0
prettygoodstudios,"1. GeoFocus
2. A Yelp like web application that helps photographers locate the ideal place to shoot a photo.
3. Rails 5.1.4, React, Heroku
4. https://geofocus.herokuapp.com
5. https://github.com/prettygoodstudios/locofinder
6. Student/Hobbyist  1 Year of Ruby on Rails Development Experience
7. I would like to recieve feeback on how I can write cleaner and better code. I would also like to recieve feedback on how to promote a web application with no little to no budget. It would be nice to hear advice on how I can a land entry level or junior position as a Rails developer.",1523504591.0
capn_sanjuro,"Well, from the lack of comments it looks like you are about to be one of Reddit's foremost experts on Devise, payments processing and GDPR.

Keep us posted on what you learn?",1519876406.0
ziptofaf,"Place I work at is  implementing GDPR policies and well, they are quite nightmare to deal with but here are some pointers:

* Firstly, it's not Rails only problem. Proper solutions will require attention from sysadmins and lawyers as well. Keep in mind that depending on a scale of a project extent of what you need to do changes as well. Small company does not have to hold to the same policies as a huge enterprise (but how much is good enough is something you need lawyer to chime in to make sure of)
* Secondly, from technical perspective there are these challenges that need to be tackled:
 * Data leaks and logging. Gems like audited are a place to start with but you might de facto need a short-term log on who accessed which record. So it's at least possible to prove on paper that you can show a leak has occured and employee without sufficient access saw information they should not have access to. 
 * Right to be forgotten - this is probably the hardest part to tackle. As it does not only mean to delete information about a user (save for one you need stored by law) from your live database but also from your BACKUPS. I have seen two solutions. One is to store IDs of users that wished to be deleted and upon recovery you parse this list and remove all records from live database (well, technically speaking it's not ""remove"", it's just ""ensure it no longer identifies them""). This means you kinda keep them but they are not in your application. This will probably fly in a smaller organization. Solution #2 is to have a unique encryption key for each user and their data. If they want to be forgotten then you just delete that key and you are done - data might be physically there but it cannot be accessed by anyone, including you. These are the two most sane ways of doing it, I would not recommend recursively prunning your backups at the very least. 
 * User can ask for all data you have on them. This also means your log files. In a case of a web shop you will likely need to go through their saved baskets, orders they have made, account information, any profiling and export that. This pretty much has to be done on per-model basis, with some kind of .to_text method (so it looks readable), you will need a general function that exports all that for a given user_id as well. 
 * [Nightmare email](https://constantk.wordpress.com/2017/06/30/the-nightmare-letter-a-subject-access-request-under-gdpr/). Any application wanting to be compliant with GDPR should have answers to questions in this example. And they better be readily available. 
 * Check where you are storing your data and if that place IS compliant with GDPR. Storing Europeans data inside US is generally a no-go. 

> Devise compliance with GDPR - how to implement it

This one is actually simple and requires very little changes. You just need additional fields like ""agreed_to_x_at"" as you can have one checkbox per type of data you will get from users and their explicit permission. So just registered_at is insufficient. But save for that you are good to go. 

> How to use Postgres in Rails and be GDPR compliant

Nothing changes on the Postgres side directly. Encrypt your backups, possibly encrypt user information too with unique keys. 

Save for that you need your data retention policy and documentation (you define your goals yourself, just need to explain why). Eg. how long are you planning to store specific type of data and why that long, what measures to protect it you have, who has access to it etc. 

GDPR can become a nightmare on sites like Reddit but it doesn't affect typical applications like web stores THAT much. The reason it's a nightmare for discussion boards is that you will likely encounter ""critical classified data"" like people talking about their health, sex orientantion etc. This means you must have an inspector at your company and you cannot rely on implicit agreement (eg. you don't need to ask a user if it's fine to use their address if you are a shop and they bought something). This is actually a really painful thing for small local discussion forums (I have talked to a lawyer, even non-commercial forum falls under GDPR in my country) but it's not too bad for businesses.",1519894676.0
etafavoti,"I'm on the hunt for information related to Rails + GDPR and was surprised to find a lack of conversations happening about it. I'm happy I came across this discussion as I was curious about Rails backups and Postgres as well.

",1521055903.0
jesalg,I came across this Rails Engine which seems to be a good start: [https://github.com/prey/gdpr\_rails](https://github.com/prey/gdpr_rails),1525737521.0
CondoCalendarApp,"Try adjusting line 42 to: 

`puts ""Message sent."" if response.success?`",1519819068.0
,A validation and not-null database constraint should be enough.,1519805103.0
herminator,"If company should always be present, a `try` will silently hide coding errors from you. Never use `object.try(:method)` or `object&.method` unless there is a valid business logic use case where `object` can be nil. The tinkering in the console you mention elsewhere is not a valid business logic use case.",1519813029.0
CarefulAsk0,"a good practice is by declaring :delegate on the model so that the child/parent attributes can be called like .parent_name instead .parent.name. This also helps you adhere to Law of demeter.

So by writing like:
delegate :name, to: parent, allow_nil: true, prefix: true

You get 2 birds with one stone",1523975202.0
midasgoldentouch,"Oof. So yeah, that is a very basic use of Rails.  Here's a few things you'd want to tackle on your way to becoming a mid level developer:

Familiar with using common OOP design patterns outside of MVC - commands/service objects, adapters, policy objects, form objects, query objects

Using caching, RDBMS, a passing familiarity with other types of databases.

A deeper dive into ActiveRecord, including various data relationships and polymorphism vs single table inheritance

Custom routing, especially when taking into account authentication and authorization

A move towards a component based front end (although not necessarily React)

Responsive UI/UX

These are just a few ideas, mostly skewered towards the back-end. Others can come in with some other ones. I'm not saying you have to do all of these, but some knowledge on these would be good. At least being able to say ""These are the basics, and I expect I'd learn more when I encounter a project using that.""",1519796467.0
samnissen,"I know how cliche this advice is but: build, build, build. Solve a problem, abstract the code, write the tests, write the documentation, publish it on GitHub, show to everyone, iterate, repeat. And fix bugs in others‚Äô repos with pull requests. 

I‚Äôm not super experienced, so take what I say with a grain of salt. But I can tell you what I see, which is that code speaks loudly to expertise and experience (and privilege / free time, but also drive), and simultaneously grants necessary experience.",1519801530.0
gelfin,"You‚Äôve got a pretty good starting point there in the things  he‚Äôs been asked that have tripped him up.  Your buddy has most certainly used ActiveSupport.  It‚Äôs all over Rails by default.  The thing that gets him is he doesn‚Äôt *know* he‚Äôs using it, or what it gives him he isn‚Äôt getting from vanilla Ruby.

Ever noticed how, in a Rails controller, you can refer to URL params with either a symbol (params[:sessionId]) or a string (params[‚ÄòsessionId‚Äô])?  Ruby Hashes can‚Äôt do that.  Why do you think you can in Rails projects?  Maybe step through that code in a debugger (which a mid/senior Rails developer should definitely know how to use ‚Äî check out ‚Äúpry-byebug‚Äù for a free command-line debugger, or RubyMine has an excellent visual debugger) and see why it works.

ActiveSupport is a collection of utilities so helpful it‚Äôs often hard to avoid pulling it into even many non-Rails Ruby projects, and a good Ruby developer should know roughly what‚Äôs there so he doesn‚Äôt reinvent the wheels it provides.

Gems in Ruby are brutally simple to write.  He should look up a tutorial and write a toy one just to see how the magic works.  Then do ‚Äúgem environment‚Äù at the command line.  Among the lines it spits out is the location of your locally installed gems.  You can dig into any one of those and, once you know how gems are structured, can start to see how they work.  Many of them are far more simple than you might guess.  Just because it‚Äôs a published gem doesn‚Äôt mean it was written by some super-genius sitting alone on a mountaintop subsisting entirely on Ruby.  One of the great things about open source and the proliferation of modular, interpreted languages is that there is no ‚Äúsecret sauce‚Äù. The guts of everything you use is right there for you.  One of the signature skills distinguishing a more senior level of ability is having realized and taken advantage of this.  Don‚Äôt be afraid to chase behavior outside the boundaries of your own code to understand why something is happening.  You‚Äôll learn a lot in the process, both about why things happen and how more advanced professionals in the field write code.

In that vein, we don‚Äôt just curl up by a fire with the Rails source for fun.  That can‚Äôt be a checkbox item, ‚Äúyup, I looked at it.‚Äù  Generally we‚Äôve done it because we hit a weird problem where, say, ActiveRecord wasn‚Äôt behaving like we thought it would in a particular case and we needed to figure out how to make it behave.  As an interviewer, I‚Äôd follow up ‚ÄúI haven‚Äôt had a chance‚Äù with, ‚Äúwhat in your estimation would ‚Äòa chance‚Äô look like?  Under what circumstances would you take a look?‚Äù

In fact, putting on my interviewer hat for a moment, and just given what you‚Äôve said here, here‚Äôs what I‚Äôm thinking when I look at your buddy‚Äôs resume:  His one Rails job has been as the sole developer on a basic website.  He probably hasn‚Äôt pushed the limits of Rails in any way because of the nature of the project, and because he‚Äôs working alone I‚Äôd expect to see code that doesn‚Äôt quite conform to the norms of Rails development.  I‚Äôd lead with questions intended to confirm or refute that suspicion, as your friend‚Äôs interviewers are, and his answers would tend more to confirm the suspicion.  He is presenting as more of a junior developer, who will need a lot of mentoring just to get up to the level of the team.  His experience says more ‚Äúwebsite developer who happens to use Rails‚Äù than ‚Äúexperienced Rails application engineer.‚Äù  I‚Äôm sorry if that sounds harsh put like that, but that‚Äôs exactly the wall he‚Äôs running into in his interviews.

And just as a word-choice thing, do *not* say ‚ÄúI haven‚Äôt had a chance to.‚Äù  That comes across in a subtly bad way.  Your interviewer will hear, ‚ÄúI‚Äôve had neither the need nor the curiosity, but it‚Äôs not my fault.‚Äù  Come up with a better way to answer things that are eliciting that response.  Even just ‚Äúno, I haven‚Äôt‚Äù is a better response for the lack of that little whiff of excuse-making.  Better if he can honestly answer ‚Äúyes‚Äù to some of them, with examples.

From what you‚Äôve said, if I can name one thing that‚Äôs going to boost your buddy‚Äôs chances, it‚Äôs curiosity.  To get out of where he is, he needs to develop and exercise it, and to get to that next rung he needs to prepare answers for interviewers that exhibit it.  That‚Äôs often the make-or-break trait for all levels of software development.  You can lack particular skills or knowledge, but being thoughtful, creative and curious, and being able to detail how you‚Äôd go about finding out the answer can be as good or better than just knowing it.",1519832439.0
davie668,"Recently I've been using this article https://www.onlineinterviewquestions.com/ruby-rails-interview-questions/?utm_content=buffer22bd2&utm_medium=social&utm_source=twitter.com&utm_campaign=buffer#.WpbA9Pynw0N as a ""What to learn"" guide.
This may be useful in your case. ",1519829312.0
Code-Master13,"I just wanted to say thanks for all the posts. As a new rails developer that will be looking for a job soon, these answers were very helpful in what to learn! ",1519837578.0
,"Has your friend looked into taking other side projects, or a new consulting/contract opportunity? It would be a great way for him to work with others (even if it's remote) and get to do the more mundane (but necessary) tasks he might avoid on his own.

I'm new to Rails specifically, but was a contract HTML/CSS coder for years. I learned more on those projects than during my full-time jobs, where I ended up bored in under 6 months' time. As a contractor, you're often expected to tackle a new project and complete it fairly quickly, rather than just maintain legacy code. Contracting has its drawbacks and he probably shouldn't do it for too long, but it'd show that he's willing to dive in without much hand-holding. 

He should also try to think of something that would be interesting for him to build, and figure out the best way to do it with Ruby/Rails. Look up online tutorials/blog posts for guidance, and try out the ones that are challenging. I'll also second using Github - posting work and collaborating. And (I think) depending on his skill level, small/tutorial projects are OK, if they utilize current/latest technologies.",1520458066.0
MrMrLoaf,I would definitely like to take a peek üòä,1519777997.0
real_seven,I would be interested ,1519779647.0
,I would take a look. Bring it!,1519803962.0
442401,"Yup, I'd read it. I spend half my life reading Ruby blogs. Yours might be the one that finally makes everything click into place! ",1519868053.0
spinlock,"This is a great question!

My knee-jerk reaction (before I read the whole question) was to say option 3 is the only way to do it. But, that's because I can only imagine building SPAs these days :) . For an SPA, you definitely want to deploy your front-end independently of your API. So, get them in separate repos with separate build systems.

But, if you have react on multiple pages rendered by Rails, you'll want to use Rails asset pipeline to build your JS per page. I would never take this route because I think it really makes the whole build process very complex. ",1519765975.0
leonelgalan,https://github.com/rails/webpacker is probably the go-to now. It's build by Rails and it's pretty thin wrapper around webpack. Its installer has an option to get you started with React.,1519763287.0
MoooPower,"Depend on context of complexity of application, and scale of deployment and how much stability it need.

Option 3 is best as it essentially isolate backend and front end.  You can have them on completely different servers and so forth.  This is the approach I now generally take and in a similar route as /u/spinlock  .  Once you get into a lot of front end JS framework,  SPA becomes very attractive from a coding architecture standpoint.   There is a neatness to concern isolation between business versus user interface.

Option 2 is good if you don't need huge amount of scale isolation and starting out.  I use method 2 to convert large old applications toward a fully SPA state.  Sometimes you have to go in steps and it's possible to convert single feature or small part of your application this way if it is an old and large app.   But this mixes front/back stuff, and I tend to think can create the potential for a greater amount of errors along the way.  I will certainly testify I have observed that in my own personal failures, and why I now favor option 3 whenever possible.",1519767383.0
LivingAnywhere,"Good question, i have no idea about the best way to do it, but i don't use webpacker, i tried it a half year ago but it was a pain. We've used a monorepo style in over 10 projects. I use plain rails/graphql/webpack. 
We have a folder called frontend in the rails repo, with a minimal webpack setup. We have a buildpack that builds nodejs and ruby on heroku, so far it has been nothing but awesome. 
",1519767053.0
dom_eden,"Number 3 for me. Keeping it separate with create react app is the way to go so you get all the benefits of JS ecosystem like hot reloading, ESLint notifications etc. It‚Äôs a dream to work with. ",1519770203.0
0xF013,I prefer either `rails new --api` or a graphql endpoint with a CRA app in either a directory or a separate repo. Way cleaner than the old way.,1519784783.0
hardwaregeek,"3rd option for sure. The whole webpacker deal feels like an halfhearted attempt to keep Rails relevant for the front end, which doesn't really work. I like setting up Rails as a REST or GraphQL API (graphql-ruby is fantastic, imo better than graphql.js) and then running a separate front end. Granted it's nice to have a streamlined build system all in one application, but you can totally do that with a little bit of fiddling with webpack/npm scripts.",1519788972.0
,I strongly prefer option 3. Set Rails to return JSON from your REST API and use that data in React,1519797276.0
ziptofaf,"I have tried both #2 and #3. 

Option 2 with Rails 5.1 and up is really simple to use to extend existing applications. You can pretty much send any data you need from your back-end to react straight via a `react_component` helper, it also integrates well with capistrano and rest of your Rails environment. We are currently deploying this approach in an originally mostly back-end heavy application that used basic JS (via remote: true) and some bootstrap for CSS. It makes absolutely no financial sense to rebuild it using API mode and this solution is a good way around it. 

If you are building a new application from the scratch then I would opt for 3rd option. Rails has a good API mode, you can find gems to handle CORS and JWT easily as well. It does generate extra overhead at the beginning but it's honestly NOT nearly as complex as one might originally think, especially if you have any decent documentation.",1519805519.0
davie668,"From a Ruby Rouges podcast a few weeks back, the catch phrase was ""JavaScript Sprinkles"".
Why do you want/need to use React? Do you just need it in a few places to make something a bit more interactive or do need it for the full Front-end, or do actually not need it at all as I realised in one of my apps?!
If you just need bits here and there then a new rails app with --webpack=react will get you where you need to be.

This article is the most basic I've found https://ejdraper.com/2018/01/08/frontend-fun-with-rails-5-1-and-webpacker/?utm_content=buffer57821&utm_medium=social&utm_source=twitter.com&utm_campaign=buffer
",1519829871.0
yolo___toure,"If one is starting from scratch, could anyone explain the benefits to having them both be in one repo (#1 #2) over in separate repos? 

I read something about testing but I'm not sure I fully understand the drawback",1519795380.0
grillworkio,"I just wrote a blog post on this today ironically. it's baked right in as of Rails 5.1.4

https://blog.grillwork.io/create-a-ruby-on-rails-5-1-application-with-webpack-react-16-and-react-router-e2c16d267f73",1520004924.0
,"Rails n00b here, but I've also tried #2 and #3. Interesting that #1 is the least popular. I considered trying it, but #2 seemed easier to set up. But your app won't look better or worse based on the above methods; that will depend on your design.

I did a small project with the Rails API/CRA recently, and it went smoothly despite me not being great at JS. I've successfully built something with just CRA as well. However, the React-Rails gem is great for adding some React bits to a Rails project. As someone who wanted to try Rails instead of Node, I'm excited to do more with that. 

Lastly, I think the Webpacker gem works just fine. Whenever I've had an issue it's somehow related to Webpack or webpack-dev-server - new versions/dependencies not matching up, etc. The best thing about using CRA is no configuration. ",1520408471.0
acconrad,"2 or 3 are fine, just depends on how you structure your architecture. `webpacker` is a good option too",1519771559.0
dnolan,"You should be able to use the group_by method from ruby enumerable module. https://ruby-doc.org/core-2.5.0/Enumerable.html#method-i-group_by

This will group your array by whatever is returned from the category method on your object. Then it will return a hash with the keys being your categories and the key's value being the array of comtasks in that category. Hope this helps:  

    <%= form.fields_for :comtasks, form.object.comtasks.order(:sort).group_by(&:category) do |key, fields| %>

    <div>  
        <h1><%= key # this is the category name%></h1>  
        <% fields.each do |field| %>  
            <%= #add form fileds for category here.  %>
    </div>",1520301752.0
jemminger,My preference would be singular in the route and namespacing.  I'm OK with the controller file always being plural.,1519768488.0
Americanstandard,"what happens if you do  

    select 'option1' from: find('select[data-tag-container=""x-options-list""]', visible: false)",1519761620.0
tumes,"Broadly speaking, you've uncovered an awkward interaction in your app. If I were approaching the same problem, I'd take one of two approaches:

1) Move note creation to a `notes#new` view.

2) Submit the note form via AJAX and never leave the homepage.

Since this is your first app, approach 1 is a bit easier and structurally ""correct"", meaning you're managing a resource in a conventionally RESTful way. Approach 2 will probably involve a bit of a dive into javascript and remote form submission, but it adheres to the interaction that you specified in your original question. It has the same benefits as approach 1, it just has an added layer of complexity.

In the end it's up to you. You could just as easily add a custom note creation action to your `UsersController` to keep the routes within the user scope. Regardless, I would strongly advise against trying to coerce the url into something that it is not. Your instinct that this feels weird and painful is right, but I think it indicates more that you could consider options that stick closer to the conventions of managing RESTful resources rather than figuring out how to jury rig it into crossing controllers in an unconventional way.",1519771137.0
kobaltzz,"I covered doing image uploading in WYSIWYG editors like Trix and Summernote on Drifting Ruby .

https://www.driftingruby.com/episodes?query%5Bname%5D=wysiwyg

Basically the concept is to listen on certain events triggered by the editor; specifically around image uploading and deleting. The backend uploader doesn't matter much as it can be any of the ones you mentioned or with ActiveStorage. When the event is triggered, the browser will make an AJAX post to the application which uploads the file and sends a JSON response. The editor will then insert the URL from the JSON response as a link to the image. ",1519735934.0
jemminger,Not that I'm aware of.  Maybe pick apart Gitlab's solution and make a gem or npm package?,1519702233.0
overload119,"Filepicker, but its only free for a certain amount of uploads.",1519703988.0
ryanckulp,"yeah, we use + love Filepicker.io. does all this as-a-service. 

yes, free is limited then its $49 /month, but if images are something all your users do, total no brainer.

your time @ $100 /hour hacking for 6 hours, wouldn't produce anything close to Filepicker quality, and $600 gets you excellent service for a full year. ",1519715837.0
janko-m,"There is free a GoRails screencast ""[Using the Trix Editor plugin File Upload Attachments](https://gorails.com/episodes/trix-editor?autoplay=1)"" that implements pretty much the functionality you described.",1519719236.0
djfrodo,"This isn't rails specific, but I use it in a rails app and it's great: http://blueimp.github.io/jQuery-File-Upload/

It does use a lot of .js files, but it's got drag and drop, and normal (fallback) file selection.",1519726230.0
tquill,I've been using [Froala](https://www.froala.com/wysiwyg-editor) and their attachment functionality works great with S3.,1519749974.0
erandros,"Remember you can check your routes by running `rake routes`. You can append `_path` to the values in the `Prefix` column.  
For example, if you have the prefix `new_league`, the method `new_league_path` is available for you. Some require passing some ids (like update methods).  
Read this thoroughly from top to bottom: http://guides.rubyonrails.org/routing.html",1519701405.0
SagaciousCrumb,"Assuming you are in `leagues_controller#show` view, you can use `link_to @team.name, @team` assuming you have set up that instance variable. This will actually work in all views as long as @team is there.

Similarly, you can link to all teams in a league like so (I'm assuming this is what you're trying to do):
        
    <% @league.teams.each do |team| %>
      <%= link_to team.name, team %>
    <% end %>

",1519696086.0
RISCfuture,"The `== true` approach (or the `truthy?` approach posted here) are fine, but for true Web compliance, truth is indicated by the _presence_ of the parameter, and false by the _absence_. So, if you submit a form for a user who may or may not be active, for example:

* POST http://my.host/users?name=foo&active
* POST http://my.host/users?name=bar

The absence of `&active` means the user is not active.

If you do it that way, which is the way that Web forms are intended to work, then you can use `if params[:active]`.",1519681734.0
hmaddocks,"Stick something like this in your Application Controller. Wrote this on my phone so untested. 


	
    def truthy? value
      [1, ‚Äú1‚Äù, true, ‚Äútrue‚Äù, ‚Äùt‚Äù].any? {|t| t == value }
    end
	
	
    if truthy param[:location1]
      ...
",1519671782.0
danilobarion,"We always use Dry::Validation.Form to validate every route of every controller, so it already converts string to booleans. I don't know if Rails have its own way to do this conversion",1519672233.0
brainbag,"If you know the type ahead of time, you can use Rails' built-in boolean casting with `ActiveRecord::Type::Boolean.new.cast(value)`. This is how boolean params get turned into savable values for something like `Model.update(param_values)`.

[API reference](http://api.rubyonrails.org/classes/ActiveModel/Type/Boolean.html)

    > ActiveRecord::Type::Boolean.new.cast('0')
    => false
    > ActiveRecord::Type::Boolean.new.cast('1')
    => true

    > ActiveRecord::Type::Boolean.new.cast('true')
    => true
    > ActiveRecord::Type::Boolean.new.cast('false')
    => false

    > ActiveRecord::Type::Boolean.new.cast('t')
    => true
    > ActiveRecord::Type::Boolean.new.cast('f')
    => false

    > ActiveRecord::Type::Boolean.new.cast('on')
    => true
    > ActiveRecord::Type::Boolean.new.cast('off')
    => false
    ",1519756505.0
thunderkey,"The ""=>"" statements are usually (for example in irb) the return values of the last line of code. In your code you never print the array itself, you only return it. Put a ""puts"", or ""p"" (simpler for debugging purposes) in front of the ""first_square_numbers(num)"" and it'll be printed.",1519672027.0
Misaiato,I used elasticbeankstalk. It‚Äôs very similar to a heroku deploy. ,1519671431.0
in0pinatus,"I‚Äôm using OpsWorks for app deploy and scaling, mainly because I already spoke Chef. Also because it‚Äôs free with AWS. OpsWorks doesn‚Äôt support everything you listed explicitly although some would be easy to build out.

Careful with those AWS credits, they‚Äôre easy to burn up when you scale. Manage your business as though the free stuff wasn‚Äôt there.",1519672878.0
tquill,"Are you leaving heroku because of cost?  Is it just you, or do you have a team?",1519666574.0
pkallberg,I've used [Cloud 66](https://www.cloud66.com) for years and it's by far the best I've used.,1519676660.0
Ronald-Ray-Gun,"I'd try the elastic beanstalk route first (mentioned in this thread) since it sounds much much simpler. But, if you find you need more customization, AWS OpsWorks is another option.

I wrote a blog post on this a while back: https://mattboldt.com/aws-opsworks-rails-chef-12/",1519681769.0
capn_sanjuro,"Sidekiq isn't nearly as easy on AWS as it is on Heroku.

First setup  Redis db instance, pretty much from scratch... But with a layer of AWS for add spice. Then an additional EC2 instance to host some workers... At that point it'll scale like any EC2 instance... But the deployment process will not be smooth without some DevOps scripting.

There are some options based on the AWS worker queue... But.... Sidekiq.",1519694069.0
dcaclab,"I use aws codecommit, the speed of deployment is much more faster than deploying the whole rails app each time, as it will upload only the changed code using git.

However, I can't deploy to the same application, I always clone the elastic beanstalk app, and wait until its ready, then I deploy to the new app before I change the ALIAS of my domain to point to the new app.

If I deploy directly to the active elastic beanstalk app, I notice that the CPU consumption reaches 100% for a while before it comes down, making my website not responding to any traffics.

If I can detect the reason behind the CPU spike at deployment, then I might be able to deploy without having to clone app and change domain ALIAS each time..

",1527855168.0
CaptainKabob,"Just curious if you settled on a setup? I'm going down the same path currently of figuring out how to architect/deploy: a web process, delayed\_job, and some scheduled rake tasks.

So far I've seen blog posts about running the worker process inside of the same instance as the web process. I've also gotten advice to set up web, worker, and tasks each as a separate EBS application (so 3 EBS Apps, 1 codebase). I wondered what you're doing.",1534543262.0
yolo___toure,I think you want #each_with_index ,1519662339.0
pm_me_ur__labia,"Unrelated, but your code is a little confusing to me. I'm going to explain the choices I don't understand, but it could be my own inexperience, and if I'm wrong, I'd be happy to hear it.

First, you're declaring this ""books"" variable in your ERB, but you should probably declare it as a global @books variable in your controller.

Second, your first for loop sets the class as ""klass"" which in this case is a ruby object. I'm pretty sure when you look at the generated source code you're going to see something like:

    <div class=""Object object"">

which isn't useful, and it's also not really a good use of classes. You probably want something more like

    <% [:booklist, :booklist_copy].each do |book| %>
        <div id=""<%='book_' + book.id%> class=""book"">
    <% end %>

which would give you something like 

    <div id=""book_12"" class=""book"">

Lastly, you're running a for loop inside your for loop, which means your'e going to get a list of 5 the same five books inside each iteration of the list.

Now for your actual question. You want the links to be numbered, right? Like ""1. The Taming of the Shrew, 2. Ulysses"". You're in luck because HTML actually provides this feature out of the box. If you use your for loop to generate an Ordered List, you'll get the results you want.

So in your controller, you'll declare your @books instance variable to give you your 5 books in the view. Then in the view you could do something like this:

    <ol>
        <% @books.each do |book| %>
            <li><%= link_to book.title, book, class: ""book"", id: ""book_"" + book.id</li>
        <% end %>
    </ol>

Hope this is helpful. Sorry for the wall of text.",1519669229.0
patientdev,Will [`Open3.capture3`](http://ruby-doc.org/stdlib-2.5.0/libdoc/open3/rdoc/Open3.html#method-c-capture3) from the stdlib do what you want?,1519615152.0
C_sonnier,"Have you checked out the [rails-erd](https://voormedia.github.io/rails-erd/) gem? 
Here‚Äôs a good article to maybe get you started: [Article](https://medium.com/@gentianb/visualizing-your-domain-model-in-rails-4b483648516) ",1519522052.0
leetae9,rails-erd gem is very simple and easy to use,1519522290.0
oztrax,"Investing ~$100 in a giant whiteboard to draw out all the associations and keep it nearby did wonders for us. Like others have said, rails-erd and paper are good choices as well!",1519579717.0
editor_of_the_beast,I would draw it out on good old fashioned pen and paper. It's important to understand the models that you're creating - a tool isn't going to compensate for that.,1519569808.0
in0pinatus,Have you seen Prison Break? For quick reference I suggest having the domain model tattooed on your chest,1519605571.0
tumes,"If you have the path to the file, then you would have an `img` tag somewhere in your template and you‚Äôd bind the `src` attribute on the tag to `card.image`. `src` is a bindable attribute like any other (e.g. the `value` of an input).",1519501375.0
mariozig,There isn‚Äôt enough context here to give you a real answer but typically to get the url you‚Äôd call .url. So maybe something like card.image.url(:medium).  http://www.rubydoc.info/github/thoughtbot/paperclip/Paperclip%2FAttachment:url,1519499750.0
lift_heavy_things,http://guides.rubyonrails.org/association_basics.html#the-has-many-through-association,1519495456.0
Imsometaeventhis,"http://guides.rubyonrails.org/association_basics.html#the-has-many-through-association

List_items will be your through table. Rails will handle the key assignment so it works just like any association. You could create items without a list this way.",1519495693.0
Cyrax89721,"    class List < ApplicationRecord
      has_many :list_items
      has_many :items, through: :list_items
    end
    
    class ListItem < ApplicationRecord
      belongs_to :list
      belongs_to :item
    end
    
    class Item < ApplicationRecord
      has_many :list_items
      has_many :lists, through: :list_items
    end
    
    class CreateListItems < ActiveRecord::Migration[5.1]
      def change
        create_table :list_items do |t|
          t.integer :list_id
          t.integer :item_id
          t.timestamps
        end
      end
    end


Each individual `list` can do an `each` loop to get any `item` that is associated with it via the  `list_item` model.  There should be no need to interact at all with the `list_item` model as it's just used behind the scenes when creating associations between the two models.

I just learned about has_many through in the past week, and I'm only slightly ahead of you on understanding it, so I might be able to help plain-English any questions you may have.  Here is a re-purposed bit code from my current site that fits what you're trying to do.  It's a select box that lets you select multiple `items` when creating a new `list`:

    <%= f.collection_select(:item_ids, @items, :id, :item_description,
                           {include_blank: false, :selected => @list.items.map(&:id)},
                           {:multiple => true, :class => ""listItemSearch"", :style => ""width:100%;""}) %>",1519538721.0
isthattrulyneeded,"You‚Äôre storing it in the session, but what‚Äôs the session store? Cookie?  If so you may want to look at alternate storage. 

https://github.com/rails/activerecord-session_store

Sounds like you could drop that in with minimal changes. ",1519486175.0
UnderwaterPenguin,"This sounds like a perfect job for Redis - just store all the relevant data as a hash (key/value pairs) in the Redis DB. 

It's quite fast and the [redis gem](https://github.com/redis/redis-rb) is great and easy to use. ",1519536667.0
PrimarySearcher,"I would use a cache like Redis for this, with a value in the session to hold the key. This takes the data off the server, so if you have multiple servers they can all see it. 

If you‚Äôre in AWS you can use Elasticache, which offers Redis and memcache stores. Redis makes it easier to store and retrieve structured data. ",1519478977.0
,[deleted],1519488944.0
pm_me_ur__labia,A ‚Äúminimalist css framework‚Äù would do it. They style basic elements without relying on classes,1519473661.0
zanzabarito,"not vanilla but you can pretty quickly clean them up with some bootstrap classes (if you're okay with using bootstrap/bootstrap-sass). For example if you just wrap the signup and login forms in a div with something like a container class or using something like 'col-md-8 col-md-offset-2' (this is bootstrap 3 syntax, syntax for 4 is different) and add the 'form-control' class to your inputs, things will look much cleaner, although this is still probably just a starting point in terms of styling them.",1519598493.0
coderhulk,"You have many options for implementing token based authentication into a Rails API including in no particular order:

- Auth0 (https://auth0.com)
- JSON Web Token (https://jwt.io)
- Devise Token (https://github.com/lynndylanhurley/devise_token_auth)
- Doorkeeper (https://github.com/doorkeeper-gem/doorkeeper/)
- Custom build a token authentication system
- HTTP Token Authentication (http://api.rubyonrails.org/classes/ActionController/HttpAuthentication/Token.html)
- HTTP Basic Authentication (http://api.rubyonrails.org/classes/ActionController/HttpAuthentication/Basic.html)

Really depends on what you want and what you're doing.",1519426307.0
,"Authentication: Devise, Doorkeeper

Authorization: Pundit/Cancan",1519426287.0
markrebec,https://jwt.io/,1519425756.0
das3ingg,"```
def index
  @ideas = Idea.order(:likes)
end
```

The second one is hard to say without seeing your models e.g. do you have a likes table that `belongs_to` a user and an idea? If so `has_many :users, -> { distinct }, through: :likes`

",1519414260.0
davie668,"Assuming you have the relationships set up

1. You can use counter_cache on the Idea to update the number of likes the idea has. This will improve speed when getting the number of likes and sorting.

2. Set up has_many through relationship between the Idea and User. i.e an Idea has_many Users through Likes. You can then use uniq to get each User once...or add validation so that a User can only Like an Idea once. ",1519473020.0
in0pinatus,"`is_edited` sounds like a good field name, but determining that state belongs in the domain models, not in the controller. Rails gives us sharp knives that make this easy:

    module EditTracking
      extend ActiveSupport::Concern

      included do
        before_update :mark_as_edited, if: :description_changed?
      end

      def mark_as_edited
        self.is_edited = true
      end
    end

    class Question < ApplicationRecord
      include EditTracking
      #...
    end

    class Answer < ApplicationRecord
      include EditTracking
      #...
    end

Based on a true story. Names have been changed to protect the innocent.",1519433458.0
ethboy2000,"You could use ActiveModel::Dirty for this very use case, and it gives you loads of extras built in too. 

http://api.rubyonrails.org/classes/ActiveModel/Dirty.html",1519471180.0
yesorknow,I think an `is_edited` boolean is the perfect solution!,1519413442.0
mrfrosti,"If I am understanding correctly, you want to show the question, or the answers, and if the user has modified the question or answer, you want to display an 'edited' badge next to it to indicate a change has been made?

If that is the case, you could probably infer whether it has been edited by comparing the timestamps of updated_at vs created_at. If they are the same, it is the original question or answer. If updated_at is newer, then it has been edited. No need to store this in an `is_edited` column unless you want to index it, or join to it, etc.",1519415351.0
GroceryBagHead,"Looks really good, especially for a first gem!",1519422598.0
cmdk,Good job on the Readme üëçüèªüëçüèª,1519524090.0
peanutdronetree," ‚ÄúRake‚Äù is a part of Ruby on Rails. As far as I know, nobody says ‚Äúruby on rails with rake ‚Äú
/u/nielsbuus has a better answer ",1519406391.0
tripledore,"If you want to keep using Active Model Serializers, you can just create a new serializer, lets say ""PopularTagSerializer"", with attributes `:id, :name, :count`, then get the output of your `tag_counts` method, and serialize each result manually with something like this:

    popular_tags = Tag.tag_counts
    popular_tags.each do |tag|
      ActiveModelSerializers::SerializableResource.new(tag, serializer: PopularTagSerializer).as_json
    end

Don't copy and paste this I am not sure about the syntax and I haven't used Active Model Serializers in 8 months so I don't know if they changed their API",1519390649.0
cutety,"Not what I would consider ""best practices"", I've had to do similar things before implementing an actual solution, but couldn't you make a [conditional attribute](https://github.com/rails-api/active_model_serializers/blob/0-10-stable/docs/general/serializers.md#attributes) that points to an active model serializer virtual attribute?

    class TagSerializer < ActiveModel::Serializer
      attributes :id, :name
      attribute :count, if: :has_count?
      
      def count
        object.count # or however you're getting the count
      end

      def has_count?
        object.respond_to? :count
        # or just type check
        object.kind_of? CountableTag
        # or whatever logic to determine if that object has a count
      end
    end

But, as others have mentioned, implementing a `counter_cache` here would be the better solution.",1519718325.0
Lucky_Chuck,What I would do is not use active model serializer because jbuilder is much better ;P. But realistically what you can do is define the count method in the serializer and just do `object.try(:count)`,1519363004.0
kornbred,"So the reason you are having trouble is because you want to do something that goes directly against the purpose of using a serializer in the first place.  You use ASM because you intend on serializing and responding with the same JSON structure for any request for a record of that type.  Having a variable response structure is why you would use a template structure like JBuilder.

With that said, looking at your code, I would recommend using a counter_cache on the association.",1519361427.0
fentanyloverdose,Good luck cuz those are the defacto go tos,1519336441.0
armchairs,"Even with good test coverage you're going to have a ton of gotchas upgrading from 2.3 to 5.1. 

I would probably start learning Rails 5 and skip the other versions. I'd go straight to the tutorials instead of the comparations between versions because the changes are going to be too significant to make comparisons worthwhile.",1519306357.0
Phillipspc,"*edit: I somehow missed the fact that the OP was more asking about updating his KNOWLEDGE rather than an existing project... which is what I based this comment on.*

In my experience there‚Äôs no silver bullet when it comes to upgrading, especially across multiple major releases. I would focus on upgrading incrementally, to rails 3, then 4, then 5. You‚Äôll find plenty of helpful articles for each of those jumps, but from 2 to 5, not so much. I strongly recommend having good code coverage from automated tests before you begin so that you can know if/when something breaks.

Keep in mind your ruby version will also likely need to be updated as well, and that will bring its own challenges. I recently upgraded an old app from ruby 1.8.7 to 1.9.3 and even that was a nightmare. Good luck!",1519305643.0
_matthewd,"For a jump that big, I'd consider going and picking a ""getting started"" type tutorial (whether the official guide, Rails Tutorial, AWDwR, etc). 

Lots will be similar/the same, but you'll consequently be able to speed-run those parts. Any of those tutorials should meanwhile give you enough of a taste of the current APIs to combine with your existing 2.3 knowledge to form revised intuitions. After you see that `Model.find(:all, :conditions => x)` has moved to `Relation#where(x)`, you'll likely have a good idea how to approach `:order` -- or at least where to look in the API docs.

Otherwise, you'd need to go through stepwise comparisons; I doubt you're going to find a lot of comparison tutorials that happen to use exactly the start & end points that match your situation. (Though honestly focusing on the 2.3 -> 3 transition might work reasonably... things are always changing, and it's hard to remember that far back, but I don't think there've been many dramatic upheavals since then. Strong parameters would be one, but that should be well-discussed in blogs etc from the time.)",1519307625.0
lespooner,"I have done this process myself, from 1.2.3 to 4.2. We first back filled our specs making sure that we had good coverage, then we worked through each minor version running the specs and fixing bugs after releasing them. If you want to have a stable project on the other side there really isn‚Äôt a faster way to do it. Alternatively you could rewrite the app in rails 5. I am not sure how big it is but that is always an option. ",1519310103.0
Misaiato,Red-Green-Refactor homie.  You just gotta do the work.,1519320582.0
brianlouisw,"This page https://www.quora.com/What-is-the-difference-between-Rails-2-and-Rails-3 has some good examples on 2 -> 3.

http://railscasts.com/episodes/400-what-s-new-in-rails-4 is a fairly good summary although there are many. 

Rails 5 introduces many new things but they're more like additions than changes (at least in many cases). 

I think the biggest thing is just to identify where major syntax changes have occurred. Then see if there are new patterns that may be unfamiliar from 2.x ",1519327308.0
SkulloWorld,"I myself have made a similar jump in the past 6 months, I started on Rails 3 in 2012/2013 and have only just started learning Rails 5 in the past 6 months.

Pet project was a great way to go. There‚Äôs loads of frustrations along the way and new and wonderful error messages you‚Äôll be completely unfamiliar with, but there‚Äôs been a lot of improvements and I‚Äôd say it‚Äôs well worth it and in that time I‚Äôve also done a full upgrade of my main work code from 3.2 to 5.1. 

I know you‚Äôre not looking at upgrading like that and count yourself lucky you don‚Äôt have to, that took me 4 months to complete. For anyone out there considering making  a jump like that, note that the RoR team‚Äôs recommendation is to perform every minor-version upgrade along the way and I‚Äôd agree with that, as each minor version has a bunch of release notes and there‚Äôs minimal duplication of effort with touching the same code twice during the full upgrade process.

If you really want to jump in the deep end I‚Äôd recommend also using webpacker along with your choice of front-end JS framework (I went with Vue) to try making an SPA or at least far more interesting sort of front-end.",1519328436.0
iovis9,"I'd learn Rails 5 directly, the Rails Guides are pretty good.",1519328884.0
patientdev,"> Something oriented to a developer who is very familiar with an older version of the framework.

Rails is pretty modular, so you can pick it apart to focus on specifics. Just look at the [top-level directories in the codebase](https://github.com/rails/rails):

- ActionCable (Rails 5.0)
- ActionMailer (Rails 0.3.0)
- ActionPack (Rails 0.9.0)
- ActionView (Rails 4.1)
- ActiveJob (Rails 4.2)
- ActiveModel (Rails 3.0)
- ActiveRecord (Rails 1.0)
- ActiveStorage (Rails 5.2)
- ActiveSupport (Rails 1.0)

*Source: https://rubygems.org; versions may be off, corrections appreciated*",1519356235.0
,"another thing you can do is buy a course in udemy in which somebody can guide you through the process of building a project with rails 5, and it won't cost you more than 10 or 11 $",1519550423.0
adm7373,Get yourself some yams and take a look at YAML files.,1519304029.0
Hell_Rok,"I believe this is by design. Rails won't hot reload initializers either, you need to kill the server and start it again.

The same is true of sidekiq, you'll need to kill the sidekiq process and start it again whenever you change an initializer.",1519262351.0
ncuesta,"What about having a separate config object/class that doesn‚Äôt get reloaded when you change a worker?

You may then use `config.value` in your worker to access what the initializer has set.",1519267674.0
JazzCthulhu,The first step when optimizing is profiling. You need clear measurements for performance to identify where it's running slow. Otherwise you have no idea where to spend your time efficiently and no way of quantifying performance improvement. ,1519242904.0
nmwh917,"I have these 

    group :development do
      gem 'rack-mini-profiler', require: false
      gem 'memory_profiler'

      gem 'flamegraph'
      gem 'stackprof'     # For Ruby MRI 2.1+
      gem 'fast_stack'    # For Ruby MRI 2.0
      gem 'bullet'
    end

The first 5 are great for profiling everything from memory to sql performance.

The last one is great for identifying n+1 queries, missing indexes, etc.  

These are primarily backend but have significantly helped boosting the rails apps at my company.

Also, look at newrelic for profiling longest running controller actions, sql queries, etc.

Hope this helps.",1519250804.0
pau1rw,"100% profiling is the first place to start. Rack Mini Profiler is a decent place to.start and work out where your hotspots are. 

You can also use a gem called Bullet to see where you can include your associations and save n+1s. 

Lol_dba tries.to automatically work out where missing indexes are, which helped me a bunch on a project. 

Rails-erd creates a graphical representation of your models so you can see if the site is a tangled mess and how your objects are linked. Could be useful in seeing the bigger picture.

Hope that helps :)",1519251509.0
freakyDaz,"Depends on the app but for most you want to check the database. All queries should be using indexes, and you shouldn't need eager loading. The key is to minimize both the calls to the database and the length of time in the database.

If you get that going well l, then you have a choice. Do you want to benchmark parts of your code, rewrite and shave off milliseconds or do you want to work out the best place to cache. Rails makes it easy to cache both view fragments and data. Locate areas that are most frequently accessed but rarely change and begin caching them making sure you have a strong plan on how to expire and flush the cache correctly. From a macro level you can cache from nginx or whatever proxy you site behind.

So we end up at optimising code for micro improvements. Reducing iterations, allocations and potentially offloading work to threads or background workers. There is no easy answer for this. Every single optimization will be unique to the app and it's requirements.

Last but not least is perceived speed by reducing the time it takes for the end user to interact with your app. So that means try to do the bare minimum to render the page and start loading the rest whilst the user navigates. If it's an API then this of course doesn't apply. Other front end improvements can be found in reducing reflows to speed up CSS rendering and of course compressing and caching static assets.",1519242166.0
DehydratingPretzel,I think one of the easiest things to drastically improve performance is see if there exist any n+1 queries. These are really easy to see in the logs. Usually cleaning this up makes an immediate performance boost. But there are plenty of others. ,1519247982.0
archlich,"Faster how? Faster is incredibly vague term. First you need to narrow the scope of your work. There's many reasons why an application may be slow.

* UI performance
* Asset loading ordering
* Javascript loading and ordering
* Javascript performance
* Server performance - CPU/Memory/IO/Network starvation/
* Database performance - Query Optimization

Some quick fixes:

* Optimizing your assets, check your waterfall, what's taking a long time to load and parallelize it
* Using a CDN
* Using HTTP2/0
* Cache-Control headers
* Buying more ram
* Buying more hardware
* Changing your hosting provider

If it's really an issue with code performance, you're going to need to start looking into adding profiling tools to your project and timing how long operations take.",1519241953.0
tumes,"Lots of folks are giving the great advice of using profiling tools and killing N+1 queries, but to provide a little more detail, I often start by looking for spots where enumerables are being used where better querying could be substituted in.

Not an earth shattering bit of advice, but I think I'd need more than my fingers and toes to count the number of times my coworkers and I have improved performance by at least an order of magnitude by auditing code for enumerables that were good enough at the time. This doesn't necessarily mean the code was bad, just that it wasn't refactored appropriately after the code grew.

I've used all sorts of tools, but most recently my general strategy is to take a look at Newrelic (or some equivalent), and prioritize based on both how frequently endpoints are getting hit, and what the average request times are. Best case scenario, we would refactor slow code. Tied for worst case scenario, we would either offload expensive operations onto asynchronous workers, cache, or look for alternate implementations (e.g. using Elasticsearch for complex data aggregation instead of plain DB queries). None of the latter three strategies are bad per se, they just carry unique bits of overhead.",1519718877.0
aarkerio,"There are like a dozen of potential bottlenecks in any application. So, is hard to say without see the code. Profiling, caching and benchmarking would be the first tools though.",1519260977.0
Nrdrsr,"Profile bottlenecks. Cache stuff. Kill N+1 queries.

If I had the option i'd probably tweak the architecture, if possible. Store some of the commonly accessed non relational data in redis and have a persistence routine to sync it with the database at regular intervals, or asynchronously. ",1519266329.0
Never_Again_2017,"Tools:

1. https://gtmetrix.com/
2. https://newrelic.com/

Do what they tell you is needed to get an ""A"" PageSpeed, and 200ms server response time.

That's the top-level view. Once problem areas are identified, then the tools mentioned in the other posts can be useful.",1519276478.0
schneems,"I recommend going through a tutorial to get started such as http://railsgirls.com/.

Go through that, and then try to get your local site to work. 

A more advanced tutorial is https://www.railstutorial.org/

I wouldn't do this one unless you really wanted to understand what's going on under the hood or you wanted to develop the site yourself.",1519243883.0
fullstack-sean,"Go Rails has a solid setup guide for getting Ruby and rails installed on practically any machine. Give it a go, install everything then you should be able to cd into the project folder, bundle, and run rails s to get a server running.",1519244932.0
iaan,"`rails s`
",1519248382.0
rArithmetics,"railstutorial.org do it, love it",1519339833.0
dannybiz,Do you have ruby and rails installed on your machine?,1519239619.0
efojs,Or check this free course at Udemy: [Learn Ruby on Rails from Scratch](https://www.udemy.com/learn-ruby-on-rails-from-scratch/) (and/or other course/s and/or other course platforms),1519246592.0
SminkyBazzA,"Options 1 and 2 sound like they'd end up with you having to keep two schemas in sync using the same database, which would not be fun *at all*.

Option 3 is probably the best route, and it may not be as bad as you think. Depending on how much control you want over the admin pages (ie. do you want to use an existing admin gem, or make your own) this guide and associated pages make it look pretty straightforward:

http://www.carlosramireziii.com/how-to-use-rails-admin-with-a-rails-5-api-application.html",1519234589.0
in0pinatus,"option 3. embrace the monolith.
",1519250023.0
jemminger,Params maybe?,1519173830.0
brainbag,"As far as the parameters go in views for search, there's a standard pattern for that - you can use `url_for`to generate links back to the same page. If you're using the standard `#index` method for example:

    class SomeController
      def search_params
        params.permit(:page, :per_page, etc...)
      end
      helper_method :search_params
    end

    # index.html.erb    
    <%= link_to ""Page 2"", url_for(search_params.merge(page: 2)) %>

This generates a link back to the current page, just with the search parameters adjusted for whatever you're trying to pass through.",1519224451.0
jstad,"Reuse the index action. Using request parameters is the ‚Äúcorrect‚Äù way to handle this. If it feels wrong, it can be an indicator that the custom route may really be it‚Äôs own resource. ",1519194466.0
aarkerio,"bundle exec rake db:migrate == rails 4


bundle exec rails db:migrate == rails 5
",1519158029.0
amalagg,"Lot of interesting answers. But this explanation was not mentioned: https://stackoverflow.com/a/23846736

Basically `rails` executes in the context of `bundle exec` but `rake` does not.",1519174441.0
schneems,"Check for a `bin/` folder. You should see `bin/rails`. Use this instead to ensure you're targeting a local binstub so

```
$ bin/rails db:migrate
```

If the binstub doesn't exist either your rails version is old, or they've not been generated.
",1519158857.0
kobaltzz,"To what others have said and if you're using something which is loading at boot time like Encrypted Secrets or Credentials, then you would need to use `rails` instead of `rake`",1519161031.0
GibletHead2000,"Just to add to this, if you add the line:

```
alias be='bundle exec '
```

to your bash profile (`~/.bashrc` or `~/.bash_profile`) then you can save your fingers and keyboard by just typing `be` instead of bundle exec.

Don't forget to reload your profile after editing by opening a new terminal or running `. ~/.bashrc`",1519207878.0
jdickey,"* Build from an Alpine base image, *not* Ubuntu;
* Install Gems locally (in the image using a script) with the `--nodoc` option;
* As /u/adanot noted, run `bundle install` with the `--deployment` option (as well as `--local` if you followed my earlier suggestion);
* As /u/toadkicker said, move your non-production Gems into Gem groups in your `Gemfile`

Building from Alpine will save you a couple hundred MB at least. Ubuntu is a great base image for experimenting and figuring out how to run things in a container, but Alpine is the distro you want to base your production images on.

My projects now have a `bin/setup` file that installs specific versions of all Gems named in my `Gemfile` and then runs `bundle install --binstubs --local`. Aside from forcing me to know in detail exactly what I'm building, this has the benefit of future compatibility; I can recreate a build exactly as it was six months ago because I'm installing the same versions of the Gems that I used then (into a Gemset when using `rbenv` or `rvm`). I got burned a few months ago by not being able to rebuild a two-year-old app because the Gem versions had not been properly locked down. Never again. Extra points for having local copies of those historical Gemsets (not necessarily in the same repo as the app itself) so that, even if a Gem is yanked, you'll still be able to get back to Kansas.

Automate acceptance tests (apparently similar to but not the same thing as feature tests) so that you can fully exercise your built, Dockerised app from *outside the container.* You'll thank me later.

I've been at least experimenting with Dockerising Ruby (Rails/Roda/Sinatra/Hanami) apps over the last three years or so, and I'm *still* finding nice shiny, sharp edges to bleed all over.

Final tip: if you're not using Ansible or Chef or Puppet or JoeBobsAutomationTool or *something* to automate your image builds and deployments, why TF not?",1519185849.0
adanot,I'm not sure if this solves your exact problem but you can try bundle install with the --deployment flag or possibly bundle clean,1519161936.0
ohboyohboy1234,"This is the first response if you google ""request specs devise"":

https://github.com/plataformatec/devise/wiki/How-To:-sign-in-and-out-a-user-in-Request-type-specs-(specs-tagged-with-type:-:request)
",1519151726.0
atog,"Inheritance seems like a good option:

UserController - contains shared code
UserTypeAController < UserController - contains code specific to user type A
UserTypeBController < UserController - contains code specific to user type B


",1519143654.0
boonestock,"I would suggest you consider using a concern. Take a look at https://www.sitepoint.com/dry-off-your-rails-code-with-activesupportconcerns/

However, that said, I am not entirely certain I understand your question. By ""backend"" do you mean an admin user interface?",1519144252.0
paneq,"I would not recommend using Vue or React with asset pipeline. It's just not convenient when you start adding dependencies with npm/yarn.

Webpacker is just a wrapper on webpack which you can use to serve the JS assets that you develop with webpack, without too much hassle. It will also integrate compiling them into whole asset precompilation process that happens when you deploy an app to production.

Generally there are 2 long-term viable solutions here:
a) use only webpack but drop webpacker and asset pipeline. Integrate assets handled by webpack into your rails app manually.
b) use webpacker and its conventions to organize your app, let it handle the integration between webpack and rails.",1519132998.0
brainbag,"I hear you. JavaScript has been in a really crappy place for a long time, where everything is configuration over convention, there's no standards, and it's an endless pain in the ass to get it and keep it configured. However, it's a necessary evil. 

The way you're doing it doesn't get the browser cross-compatibility that transpiling would offer, and Sprockets doesn't support modern JavaScript and uses an archaic configuration for uglify, so it will break when you try to precompile for production.

If you're just experimenting to learn then it's probably fine, but if you want to really use it at some point, I do recommend (with sadness) that you use webpacker. [Installing webpacker for vue is running couple of command lines then editing a config file](https://github.com/rails/webpacker#vue). ",1519223817.0
hartator,"I would say you are fine this way as well. Webpacker is a bit overated and add complexity, and you are going to run into issues when some JS library is not in webpacker. Minimize your depencies and integrate well with the few you choose will be the right way of doing frontend in my opinion. ",1519140233.0
SlainTownsman,"From your code, it seems that just removing the @ from @post will do it.",1519124994.0
tech-recruiter,"@post is nil and you're trying to call private on it, so you should use ruby's safe operator and make it `@post&.private`.  i believe you're going to need to change post.title to `@post.title`, and post.id to `@post.id`. i'm working under the assumption that pundit is set up correctly.  but that's why you're getting this particular error, @post is nil and you're trying to call a method on it.",1519125130.0
amplex1337,"You are not passing @post from the controller to the form.  That is why you're getting nilClass.

In your controller, you should have a def create.  You need to have something like:

@post = Post.new

or whatever your Post object is called.",1519163283.0
,I use capybara with rspec and they are all up to date...,1519073246.0
tongboy,use headless chrome instead of poltergeist with capybara,1519100025.0
TheBeautifulAmerica,"You'll still feel at home with Capybara.  One thing to note though is that Rails started moving away from controller tests in Rails 5.1.  If you're using a generator, ActionDispatch::Integration test will be used for the controller test instead of ActionController::TestCase.  Though, ActionController::TestCase still exists, so you're free to create those tests manually.  Of note, if you use `assigns` or `assert_template`, you'll need to pick up the [rails-controller-testing gem](https://github.com/rails/rails-controller-testing).

[System tests](http://guides.rubyonrails.org/testing.html#system-testing) are also a new concept that you'll want to be aware of.  They're typically used when you want to run a feature spec that requires a bit of JavaScript.",1519084171.0
silvertek,"I highly suggest GoRails. Chris‚Äôs videos are great, and the community (and often time Chris himself) is more than willing to answer your questions or even lend a hand with your code. ",1519069905.0
Labby92,I highly suggest Dissecting rails https://www.udemy.com/professional-rails-5-development-course/learn/v4/overview you can also check out my short list of resources to learn Rails https://albertomontalesi.github.io/blog/bestof/best-resources-to-learn-rails-in-2017/,1519140138.0
,I like drifting ruby,1519109472.0
,Railscasts may be old but still pretty useful on things...rails routes you might just use the rails guides themselves.,1519137203.0
blbil,Dragula looks like a JavaScript library to assist with dragging and dropping things. I think the piece you're misunderstanding is the separation between front end and back end. You'll probably need to make an http call back up to your server in order to update database models (sometimes referred to as ajax).,1519071391.0
worldDev,"I'm not going to look into any specific documentation, you should be able to fill in the blanks with them yourself, but I'll tell you how the pieces fit together for something like this.

- You'll need to add an attribute for a sortable index to your database table. Which table depends on the details of sorting but you want to be mindful of potential conflicts sorting overlapping filtered results.
- You'll need to find a callback for when dragging finishes
- when the callback happens you'll want to iterate through the array and set the attribute with their respective positions and call rails to save those positions on the collection
- You might want to write a single call to handle something like that to avoid doing tons of calls on individual items on a big collection

",1519109394.0
ClikeX,"The looping is executed. `x.children.each { |y| y.name }` just won't do anything.

What `each` does is just execute the block on each item and return the array when it is done.

Just calling `y.name` has no use. It retrieves the value but doesn't output it or anything

If you want to get an array with just the names you should use `map`.


    x.children.map do |y|
      # Your code here
      y.name
    end

The shorthand `x.children.map(&:name)` would be a lot cleaner if you just want one attribute.

EDIT: /u/SminkyBazzA made a good point. `pluck(:name)` would probably be best here. To add to his advice: `ActiveRecord::Relation`'s `pluck` will do what you want on an SQL level. Something like this:

`SELECT people.name FROM people WHERE people.parent_id = x`",1519058432.0
SminkyBazzA,"Further to what /u/ClikeX wrote, if the `children` method of the ancestry gem returns an ActiveRecord::Relation, you could replace the `.map(&:name)` with `.pluck(:name)` to get the same value without instantiating each child unnecessarily (in this case). ",1519074831.0
flaiks,"In your post fname and lname are in the root object level, but your permit places them inside a customer object.",1519034011.0
midasgoldentouch,It might help if you explain what those things do.,1518939901.0
LegionSB,"Well Gunicorn was a port of Unicorn from Ruby, hence the name.

Unicorn still gets used, but Puma seems to be the go-to choice more often.",1518949389.0
dvogel,The closest thing to gevent is probably EventMachine.,1518987486.0
ErCollao,"I guess you mean precompiling in the rails asset pipeline (`rails assets:precompile`)?

If that‚Äôs the case: when you run that task, rails will go through all your assets and process them. It will go through the stuff in your app/assets folder. If there‚Äôs any .erb files it will interpret the ruby code, if will process the SASS .scss files to CSS, it will process CoffeeScrip files to JavaScript, it will add a fingerprint to the name of your images to solve cache issues, etc. It will put your processed files (the output, that your app will end up serving to the browser) in your app‚Äôs public/assets directory.

You can read more about it in the [rails guides, for the asset pipeline](http://guides.rubyonrails.org/asset_pipeline.html) 

(Edited for typos)",1518902733.0
eddkerr,"When you build a rails app that uses rails for the front end as well it serves up the js and CSS each in one single file to limit individual requests. 

Precompiling is the process of taking your several front end files and consolidating them into two files (js and CSS). This gives you the benefit of organizing your application for readability and maintain ability while still not having to serve up multiple files with every request that arrive asynchronously. 

When you deploy, you often will need to precompile and commit your code so that the ""locked"" version is the one that your live server provides in a request. You theoretically don't need the other assets to live on the live server. 

Hope this helps, feel free to reach out if you have anymore questions!",1518903030.0
brainbag,"Personally, I wouldn't want to put the icon name in the database like /u/in0pinatus suggests, I'd rather import font awesome as sass to define my own semantic icons. There's a gem for it. https://github.com/FortAwesome/font-awesome-sass

If you have a category called food, in your scss file:

    .category-icon-food { // whatever_fa_mixins(""pizza""); }

In the HTML:

    <i class=""category-icon-<%= category.name.downcase %>""></i>

That way you're not just limited to font awesome, and you're not polluting your business data with presentation data.",1518860868.0
in0pinatus,"Assuming that Category is a persisted model, I'd add an icon column to my categories table. `fa_icon(post.category.icon)`.",1518828324.0
skewerbr,"See this response:

https://github.com/puikinsh/Adminator-admin-dashboard/issues/28",1518836169.0
lanoixdecoco,You should check out the administrate gem from thoughtbot! It was a life saver for me :),1518855871.0
wheeimamonkey,"In rails if you want an admin panel you normally use rails admin or active admin. Since it seems the template you linked seems to mostly just be stylization on top of functionally you have to implement, it is most likely possible to use just will require more work.",1518828604.0
jules2689,"It is possible to use the webpack version of this repo. Recently, Rails added integration into webpack (https://github.com/rails/webpacker, https://medium.com/@hpux/rails-5-1-loves-javascript-a1d84d5318b, https://gist.github.com/jarednorman/11a1cbb11b389fb0501e etc) to address the growing desire to do more complex front end interfaces.

You will need to consider the tradeoffs here:

- Increased complexity, you have 2 languages and frameworks independently acting but need to do so together
- You will need to create front end APIs that the JS front-end can consume. This may be rest apis or graphQL apis.
- You have multiple techs, makes this harder for anyone else to help.
- This is not a well known/used feature of rails, as evidenced by the other responses, but that is likely because it's new and likely because it's applicable to larger apps.

The pros are there too. You get support to build front end experiences not as easily possible in Rails. The JS community was basically made for front end.

Honestly, unless you're building a product that you expect people to pay for, then [thoughtbot's administrate gem](https://github.com/thoughtbot/administrate) is a great tool I use in my projects. And even if you expect people to pay for it, this might be a good stop gap while you do the work to make the better dashboard work.",1518886445.0
ethboy2000,I‚Äôd wait and see if Coinbase are still around next week after the fiasco that‚Äôs been going on for the past day or two! Lol,1518817491.0
ethboy2000,"Just took a look at Coinbase Commerce. It seems suited to anyone that just wants to drop a pre generated script into their site to start accepting crypto payments. 

I think you're better off looking at their API docs and building a custom integration into your app. See the API docs https://developers.coinbase.com/",1518818935.0
Locke,"Okay, I apologize that this is probably not very helpful... you're doing a lot of computation in ruby-land and I think you'd get better performance if you could do this in the database.

So, the trick is... how can you fashion a query that provides the cards that are in a decklist, but *not* in the user's collection (if I understand your domain models?)...

This seems doable.. you have the cards in the decklist and the cards in the user's collection, now you want to subtract the user's collection from the decklist to get the missing cards? 

In psuedo sql (actually arel): Card.where(id: decklist.select(:card_id)).where.not(id: user.collection.select(:card_id))  would be the list of cards? ... I was really lazy there and I apologize... I haven't fully understood your models and relations, but maybe you'll get the idea?",1518844069.0
in0pinatus,"This feels to me like a Demeter violation because driver is not a natural collaborator of transaction.

I‚Äôd declare driver_name on the ride, and revise the transaction factory to immutably capture the name of the driver and rider in its own attributes at the time of the transaction creation, because that‚Äôs how financial records should usually be kept. ",1518819495.0
asasase,"Honestly, the data model confuses me too much to comment on the rails code. I would start by re-examining the relationships. Consider several relationships instead of trying to go through one big through/through/through relationship. Why go through routes to find the driver from ride? A ride has a driver and that should bear no relation to the route. Two separate relations. What's the difference b/w a transaction and a ride?",1518841956.0
brainbag,"I know it can be frustrating to ask the Internet for help with this like this, so I'll do my best to to answer. What you've written out sounds to me like one of those fun data mapping complexity challenges you get in any domain model.

I strongly discourage delegating to associations in models. It makes the code a bit more simple, but at the cost of hidden SQL queries if your records aren't already preloaded elsewhere, which *will* bite you when you inevitably need to reduce your query load. I strongly *encourage* your models to be as dumb as possible with just associations and validations, and use other objects for mapping data access. (""skinny controllers, skinny models"")

Law of Demeter is great when you're designing your own interfaces, but trying to strictly adhere to it with ActiveRecord's bloated responsibilities almost always causes more harm than good. It's much better practice to simply wrap up the complex queries and hide them from the rest of the app than it is to make your models more complex for the sake of less dots.

Here's some ideas on how to do that, I hope they help:

1\. You can compound `has_many :through` if you need to have deep relationships. For example:

    class Driver 
      has_many :routes
      has_many :rides, through: :routes
      has_many :transactions, through: :rides
    end

    > driver.transactions
    => [#<Transaction:...>, #<Transaction:...>]

2\. You can also define methods directly on associations:

    class Driver
      has_many :routes do 
        def closed
          where(status: :closed) # all routes with closed status
        end
      end

      # or via a module
      has_many :routes, extend: DriverRoutesQueries
    end

    > driver.routes.closed
    => [#<Route:... status: :closed>, #<Route:... status: :closed>]
   
3\. You can use a Query object pattern to extend your existing objects so all of your complex queries are in one place instead of in controllers:

    class TransactionQuery
      def initialize(transaction)
        @transaction = transaction
      end 

      def some_complex_query
        @transaction.riders.includes(:billing, :profile, routes: [:driver]).where(driver: some_person).distinct
      end
    end

    # controller
    def index
      @riders = TransactionQuery.new(transaction).some_complex_query
    end


(PS I do professional consulting to help people get unstuck from problems like this, PM me if you're still stuck and want some extra help.)",1518859330.0
darksparkone,"Lets go one at a time.
- cookies is a key-value storage passed back and forth with every http(s) request. By cookie auth people normally means some id/token is stored in cookies to allow server distinguish users. Note cookies are the medium onƒ∫y, you could pass the token differently, for example as a GET parameter. 
- jwt is a new fancy way to form tokens. It may be used to store arbitrary amount of information like your id, name, age, etc. in a single ""word"", you may think of it like as a serialized json. It may be passed by cookies, as a request param or any other way any id/token may be passed. 
- basic auth is a bit different creature. With basic auth browser will ask your login-passwd in modal, no input form needed. Upon entering it would calculate hash and attach it as an HTTP header. You don't need to create sign in forms by the price of very little control over  incorrect input handling. Normally you would see this on prototypes or intetnal tools only. And again technically it is a mere HTTP header, just like cookies, you can provision it with a custom token and handle differently.
- Devise is a rails lib which provides convenoent way to authenticate users, set of signin/login forms, filters etc to make your life happier. It also works with a bunch of auth meyhods including OAuth providers.

Added: basic auth with JWT may mean whatever you can imagine, so ask the person provided you with this nice tiddle. I would expect it either:
- regular basic auth, upon success server adds a cookie with JWT token describing user;
- login form, on submit js forms JWT token and puts it into http auth header.",1518763608.0
Locke,"In your first example, `mock_object` is a `Mocha::Expectation`. In your second example, `mock_object` is a `Mocha::Mock`.

The mistake you're making is assuming that `expects(...)` is chaining the value of `mock()`.

Does that make sense?

It may not be as pretty, but you could get the result you expect with a `tap`: `mock_object = mock().tap { |m| m.expects(:some_method).returns('some value')
 }`, I think.

Hope that helps!",1518843081.0
Rafert,Did you see the example in the readme? https://github.com/varvet/pundit#scopes,1518771364.0
matteoredz,"The exception states that you should have defined a policy for those actions.

E.g. for action show in ArticlesController you should define a :show? policy in your ArticlesPolicy class.

The base scope is, by default, defined in your ApplicationPolicy. Check that ArticlesPolicy extends ApplicationPolicy and this has the scope defined in it.",1518777387.0
GroceryBagHead,"What are you trying to do? 

You can't really return proper records if you're grouping on something as you can't `select *` when grouping. You can only select column you're grouping on and an aggregator function like `sum()`. This is not even ActiveRecord thing, this is SQL.",1518744656.0
in0pinatus,"You might need to be more concrete in the explanation, because as it stands I think your intention is unclear. Here's one possible interpretation, though: are you trying to obtain a dictionary of Item arrays, keyed by an attribute value? That might be `Item.all.group_by(&:column_name)`, which is relying on relations being Enumerable and does the grouping in memory after loading all the records.",1518753771.0
ziptofaf,"> I've heard of JWT and have read a bit about it, but im not sure how I would send the token on the raspberry pi end? Is this even something that's possible?

Why wouldn't it? JWT token is just an additional Header you have to include in your request. Such as ""Authorization: JWT <insert_token_number>. Raspberry Pi is a full fledged device, I see no reasons why it would be a problem, it's not a chip with no internal memory to store it.

This pretty much goes as follows:

- you send your credentials to the server
- server checks their correctness. If this sounds right it sends a token to you. Token not even being necessarily encrypted (and often literally read as ""user_id: <number>""), just digitally signed (meaning you can read it from the client but not alter it).
- save that token somewhere on your client 
- and send it as an additional HTTP header with each request.

It's pretty much as simple as:

`curl --request POST --url https://example.com/log/ --header 'authorization: JWT token_number' --data '{""temperature: 20C""}'`",1518762821.0
in0pinatus,"I'm really enjoying this series. He's illustrating specific ideas using the Basecamp 3 source code, and I'm picking up as much from that, just in passing, as I am from the points being made.

My notes on DHH's style:

* Routinely extracts responsibilities with attributes into has_one associated models
* Very aggressively extracts behaviours into Concerns
* Comfortable including many modules; that `ApplicationController` is remarkable, so's [this](https://twitter.com/dhh/status/964244090224128001)
* Comfortable using what he calls ""globals"" (which are actually thread-locals)
* Routinely uses callbacks for side-effects
* Moves side-effect work into background jobs
* Calls `create!` inside models (presumably also unafraid to update/save)
* Disdainful of service objects / transaction-script classes

Some of this is simply good OO Ruby, such as extracting responsibilities and behaviours; that's not always evident enough in Rails applications. And some of this directly contradicts advice that you'll read elsewhere.

",1518729287.0
brandononrails,I love that he's using Basecamp as his examples and not building yet another sample blog application. I hope he keeps these up for a while.,1518745434.0
Never_Again_2017,"Rails has been my main framework for 9 years but I'm skeptical of DHH's style here. I'm wondering if this kind of coding ‚Äî globals, many includes, many implicit side effects ‚Äî are only practical in DHH's situation:

* He's been only working on project for 10+ years. He doesn't need ""navigational signposts"" in his code because he wrote / managed it. He can know what every single thing does.
* He can choose developers who code in exactly the style he requests.

But for me, this kind of programming is a nightmare:

* As a consultant, I've worked on dozens of Rails apps. I _need_ ways to understand what code is doing, but this coding style offers no help.
* I don't have control over who is developing the apps I work on.

To me, this is the _real_ real world, and pretty much every Rails project I've ever had to jump into (I.e., I didn't start myself) has been awful.

EDIT: I see other coding problems in his videos, which have a real 'cowboy coding' feel. For example, poorly named classes and methods. He talks about it a lot ‚Äî he seems a little defensive, and spend time describing how fun it is to invent new ""delicious"" words for things. But in my real world, when I (frequently) see mis-named or cutesy-named items, it's very frustrating. They take what should have been a smooth experience of reading code, and introduced roadblocks and ego.

A couple examples from his videos:

* `Access`. It's a join between a user and a bucket, I believe. But it does not represent ""an access"", i.e., an access event. Instead, calling it `AccessRights` would be right on the nose, and eliminate guessing. This is a fine point here, I realize. But language is important, and if we can be clearer, then let's do it!
*  `after_save :remember_to_eavesdrop`. He's showing that in video 2. He's proud of this naming. (Or, on the defensive about it?) But to me, this is very obfuscated. The name only gives semi-clues about what it does. Understanding this code requires a break in flow to go and read more (potentially obfuscated code) to understand it. (I have problems with both the word ""remember"" and ""eavesdrop"", as used here.)",1519076890.0
somazx,Ya this is truly interesting.,1518740550.0
ecstasyx,"I realized that may be confusing. The ""final version"" of the book has been uploaded. Received the notification yesterday.",1518724120.0
SkyPuncher,"> expiration_time = request.form.lead_expiration_time

I suspect this is your problem. You probably need something like `request.form.lead_expiration_time.utc`.

-----

Also, I highly doubt Heroku has a timezone issue. It simply seems that you're not working in the timezone that you expect.",1518718428.0
MrMandelbrot,"How did you configure your logs to be local time? With `config.time_zone` in your application initializer

`ago` is an active support method based on `config.time_zone`. So perhaps your application is interpreting datetimes in your database as PST, not UTC.

https://apidock.com/rails/ActiveSupport/Duration/ago",1518719419.0
dogweather,I‚Äôd kill for logs in local time,1519030596.0
in0pinatus,"It's possible you're looking for either

    Item.where('lower(name) IN (?)', names.map(&:downcase)).select('DISTINCT ON (lower(name)) *')

or Arel-fied into a scope:

    class Item
      scope :by_distinct_names, ->(names) {
        name_lower = arel_attribute(:name).lower
        where(name_lower.in(names.map(&:downcase))).tap do |relation|
          relation.arel.distinct_on(name_lower)
        end
      }
      #...

after which `Item.by_distinct_names(names)` should return what you wanted. That `tap` is a bit unfortunate, but ActiveRecord relations don't respond to `distinct_on` even though Arel does, so we have to reach underneath. You could also write

    class Item
      def self.find_by_distinct_names(names)
        name_lower = arel_table[:name].lower
        find_by_sql(where(name_lower.in(names.map(&:downcase))).distinct_on(name_lower))
      end

but I prefer scopes whenever possible.
",1518645726.0
obviousoctopus,"I haven‚Äôt a faster approach than server side rendering and turbolinks. 

Works great for me and so I always point it out as a possibility to consider when both programmer efficiency and rendering speed are seen as important. 

take a look at this talk, may be useful to you. 

https://m.youtube.com/watch?v=SWEts0rlezA",1518659258.0
jasdeep13,"Name: ServiceHQ
Description: ServiceHQ is a field workforce management platform built for companies that do work in the field. It‚Äôs a combination of Rails Api, iOS/Android apps and web management portal for office staff.
Application Stack: Rails API, React Web, React Native, Postgresql, Elasticsearch, Sidekiq, Redis
Link: https://servicehq.ca
",1518619764.0
RISCfuture,"This is a Rails 5.2 beta website using Vue.js and Active Storage, with my own additions to Active Storage to allow for transcoding of video/audio files.

1. AvFacts
2. Aviation podcast website -- browse and listen to past episodes. Admin can upload new episodes. Publishes RSS feed for podcast apps.
3. Rails 5.2 beta, Vue.js, PostgreSQL (with fulltext searching), Active Storage, FFMPEG for transcoding
4. https://www.avfacts.org
5. https://github.com/RISCfuture/AvFacts
6. Expert
7. Just posting it here in case anyone wants to see a live Vue.js/Active Storage app in Rails 5.2 beta, or if anyone wants to steal some of that sweet sweet transcoding additions to Active Storage",1518633969.0
Arjes,"**If** I had a comprehensive test suite, I would run the latest version of Ruby and all my gems that passed (provided no known vulnerabilities in the latest versions). 

The idea of staying one minor version behind is primarily to ""miss"" the unknown bugs, but there are unknown bugs in released version too.

I do typically wait for at least one patch version for any major release, so 2.5.1 for example.

Of course I don't have that :(",1518580652.0
voipspear,"I like to stay a version behind the latest version.  If there's no reason to use the new version (e.g., a new feature), then there's no harm in using an older, stable release.",1518622976.0
in0pinatus,"This shows weakness. Since I am a Real Programmer, at deploy time I drink a whisky sour, drive to the data center in my Corvette, and install Ruby from the nightly SVN snapshot. Over the serial console. Wearing sunglasses.",1518820581.0
ccb621,I‚Äôm curious. What are you really trying to learn?,1518575922.0
welkie,I just use the standard Ruby image as a base. Image size has never been a concern for me with my Docker deployments.,1518598182.0
trae,"Roughly a gig, based on `phusion/passenger-ruby23:0.9.20`. Between the base and the assets, and gems it's huge. Wish there was a better way. ",1518708952.0
fullspectrumlife,Hmm. i believe we use `FROM ruby:2.3-alpine` I don't know if thats the smallest at the moment. You do need to install some extras though.,1518602418.0
nickjj_,I just use Alpine. The Ruby 2.5 base Alpine image is only 60mb and it's a great base for getting a real app ready to be ran (apps that actually require system level dependencies like posgresql-dev).,1518914210.0
fullspectrumlife,"i do actually i have a gist, ill send it later okay? in a train",1523612808.0
jeremywoertink,"Why not add one more to the mix?

https://github.com/comfy/comfortable-mexican-sofa",1518584266.0
Jackson_81,http://www.spinacms.com/,1518594525.0
Gloumy,"Haven't tried AlchemyCMS, but we've done a few sites with Camaleon.

The doc wasn't really good, but it improved, and i was still fairly new to rails at the time, so it was a bit of a pain the first time.

Yet, i think it's pretty nice overall, the admin interface has full translations for some languages, it's pretty easy to use for the client. I know i had some issues with it (but again, i was starting rails as well) but ended with a fully functional website like we wanted.",1518609648.0
TheBeautifulAmerica,"I'm a huge fan of [Skylight](https://www.skylight.io/) for production monitoring.  It gives you a breakdown of how much time is spent in the App/View/Database when generating a request.

For development, I use [rack-mini-profiler](https://github.com/MiniProfiler/rack-mini-profiler).  It's unobtrusive (a little box appears in the top left corner of the page) and it can be expanded to give a nice breakdown of the request.",1518563584.0
tongboy,newrelic APM,1518561008.0
MoooPower,"I use Rubymine, the log console show how long views and queries take to execute.  Once you get into the habit of viewing that, you become familiar with performance expectations and can tell when something is off with a code change.  Console also how AR is executing queries and their timing, helps when you forget an includes.

You can also try adding something like NewRelic, people seems to like it. ",1518558452.0
jaxn,"Short answer: the subdomain will receive the replies. Not your Google Apps.  You send from something like @mail.mydomain.com
",1518586150.0
confused-penguin,This tutorial is what you're looking for https://gorails.com/episodes/inbound-email-with-rails ,1518584336.0
angkiki,"This might not be a direct solution for you, but maybe you might want to consider using cloudflare (I originally used cloudflare because they provided free SSL)? They have this thing called CNAME flattening which solves the heroku root domain issue. 

Its free to use and its pretty straightforward to setup so you might want to consider doing that, just as a way to solve the problem you are facing. 

",1518547914.0
dedliboy,Save yourself the trouble. Use DNSimple...,1518547233.0
mbuckbee,"Per the official spec there are not actually CNAMEs for root domains. If you're using Namecheap your best bet is to:

- setup your Heroku site with the www subdomain (and point the CNAME record at it)

- setup a root level http://domain.com redirect to https://www.domain.com (note the http/https protocol flip in there)

- MX/Root as normal for email

If using www for your site is a dealbreaker then you should switch DNS providers to DNSimple or Cloudflare. These services (and a few others) have proprietary ways of handling root level CNAMEs. DNSimple calls these ""Alias"" records.
",1518549692.0
sparky256,You need to switch to a different DNS provider. I have the same problem with my 1and1 registered domains and use ns1 to handle DNS,1518563669.0
schneems,"This should maybe help https://www.reddit.com/r/Heroku/comments/7wh5r4/setting_up_ssl_with_heroku_namecheap/du0c5wj/

TLDR is either use cloudflare or dnsimple (Or another DNS provider that supports ALIAS).
",1518568130.0
JustinCampbell,"I absolutely would. Even on projects with 1 person, it makes sense as I don‚Äôt always run the entire test suite when working on a bug fix or feature. It also helps you to onboard new developers faster.

Many CI hosts offer free plans and a very simple setup process.

Doing it late in a project can be significantly more difficult too, as test dependencies may be added to the project over time.",1518530079.0
trae,"If you have tests, then it makes total sense. Setting up Jenkins or using cloud solutions isn't that hard.",1518709011.0
ignurant,"I use a self-hosted GitLab, and with a combo of Gitlab-CI-Runner and Docker, I have an extremely comfortable environment that I insist on using for everything. To stand up a new internal app, I just copy my CI config, and the rest gets sorted automatically.

The general theme I use is:

- Docker to build and test the image. I use the [Phusion Passenger container](https://github.com/phusion/passenger-docker). On success, build and execute on my staging/main server. I usually use the `script` executor and leverage docker from the shell. I haven't had as good luck using the `docker` executor directly.
- [This amazing nginx reverse proxy container](https://github.com/jwilder/nginx-proxy) allows me to stand up any sort of container, and quickly get full port/domain resolution off the ground by simply passing in an `-e VIRTUAL_HOST` flag when I start a container. It's YUUUGGE. I have my internal DNS pointed with a wildcard to my CI host, and this guy sorts out the rest.
- When my new container is started, the jwilder/nginx-proxy container sorts outwhat domains map to which application, and all my internal web apps (old and new) just kind of make themselves work with very little configuration.

I often write small, single purpose apps that rarely get used. When I need to make a change, this is a dream. I just commit the code and it takes care of the rest without me having to remember where it's all at. Definitely consider setting up CI!!!",1518750443.0
das3ingg,[acts_as_paranoid](https://github.com/rubysherpas/paranoia) gem,1518506257.0
in0pinatus,"If you have European resident customers you cannot do this anymore due to the [GDPR](https://en.wikipedia.org/wiki/General_Data_Protection_Regulation) right to erasure.
",1518514320.0
Arrio135,acts_as_archivable gem by @johnotander,1518537259.0
creepywizard,"The current maintainer of paranoia released a new gem that is great for this: https://github.com/jhawthorn/discard

It avoids monkey patching ActiveRecord and is opt-in rather than opt-out. Definitely preferable for some use cases. ",1519181392.0
counterplex,I‚Äôve used Stripe for recurring billing in the past.  Not sure about VAT and it‚Äôs associated work though.,1518503120.0
fury_io,"We're using Stripe for subscriptions at Gemfury. They didn't have receipts when we first started, so we rolled our own.  Taxes can be computed via one of their integration partners: https://stripe.com/works-with/categories/tax-calculation",1518503553.0
bugant,We use ChargeBee (https://www.chargebee.com/). You have PDF invoices and vat settings already in there.,1518517291.0
,[deleted],1518522477.0
jules2689,"Here are the commands we use to boostrap and migrate databases at Shopify in our internal tooling. These have been used across hundreds of projects.

    bin/rails db:drop # Start by dropping the broken database
    bin/rails db:create db:migrate # Create and migrate the database. This should not be an issue because the database is new and just created. If you have an issue here, I suspect your migrations are broken
    bin/rails db:test:prepare # Set up the test database. This should forcibly override the test DB - which is fine since fixtures get loaded when tests start

---

An aside, `rake` should never be used by itself. Your app requires the `Gemfile` to be loaded with all gems. This means you need to use `bundle exec` ... so `bundle exec rake` is more correct. `rake` will eventually break on its own.

This being said, `bundle exec rake` and `bundle exec rails` are ""deprecated"" in new Rails. All commands should now be called by `bin/rails`... so `bin/rails routes`, `bin/rails db:migrate`, etc.

This takes advantage of the binstubs that bundler uses. [Here is an explanation](https://github.com/rbenv/rbenv/wiki/Understanding-binstubs).",1518498909.0
midasgoldentouch,"Ok, first off, you set the environment at the end, not the beginning. That should allow you to migrate your test database.

If I recall correctly, reset does drop and create, but not migrate. So why don't you try doing a reset again?",1518492834.0
midasgoldentouch,"Yeah, let's do a reset for both environments first and then try migrating.",1518492879.0
midasgoldentouch,"Ah, my bad, I was thinking of setup; reset drops the database, creates it, loads the schema, and seeds the database. But I'd still try it.",1518493041.0
MoooPower,"I just have a single rake task for this in db.rake.

    namespace :db do
      task reset: [:environment, :drop, :create, :migrate, :seed]
    end",1518558741.0
3xcellent,"It sounds like you want JavaScript to handle that functionality.  You may just need to add a class as a selector for your JavaScript to bind to.  Like image_tag 'image001', class: 'click-to-enlarge'

And then 
:JavaScript
  $('.click-to-enlarge').click(function(e) { 
... Do stuff to enlarge ...
});

--- sorry wrote this on a phone, so there may be some glaring typos ---

What did the html look like you're trying to get rails to reproduce?",1518483879.0
Cyrax89721,Are you using the Paperclip gem for images?  That's what I use for resizing images and showing different sizes based on application,1518493047.0
bushidolab,"I used to be in your shoes! 

I often help my jr-Devs get untangled from erb tags by pointing them to the Rails API documentation. 

It really helps to get a grasp on what exactly the erb is being converted to. 

Here are some examples from the Rails API Docs. If you read through it, you'll notice that the ERB gets directly translated to HTML (*not sure of your experience level*).

**Examples from Rails API**

    image_tag(""icon"")
    # => <img alt=""Icon"" src=""/assets/icon"" />
    image_tag(""icon.png"")
    # => <img alt=""Icon"" src=""/assets/icon.png"" />
    image_tag(""icon.png"", size: ""16x10"", alt: ""Edit Entry"")
    # => <img src=""/assets/icon.png"" width=""16"" height=""10"" alt=""Edit Entry"" />
    image_tag(""/icons/icon.gif"", size: ""16"")
    # => <img src=""/icons/icon.gif"" width=""16"" height=""16"" alt=""Icon"" />
    image_tag(""/icons/icon.gif"", height: '32', width: '32')
    # => <img alt=""Icon"" height=""32"" src=""/icons/icon.gif"" width=""32"" />
    image_tag(""/icons/icon.gif"", class: ""menu_icon"")
    # => <img alt=""Icon"" class=""menu_icon"" src=""/icons/icon.gif"" />


Anyways, on to your problem...

You want to expand the image after click. To begin, you haven't really explained enough to help you fix it. 

Is the image inside of a container? Do you want the image to expand and push surrounding containers? 

One simple solution is to render the image onto a popup modal after click. For this check bootstrap docs.


This is by far the simplest solution, but may not be the prettiest.
https://getbootstrap.com/docs/4.0/components/modal/",1518756909.0
JustinAiken,"In general, DO commit Gemfile.lock, unless the project is a Gem - in that case, the .lock gets gitignored.",1518477954.0
SagaciousCrumb,"One note here about why you would want to commit it. It 'locks' all your gems and their dependencies to specific versions. In dev, this is no big deal. But when you deploy, such as with capistrano, it's going to run 'bundle install' in production. And you want the EXACT same versions of every gem installed in prod. Otherwise you could silently upgrade from devise 2.5 to devise 3.05 and all of a sudden nobody can log in because there was a major API change in 3.0.",1518539347.0
jules2689,"Take a look at the public events API. This is likely what you'll need to stay on top of new changes. The flow would be:

1) Take in all events, check for gemfile.lock changes. Serialize

2) Let that run, this keeps you up to date

3) Backfill over the course of weeks to get data that may not change

This reduces API calls and lets you scale a lot more easily.",1518479024.0
GroceryBagHead,"Github actually figures out dependencies: https://github.com/comfy/comfortable-mexican-sofa/network/dependencies (but makes no distinction between runtime and development)  Is there an API end-point for that?

They can be defined in both Gemfile and .gemspec files. 

Are you using GraphQL? Because I think you can grab a bunch of data in a single call that way.",1518480958.0
Cockadawalk,"Unfortunately there could be a multitude of things going on and you haven‚Äôt provided enough information to determine the root cause. Your issue, however, is simple: current_user is returning nil. This could be because the method is defined incorrectly, you have not configured Devise correctly, there isn‚Äôt a current user stored in the session, etc. 

Personally I‚Äôd suggest not using Devise. Unless this is a serious project and your spec requires the configurability of Devise, you‚Äôre likely better off (and will learn more) if you roll your own authentication system. At its most basic, it‚Äôs actually fairly simple to do and you can find tutorials across the internet that will walk you through it. ",1518354587.0
zekko93,Are you sure that you have username column in user table?,1518353330.0
GroceryBagHead,"All the fixtures and minitest you'd ever want: https://github.com/comfy/comfortable-mexican-sofa

If you have any questions, feel free to ask.",1518318975.0
hmaddocks,There‚Äôs a reason large sites don‚Äôt use fixtures. They become unmanageable. ,1518322092.0
janko-m,"Note that you can still use fixtures with RSpec and factories with Minitest, so we are talking about two different things here.

The main limitation of fixtures is that they're created once at the beginning of the test suite, so you cannot use them if you're testing something that deletes those records. Another downside is that you have to write them in YAML, which significantly reduces flexibility (I don't know why not just use Ruby).

Factories are more flexible, because with them you can generate test records dynamically, *and* they can also play the role of fixtures (i.e. created at the beginning beginning of the test suite). You also get to assign attributes using plain Ruby. At work we use Minitest with factories. I honestly don't know what's the advantage of Rails fixtures.",1518381234.0
Twistedsc,https://github.com/redmine/redmine - bug tracker (basically Bugzilla built on Rails),1518462216.0
MadELIalUouR,"What is the schema of your user table exactly? How did you add that column?

EDIT: You may have added the migration file but not run it?
Run `rake db:migrate` and then check schema.rb",1518318070.0
ScootsMcGootz,"The project [Readme](https://github.com/rails/webpacker) is a great start and covers most standard use cases. 

You can also check out the issues tab to see if anyone has brought it up with the rails team.  If it's not currently on their radar, you could volunteer to write it!",1518303402.0
pa_dvg,"It‚Äôs not really an official part of rails, it‚Äôs an optional add on much like jbuilder, which also doesn‚Äôt have a guide.

Both have great READMEs though ",1518313699.0
sfcooper,Have you looked at https://webpack.js.org/concepts/,1518991328.0
digger250,"It's open source software.  If you see a problem, then you figure out how to solve the problem and contribute your solution to the community.  Alternatively, you could hire one of the maintainers to work on writing a guide.",1518326213.0
tobeportable,We do this in js before the submit,1518250356.0
real_fanpuns,"If you are taking form submission and accepting whatever values the user enters, where do you want to display the suggestions?",1518259602.0
jdickey,"One option, as /u/tobeportable suggested, is JS before the submit. A brute-force alternative, if you want it strictly on the back end, would be to use a validation library (we now use [dry-validation](http://dry-rb.org/gems/dry-validation/), but just about anything works here) that, instead of rejecting the action, brings up a ""secondary form"" with the as-filled-in values and a ""We recommend *xyz* for form field *A*"" message. User can then edit the values or just click *Submit* again, which submits.",1518280755.0
CaptainKabob,"Can you explain a little more how you‚Äôd like it to work? I‚Äôm not quite sure the flow in which you‚Äôd want these suggestions surfaced to the user. 

I‚Äôve done something like this:

1.	Have a validation with an ‚Äúunless: skip_validation‚Äù where the model has an ‚Äúatt_accessor :skip_validation‚Äù (in reality it would be named more specifically)
2.	In my controller I‚Äôll have the login on the create/update actions, if there are errors, to pass through a ‚Äúskip_validations‚Äù to the view where it will add a hidden form field for ‚Äúskip_validation=true‚Äù
3.	if the form is posted without that skip_validation value, it‚Äôll render the validation errors. If it‚Äôs posted with that value, it‚Äôll save the model and continue. 

From the user perspective they‚Äôd see:

1.	Empty form they fill out and submit. 
2.	model would not be saved, but they‚Äôd see validation messages and a ‚Äúcontinue anyway‚Äù button. 
3.	they click the button and it saves


Another idea is that you could make a Ruby object that includes ActiveModel validations and delegates methods to your model. Then build your view so that it shows ‚Äúerrors‚Äù from the Ruby object, but your controller only checks the model itself for validation errors. ",1518386018.0
ethboy2000,"Try and find a junior level job. Apply to lots of different places, interview lots, ask them for constructive feedback. There will be a company out there willing to take a chance on you if you can show you have passion and have built stuff in your own time that you can show them.",1518252452.0
real_fanpuns,"I wouldn't use your feelings as a form of validation as to whether you ""are there yet."" I would start applying for jobs right away, if that's the direction you want to go. Go on a few interviews and I think you'll get much more objective feedback of whether you are there (you may also get a job). Use that feedback to determine the course for future (personal) development.

If you are looking to take the professional path freelancing then I would say start with something small, but that pays you real money. I remember the first paid project I ever got. At one point, I couldn't believe that someone was paying me money to do this thing that I wanted to do. I built them a rocket ship when all they really needed were some basic pages and automatic mailers, but the experience was worthwhile for two reasons: (1) it made me feel like a professional, I was getting paid to do something and (2) I learned the very important skill of managing a project with non-technical people, which no matter if you end up at a company or working for yourself, you will need to learn to do. Also, this stuff snowballed for me. Do a good job and people will tell their friends and colleagues.

If you have designs on a starting something, I think this a bit of a different ball of wax. All teams require a ""technical person"" who will likely do all the coding and it can be daunting even after the first meeting when everyone is talking about awesome features and all you are hearing is the laundry list of tech that you will have to learn to make it happen. If you find that feeling more scary than exciting, maybe you want to get some more experience in other areas before diving into a startup.

Good luck out there!",1518261177.0
andygauge,"I would describe my situation as the same except I've been at it for six years. My lack of formal experience has put me in a position unable to secure a senior position and unable to take a pay cut to move to a junior role. I continue to accrue experience as I keep writing web apps but I consistently am passed on when I apply, even though I get interviews. I recommend starting at a junior role before it gets too late. ",1518302687.0
bushidolab,"What do you consider intermediate level?

How dry and succinct is your code?  

It would be interesting to hear what the community has to say about what makes an average RoR dev < a great RoR dev.",1518756405.0
kobaltzz,"If your application grows and you need to start to horizontally scale (Load Balancer + Multiple App Servers), you will then have to plan to migrate the data off into a cloud storage.

You're creating a commitment to a server. Servers are best treated as something noncommittal. This will allow for new ""identical"" environments to be spun up easily and has a number of other benefits. For example, AWS Beanstalk has autoscaling which is really handy for minimizing costs when the environment isn't under load. Also, you can tell Beanstalk to rebuilt a server and it will load a new AMI and run through the continuous deployment tasks.

If it is a small hobby project, then keep it on local. If it is something that will be generating traffic, you may want to move the storage data over to the cloud. If it is something that people are compensating you for, move it to the cloud. Or, if it is important data to you then maybe move it to the cloud.

You can also checkout Minio.io which mimics the AWS S3 API and allows you to connect ActiveStorage to a cloud file service.",1518225424.0
teoulas,"On Heroku specifically, you only have write access to a temporary directory. It is gone after a restart or deployment. ",1518364470.0
SkulloWorld,"There's a few pieces to this that you need to do together to make this work nicely.

Per /u/midasgoldentouch you can use @client.appliances.build in your appliances_controller, but for that to be possible the following needs to be done:

* Your Client model should have `has_many :appliances`
* Your Appliance model should have `belongs_to :client` - This will also require you to have a migration for your appliances model where it adds the column `client_id` as an `integer` column.
* You should use nested routes similar to:

-
    resources :clients do # maybe use `shallow: true` here as well, left as an exercise for the reader to investigate this
      resources :appliances
    end
 
 * That will then mean in your Client view, you can create a link to your appliances form using `link_to 'Add Appliance', new_appliance_client_path(@client)`
 * In your Appliances controller `new` action, use something like the following:

-
    @client = Client.find(params[:client_id])
    @appliance = @client.appliances.build

 * In your Appliances controller `create` action use something like:

-
    @client = Client.find(params[:client_id])
    @appliance = @client.appliances.build(appliance_params)
    if @appliance.save
      # Flash message and redirection logic
    else
      # Flash message and render :new
    end

There's a bunch of information missing from the above that may be necessary to get what you want working, but this should get you a long way on the way to what you want and give you enough to research the rest.",1518214776.0
midasgoldentouch,You can use @client.appliances.build to build a new issuance of appliances with the corresponding client data - then for the name you can just do string concatenation of the corresponding client name.,1518213248.0
spohnz,"Create a method in my appliance_controller that calls 
@client.appliances.build then call it in the view with <%= @client.appliances.build %>? I apologize This is my second week with rails.",1518214922.0
kobaltzz,I can invite. DM me your email.,1518216492.0
Gluaisrothar,"You're mixing up backend, frontend, dependency management and everything in between.

You need to think through your data model, once you've nailed that, it's just about how you implement it.

Most likely you will need to implement the same model for each interaction with the model:
- database/backend (rails)
- frontend (angular/vue/react)
- iOS app (swift/objc)
- Android (java)

Plus integration.

As for your model, typically you want one user with a type attribute, then depending which user type it is, you show different info from different models as well as different UI.",1518212661.0
obviousoctopus,What‚Äôs the reason you‚Äôre not rendering on the server side? What necessitates a separate front end app?,1518212401.0
obviousoctopus,"You may find this talk useful. So far the most efficient approach to web + native mobile apps that I‚Äôve seen. 

https://m.youtube.com/watch?v=SWEts0rlezA

I‚Äôd try this first. 

Also see this if you need a nudge in the direction of simplicity / avoiding complexity.

https://www.infoq.com/presentations/Simple-Made-Easy",1518229435.0
Schrockwell,"The color input is a relatively new input type, and it doesn't look like formtastic supports it out-of-the-box.
You can [modify an existing input or create your own custom input type](https://github.com/justinfrench/formtastic#modified--custom-inputs) if you don't want to pull in a dependency - should be pretty straightforward.",1518221141.0
GroceryBagHead,"You can leave initializer in main app that calls `YourGem.configure`. Here's an example you can use as a reference:

- [initializer](https://github.com/comfy/comfortable-mexican-sofa/blob/master/config/initializers/comfortable_mexican_sofa.rb)
- [configuration method](https://github.com/comfy/comfortable-mexican-sofa/blob/master/lib/comfortable_mexican_sofa.rb#L37)
- [actual config module](https://github.com/comfy/comfortable-mexican-sofa/blob/master/lib/comfortable_mexican_sofa/configuration.rb)

",1518218609.0
real_fanpuns,"Are they setting config options for their dependencies there or only for their own engine?

As an example of what I want to do: Knock determines [how long a token is active](https://github.com/nsarno/knock/blob/master/lib/generators/templates/knock.rb#L10) in their config file and I want the user to be able to set this value from my [config file](https://github.com/nicholasshirley/knock_once/blob/master/lib/templates/create_initializer.rb). Or is there another way that this should be done?",1518222638.0
brandonhilkert,"I wrote a post about something similar: http://brandonhilkert.com/blog/ruby-gem-configuration-patterns/

Hope it helps!",1518232826.0
tomcopeland,"There are a couple of gems to help spruce up your database schema:

* [consistency_fail](https://github.com/trptcolin/consistency_fail) for finding missing indexes
* [active_record_doctor](https://github.com/gregnavis/active_record_doctor) for finding unindexed foreign keys and various other things
* from yours truly [nullalign](https://github.com/tcopeland/nullalign) to find missing uniqueness constraints

Anyone know of any others like those?",1518147381.0
rowendy,"For pagination use https://github.com/kaminari/kaminari
",1518141903.0
2called_chaos,"A few development gems:

* [pry](http://pryrepl.org/)
* [Xray-rails](https://github.com/brentd/xray-rails) if you have a bigger rails app with loads of views and partials...
* [letter_opener](https://github.com/ryanb/letter_opener) or [mailcatcher](https://mailcatcher.me/) to see mails generated in your code flow",1518179642.0
,"These are the ones I put in every project I work on:


### Debugging:
- [pry](https://rubygems.org/gems/pry) - Already mentioned
- [pry-rails](https://rubygems.org/gems/pry-rails) - Poor some sugar over pry
- [better_errors](https://rubygems.org/gems/better_errors) - More info on the error in your local dev environment
- [binding_of_caller](https://rubygems.org/gems/binding_of_caller) - Provide a console within your browser for debugging when an error occurs

### Templating
- [slim](https://rubygems.org/gems/slim) - It is quick to get used to and once you do can never go back to ERB.

### Logging
- [lograge](https://rubygems.org/gems/lograge) - For sane logging

### These I run in CI:
- [brakeman](https://rubygems.org/gems/brakeman) - Alert on security issues in your code
- [bundler-audit](https://rubygems.org/gems/bundler-audit) - Check security issues on your gems
- [rubocop](https://rubygems.org/gems/rubocop) - Configure how you like it, but use it. Especially if you work on a team
- [slim_lint](https://rubygems.org/gems/slim_lint) - Linting for slim templates

### Testing
- [rspec](https://rubygems.org/gems/rspec) - TDD. Do it. Trust me.
- [rspec-rails](https://rubygems.org/gems/rspec-rails) - See above.
- [factory_girl_rails](https://rubygems.org/gems/factory_girl_rails) - Easily make test objects.
- [faker](https://rubygems.org/gems/faker) - Get data for your test objects
- [vcr](https://rubygems.org/gems/vcr) - When calling API's and a real response is important.

And if you do work with API's look into [http](https://rubygems.org/gems/http), because it's probably the best one and way simpler than `Net::Http`.

If you work with any kind of currency or pricing I just want to mention [money](https://rubygems.org/gems/money) and [money-rails](https://rubygems.org/gems/money-rails).
",1518188823.0
SureLetsDoAnother,[Omniauth](https://github.com/omniauth/omniauth) is a good one to check out. Feels like it's in almost every Rails project that has user accounts.,1518142028.0
kellenkyros,activerecord-import gem for mass insert of data into tables.,1518144938.0
,"* Database Cleaner is key for tests
* I find Rspec/Capybara a preferred combo for TDD
* Many people like Cucumber for BDD
* There's a neat small one called fractional that does some cool math conversions (useful if you're building, say, a recipe web site)
* PRY
* Pundit for authorization",1518142510.0
in0pinatus,"* [plutus](https://github.com/mbulat/plutus) engine for double-entry book-keeping
* [axlsx_rails](https://github.com/straydogstudio/axlsx_rails) generate Excel documents as a view
* [business_time](https://github.com/bokmann/business_time) do temporal arithmetic across business hours
* [countries](https://github.com/hexorx/countries) good source of per-country data
* [prawn](https://github.com/prawnpdf/prawn) fast and flexible PDF generator
",1518155486.0
cbm1745,[Ransack](https://github.com/activerecord-hackery/ransack)  is a great searching/sorting gem!,1518155902.0
KingPretzel,"These are my base gems for a majority of my projects:

Functionality:

- oj - faster JSON parser and Object marshaller
- rollbar (or timber) - error tracking
- redis - cache store
- sidekiq - background processing
- paranoia - soft delete records

Dev/Testing:

- rspec - better test framework
- database_cleaner - cleans test db
- rubocop - Ruby style guideline
- factory_bot_rails - ruby objects as test data
- faker - fake data
- shoulda-matchers - testing matchers for db/model validations. speeds up test writing a lot
- simplecov - tracks code coverage and generates reports
- timecop - freeze time
- pry",1518188033.0
SidDefinition,"Here are some that I have used and are pretty interesting.

Since you have already have used devise check out [devise_invitable](https://github.com/scambra/devise_invitable) using devise you can make a invitation system.

For phone number validation there is [phony_rails](https://github.com/joost/phony_rails)

There is also [aasm](https://github.com/aasm/aasm) for creating states

Finally this one I always use in any project is [better_errors](https://github.com/charliesome/better_errors), its gives are better error page that the default one, and it also have a console on the webpage it self",1518189018.0
LivingAnywhere,"active-admin, in case you just need a admin and dont care about how it looks like (https://github.com/activeadmin/activeadmin) and the sane rewrite https://github.com/TrestleAdmin/trestle ",1518180767.0
real_fanpuns,"Aside from the ones already mentioned, one that has made a lot of projects that I've worked on a breeze has been [acts_as_list](https://github.com/swanandp/acts_as_list). It's super useful anytime you want users to drag to re-order things or change display position generally.

Also, [Paranoia](https://github.com/rubysherpas/paranoia). I almost never do any project without it.",1518193987.0
owens_trevor,"gem 'premailer-rails'

is amazing for creating HTML emails.

simple_form is also amazing but it lacks good support for Bootstrap 4. Just saw this yesterday as a good alternative:

https://www.reddit.com/r/rails/comments/7vu0hi/rails_form_builder_for_bootstrap_4_markup/",1518197372.0
MoooPower,"Exception Notification üò∫ so my production email me when something break instead of having to wait for PO users to do a bug report.

Otherwise, mostly the same thing already mentioned by others.  Some that you might want to check out:

- Friendly ID ( for slugs, pretty much this is on every single project I have.  Can‚Äôt Rails without mah üêå. )
- Nokogiri ( a godsend if you ever work with any xml or html documents.) 
- Faker! and Factory Bot. (Test data mockup)

+1 to the previously recommended: RSpec, Cucumber, Prawn, Kaminari.",1518177693.0
BluePizzaPill,"* [shoulda-matchers](https://github.com/thoughtbot/shoulda-matchers) spec matchers/asserters for a lot of default usecases, like ActiveRecord validations (ex. `it { should validate_presence_of(:arms) }`)
* [temping](https://github.com/jpignata/temping) create temporary ActiveRecord tables. I test model concerns in isolation with this.
* [ffaker](https://github.com/ffaker/ffaker) generates random test data (ex. `FFaker::Internet.email  #=> ""kirsten.greenholt@corkeryfisher.info""`)
* [flutie](https://github.com/thoughtbot/flutie) small view helpers, like `<body class=""<%= body_class %>"">`
* [money-rails](https://github.com/RubyMoney/money-rails) adds a money type to active record, including currency handling and conversion
* [seed-fu](https://github.com/mbleigh/seed-fu) advanced seeds handling with updates etc.
* [mini_racer](https://github.com/discourse/mini_racer) smaller & speedier replacement for `therubyracer` which is needed on most Linux systems as a JS runtime for asset compilation etc.
* [contracts.ruby](https://github.com/egonSchiele/contracts.ruby) (not Rails specific) typecheck method signatures, ie. checks paramter and return types. Allows for method overloading in Ruby (sic!).
* [dry-rb](http://dry-rb.org/) (not rails specific) suite of very useful architectural frameworks, offers business transactions, dependency injection with containers etc. this is the best thing I found in the last years",1518178876.0
oxtrue,I haven't been using rails for very long and thought I had a basic grasp of it but reading about all these gems and what they do I realise I have So much more to learn üò•,1518183051.0
grifftaur,"These are more of the common ones used. Finished building my first Rails project with these gems

* [Paperclip - Image attachments](https://github.com/thoughtbot/paperclip)
* [Ransack - Search](https://github.com/activerecord-hackery/ransack)
* [Devise - Login/Sign Up](https://github.com/plataformatec/devise)
",1518191978.0
brohearts,"Most of my favorite have been mentioned so far (devise, bullet, pry, faker, sidekiq etc) but two I haven't seen are: 

* [Scenic](https://github.com/thoughtbot/scenic) for managing DB views 
* [csv_party](https://github.com/toasterlovin/csv_party) for easier importing of CSV data",1518202275.0
GroceryBagHead,You know about http://awesome-ruby.com/ ?,1518211919.0
nickjj_,"Hi,

Here's a copy / paste of the Gemfile from my [Rails application generator](https://github.com/nickjj/orats).

It has gems that I end up using in every project.

        # Looking to use the Edge version? gem 'rails', github: 'rails/rails'
        gem 'rails', '~> 5.1.4'

        # Use Puma as the app server
        gem 'puma', '~> 3.10'

        # Use Rack Timeout. Read more: https://github.com/heroku/rack-timeout
        gem 'rack-timeout', '~> 0.4'

        # Build JSON APIs with ease. Read more: https://github.com/rails/jbuilder
        gem 'jbuilder', '~> 2.5'

        # Use PostgreSQL as the database for Active Record
        gem 'pg', '~> 0.21'

        # Use Redis Rails to set up a Redis backed Cache and / or Session
        gem 'redis-rails', '~> 5.0'

        # Use Sidekiq as a background job processor through Active Job
        gem 'sidekiq', '~> 5.0'

        # Use Clockwork for recurring background tasks without needing cron
        # gem 'clockwork', '~> 2.0'

        # Use Kaminari for pagination
        # gem 'kaminari', '~> 1.0'

        # Use SCSS for stylesheets
        gem 'sass-rails', '~> 5.0'

        # Use Uglifier as the compressor for JavaScript assets
        gem 'uglifier', '>= 1.3.0'

        # Use jQuery as the JavaScript library
        gem 'jquery-rails', '~> 4.3'

        # Use Turbolinks. Read more: https://github.com/turbolinks/turbolinks
        gem 'turbolinks', '~> 5'

        # Use Bootstrap SASS for Bootstrap support
        gem 'bootstrap-sass', '~> 3.3'

        # Use Font Awesome Rails for Font Awesome icons
        gem 'font-awesome-rails', '~> 4.7'

        group :development, :test do
        # Call 'byebug' anywhere in your code to drop into a debugger console
        gem 'byebug', platform: :mri

        # End to end testing of your rails apps (Rails 5.1+ supports this)
        # gem 'capybara', '~> 2.13'
        # gem 'selenium-webdriver'
        end

        group :development do
        # Enable a debug toolbar to help profile your application
        gem 'rack-mini-profiler', '~> 0.10'

        # Access an IRB console on exception pages or by using <%= console %>
        gem 'web-console', '~> 3.3.0'

        # Get notified of file changes. Read more: https://github.com/guard/listen
        gem 'listen', '>= 3.0.5', '< 3.2'

        # Use Spring. Read more: https://github.com/rails/spring
        gem 'spring'
        gem 'spring-watcher-listen', '~> 2.0.0'
        end

        # Windows does not include zoneinfo files, so bundle the tzinfo-data gem
        gem 'tzinfo-data'",1518176412.0
murjax,"[zip-codes](https://github.com/monterail/zip-codes) is a cool little tool for perform US zipcode conversions. You can get the city, state, and timezone from any zipcode without making a call to an external API (it points to a local yml file). Unfortunately it hasn't been updated in 3 years so it won't pickup any newly created zipcodes. It also doesn't work on Puerto Rico zips. Still a useful little tool though. ",1518147000.0
slacker87,"These aren't in the wiki, but still pretty helpful:

[brakeman](https://github.com/presidentbeef/brakeman) checks for basic security vulns

[lol_dba](https://github.com/plentz/lol_dba) checks your models for entries that should be indexed in the database",1518123847.0
muzfuz,"Your authenticity token is empty, authorisation failed. [401]",1518074028.0
janko-m,"SSL errors usually indicate that something is wrong with your SSL configuration. Are you able to make requests to *any* HTTPS endpoint from within your Ruby app?

Try uploading the file using `aws-sdk-s3` directly, and see if you're getting the same error.

    require ""aws-sdk-s3""

    resource = Aws::S3::Resource.new(
      access_key_id:     Rails.application.secrets.do_spaces_access_key,
      secret_access_key: Rails.application.secrets.do_spaces_secrets_key,
      region:            Rails.application.secrets.do_spaces_region,
      endpoint:          Rails.application.secrets.do_spaces_endpoint,
    )

    bucket = resource.bucket(Rails.application.secrets.do_spaces_bucket)
    object = bucket.object(""foo"")

    object.put(body: ""content"")

That way you'll at least isolate the problem, which should help you focus your investigation.",1518088080.0
mr_aes,"Thanks, I'll try the suggested options and update the thread ",1518096451.0
GroceryBagHead,"Last time I had to deal with Drupal was about 10 years ago. It's a checkbox-driven development hell. It was not a pleasant experience and the end result was a pile of shit I could not figure out how it even worked. Did it ever improve over the years?

I guess if you want insane CMS framework Drupal might fit the bill?

If your CTO is stuck in early 2000's and not willing to entertain current ways of doing things, maybe you'll need to start looking for a different place of employment.",1518044898.0
HonkyMahFah,"Tell him you will make the site in Rails but will put a cool, unskippable flash movie intro with music in the landing page.",1518051529.0
coffeejumper,"I'm a bit curious why you made a Rails Application out of an HTML template. Was this an assignment?

Anyways, I would use this to sell him Rails as ""hey, I'm capable to create a great app just within a few days"". If you have a reference project of yourself with React and Rails, show him this as well. I'm not much into Drupal and Flash things, but he's the CTO, so he's probably interested in performance, scalability and resource usage, which Rails is pretty good at it. Especially if you can work with Containers, you can scale up pretty well and a fallback is also easy to implement.

But as you probably know, managers are managers in the end and even if you know things better than him, it's sometimes hard to change their opinions. Also, if you're the only one doing Rails in the company while your co-workers are experts in Drupal / Flash things, it's not really useful to try convince your CTO.

Work with your enthusiasm, get points where Rails outclasses Drupal and hope for the best!",1518044368.0
slavi01,"Make him a presentation on why you think RoR is the way to  go. Provide examples, statistics, numbers to back up your suggestions/ideas.   ",1518044501.0
hmans,Flash? Is this a repost from 2006?!,1518071064.0
ScootsMcGootz,"That's a tough position to be in for a few reasons. Perhaps most importantly (from the perspective of management) is: how hard would it be to replace you if you left? Building something in a stack that nobody else in the company knows is always really risky, and I can't fault your CTO for wanting to use technologies that your company is already familiar with (especially if rails and react devs are hard to find like you say.) 

That said, your CTO wanting you to build something using Flash in 2018 seems like a pretty big red flag. ",1518045002.0
xilitos,"CMS may be best depending on use case. 

If you leave the company at some point they will have to find a ruby developer, which is not easy, and is even harder in your area as you say. And the new dev will need to know react too.

PHP is easier to deploy and maintain. You could use Laravel or Drupal depending on the requirements. Laravel is inspired by Rails it isn‚Äôt that different besides the language.

But maybe you don‚Äôt want to code PHP at all and that‚Äôs ok. But thinking on the company you should stick to PHP.

Just my opinion.",1518072674.0
mantasm_lt,"Adobe has announced they won't support Flash after 2020. It's pretty much dead.

Drupal isn't that bad for some websites though. Rails is PITA in CMS-like projects too. Although I'd prefer Wordpress for such cases..",1518081767.0
xxxhipsterxx,Flash?  Jesus christ that's a dead on arrival decision.,1518160896.0
riffraff98,"Find a new job.

While you are finding a new job, learn some laravel and work in it. It's the modern PHP framework. Drupal is a steaming pile.

You said that they knew you had no experience in the stack they work in. That means either you're super smart and rocked the interview, or they're super desperate because nobody will work there. In either case, you're better off somewhere else.

Look into remote work. You'd be surprised who will hire a skilled Dev, location be damned. Weworkremotely is a good site.",1518067919.0
meisteronimo,"One concern form a managerial standpoint is: *Do we have the IT resource to manage rails servers?*

Often teams using PHP are comfortable with that system setup and like being able to just paste fixes live if its an emergency. 

Good rails workflows are more focused on automated deployment systems, but alot of companies IT teams are not ready to support this type of server management.",1518046479.0
beganovich,"Make that, you can't lose anything, and don't put your copyright, or showcase that web on your portofolio. Funny, but helpful. ",1518076885.0
adamgoodapp,"Explain the reasons as to why your Technologies would be a better fit, including faster development speed, robust applications, happy developer and how flash is being killed off. If you really drive the business benefits as well as the tech benefits it would be hard for him to argue.",1518096597.0
gelfin,"Try to put yourself in his position and understand what his concerns are, even the seemingly irrational ones.  He may actually be afraid of engineers building an app he doesn‚Äôt understand, with the consequence he can‚Äôt make the sorts of decisions required of his role, and that‚Äôs an entirely legitimate fear, even if it‚Äôs a poor basis to make technical stack choices.

You definitely need to sell him on dropping Flash, for all the reasons listed, and which you already know.  Unless he‚Äôs intent on hiring animators to make cartoons from 2002, and willing to accept that half or more of his potential audience won‚Äôt be able to watch them, there‚Äôs no more excuse for it.  But you‚Äôll need to understand the things he expects to get out of Flash and educate him on the HTML5 way of accomplishing the same things without buying expensive seats of Flash.

The rest of the choices might be okay.  If a themed, off-the-shelf package like Moodle meets his business needs, and there isn‚Äôt an alternative in your preferred language, then you will be wasting mountains of time reinventing something you could just install.  And that could require PHP.  It might be less exciting, but it‚Äôs the right business choice.

You also need to consider the job market in your area.  If there are basically no Rails or React jobs or developers to be found, apart from you, then your CTO won‚Äôt be able to staff up the team, and he will be completely screwed if you get hit by a bus one day.

Git is a better choice, but the really important thing is to make sure he‚Äôs using *any* sort of source control.  Git can be a steep learning curve, particularly for people versed in other VCS, because they have a lot of idioms to unlearn.

The great thing about React is you can use it piecemeal.  Use the stock site, but then any custom components you need, you can write in React, and demonstrate how they‚Äôre fast, maintainable, well-tested and mount right up in the existing page.  As the business (hopefully) grows, more customizations will make it make sense for larger and larger portions of the app to be in React, so long as the initial efforts are successful.

Remember, as employee one, your most important responsibility is to ship.  Once there‚Äôs money coming in, you get the luxury of using some of it to improve a less-than-perfect first cut.",1518102968.0
caadbury,"Rails isn't always the best framework (nor ruby the best language) for every application.  When your CTO says ""Use language/framework X,"" the professional response is not to argue back, but to ask questions:

* What do you think Drupal offers for this particular use case that Rails does not?
* What are we trying to achieve?
* What are our KPIs for this application?

Believe it or not, depending on the answers to those and other questions, Drupal _might actually be the best framework_.",1518120855.0
CptBash,"mention that flash is going to be unsupported very soon, also how do you test the drupal sites specifically the frontend? with rails you can write good test coverage with rspec and for the react components, and use nightwatch.js + yarn to write tests for the end to end testing on your front end. ",1518135237.0
themaincop,I would just find a new job.,1518071295.0
wbsgrepit,"You can be the best physicist in the world,  but if you go work for a bread making company you better be a good bread maker as well.   

Sounds like you took a job as a ""full stack dev"" without, you know, understanding what stack you would be working on.   *slow clap*",1518044927.0
Code-Master13,"I'm just a new'b, so I don't have the answer, but I'll bump in hopes you can find it. Then maybe I'll learn something too. :)",1518031165.0
GroceryBagHead,"Here's how you can modify your app to have this kind of relationship. Allow multiple users to own a task. Let's say that ""cleaning toilets"" task can be claimed both by Joe and Bob. This requires models like so

    # user.rb
    has_many :user_tasks
    has_many :tasks, through: :user_tasks

    # user_task.rb
    belongs_to :user
    belongs_to :task

    # task.rb
    has_many :user_tasks
    has_many :users, through: :user_tasks

I hope that makes it clear.",1518031896.0
whobitchisdis,"You can create a join table in your database for your relationship as shown here:

http://guides.rubyonrails.org/association_basics.html#the-has-and-belongs-to-many-association

All that does is keep track of the bidirectional association, and is the simpler way of the two as the table just stores a user ID and a task ID to link them together.

Further down in that guide page there is ‚Äú2.8 Choosing Between has\_many :through and has\_and\_belongs\_to\_many‚Äù which shows a bit about using a join model in the middle.

You only really need a join model if you want to store additional stuff in the relation itself (if you had a priority for your task specific to the user for example), or add logic to it like a callback or something,

I explained that terribly, but hopefully points you in the right direction.",1518032544.0
jaxn,"Repeating tasks with a has many through taskSchedules?

Multi- user tasks with a has many through TaskAssignment?

Something like that.",1518069389.0
clupprich,"I'd suggest using JWT authentication, which is the de-facto standard.

There's a gem that integrates with Rails, called [knock](https://github.com/nsarno/knock), but it seems unmaintained (no commits, no PRs merged for quite some time,...). Ruby's [JWT](https://github.com/jwt/ruby-jwt) gem however is fully maintained and rolling your own integration shouldn't be hard. Here's a nice tutorial I found: http://www.thegreatcodeadventure.com/jwt-auth-in-rails-from-scratch/",1518023593.0
PM_ME_YOUR_CANINES,"Thanks, I will take a look :) ",1518024671.0
ryanlue,"### Answering the Question

**tl;dr** You can't pass data structures around between Ruby and JavaScript like that.

    <tr id=""payslips"" data-selected=""<%= @selected %>"" onclick=""test2(this);"">

This line doesn't actually put the array into the `data-selected` attribute ‚Äî HTML is just plain text. You can confirm this yourself by inspecting the source code of the rendered page in your browser. In order for JavaScript to retrieve an array from plain text, you have to use Ruby to [serialize](https://en.wikipedia.org/wiki/Serialization) it (_e.g.,_ into JSON), place the resulting plain text into HTML, and then de-serialize it back into the original data structure in JavaScript.

You might want to try the [gon](https://github.com/gazay/gon) gem for that purpose, or check out [this RailsCast](http://railscasts.com/episodes/324-passing-data-to-javascript), which covers the serialization process.

### Fixing your problems

But that's actually not going to fix anything. You're trying to manipulate a Ruby variable (backend) through user interaction on the frontend, which simply doesn't work because HTTP is a **stateless protocol** (_i.e.,_ the value of your Ruby variables gets wiped at the end of every request/response cycle). You're setting `@selected = []` in `#index`, but by the time you `$.get('/payslips/add_to_selected')`, a new request has started, and the old `@selected` is gone. That's why you're getting

    NoMethodError (undefined method `<<' for nil:NilClass): app/controllers/payslips_controller.rb:98:in `add_to_selected'

I can't tell what you're trying to do with `@selected` once it's done (I imagine you'd use it to update some database records?), but your options are either to manage the state about multiple entities entirely in JS and then pass that data to an `#update` controller action as request parameters, or perform the data operations one at a time with separate AJAX calls (again, probably to `#update`) for each one.

### But also

it may behoove you to learn more about REST. [This article](https://www.smashingmagazine.com/2016/09/understanding-rest-and-rpc-for-http-apis/) is a real nice place to start.",1518018375.0
owens_trevor,"Great work!

When will you update this to work with 4.0.0 (just released)?

Would be AMAZING if this had an option to create forms with floating labels from the Bootstrap 4 examples: https://getbootstrap.com/docs/4.0/examples/floating-labels/",1518002877.0
toadkicker,"Hey pretty neat! I have a similar gem but it supports Rails 3, 4, and 5 as well as Padrio, Sinatra, and Middleman. I feel your pain about the upgrade!",1517991242.0
lewispb1,Why not just support simple_form?,1518007694.0
smoothlightning,"That wont solve the problem. Someone could be clicking the button to double book at the same time you're updating their client. As far as I know the best way to prevent this would be making the updates to the database in a transaction.

Sorry I didnt go into more detail, on my phone right now.",1517962494.0
isaacpriestley,"You'd need some method to temporarily lock a timeslot when somebody starts considering it. Then if they choose to book it, you can confirm it in the database, and if they decline, you can unlock the slot.",1517967301.0
genericsteele,"The deeper you go into preventing that perfect situation of two clients booking at the same time, the more you‚Äôll find other edge cases to account for.

I know it‚Äôs not a direct answer, but focus on giving feedback to a user as soon as possible. Using action cable to keep available time slots up-to-date is a great idea. Just make sure you let a user know what happened, why, and give them a second-best option so they don‚Äôt have to start over again.

BTW, booking systems seem very fun to design, and there‚Äôs a lot of room for improvement. Good luck!",1517974861.0
Cyrax89721,"I think what you're looking for is Optimistic Locking?  I bookmarked these links when I was researching the same thing awhile back, but have yet to implement it into my own application.  Thanks for the reminder that I should get it done!

http://api.rubyonrails.org/classes/ActiveRecord/Locking/Optimistic.html

http://railscasts.com/episodes/59-optimistic-locking-revised

https://github.com/guard/guard-livereload
",1517977767.0
riffraff98,"You absolutely must have a database constraint to ensure that no single property is double booked.

No matter what other solution you come up with, if you do not have a hard and fast constrait, you will have someone double book

The simplest way would be to have a bookings table that has (property_id, date, customer_id) - with a unique index on [property_id, date]. Then you create one row per day of the booking.

A better solution has both a start and end dates, and a check constraint on the table to ensure two bookings never overlap.

",1517984385.0
Sharps_xp,"You can create a Bookings Table {user_id, start_date, end_date, property_id}. If User A books property A, then a record will exist in the Bookings table. If User B happened to be looking at the same property A, and attempts to book it, then a simple lookup can ensure that there are no double bookings. Like in another comment mentions, you should do this in a transaction. everything is honky dory or bail the whole thing.

On the user experience side of the equation, you can use something like ActionCable to broadcast to anyone looking at property A whether or not it has been bookings for certain dates, along with a list of alternative bookable properties.

So in terms of performance and scalability, you're going to run into issues fast if you have a high traffic site, those DB writes to the bookings table may start to hurt you once multiple users start asking for property A alongside subsequent reads on that table for the same property, 1 person is going to get lucky and the other users are going to be waiting SECONDS on their mobile devices only to find out they didn't get it as well as other similar properties in the seconds they were waiting. One approach you can take is once a user shows intent to book, you can lock that property so that other users don't try to even look at the property, and you can carefully do this in an in-memory DB like redis, with perhaps a 6 minute expiration with a complimenting UI to indicate the short time window to book. If by chance multiple users show their intent to book property A, one of them will get lucky and get the chance to book, while the other simply moves onto the next one, but you won't get angry users thinking they had a fair opportunity and being disappointed when they decide to book. you have to be very careful with this cache b/c if you don't, you might tell people something is about to be booked when there isn't and you'll end up with no bookings at all.",1517990079.0
boiss,Cloudflare free plan could help!,1517935549.0
djcp,Check out [Rack::Attack](https://github.com/kickstarter/rack-attack) which runs fine on Heroku using a redis cache backend.,1517952518.0
MoooPower,"In any kind of spamming type attack, you really want to try and take care of that at the Network layer, not the Application layer.  At App, you're basically mimicking what would happen if you you were really successful and got thousands of requests per second.  Heroku get your apps up, it isn't really a superb stack for anything at scale requiring real infrastructure and network security.

Assuming the data center and network availability to your servers can handle it for a smaller attack.  Good network firewall to try and block suspicious connections.  Then the request hit a Web Application Firewall that again checks a lot of the authenticity and wholesomeness of the request with even more HTTP level filters on number of requests, what they are requesting, etc...  Once it's past those filters, then and only then does a request start hitting your application servers.  Which should be able to be served from multiple web servers allowing you to scale up at bit.

At the application layer,  try sending off things like assets to CDN.  Reduce running requirements to as little disk access as possible so you can utilize something like Redis or Memcached.  A lot of application stuff is basically just a lot of optimization to increase your ability to scale up.

In relation to what /u/technicalpickles said. If your app were really smart and you had a good network stack.  You would have monitors that check for things like account login failures and add blocks to the Network Firewall or WAF.",1517968392.0
technicalpickles,"Keeping an eye on response times helps in general. If you have some infrequently accessed pages that are really slow, it doesn‚Äôt take many requests to use up all your dynos. If you‚Äôve ever had a meeting that pointed out a particularly slow page, and everyone goes to look, and crashes the site, you‚Äôve seen this happen.

Try to feature flags for functionality of the site. If one page is being hit is taking down your site, then disabling that functionality could save the rest of the site.

Similarly, have controls for enabling/disabling accounts and content for the same reason. Disabling one affected user is better than no users being able to use the site.

There are services out there that offer mitigation. Research those ahead of time.

Write out a plan for when it happens. If possible, find a way to ddos your own app, so you can reproduce on a non-production environment for training.",1517943162.0
LivingAnywhere,"I'll fix it for you, although the discourse codebase is a bit of a mess. I'm in Tanger now and internet is a bit slow, but i'll get some quality wifi soon and capture a screencast trough the codebase on my mac okay?",1517918851.0
zeromint,"This displays 404 if the current user does not own the comment:

    def destroy
      current_user.comments.find(params[id]).destroy
    end",1517907329.0
tumes,"On the most superficial level, the one bit of advice I would give is to flip the conditional to be the affirmative case (i.e. that a user may only delete a comment if they own it, then do the error handling in an else statement) or maybe throw it in a `before_action`, but that's not an especially exciting piece of a advice.

I think the real answer you may be looking for, since your hunch is that this feels wrong, is to look at some authorization libraries. There are several options (perhaps most notably Ryan Bates' Cancan), but the one I will recommend is [pundit](https://github.com/varvet/pundit) since it's relatively well maintained and it's the last one I used. Feel free to look up alternatives, but I think this is roughly what you're looking for.

By way of short explanation, pundit allows you to define policies which can accept a context (in this case, who the current user is) and determine if they may or may not operate on a class (usually a Rails model). In your case, you might write a `CommentPolicy` which includes the method `destroy?` which ensures that a given instance of a comment is owned by the current user. Then in your controller you can call `authorize @comment` before any of the rest of the action runs, and pundit will throw an authorization exception if the current user is trying to delete someone else's comment, which you can handle as you please.

A nice additional feature of pundit is that you can also define scopes in your policies, which could easily replace some code you may have written on, say, a comment index for a given user that only lists their comments. Functionally, it will likely be a matter of copying and pasting what you've already written into a policy, but it terms of code organization, it means that you know that you can just look in your policies folder to figure out where in your code authorization rules are stored.

Edit: To be clear, this may feel wrong, but if you have a simple app, there's nothing wrong with your approach. That being said, there's no harm in familiarizing yourself with an authorization library, since it's a pretty common tool in production apps.",1517903512.0
EliteCodex,Take a look at [Pundit](https://github.com/varvet/pundit) . The gem makes what you want to accomplish a breeze. ,1517925888.0
notgrowingup,What I do is not present an option to delete on the view unless the current user is the comment owner. Then you don't need this and the user doesn't get presented with an option to do something they aren't allowed to do. You could always present it in someway so users aren't confused as to why the delete option isn't available.,1517932391.0
all3nvan,did you forget a space between 'Client-ID' and 'my_id' in the Authorization header?,1517896475.0
jeremywoertink,"You need to pass the uri to HTTParty. In your example, the first arg is a file, but it should be the url where the post goes, and the file should be in the body.",1517899908.0
musingswithawesome,[Carrierwave](https://github.com/carrierwaveuploader/carrierwave) can probably do this too if configured correctly.,1517924109.0
-frozenfox-,"I made some simple sample how to send local file to imgur

https://gist.github.com/ilnurnasyrov/7548ff56b3c0dff99cf79bf51193edb9",1517935570.0
rooood,"You tell us not to use it on development, I assume it's because you can change a gem and forget about it, changing the way the system works, so when the app goes to production it all goes to shit, is that right?

In that case, the solution should be simple enough, *if the developer doesn't forget about it*: just reinstall the affected gem. Another option (a far more complex one) is to have your gem cache the original file, and everytime the user starts a new rails server, warn him about the changes he made.",1517866591.0
timee_bot,"View in your timezone:  
[February 6th at 8:30 pm CET][0]  
[0]: https://timee.io/20180206T1930?tl=Next%20Rails%20live%20coding%20stream%20is%20February%206th


*****

[^^delete*](/message/compose?to=timee_bot&subject=delete+request&message=%21delete+eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJkdHNjcTJhIiwiYWN0IjoiZGVsZXRlIiwib3AiOiJkYXZpZHBkcnNuIiwiaWF0IjoxNTE3ODYzMDgwfQ.Q0A8usFu4U1V1s4KZSVqpDeCNahIyWChHE7v9o75TrU)
^^|
[^^reprocess*](/message/compose?to=timee_bot&subject=reprocess+request&message=%21reprocess+eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJkdHNjcTJhIiwiYWN0IjoicmVwcm9jZXNzIiwib3AiOiJkYXZpZHBkcnNuIiwicG5tIjoidDNfN3Zocm02IiwiaWF0IjoxNTE3ODYzMDgwfQ.lZuVdnKq5uFuOrvdtojhbteSue7l461gqLmcC05al0s)
^^|
[^^ignore ^^me](/message/compose?to=timee_bot&subject=ignore+request&message=%21ignore+me)
^^|
[^^help](https://www.reddit.com/r/timee_bot/wiki/index)

^^*OP ^^only",1517863079.0
XThief,Glad to hear! Thanks for doing this üëèüèΩ,1517872628.0
grifftaur,This is awesome! I'm still a huge newbie so this will be great to watch and learn what someone else does. ,1517938026.0
davidpdrsn,Thanks to the people who joined the stream. I hope you had fun and learned a thing or two. I'll have the video up within 24 hours. Next stream will be same time next week.,1517953062.0
wmcraver,Thanks for doing something like this!  I'm going to try my best to join.,1517953252.0
ltx1,Thanks OP. I won't be able to join the live streams but I'm checking the vods for sure.,1518119178.0
msapka,"Clone from github
Gem build rails
Gem install rails-version

Or something like that. ",1517864265.0
,What happens when you type *gem -v* in your command line?,1517862956.0
Bluebird,"I had the same issue! I got this error whenever I tried to run *gem install rails*:

    ERROR:  Could not find a valid gem 'rails' (>=0), 
    here is why:
              Unable to download data from 
    https://rubygems.org/ - SSL_connect returned=1 
    errno=0 state=SSLv3 read server certificate B: 
    certificate verify failed 
    (https://api.rubygems.org/specs.4.8.gz)

But try inputting this:

    gem sources -a http://rubygems.org

Answer y for ""Do you want to add this insecure source? [yn]""

Now try *gem install rails* again. Should work.",1517897430.0
kornbred,"If you can access github through the firewall, you can clone and install from source:

`git clone -b <version branch> https://github.com/rails/rails.git`

The install from the source dir:

`gem install rails -i <path to source dir> --no-rdoc --no-ri`

The will get rails on your machine.  However, as others have stated, if you are not able to get to rubygems.org, you're gonna have a bad time.  I would talk to your local IT opening access.
",1517879914.0
Key720,"I don't know of a solution to help with your question.

I'm curious as to why you _have_ to use rails even though no one else there really uses rails, and the lab's firewall prevents you from _having_ to use rails... Shouldn't the lab allow you to do your work and add some exceptions to the firewall if they're forcing you to do rails?",1517863635.0
in0pinatus,"If you can't bust through the gateway with an authenticating local proxy then I'd consult a known-good Gemfile.lock, download all the gems straight from RubyGems with a less restricted computer, and move them on the target machine by any file transfer means available, worst case being emailing .gem files to yourself.
",1517890092.0
kickinespresso,"You may want to get approval to use it first if you haven't already. The company may not be happy that you're bypassing security to install Rails. 

Many companies (depending on their policies) can react pretty aggressively to employees who install unauthorized software/code through security back door. 

If your boss knows what you're doing and is okay with it, you're probably good. If not, you may be on a slippery slope and claiming ignorance may not be enough justification for them. 

Not being negative -- you should definitely try to promote Rails in an environment that may not have it. Just make sure you CYA properly.",1517935258.0
,"Not sure about that, but form-with is remote true by default, ie it doesnt reload the full page. Then your variable is not assigned. Try to add locale: true

https://m.patrikonrails.com/rails-5-1s-form-with-vs-old-form-helpers-3a5f72a8c78a",1517842400.0
lewispb1,"What object is @hours?

I've missed the equals sign in ERB before too:

    <%= @hours %>",1517823306.0
svpersteve,"It should go back as a post request or you‚Äôre probably losing the form data. 

Sometimes I forget the create route and nothing happens when I submit the form, which is confusing. 

Are you watching the server to see what happens as you submit the form? 

What does your code in the controller look like? How are you defining @hours? ",1517824205.0
ethboy2000,Have you used pry inside the hours action to check your params are definitely making it there? Are you sure they‚Äôre not being filtered out because you‚Äôve not set your strong params method up correctly?,1517834339.0
kafka36,"This is precisely the type of app Rails is great at.  It handles the form and other front end aspects easily.  Having worked extensively with Rails and various JS frameworks, if you basically have a few simple forms I may not bother with integrating a JS framework.  It may take a little longer for a beginner, but an experienced Rails dev could get a basic version of this app up and running in a few hours.",1517811476.0
,"I'm going to assume you don't want to use PHP even though that's what WP is built in. A friend who was using WP for an extensive travel site said it recently became (somehow) too heavily integrated with JavaScript. He ended up switching to Squarespace. He's a UX guy by day, but he does code.

I am not one to push for JavaScript for every possible scenario, but based on that, JS/Node/etc. might be a better option than Rails. If you go that way, I'd also look into React or Vue over Angular (with React being the most stable option). ",1517781310.0
,[deleted],1517763056.0
htom3heb,"If you want to make a single page application, use Vue or React and Rails as an API. If you want to serve up some dynamically generated HTML on an otherwise mostly static site, use Rails' templating system and vanilla js / jquery as needed. If you're making a static site, don't use Rails, use Jekyll.

Aside: Use CSS for animations. Use MySQL or Postgres for your database.",1517772050.0
cliffregis,"It really depends on what the app will be ""doing"" and your exposure. There are plenty of options out there for you to choose from. But if you really want to use RoR for front and back and use jQuery for animation you can read this [article](https://www.engineyard.com/blog/using-jquery-with-rails-how-to) about how to use a gem called [jquery-rails](https://github.com/rails/jquery-rails).  You should the GitHub document on it as well. 
Having said that... I learned React and have used that for my front end instead of Jquery. People have been moving to React or Angular. It's not too difficult to learn. Best of luck. ",1517771620.0
real_fanpuns,"Not sure what your experience level is, but it sounds like you might be new to building web apps (if not, feel free to ignore). You might look into [Michael Hartl's book](https://www.railstutorial.org/), it's free online and it covers not only building a app from start to finish, but also best practices and ""the Rails way"" of doing a lot of things (just be ready to replace the user auth system with a gem in your next project). You don't really need to know SQL since Rails uses [ActiveRecord](http://guides.rubyonrails.org/active_record_basics.html) (an ORM mapper), it's helpful, of course, but not strictly necessary. And, although Rails no longer includes jQuery by default, it can still be helpful if you are not that comfortable with JS. You just need to add it back in either via the gem or CDN.

If you don't already have a JS framework that you know and like, I would suggest you go with the standard ERB templates, as other users have noted, this will be the most productive way to start (and has the benefit of you only needing to learn one new tech at a time).

Good luck on your journey. I think you will be very happy with Rails, it really lets you hit the ground running and start making cool stuff right away.",1518195805.0
to-too-two,"You don't *need* Rails, but that's why we're all here right? jQuery is still all over the web, but its need has been steadily declining with the growing popularity of front-end frameworks like Angular, React, and Vue. Also, most Rails apps use Postgres in production which is made easier with ActiveRecord. 

With that said, I wouldn't say it's necessary to learn SQL. If you want to be a full-stack developer, then it would be good to have a thorough understanding of plain ole JavaScript (vanilla JS), and a modern framework such as one listed above. ",1517764968.0
bigfatbird,"Keep an eye on JavaScript and CSS. Lots of things are possible to do with solely CSS. Animations, calculations and this. Its always worth to expand your CSS knowledge.",1517778331.0
DrMondongous,"rails is great because there a so many gems that do cool stuff right away.
I like to use the Devise gem for adding users to your site. Theres one called paperclip that handles file uploads which is great as well. here's a list of the most downloaded gems https://rubygems.org/stats?page=5 (i've started at pg 5 because the gems before that you're probably already using) ",1517890350.0
pm_me_ur__labia,JavaScript > jQuery,1517762820.0
wizeddy,"There are plenty of junior rails developer jobs out there. A key element to finding any developer job is networking. Find out about any tech events in your area and show up with business cards that link to your portfolio site, github, and linked in. Talk to people. ",1517757490.0
dmbf29,I found a rails dev job last year with relatively no experience. I was pretty lucky but there are still lots of rails gigs out there. Add in a JS library like React and you'll be golden,1517757635.0
prh8,"There are tons of Rails jobs out there. However, depending on what market you are in, it may be saturated with juniors looking for jobs (thanks to boot camps), which means most openings are for more experience devs. This is the case in Salt Lake City for example.",1517764877.0
in0pinatus,"The general intention of Strong Parameters is to whitelist specific attributes in the controller layer during mass assignment operations, and not as a more general-purpose data validation scheme.

If the intention is to ensure that a Book model always has an author attribute, this is the wrong place to achieve it. The idiomatic Rails approach is to [validate attribute presence in the model](http://guides.rubyonrails.org/active_record_validations.html#presence).

Nonetheless the following pattern does what you're asking and is documented at http://api.rubyonrails.org/classes/ActionController/Parameters.html#method-i-require:

    def book_params
      params.require(:book).permit(:author, :isbn, :etc).tap do |book_params|
        book_params.require([:author])
      end
    end

This is however unusual. Not sure I've ever seen it in the wild, and it obviously fails to protect the model in the general case.

",1517781068.0
ciesorius,"http://api.rubyonrails.org/classes/ActionController/StrongParameters.html second paragraph. 

There is very similar example you are dealing with.

Try that, if you are still in trouble say, i will try to help ya.",1517739516.0
deedubaya,"With the convenience of easy uploads with ActiveStorage, you lose control for the most part. This doesn't matter in most apps -- cloud storage is cheap and any validation could be done on the backend if needed.

If you really need pre-upload validation, you're probably going to need some sort of validation process. This can be done in JS by hooking into the `direct-uploads` events.

Alternatively, you could send the meta data to the server prior to upload for backend validation of some sort prior to the actual upload. I [wrote an article](https://medium.com/@dwestendorf/roll-your-own-s3-client-side-file-uploads-59f32cf25b69) on this which would allow you to validate mime-type, filesize, per-user upload quotas, etc.

Ultimatiely, you're probably best off just blindly uploading the file and doing any needed validation after the fact.",1517674866.0
itsvishesh,I guess carrierwave provides this feature. May I ask what's the difference between the two? ,1517652466.0
classhero,"Unless you have a really strong use case for allowing arbitrary filenames/extensions, you should probably generate a new filename on the user's behalf. 

Similarly, if you're doing something like accepting images/videos for display on the site, you probably want to run them through some sort of image processing or transcoding and ensure that you're actually putting the type of file you'd expect on the page. 

Client-side validation in JS is only useful for giving the end user an early bail-out, and can't replace server-side validation to ensure nobody's violating any constraints you want set on uploaded content.",1517687102.0
redbeard0x0a,"My arguments against it would be:

* You have to delete/deactivate the entire globalid if you revoke a token.
* If you aren't using uuids for the primary key, it gives information to an attacker as to the number of tokens, what might be new/old/etc.
* It reveals implementation details about your application (i.e. class names, model names and table names by extension)

If you want the benefits of the signed identifier, use a JWT token. It is a signed token that works well in urls, HTTP headers, etc. However you have to do it properly (i.e. don't allow alg: none)",1517611561.0
in0pinatus,"You're not an idiot for thinking of it! - but this is not the proper use of SGIDs, which are for cross-system entity references* not authorisation. They are not suitable for authorisation because they cannot be revoked (although they can self-expire). Note that JWTs also have serious revocation issues due to their 'self-describing' nature. Rails's session cookie store has a similar problem.

SGID signatures use strong encryption and you'd be wasting your time with a ""second pass"". As long as your secret_key_base is safe they cannot be spoofed, except possibly by a determined attacker with nation-level resources and knowledge of unrevealed weaknesses in SHA256. However, like any credential, they can be stolen, which necessitates a revocation mechanism.

It is pointless to store SGIDs in a table against a particular entity, because used correctly they are simply a signed reference to that entity anyway. You may as well fall back to issuing random base36 strings as API keys and maintaining a separate table of keys that have been issued, along with their grants and metadata.

^* ^for ^example, ^I've ^included ^them ^in ^the ^metadata ^we ^pass ^to ^our ^payments ^service, ^for ^reconciliation ^later, ^and ^we ^use ^them ^in ^callbacks ^established ^with ^Google ^Drive's ^push ^notification ^service.
",1517615993.0
das3ingg,Pretty much agree with the docs. I haven't written a controller test in forever. Feature+Request specs are where it's at,1517592906.0
linusan,Request specs are the way to go. ,1517606887.0
ryanlue,"The source of OP's confusion probably has to do with the fact that the generators produce controller tests by default (rather than request specs), even when using rspec-rails instead of minitest.

There's an [open issue on the repo](https://github.com/rspec/rspec-rails/issues/1832) suggesting that they make the switch in the generators. If anyone feels like working on a PR (or even just giving the issue a +1), I'm sure it'd help a lot of people avoid this kind of confusion down the line.",1517645953.0
yeskia,Here's my template for writing request specs (upgraded from my old template for controller specs): https://gist.github.com/dwightwatson/8e195cc991509dfa2db660a30f438998,1517895796.0
xxxhipsterxx,"Controller tests are dead.  Request specs are what you want, and your API consumers will thank you for it.",1518162313.0
slavi01,I do feel kinda confused. Wouldn't it be better to use rspec and capybara ?,1517669552.0
jasonswett,"If anyone, like me, was wondering where exactly anyone affiliated with RSpec/Rails was saying this stuff, you can find these things [here](https://github.com/rspec/rspec-rails/issues/1838) and [here](http://rspec.info/blog/2016/07/rspec-3-5-has-been-released/).",1530220357.0
somazx,I recommend digital ocean. You'll have to handle some system admin stuff. But they do have a one-click droplet with Rails pre-installed and the prices are great. $5/m and up.,1517585846.0
BobWhitelock,If you use a server from Linode/Digital Ocean etc. then you could check out [dokku](https://github.com/dokku/dokku). It works similar to Heroku and just gives you a Git remote URL for each of your apps that you can push to and have each correctly deployed and run for you.,1517587962.0
kobaltzz,"AWS Free Tier, Linode or Digital Ocean are pretty good choices.",1517585194.0
X678X,Vultr is another option too.,1517596385.0
nerdawaykid,Do what I did: take your useless 2007 Dell latitude laptop and download Ubuntu with Apache. ,1517893532.0
micketic,You can host 4 sites on a single Digital Ocean instance with some chops,1517596169.0
TheSponge94,I tend to use OVH as its the cheapest I've seen https://www.ovh.co.uk/vps/vps-ssd.xml,1517613554.0
knmaswath,vultr or digital ocean,1517738760.0
SminkyBazzA,"Hello, by way of a submission statement I initially wrote this as a guide for my fellow devs at work but thought it might help anyone else still using Pow. 

I'm keen to update the post with more alternatives or any other suggestions you may have, thanks!",1517571781.0
in0pinatus,"Does anyone know what's planned? The only major change I've seen floated was [Webpacker-by-default for JS compilation](http://weblog.rubyonrails.org/2017/8/30/webpacker-3-0/).

Personally I'm crossing my fingers for the Attributes API being extended to support multi-column aggregations (replacing `composed_of`) as Sean Griffin teased [back in 2015](http://bikeshed.fm/8).

",1517517623.0
,[deleted],1517515060.0
in0pinatus,"This is r/rails so you have ActiveSupport and can write `Time.at(gets.to_i.minutes).utc.strftime(""%H:%M"")`

Whether that is a good idea is another matter;)

",1517548175.0
,"There's too many returns, and in the wrong place.  Also - you're not defining hour properly.

write it out in pseudo code first",1517511735.0
442401,"Have a look at [`#divmod`](http://ruby-doc.org/core-2.5.0/Numeric.html#method-i-divmod)

And then see if you can [`#format`](http://ruby-doc.org/core-2.5.0/Kernel.html#method-i-format) the response.


",1517530033.0
mackshkatz,Is it even able to run? I would have thought the `minutes => 60` would raise a `SyntaxError`,1517545837.0
joshrose27,"Since you are already on rails 5, I would consider using the webpacker gem. https://github.com/rails/webpacker

I would seperate the existing jquery responsibilities into different sections based on where they are in your current app. You can then start with one of these sections and make it a ""pack"" putting all of the vue code to replace what that jquery js code previously did.

When you have that pack in a state that matches the existing functionality, update the haml code to just load your ""pack"" by dropping this in the head.

<%= javascript_pack_tag 'vue' %>
<%= stylesheet_pack_tag 'vue' %>

If you aren't making big functionality changes you can hopefully rely on your existing test suite to let you know if everything is good to go. Hope that helps!",1517506584.0
jemminger,That's pretty much what I've been doing  ¬Ø\\\_(„ÉÑ)\_/¬Ø,1517507752.0
jaxn,"Hoping you get some specific advice. We are just starting the same thing now.

We have built the most recent features in Vue and took an inside-out approach. Meaning we embedded the pack tags in the view of a controller.

Now, I am frustrated with the slowness of the main navigation and am planning to take an outside-in approach as we migrate the existing code.  I have a PWA Vue app that we will host outside of the Rails app with auth, navigation, and the new features. 

Then I created components for the legacy pages that just stick the legacy page in an iframe from the existing Rails app.  We swapped out the Rails layout for a minimal one that loads styles but has none of the main nav, footer, etc.

The iframes reload each time, but it is no slower than the legacy system.  We will then just migrate one page at a time as we touch them.

DISCLOSURE: we haven‚Äôt deployed this yet. It is mostly working and I hope to deploy it next week. It is likely that this is a TERRIBLE IDEA.",1517541615.0
freakytiki34,"This is similar to something I'm dealing with on a different project.

Situation adjusted to your case:

I stored the value of the react_quill field in an `unsafe_text` column in the posts table, and have a `safe_text` column that's the parsed HTML that actually renders. 

The benefit of this is that I'm preserving the text input exactly, so it's the same when a user returns to edit the post, but I'm also parsing the markdown on save, rather than on render. A post is read a lot more times than its saved/edited, after all. :)

And finally, I can decouple the editor format from the rendered text. So as long as I have something to parse it to HTML, the raw text can be markdown, actual HTML, BBCode, whatever.",1517544322.0
hardwaregeek,"Quill is a WYSIWYG editor. That means you're not using markdown as much as a GUI that shows bold text, etc. It's an okay option, but I often find integrating editors into React a little painful (especially if you use something like redux-form). That being said, it's totally doable. What I like to set up instead, though, is a raw textarea where a user can input markdown, which I then immediately render as HTML using a JS library. Sorta like how RES does previews for comments. Then, when you submit the form, you can send the raw markdown and the rendered HTML.",1517588189.0
,"not sure if this will help your specific situation, but i am currently learning both React and Rails and thought this was a great tutorial on using create-react-app with the Rails API.  
https://www.sitepoint.com/react-rails-5-1/",1517603823.0
cars10k,"Sidekiq has a dedicated wiki page for that:
https://github.com/mperham/sidekiq/wiki/Monitoring",1517488546.0
tongboy,https://github.com/davydovanton/sidekiq-statistic,1518934316.0
littleQT,"Did you make any progress with consuming the API? 

I have a project in which I need to integrate with another API. I'm just starting the task and am going to use them gem HTTParty. I have used it once before to get data.

Also you can test out the API calls in the rails console.",1517806141.0
Jetinho,"I'm also going to work on this API.
There is no gem available so far for Instagram Graph API but it could be interesting to build one eventually.

Any progress on your side so far ? ",1519639991.0
RISCfuture,"Hey, I'm currently working on a website that does video and audio transcoding and audio analysis. I decided to forgo Paperclip for ActiveStorage. If anyone else is trying to solve the same problems as I am, maybe you will benefit from a gander at this commit.

Some notes on ActiveStorage:

* It generates all variants (ImageMagick transforms) on-demand, so I followed that philosophy. A transcode will not be performed until it is requested. So obviously you want to request them outside your request/response cycle.
* Getting the file size of a transcode requires a call out to your storage back-end. So if it's S3 or Azure, that's a network request. File sizes are not cached locally. This is true of all of ActiveStorage, not just my code.
* Requires FFMPEG binary.",1517426114.0
infernal_toast,"Once you get into it, RoR is about 5 percent commands and 95 percent code",1517418209.0
ohboyohboy1234,"Most of the rails commands just generate files so if you choose to generate them manually, that's fine.  I doubt you will find any tutorials that show that because the commands are so handy.

If you want to do rails without the commands, run the command, then look at the files it creates/modifies.  Next time you need those files, create the files manually the same way.
",1517419663.0
notgrowingup,Rubymine is an excellent IDE for doing Ruby on Rails projects. It improved my productivity many times over. It lets me concentrate on the code and application and not worry about all the commands and what files I need created.,1517429579.0
cliffregis,"Hi, according to this article most rubyists don‚Äôt use an IDE.  I personally don‚Äôt use one, I just use sublime text, but I may go with RubyMine in the future (https://www.sitepoint.com/ides-rubyists-use/)

I am not sure which file names you want to change, but as you may or may not know Rails is big on the philosophy of convention over configuration (https://gist.github.com/iangreenleaf/b206d09c587e8fc6399e) (http://rubyonrails.org/doctrine/). So the changing of certain file names can cause problems down the road.  ",1517426623.0
sdn,"1) I'm a big fan of Visual Studio code w/ the ruby language support plugin.

2) Start with the stripped down API-only version of ruby on rails. This'll help you with the MVC stuff. You can do a single page application in PHP/Javascript and pull data in from RoR.

3) Docker does not play nice with RoR. The reason for this is that ruby/RoR has its own workflow with regards to development/test/production environments. For example: rvm manages different version of ruby environments on the same system. Bundler manages dependencies. The rake tasks manage setting up various environments. Yes, somewhere down the road where you're working with other people it may make sense to create docker images of your projects, but essentially if you have ruby & github on your computer then you can very simply share projects with other people.

4) There's an unimaginable number of gems and bolts on for RoR. If you don't understand RoR conventions then trying to learn the conventions being forced on you by a Gem will make your life more difficult. So - start with a barebones rails project and the gems that it includes. Maybe add bootstrap & jquery if you're familiar with them.

5) I'm a fan of running RoR inside a linux VM with a folder shared between the guest OS and the host OS (windows). The reason for this is that you get all the powerful linux command line programs with the familiarity of editing inside of Windows. Also, there is some fuckery involved with sharing deploying from a windows development environment to a linux production environment. 

6) Start with simple CRUD stuff - nothing fancy, no remote forms, no javascript, etc. Web 1.0 then starting adding 0.1s till you get to 2.0",1517461890.0
Cyrax89721,"I learned via[ Upskill](https://upskillcourses.com) which has a free course available, and I've been using the Cloud9 IDE.  Coming from a guy who didn't know any coding a year ago to building my first full stack application, I don't think I would have been able to do it without the Upskill tutorials.",1517451259.0
PickMeMrKotter,"1) WhatKeyAmIIn

2) A web app to help guitarists, bassists and pianists figure out what key they're playing in and what notes will sound good over a given key or chord progression based around a database of keys, chords and scales

3) Ruby on Rails (4.2), jQuery, Zurb Foundation

4) www.WhatKeyAmIIn.com

6) Hobbyist, learned everything from free or inexpensive online tutorials (Michael Hartl FTW) and by building things and spending a lot of time on stack overflow

7) Any feedback is appreciated!",1517456839.0
,[deleted],1517860281.0
fallacyin,"Depending on what testing framework you are using, there is a file where you include your stuff for tests. Try including your custom stuff there. 

Might just be `test_helper.rb`",1517557723.0
while1malloc0,"That's a pretty common use case for Rails. What I might suggest is splitting the routes by use case, so having all of the api routes namespaced separately from the UI components. That might look something like 

    # POST /api/events
    namespace :api do
      resources :events, only: :create
    end

    # GET /sensor/:id
    resources :sensor, only: :show

Then, for the API components, using something like [jbuilder](https://github.com/rails/jbuilder) to render JSON responses. Rails 5 has [first-class support](https://scotch.io/tutorials/build-a-restful-json-api-with-rails-5-part-one) for building APIs",1517336731.0
,"i'm currently learning both Rails and React - and I see what you're building is totally different - but maybe this tutorial will have some insight - https://www.sitepoint.com/react-rails-5-1/
I'm also using a book called Learning Rails 5 which has been useful so far. You can get the Kindle version or a used copy on amazon.",1517605263.0
excid3,`@http_response = e.class.to_s`,1517345644.0
alhafoudh,"Do you mean the model class name? Try e.model

https://github.com/rails/rails/blob/bc6c5df4699d3f6b4a61dd12328f9e0f1bd6cf46/activerecord/lib/active_record/errors.rb#L54",1517469212.0
ylluminate,Will this be recorded and available afterwards?,1517316484.0
timezone_bot,"8:30pm CET happens when this comment is 7 hours and 3 minutes old.

You can find the live countdown here: https://countle.com/128918kMAM

---

I'm a bot, if you want to send feedback, please comment below or send a PM.",1517315216.0
erandros,"I was very impressed at your the speed of editing, switching editors... do you have any recommendation to read about vim/ruby/tmux regarding that?",1517352910.0
danielwebbnew,Can you please provide the video for those of us that missed it? Thanks,1517382817.0
Shmutt,"You should check out the [omniauth gem](https://github.com/omniauth/omniauth). There's a [crapton of supported identity providers](https://github.com/omniauth/omniauth/wiki/List-of-Strategies).

And if it's not on the list, just do a search for ""onminauth <provider>"" and it's highly likely that there's already a gem for it.",1517320526.0
ahmad_musaffa,"You might want to use [oauth2](https://github.com/oauth-xx/oauth2) and [warden](https://github.com/hassox/warden) (used internally by Devise) directly to craft your own authentication system. It's lightweight and fast.

For Google login, you might want to play in [Google Oauth2 Playground](https://developers.google.com/oauthplayground/).

For Facebook login, experiment in [Facebook Graph API Explorer](https://developers.facebook.com/tools/explorer/).

I've a plan to release my codes as a gem. But I cannot promise any date right now.",1517330112.0
tm_mb,"I don't know about `devise_token_auth`. But I have used [omniauth-facebook](https://github.com/mkdynamic/omniauth-facebook) on a couple of projects.

This blog post will run you through the basics:
https://revs.runtime-revolution.com/working-with-facebook-using-devise-omniauth-koala-and-rails-5-cde5d032de02

However ‚Äî if you have $19 spare, I'd recommend following this [GoRails 3 part series](https://gorails.com/episodes/facebook-api-and-auth-tokens-with-koala). The guy implements facebook and twitter auth, and sets you up to use other (i.e. google) Oauth strategies ",1517319423.0
hartator,Awesome work! What I am doing is to introduce one bug to be able to see the web REPL. ,1517273119.0
Kritnc,If you have your associations set up you should be able to call ItemsRating.sum.where(item_id: an_item),1517271321.0
anithri_arcane,"I'd expect a release Apr 17 - 19 at RailsConf.

Beta wise, I'd expect it to be pretty solid, and can't remember any beta issues since 2.1.  The biggest problem you're likely to face are gem dependency issues.",1517259522.0
gauth-ier,Few hours ago Rails 5.2.0.rc1 was released (nice timming for your question) and we can expect the final version in a month or so according to DHH. ,1517397301.0
lordmyd,I heard end of this month somewhere. I think it was a DHH podcast.,1517259641.0
tspike,"Congrats! You've reached the plateau of learning after the beginner phase and are on your way to intermediate level. At this point, you know enough that it's difficult to find tutorials that aren't too basic, but the heavy duty stuff flies right over your head. 

Right now, you need to find something real world you want to build. It should be very simple and solve a real problem. For me it was a site I used for organizing my family's secret Santa events. If I had the free time now it'd be a lego price tracker, or an API for an app to help me decide where to go hiking. 

What's yours? Keep it specific, small and interesting and just go for it. You'll figure the rest out on your own if you want it to be real badly enough. ",1517205778.0
vogon-jeltz,"I haven't gone through this myself (just found it a short time ago), but it looks interesting:  http://yukimotopress.github.io/practicing",1517232356.0
HarryCallaghan,"While I agree that the best way to learn once you past the beginner stage is to build something on your own, I am kinda like you and still always looking for intermediate material or tutorials to learn.

Is hard to find more advanced things as you say, but lately I liked these two:

1) As a freebie, this superlong tutorial in medium. I didn't finished but because I'm not interested in the real time chat part right now, but I learn't a few things, specially about how to organize my code, partials and stuff:

https://medium.freecodecamp.org/lets-create-an-intermediate-level-ruby-on-rails-application-d7c6e997c63f

You can see the final app here: https://www.youtube.com/watch?time_continue=10&v=KkgJRe7df04

It's pretty recent, which is good.

On the paid hand, I really like Jordan Hudgens courses in Udemy. For intermediate level, I learnt a lot in this one, including some testing with rspec and capybara. You can buy it for 10-15$ most of the time:

https://www.udemy.com/professional-ruby-on-rails-coding-course/

Also free, since you say you would like to build an API, this one is pretty thorough: 

http://apionrails.icalialabs.com/book/chapter_one

Hope it helps and let me know if you find something else!




",1517249172.0
Job_man,"Great question, I'm exactly at the same point. If you're looking for a buddy to work on more intermediate projects, hit me up !",1517219411.0
Kritnc,As far as paid resources go I think this company has some of the best. https://thoughtbot.com/upcase,1517262179.0
tf2ftw,"Although they are somewhat dated now, I  still suggest browsing through Ryan Bate's Railscasts to get a look at how non ""out of the box"" problems are achieved. ",1517251094.0
witchywaffles,Batch 77 in Montreal. PM me with your questions! :),1517265985.0
joolscombit,Just finished batch 103 in London. Happy to answer any questions.,1517508918.0
Quantumbinman,"Yep, Batch58 in Tokyo last year",1517199574.0
vanakenm,"I'm in the ""bad idea"" camp.

Why? 

1/In like 99% of the cases I have a many to many association, I end up at some point storing some info on the association table - like a period between employer & employee, a status between product and order, etc...

2/""Upgrading"" a HABTM association to its own model, while possible is a bit more costly/complex than just modeling it out of the box as a model (using has_many_through).

This sums it up for me. Your question about ""is this standard rails"" is a different one: yes, this is clearly supported out of the box by Rails, so you are more than welcome to use it. I just think you'll change it later in most cases.",1517131531.0
genzume,"I‚Äôve worked in Ruby on Rails for almost 7 years now and I don‚Äôt have a problem with HABTM. It‚Äôs rare that I need a simple joins table with only the two foreign keys. I almost always need additional information stored on the record so I always use has_many through:

I think using has_many through: gives me more finite control on joining tables. Especially if I am using different column names than the model name. It‚Äôs not difficult to move from HABTM to has_many through:, so I‚Äôd also be curious if anyone finds its use to be an anti-pattern or bad practice. ",1517127080.0
oowowaee,"The argument I remember reading for this is that it's much easier to just use Has Many Through from the beginning versus later having to migrate the data.

In most cases I generally also want to save additional info about the relationship.",1517127552.0
qwert302,"In general you should be very skeptical of anyone tell you to *never* do *anything*. Sometimes HABTM is the correct choice. If nothing in your current horizon has you adding any additional data to the joining model, I would just HABTM. I prefer to keep things as simple as possible for as long as possible and not over-engineer it from the start.

I have had to ""upgrade"" an existing HABTM join table to a ""real"" model, and had absolutely no problem doing so. Database migrations are easy.",1517193749.0
somazx,"I use either as needed. If there isn't any compelling reason to have an intermediary model then I just use HABTM. Sometimes forcing that intermediary model just seems more awkward. And at the end of the day I feel the data should determine the model/objects, not the other way around.",1517155672.0
SminkyBazzA,"I know this isn't the most helpful kind of response, but it's worth considering: If you're on Windows 10 have you tried the Linux subsystem it comes with now? Rails dev on Windows is possible, but just makes some things harder than necessary.",1517094405.0
samnissen,"I know this is probably not the kind of fix you‚Äôd ideally get, but: Can you swap rmagick for mini magick?",1517093305.0
tongboy,"https://webuild.envato.com/blog/creating-form-objects-with-activemodel-and-virtus/ is another good article on the subject.

I think the registration form is the most easily relatable since pretty much every app needs one

Otherwise it comes down to the object space of your application.

A checkout form - you need information for shipping and payment - those are probably two models under the covers and an email and some other workflow

doing 'something' as a guest on a website
you need to collect information about the user and the work or process

any complex workflow that you need to add to a form would probably benefit from a form object. aka go look at a controller - if it has anything other than really simple logic in it - that should be a form object. My personnel example is a work order - different users see different information, different types of work get different elements displayed, workflow transitions, routing to different URLs based on the outcome - it's friggen complicated! and the controller behind them before the refactor was hideous. after the move to a form object - free and easy controller code and *stupid* simple model specs instead of horrendous and slow controller/feature specs.",1516993534.0
headykain,"I would use a form object when:

* the form is not coupled to a model
* the form is coupled to more than one model (e.g. nested attributes)
* the controller method handling the form is any more complicated than what you get when you scaffold.",1516999039.0
exige1981,"Form objects make sense when you want to want to use something like `form_for` in a view with validations and all of the other goodies that rails automagically provides but either **don't** want it connected to a model **or** you're dealing with a somewhat complex multiple model situation.

In my app I use a form object for a feedback form where i'm not storing any info in the database, but im still doing some validation (needs to have a valid email and at least some body text). 

In this case i can do something like `form_for @feedback` and it works just as if I had an actual model.

Otherwise you'd have to put all of that validation business logic somewhere else like in the controller (yuck), or in another service object (at which point you probably could have just made the form object to begin with).",1517001794.0
stouset,Authentication and authorization are two separate concerns. Devise handles authentication. Take a look at Pundit for authorization. ,1516986169.0
exige1981,"Some of the responses already mention that you can use an authorization gem like pundit, but that might be overkill for your use case.  

Consider that devise already comes with a `current_user` helper

You can probably simply do something similar to this:

    class UsersController < ApplicationController
      before_action :authorize_user
    
      def show
      end
    
      private
       
        def authorize_user 
          @user = User.find(params[:id])
          redirect_to root_url unless current_user == @user
        end
    
    end
",1517000901.0
myockey,"    User.find(current_user.id)

Don't give the user an opportunity to provide an ID. Use their authenticated session as the source of the ID to be requested.",1516990341.0
SladeyMcNuggets,"Devise isn't there to handle your authorization.

Why not just do `Resource.find_by!(id: params[:id], user_id: current_user.id)`. It will return a 404 if the user doesn't match or if it doesn't exist. ",1516986409.0
boiss,"Cancancan gem, use it.

Even for other resources, example to limit editing my own card, you need to return true or false based on the user in the ""Card"" model in ths example.

    can [:new, :create], Card
    can :manage, Card do |card|
            card.editable_by? user
    end    ",1516991449.0
pavlik_enemy,"Well, the proper way is to extract the logic into some kind of module or class and call it from both Rake task and Sidekiq worker.",1517242138.0
rooood,"That's very neat, I'm starting to build a similar gem myself, but only for native Bootstrap 4 components.

Just one question, your docs still mention `bootstrap-additions`, but it seems this library is inactive (last commit 3y ago), and is made for BS3, not 4. Did you remove that for the new version supporting Bootstrap 4? Is there any additional component listed on your feature set that still depends on this library?",1516985778.0
GroceryBagHead,"I gotta admit, it took me way too long to understand what this gem is about and what it does. I had to peek at the code and go through some wiki pages. I'd try to make main Readme a bit more descriptive. ",1517017453.0
toadkicker,"Just pushed up a bunch of fixes and improvements and an example rails 5 app is there also. I'm considering dropping the bundled assets approach because Railsstrap has a pretty solid CDN delivery helper integrated into the layout scaffolder.  I think I can keep the SASS pipeline in place though, where changing bootstrap/railsstrap sass variables is important.",1517071033.0
toadkicker,Beta 2 is out on https://rubygems.org/gems/railsstrap!,1517299348.0
odieom,You could also look into the grape gem! Sounds like it could save you some time I use it all the time for work.,1516976355.0
fabbballin,"From your post, I sense you‚Äôre very confused. I won‚Äôt walk you though it step by step here but DM me if you‚Äôre looking for a 1:1 mentor. 

However, I‚Äôll point you in the right direction though:  

1. Single app. Learn what Model View Controller is. MVC pattern. You create models to represent your database, controllers to interact with models and talk to views, views to display content to the user from the model through the controller. 

2. Rails is a framework, You seem to be confusing it with a library.  the basic structure of the application is in place for you. You simply add to the MVC pattern 

3. Yes html.erb are basically html files with additional ruby support that your rails app generates on the server on each request and pipes to the client. 


Tip: go read the rails guide. It‚Äôs greeeeeat! 

Good luck üëç ",1516917972.0
emerayo,"No need for two Rails apps, you can create both features in only one, for the login I would recommend you use the Devise gem, the gem support Oauth too.

Rails new app will create the entire Rails structure for you, including where to put your controllers, models and views. I suggest you create one yourself to see what happens.

No need to do a lot of changes in the HTML files, you only will be able to add rails variables into the page.

Sorry for any mistakes in my english. ",1516915615.0
Code-Master13,"I'm in the middle of a bootcamp, but the power of rails is not only on the backend, but also the front-end. Using it helps to create very dynamic content that you can display. Erb stands for 'embedded ruby', this is where the dynamic content comes in. Place your Ruby in and it will generate html on the fly depending on the situation.

I think even a small rails app is fine, you can build cooler features as you go. Plus, as you get better with code organization changes aren't terribly difficult. Learning curve isn't terrible, but it's not easy either.

I've got a couple projects that I'm working on that are small. I'm using my limited skillset to get them off the ground, but I've got plans to grow the feature-set of the web apps. ",1516917805.0
,"check out 'Learning Rails 5' - you can get the kindle version or buy it used on amazon. the official Rails docs are pretty good, but that book is easier to follow as a beginner.",1517606851.0
jaahooo,The question is What do you want to build? Rails are great but maybe overkill for your project.,1516915854.0
prh8,"It's not that it was an intentional decision to ignore the constraint, but instead, a decision to keep consistent behavior.

Prior to that change, `add_reference :products, :user` would not have created a fk constraint. To do that, another statement was required. This change made that other statement unnecessary, replaced with a optional parameter to `add_reference` (and its sibling `#references`). 

While it is an unfortunate default, I can understand why that was the end result. ",1516899773.0
Twistedsc,"I believe before rails 4, `t.references :x` was a simple shim for `t.integer :x_id` and it was not able to create a foreign key - the integrity was up to the application. Rails 4 introduced ability for foreign key reference to be added, a later version made it default. Very surprised it took that long to get right.",1516900613.0
ihsw,Explicit is better than implicit? ,1516897969.0
MrMandelbrot,"Great question! In older versions of Rails you had to implement a foreign key constraint in plain SQL. Now you at least have the option to let Active Record do it!

DHH and by extension, the Rails community, had decided that referential integrity is an application-layer concern, and not a database concern. [See this 2011 post](https://stackoverflow.com/questions/3438731/referential-integrity-in-rails)

It didn't take long for people to realize that callbacks at the application level can fail in non-transactional ways (`dependent: :destroy`, for example is just a `before_destroy` callback, which can be halted for a number of reasons).

It's worth mentioning that Rails implements OO polymorphism using [Single Table Inheritance](https://en.wikipedia.org/wiki/Single_Table_Inheritance). This is done by adding two columns (object type, object ID) to a table. When querying a related object, ActiveRecord finds an associated record using the `type` to identify the table to join, and `id` to find the record. This prevents an FK constraint, since the constraint can't refer to multiple tables.

tl;dr - people thought you could `sprinkle on` the referential integrity, but you can't.",1516938782.0
dogweather,And then post a link to the issue. I‚Äôd upvote it. ,1517882215.0
jordanaustino,Sounds like a good instance for single table inheritance,1516897655.0
dodgello,"Interesting question. From one side You can put it to the STI, but from the other side why would You do that? I mean what do you want to store in the table 'bitcoins'? I think cryptocurrency itself is just a referencing component between other entities. So You could create the table 'cryptocurrencies' with field code (unique constraint) and that's it. After that You can do something like:

    class User
      has_many :wallets
    end

    class Wallet
      belongs_to :cryptocurrency
    end

Regarding of business logic, use service object pattern, You can even create base operation services and then inherit from it for every single coin you want to support (since all of them work similarly)

But what if implement it without a table for the currencies? I mean in the way I described above, it will be inconvenient to query your currency every single time:
Cryptocurrency.find_by(code: 'btc'). Instead, You could use plain old constants for every coin or even use enumeration:

    class Currencies
      ALL = %w[btc ltc etc].freeze
    end
    class Wallet
      enum currency: Currencies::ALL
    end
   ",1516914020.0
kobaltzz,"You can break them up, but there could be some caveats in the development environment with having to restart the app after routes are changed. I made a screencast on this that may help you out.

[https://www.driftingruby.com/episodes/routing-partials](https://www.driftingruby.com/episodes/routing-partials)",1516854376.0
palkan,"Here is an example on how to do that: https://gist.github.com/palkan/73f6e2c203c26c46574ef5832a446643

You can _tell_ Rails where to find your routes files (by adding them to `config.paths[""config/routes.rb""]`).
No need to do `eval` tricks, no caveats with app reloading (yep, this way Rails would reload your custom routes too).",1516869635.0
Fustrate,"In a similar vein to kobaltzz, here's my routes.rb file for a large application:

    def eval_routes_folder(folder = nil)
      Dir[Rails.root.join(*['config', 'routes', folder, '*.rb'].compact)]
        .sort
        .each { |route_file| instance_eval File.read(route_file) }
    end
    
    Rails.application.routes.draw do
      eval_routes_folder
    end

I do it this way because there's one spot that I broke up further:

    resources :communities do
      scope module: :communities do
        eval_routes_folder 'communities'
      end

      # ...
    end

I also use `.sort` so that my `_concerns.rb` file is eval'd first.",1516857883.0
kcdragon,"This is a good question to ask. The specifics of how indexing is implemented will vary from database to database (MySQL might do it differently than PostgreSQL). However, the answer on this [StackOverflow post](https://stackoverflow.com/questions/1108/how-does-database-indexing-work) does a good job of explaining it at a general level. It sounds like you are right about it being a binary search.",1516835757.0
SkulloWorld,"My knowledge of the inner workings of SQL isn't great but I've had a few years of writing queries to know how to get the results I want. As a part of that, indexes have been essential when working with tables particularly that get into millions of rows.

Indexes nominally increase write time and by nature of storing more data require more storage, but massively decrease read time. For a majority of applications, the very slightly increased write time is well worth the tradeoff, it's really only very high-write low-read applications where an index may not be worth it.

As an example for the time saving of an index, I had a query that was taking ~30s to run, searching for an integer in a non-indexed row of a table containing approx 10,000,000 rows. After adding the index, the query returned in ~0.01s. Interestingly, the index only took about 10s to fully process and add to the table.

I don't remember what resources I used to learn about how to build appropriate indexes so I unfortunately can't point you in the direction of a specific book or site, but I strongly recommend doing reading on indexes and then apply the knowledge liberally. 

Whilst maintaining a sorted list of emails to do a binary search over may be quick, it also wouldn't persist with an application restart whereas the SQL index is tied to the dataset directly, not the application or SQL server state.",1516834530.0
Randy_Watson,"Could be wrong about this, but in the case of a unique value an index will help due to it using a sortable data structure that point directly to the address in memory.  Instead of having to check against every value in the table for equality, the data structure can be sorted to require less comparisons.  The downside is it requires more disk space and extra write operations.  Could be wrong about this though.",1516858240.0
NoInkling,"> OR would it be something like an index to all the emails starting with the letter ""a""..""z"" and then we just look directly in the list of emails that share the same first letter?

Essentially, yes. You can think of it as sorting the emails alphabetically so the database only has to look in a small range to see if the entered one matches. It knows it can't possibly be anywhere else (if it exists).",1516874590.0
zeromint,"Your first thought runs into the limitation of your app server's  memory. If you launch more app servers then you'll have to worry about keeping these states in sync. But this whole thing goes against Single Source of Truth.

Ask yourself, DB already knows about your users, so why we need to duplicate this data in the app? Instead of moving data to code, move code to data. Check against your DB for existing user. This is much cheaper in your DB, furthermore, it's written in low-level optimized code.

Here you can read about DB indexes: http://use-the-index-luke.com/sql/preface

PG uses B-tree index by default.

",1518501134.0
mrfrosti,"The records that are around your record are dependent on the ORDER clause of your SQL query. I know you said without two queries, so I'm bending that rule and using a UNION in my example. This would return the 3 users before and after a user with id 1200 (when ordered by id):

    (select * from users where id < 1200 order by id limit 3)
    union all 
    (select * from users where id >= 1200 order by id limit 3)

You can wrap this SQL in a ActiveRecord method by calling `ActiveRecord::Base.find_by_sql(...)`, or by calling find_by_sql on a class that maps to your table name e.g. `User.find_by_sql(...)`",1516832765.0
DehydratingPretzel,"I think you would have to do 2 queries.

Also, dont go off of ids, go off of created_at.",1516830718.0
Raine94,"There might be a better way of doing this, but off the top of my head, I'd generate a range of ids and use a find with that range as my argument.

    lower = n - 3
    upper = n + 3
    range = (lower..upper).to_a
    range_of_records = YourModel.find(range)   

Edit: don‚Äôt do this, as it does not account for a record deletion and will error upon trying to find a record that doesn‚Äôt exist",1516831063.0
balls_of_glory,"I'd reexamine the use case and possibly the model itself. Why are you fetching records that are simply alongside the target? There's probably a more logical way to pull what you need. 

That said, this is where I'd commit a rails sin and drop to raw SQL. 

SELECT * FROM model WHERE id >= #{x - 3} AND id <= #{x + 3};",1516836086.0
meagar,"Rails supports this quite naturally without custom validations.

Use conditional validation based on the presence of the other field:


    class Post < ActiveRecord::Base
      validate :title, presence: true, unless: :body?
      validate :body, presence: true, unless: :title?
    end

If your table has columns `title` and `body`, then your model has dynamically defined methods `title?` and `body?` that return the `present?` for these fields.
",1516879965.0
niborg,"just do a custom validation.

    class Post < ActiveRecord::Base
      validate :has_title_or_body

      def has_title_and_or_body
        return if title || body
        errors.add(:base, :title_and_body_blank)
      end
    end

Then set the message in the appropriate [locale key](http://guides.rubyonrails.org/i18n.html#looking-up-translations).",1516827853.0
_matthewd,"> 11/13/2017‚Ää‚Äî‚ÄäThe CVE-ID is added as a comment to the Pull Request (PR) by a Thoughtbot developer which now makes the vulnerability details public

Things That Are Not True?

The seemingly premature public disclosure of the fact that PR was addressing a CVE-worthy vulnerability was by /u/reedloden, *HackerOne's* Director of Security. 

If anything was publicly stated in the CVE entry at the time, that is presumably also a matter between the reporter and the CNA. 

Suggesting the vendor took a long time to address the issue is one thing, but blaming them for a disclosure you initiated seems rather less reasonable. ",1516844596.0
janko-m,"I would also like to note that the security vulnerability might not be as severe as it appears, because Paperclip extracts MIME type from file content and enforces its validation, so if you're accepting only images, attempting to download EC2 credentials *should* fail validation.",1516870809.0
janko-m,"Is this something that _any_ file uploading gem that accepts remote URLs is vulnerable to? At least for CarrierWave and Shrine make this feature is explicit, so only folks *using* upload from remote URL are vulnerable to this.",1516858922.0
Johnsalzarulo,"This guide is intending to help identify issues with a ruby on rails deployment unrelated to bugs. Things like server scaling, CDN etc. It assumes you are working in an environment with decent test coverage and no recent deploys have been made but you are getting that ""Shit the site isn't working"" text message. 

Leave your comments here on what doesn't make sense / what I am missing. I'm planning on building this out into a robust guide including top tips and solutions for solving each of them. Thaaaaaaanx",1516815081.0
pavlik_enemy,"0. Don't use homegrown crypto/auth.

1. Read the Rails security guide - http://guides.rubyonrails.org/security.html

2. Secure nginx https://www.digitalocean.com/community/tutorials/how-to-secure-nginx-on-ubuntu-14-04

3. Add CSP headers to your app https://github.com/twitter/secureheaders

> CC data

You won't be storing any critical credit card data unless you are making a payment processor (and judging from your question, you aren't).",1516818999.0
blazingkin,"You shouldn't be encrypting passwords, you should be *hashing* them. Also, use an existing authentication scheme such as devise that's been time-tested.

The best way to ensure your site is secure is to make sure that user input is always treated as untrusted.

That is, don't out user input directly into SQL queries, don't make filenames  based on user input, etc.",1516813880.0
tongboy,"depends entirely on your app and what you're dealing with.

You shouldn't store or pass credit card info through your system AT ALL unless you want to pay through the nose for compliance. use stripe or paypal or anything that prevents you from dealing with CCs directly.

brakeman & bundle-audit-check should be run on every application.",1516814030.0
MoooPower,"Security is a hugely complicated topic that deal with infrastructure as well as software.  Depending on the level of security the company feel is needed, it can get pretty intense.  I used to work for a Level 1 PCI-DSS payment processor where we stored million of credit card numbers.  Fun time sitting across an auditor for 3 days going over every single process in software, how they interact with the hardware, etc...

Apply the same kind of auditing processes to Rails would be things such as:

How do you get your gems and dependencies (npm packages, etc)?  They have to be reviewed before being used, the updates may have to come from a clean internal server.  Are you checking for and filtering all inputs? etc...  Do you review rails or ruby version upgrades for possible exploits? What change processes are in place prior to deployment to review for possible security bugs?  Are there code reviewers to check your works?

In terms of using something like Devise. Is there a process in place to check IP against a blacklist, limit password retries and blocking?  Maximum retries on account regardless of IP source?  Password complexity level and change policies?  Are you implementing a hashing algorithm that has high CPU usage like BCrypt instead of just MD5 or SHA that can be more easily brute forced?  

Those would be a small part of what we had to go through.  Once done, there's a penetration test done that cost around $4K, and the annual audit cost was about $25K.  Everything is documented and audited, there's no blanket security measure, they check everything.",1516828480.0
t3hj4nk,"You're already on the right track. I don't think you need the help per say. You know how to do the ""beginner stuff"", but really most of web development is ""beginner stuff"". Even a lot of the most advanced apps are CRUD apps underneath.

A lot of development is critical thinking. Have you drawn out your models or used and ERD (Entity Relationship Diagram)? To develop your application continue asking yourself those same questions. How do you check for something (the R in CRUD)? How does a user add something to a cart (the C or U in CRUD)? 

One thing that might be helpful is to look at the open source code for bigger e-commerce platforms like [Spree](https://github.com/spree/spree) or [Shopify](https://github.com/Shopify/shopify_app), see what they do there and extrapolate. You don't need to develop something that big, just take some notes and go on your own.",1516812250.0
Ronald-Ray-Gun,"You'd need an admin interface, which you could build yourself, or use a gem:

https://github.com/thoughtbot/administrate

https://github.com/sferik/rails_admin

https://activeadmin.info/

",1516811985.0
voipspear,"If you can't find a gem for this, you could always try creating a tarball and uploading that.",1516808351.0
menge101,"For most network communication, ruby has the Net library.  It's not a gem, its in the standard library.

what protocol do you want to use to upload the files and folders?

That s3 uploader is (probably) using the RESTful s3 api to do its work.  

For most transfers it matters less about where it is going and more about how you are getting it there.

Does your server have a Restful http(s) api? use RestClient.

SFTP use Net::SFTP (from experience, if this gives you trouble, monkey patch it to maximum sftp protocol version 3, and see if that solves your problems)

FTP use Net::FTP

etc.",1516804662.0
jemminger,"I've never used it, but there is this: https://rubygems.org/gems/rcp/",1516815065.0
riffraff98,"Use doorkeeper. https://github.com/doorkeeper-gem/doorkeeper/blob/master/README.md

Do not attempt to roll your own authentication scheme.",1516769320.0
myringotomy,If all the apps use the same secret to sign the key you can safely use JWT. You probably should encrypt the payload too of course.,1516770626.0
mrfrosti,"Are you looking to implement this is Rails itself? If not, Auth0 is a nice service with a Ruby client that provides this feature. You can authenticate against their service and receive back a bearer token that can be included in your HTTP headers in API calls. Your APIs would then verify that the token is valid by checking with Auth0. ",1516798448.0
GroceryBagHead,"Hmm. Docs only show regex values used for substitution. I'd just cram it right in the selector:

  assert_select ""a[href='#{root_path}']"", count: 2",1516753217.0
firstpantsthenshoes,Did you have a look at the cocoon gem?,1516759533.0
pino_the_great,"GraphQL will be a giant waste of time for you. Learn to use your existing tools before jumping over to knew ones. 

Learn how to use restful routing first. It should be no different than the routing and controllers you use to serve your view templates, you just respond with json (usually) instead of html. Read this top to bottom: http://guides.rubyonrails.org/routing.html

If your various clients are all interacting with the server in the same fashion, you can use the same controllers to serve requests for all clients (serving html OR json depending on how the requests are made). If not read this: http://guides.rubyonrails.org/routing.html#controller-namespaces-and-routing

Auth is a different conversation, but usually doesn't need to be overly complicated or require the use of third party gems or packages either. Granting and revoking auth tokens which get passed back and forth between server/client through http headers is usually fine. (Assuming SSL is being used.)",1516744310.0
alexheil,[This is how I learned!](http://apionrails.icalialabs.com/book/chapter_one),1516729353.0
LivingAnywhere,"I know your question is REST API's but i would really go and give a go at `ruby-graphql`. It made me, and my team a lot lot happier!

Its typed, self documenting and FAST! https://www.howtographql.com/graphql-ruby/0-introduction/",1516736481.0
jaahooo,Try https://www.codemy.net,1516740338.0
owens_trevor,"GoRails has a great tutorial on this. Not sure if it requires Pro subscription or not, though. (I am not affiliated, just a fan)",1516762850.0
rvaen,I'm implementing API routes for my devise web app right now. Though I skipped devise for the API and instead am using a custom token field and session auth route to verify client's tokens (with skipping CSRF verify for the post) . Is there a reason you need to login through devise for your API? ,1516721814.0
menge101,"I was very good at rails 3, i'd say it took me ~6 months before i could largely do anything i wanted to do.  (Note: I was a 10+ year software engineer at this point) And this was in a system with mysql, redis, mongodb data stores and with multiple front ends apps using it as a data source.

However, I mention this just to make the point that, you don't just have to learn the current stuff, you then have to keep up with how it is changing.

I'm sure I can't do anything with Rails5 without a significant time commitment.",1516653269.0
bralyan,"I've been doing rails for about 9 months now professionally. I did some rails side projects for a while before that. 

I work in a larger rails development group and the programming skill does not directly correlate to years of experience. I have a person on my team with a few months of programming school, and a few months on the job and he's one of the best programmers I've seen.  I've also worked with developers with 30 years of experience that couldn't pass a simple programming interview test. 

My advice to become a great programmer is to work with high quality people, value testing and quality, and understand design patterns. Google the details, figure out how to architect solutions and you'll do great. 

The specifics of a language can be valuable, but isn't the end all be all of being a good developer. That can be googled.",1516658770.0
IllegalThings,"~6 months, with Django experience, 10 years of professional programming, and working directly with people who really knew their stuff. ",1516667661.0
eddkerr,"I still feel like I'm learning it, but I have built quite a few apps in it over the past 2 years, but it was my first full stack MVC framework, and first time doing an sort of back end work at all,at that point  I only had one year of angular experience before it. ",1516672924.0
cyancynic,"A couple weeks and I got going.  

It didn't hurt that I used to do WebObjects and Rails is pretty much a straight clone in Ruby in many ways.",1516675096.0
,[deleted],1516648608.0
sdn,Ahhh ok never mind :),1516665428.0
toadkicker,"This definitely sounds like a front-end problem, but could be backed by SSR/API calls to persist state. I'd probably use something like Redis to store the stack and then just send javascript back and forth to the client with the values to drive the UI. I don't know of a gem that does it off the top of my head, but it also sounds like you could easily roll this on your own? I don't know without diving into more of the design of the UI.",1516695926.0
infernal_toast,Vanilla rails typically involves a lot of page refreshing and new pages.  It doesn't really lend itself well to doing a lot without reloading everything.  Rails 5.1 can be configured with webpacker and react out of the box which may really help you on your quest to build this.  ,1516805389.0
KingDonFlon,You should check this part: https://github.com/lynndylanhurley/devise_token_auth/blob/master/README.md#custom-controller-overrides,1516642348.0
dvogel,"It's not an altogether bad idea but making an optimal decision about how to avoid repeatedly incurring the cost of that work without creating more problems elsewhere requires more nuance.

For example, if the operation is expensive because it is constructing a large string like an XML snippet then it's probably best to store in it's own model. If the operation is expensive because it is a point in time sampling of your entire system then it might be best to never calculate it on demand and have a process that ensures that the rest of the system always has a sample point no older than some minimum threshold.

One question you really need to ask is _""how long do I want to keep this data around?""_ If you're only trying to speed up an operation that feeds a view, but doesn't have independent long-term value, then you are better off using an ephemeral fixed-size cache.",1516636019.0
GroceryBagHead,"Well, it's basically caching. You gotta be careful with calling that method before it gets cached. If it's triggered via browser interaction you gonna have some poor user staring at the loading screen for a bit.",1516609817.0
ixtechau,If it's a stat of any kind - like `User.all.size` - then I'd say it's highly beneficial to save that to the DB (I'd run it in a background worker and create a new instance every hour). Why? Because you can in that example then eventually go back six months and see how many users you had at any given hour. Handy.,1516608242.0
menge101,"> We can assume that an instance of Foo is unlikely to change after being saved but that the expensive_attribute will be frequently accessed.

This statement is the caching holy grail.

    def cache?(compute_cost, frequency_of_access)
        compute_cost >> COMPUTE_THRESHOLD && frequency_of_access >> ACCESS_FREQ_THRESHOLD
    end

So really its just up to you to come up with the thresholds for your use case.
",1516645089.0
nicolasMLV,"if it is expensive, you may not want to put in in a before_save, but call it only when needed in a background job for example",1516655554.0
BDubbs42,"As others have noted, if 
> We can assume that an instance of Foo is unlikely to change after being saved but that the expensive_attribute will be frequently accessed.

is actually true, then this might be a good case for caching. I'd encourage _not_ doing the caching initially until a profiler tells you to optimize that calculation (unless it already is). I would then see if there are other, easier optimizations you can do before caching. 

This mainly just comes from my experience dealing with a cache column getting written to a lot, getting out of sync, and not being a very expensive operation anyway (like multiplying two numbers). We then realized that we can't take this cache column out because customers said ""after I enable feature X in the system, then that column no longer gets updated, so we use it as a historical record.""

Obviously there are better and worse ways to cache, but I still consider it a ""sharp knife.""",1516688848.0
442401,"Thank you all for your comments.

I think what I have learnt is that my next step is to Google '*Rails caching*'",1517033881.0
,"> wouldn't it be easier to just have the ""Category"" model just ""belong_to"" Articles? and Articles ""has_many"" Categories?

In this case the category would have to store the article_id. How then could a category belong to multiple different articles? You could have an array of article_ids but that gets inefficient. The extra table allows articles to have many different categories AND categories to have many different articles.",1516605523.0
welkie,"In this case, ```ArticleCategory``` is a junction model for which ActiveRecord will create a junction table. Each row in its table represents a particular article belonging to a particular category. This is a more complex and more powerful alternative to using ```has_and_belongs_to_many``` between two models, in which case ActiveRecord will create a junction table for you (which is necessary to track this in the database), but there will be no need for a junction model. You'd simply do queries like ```some_category.articles``` to get all of the articles for a category, and vice versa.

Concerning this approach, with the junction model ```ArticleCategory```, ActiveRecord still creates the junction table in the database to store these relationships, except this time it's created explicitly because you defined the model for it.

This means you can add more attributes to that model and now you can store data that pertains to this relationship, like a date field representing when the article was added to the category. (Kind of a dull example, usually these junction table rows have more interesting properties.)

Usually, when you're creating these junction models, you'll choose a more interesting name than simply concatenating the names of the junctioned models, but sometimes language doesn't have a good noun to describe them.

A classic example where this is possible is when you're junctioning ```Student``` and ```Course```, naming it ```Enrollment``` (a particular student being associated with a particular course is an enrollment). This example also has more interesting relationship data. You could have the date their enrollment begins, the date it ends, the grade they end up with... etc.

The ```has_many_through``` you see defined on the non-junction models in your code are there as a convenience for you, so that you don't have to go through the junction model manually if all you care about is data about an article or a category (but not the relationship between them). Without this helper, you would have to do things like this:

    categories = []
    article.article_categories.each do |ac|
      categories << ac.category
    end

But instead, you can do this:

    categories = article.categories

More info:
http://guides.rubyonrails.org/association_basics.html",1516605676.0
stereoagnostic,It's a many to many relationship. The ArticleCategory table on the schema is called a join table and acts as the reference that connects all the relationships between the various articles and categories that are associated. ,1516604602.0
my_toesies,"Your way would work but I imagine you will be doing more with that join table model later in the Udemy course. Just a little teaser, think if you wanted to be able to display the timestamp of each time an article was assigned to a category. Would it be easy to do with your method? Sometimes you want details about the interactions of two models and I imagine that's why you are building it this way.",1516604673.0
brandononrails,Check out http://anycable.io/,1516588917.0
the_brizzler,I have built chat apps using other backends and researched using action cable with Ruby on Rails...and I remember someone saying they had issues around 2500 concurrent connections as far as scale goes. You could run your own test and see if that is true.,1516580259.0
palkan,"> How did it work in the wild? did it scale well? common pitfalls?

It works; how well? It depends on your use case.

It scales horizontally without any problem except from the number of nodes you need‚Äìit could be huge.

The main problem from the scaling point of view is memory usage (some benchmarks are available [here](https://evilmartians.com/chronicles/anycable-actioncable-on-steroids)).",1516873928.0
oowowaee,"The only reason I would switch was if I was unable to find a job, or didn't like the frameworks I already knew.

As I have kept going in my career, I have deliberately opted not to randomly learn new frameworks - I don't make more money getting a job in a Rails shop if I also know a PHP framework.  The better ROI is to learn the framework I am using better, or complementary skills (devops stuff etc).

There are also so many libraries people use on a regular basis, and learning those can also be a time sink.",1516575565.0
ixtechau,"In my opinion: not really. There is nothing wrong with PHP, or any other language for that matter. The best language is the one *you* know best.",1516572403.0
bensochar,Maybe if you want to switch markets/employers. I used to work strictly in LAMP but I wanted to move into startups from agency work. Rails helped me with that. But I think Node would accomplish the same thing _if_ that‚Äôs your goal. ,1516573859.0
jshen,"There isn‚Äôt anything fundamentally different in Ruby compared to JavaScript or PHP, but rails is a well implemented framework which is worth learning to know how a good framework can work and what it brings to the table. ",1516592734.0
noodlez,"Is Rails useful?  Yes.  I work with Rails because its a joy to work with and just really easy to build products with.  IMO.

Should you learn it?  Idk.  Maybe not.  Depends on how experienced you are with Node and PHP, and if you see any major issues with them.

Don't pick Rails for a one-off project just because you think it might work ok. Pick Rails because you want to actually learn it.  Rails has a bit of a learning curve, so a small one-off project won't make the best example, and it'll also potentially leave you holding the bag of a one-off Rails project you now have to maintain even if you hate Rails. Again, IMO.",1516608771.0
,"i'm currently learning both React and Rails as a former HTML/CSS coder. that said, i don't feel quite ""qualified"" to answer your question, but may have some insight. 
i dabbled in JS for a long time, but it was never my focus, and the prospect of learning a million new things every week to stay in 'front-end' led me to finally quit. i only code for fun now. i've been enjoying React, but i still find JS clunky. there's a simplicity to rails that i like. if that resonates with you, and you have the time, i think rails is worth learning.",1517606377.0
hotsaucetogo,"You shouldn't build a new project with PHP, but Node is great for backend.",1516584080.0
robotsmakinglove,If you are building a new project in 2018 in PHP I think that is a serious red flag. ,1516583953.0
MoooPower,"Top one index the columns in 2 indexes each of 1 column.  Bottom one creates 2 composite or multiple-column indexes, each of 2 columns in the order shown.

See example for MySQL here
https://dev.mysql.com/doc/refman/5.7/en/multiple-column-indexes.html 
",1516573897.0
jeremymcanally,"You just have some of your code out of order is all.  First, the index is never going to decrement because it's outside the while loop.  That'll send it into an infinite loop.  Secondly, the return statement is outside the method.  Make those adjustments and it'll work fine!  For example: 

    def sum_nums(n)
      if n < 0
        return nil
      end

      sum = 0

      while n > 0
        sum = n + sum
      
        n = n - 1
      end

      return sum
    end
    
    sum_nums(4)
    # => 10",1516512726.0
calebuharrison,"Your code will be stuck in an infinite loop if n is a positive non-zero value.  Your loop condition checks the current value of n, but n is never reassigned inside of your loop.  Instead, you‚Äôre reassigning sum, which means that the value of n remains unchanged with each loop iteration.  Does that make sense?",1516511738.0
X678X,"Just to be clear, you want to return a sum of all numbers from 0-n? For example:

parameter is 3

sum = (sum of 1,2,3) + (sum of 1,2) + (1)

There shouldn't be an end between sum=n+sum and n=n-1 since you need to decrement in the loop.

If what you want is what I mentioned above, this will work:

    def sum_nums(n)
    	return nil if n < 0
    	sum = 0
    	while n > 0 do
    		sum += (0..n).inject(:+)
    		n -= 1
    	end
    	return sum
    end",1516512324.0
midasgoldentouch,"Just a tip: if you're ever wondering why a loop or iterator isn't working as intended, the best thing to do is this:

Get a pen and paper. Pick a starting value for your variable(s) that you're using to loop, and go through the code line by line as written, writing down the values of the variables at each step.  That usually helps you find the bug.",1516514434.0
BDubbs42,"Probably not necessary, but there‚Äôs also a formula for this. n(n +1)/2. ",1516555257.0
midasgoldentouch,"Honestly, this has less to do with Rails and more to do with dev ops. You'd be better off looking for a dev ops sub and asking there.  That's not to say no one here can answer you, just that you might get better answers there.",1516498242.0
dotnofoolin,"We use Codeship for CI. It has deployment options and allows custom scripts. Using the aws-cli library, we trigger OpsWorks in AWS to deploy to the instances. We have multiple deployment setups for each project so that pushing to git master builds and deploys to our production stack. Pushing to the develop branch builds and deploys to our QA stack.

We've used Capistrano some, and toyed around with docker, but what we have is reliable at the moment.",1516503353.0
ixtechau,"> Each task is mapped to one content, but different tasks can point to the same content

In this case, tasks should belong to content instead of the other way around.

    # ""Plans can have many tasks""
    class Plan
      has_many :tasks
    end

    # ""Each task is mapped to one content, but different tasks can point to the same content""
    class Task
      belongs_to :plan
      belongs_to :content
    end
    
    # ""Each task is mapped to one content, but different tasks can point to the same content""
    class Content
      has_many :tasks
    end",1516441927.0
GroceryBagHead,"Based on your description:

    class Plan
      has_many :tasks
    end

    class Task
      belongs_to :content
    end

    class Content
      has_many :tasks
    end

    class Group
      has_many :contents
    end

    class UserGroup
      belongs_to :user
      belongs_to :group
    end

Can't comment if it makes any sense though.",1516435118.0
teffabob,"I struggle with this too. Not to thread hijack, but I wonder if anyone has a good reference to associations??",1516479466.0
teffabob,"I came across this gem today, https://github.com/voormedia/rails-erd. Set it up and it worked great!",1516762127.0
TanyIshsar,"No, well, mostly no. Your ""Plan has many tasks"" doesnt' work because tasks don't belong to plans. ""Content belongs to a task"" is correct. ""Group has many content"" isn't correct because ""Content belongs to Group"" isn't present.

So Plan is effectively isolated.

You also need all the foreign keys in the DB to make this work.",1516428578.0
tongboy,"I recall at most needing 644 but it's been a while since I used wicked_pdf.

I didn't have to specify any special permissions in a default elastic beanstalk deployment for it to all work... are you doing something weird on generation?",1516424138.0
tomcopeland,"FWIW WickedPdf also has a `pdf_from_string` method so you might be able to avoid the filesystem write.  So in a controller action you could do something like:

    html = ERB.new(File.read(some_erb_path)).result_with_hash(some_hash)
    pdf = WickedPdf.new.pdf_from_string(html)
    send_data pdf, filename: ""myfile.pdf"", type: ""application/pdf"", disposition: ""inline""
",1516811384.0
pills4,I tried giving free mentoring years before. It was hard to find people.,1516399279.0
lazizxon,"This is awesome.
My friend and I have decided to make an app, but I'm the only one who can code. Besides, there's literally no RoR developers in my city (probably in the whole state too), so getting a mentor would be really helpful in our situation.

PS. in the link you provided there's a little error. in this part:

        Check out the **jobs page** for more info!

seems like developer forgot to update the link :)",1517735727.0
rodolphe85,This is great Emile. I‚Äôll be in touch!,1516407849.0
sdn,Whoa I'm super interested. How would this work?,1516415237.0
doughtz,"I‚Äôve built an app that is making me money, finishing a second app similar to the first. I would love a mentor(I‚Äôm self taught developer) but I‚Äôm not really sure what we would do. Do I just ask you questions? It‚Äôs hard to think how that would work. 

I feel like being able to reach out when I run into something difficult would be nice. I would love to go over my code...  but I would be nervous about showing my code for my apps. 

Anyways, I‚Äôm interested but not sure how this would work. Also, are you SF Bay based?",1516424629.0
RobertHopman,Emile! Perhaps let them also join in the School of Awesome slack :),1516566409.0
PM_ME_RAILS_R34,"Hey!

I'm trying to get a friend of mine up to speed on a project I'm working on. I'm struggling with balancing her learning rails with her being able to feel productive -- she feels bad about just reading a book about rails, but doesn't know enough to independently contribute. 

Any advice?

Thanks",1516566734.0
violarium,"I could use some consultation about my old open source project which is tracking my wife's ""unhappy"" days. Questions are mostly about architecture, database choices and so on.

But I do not even know - my English is not great and I afraid, my questions will be dumb.
",1516621056.0
hatemachine01,"Hi!

Thank you so much for doing this. I am a bootcamp + self-taught developer and I have no one around me who uses rails. I have a small project that I am working on. I am trying to follow the best practices and really push myself with this project. Can I share it with it for some general feedback? I would be extremely grateful.


Thank you! ",1516643100.0
teffabob,This is amazing! I will be in touch!,1516762347.0
csci-fi,"Wow this is great! I have been at my company (first job) for 2.5 years. We have about 20 WP websites and the rest of our sites are rails. The Rails sites are built by our contractors.  The only other developer and I work together with the contractors to maintain these sites and add features as needed. We take the tickets we are able too, but most are above our skill level. We are wanting to bring more of the rails development internal, but it has been a very slow learning process without a senior or mentor (it's not a development firm, it's a publishing house). I have looked into online bootcamps that offer rails courses with a mentor and they are nonexistent at the moment. We are looking into possibly hiring a consultant to bring us up to speed, but in the mean time it is just me and online resources (with a little help from the contractors at times). Ironically, Rails is the funnest time I've had coding since going through my CS degree to now, but yet the most challenging. I am about to start working on building some apps in my free time. It is nice to know your available for mentorship (even if I don't muster the courage to ask you to look through my repos). All that to say I commend you for your generosity in a time where rails material is a little lacking (lots of the good material (e.g., Ryan Bates) is outdated). Thanks!",1518580601.0
goldwinny,"As a follow up, if I navigate to the root page and make the locale change there before heading to an individual page it does work as expected. 

Here's a gist to my navbar code

https://gist.github.com/Tinusw/fb3fcf3c9e1088808b4d550466c46605",1516364764.0
ixtechau,"Could be a few things at work here, one of which being that you could be seeing an illusion of a PDF being generated on the fly, when it could actually just be a simple pre-made PDF file.

Having said that, there are easy ways of generating PDFs. Prawn gem for example: https://github.com/prawnpdf/prawn",1516358011.0
wes-k,"I just set this up myself!!

Take a look at [chromeless](https://github.com/graphcool/chromeless). With that I have a service running on AWS lambda (which has a permanent free tier of usage) that takes a URL, runs headless chrome, grabs a PDF, uploads to S3, and returns the path to the caller.

There‚Äôs also paid services out there but I liked the idea of free and owning the stack for security purposes.",1516367462.0
voipspear,I like [wicked_pdf](https://github.com/mileszs/wicked_pdf) for generating PDF's.  You can generate PDF's straight from HTML.  It also makes debugging the PDF's easy.,1516370317.0
toadkicker,"I would say don't worry about webpacker until you see the real benefits. If you're a startup it doesn't matter because your clients won't care what technology you use to compile the UI. They just want a working UI, and you need a functional and profiting startup.

I view webpacker as a great way to introduce and migrate to a two-tier system, where the goal is to unbind the UI from Ruby and let it become a stand alone JS project and let the Ruby backend migrate to api mode. You *can* use asset pipeline along with webpacker, but generally its one or the other.

Build your product, figure out what works and what needs more javascript thrown at it to improve the UX, otherwise I wouldn't worry about it and use what comes with the Rails framework by default. It will get you to market faster and validate the features your customers love.",1516348917.0
voipspear,"I've never had this happen to me, but one of my developers had the same thing happen.  Every page request (on his dev workstation) was taking several seconds because of the CSS.  Mine was super fast.

The big difference between us was that I was using Mac and he was on Windows.  He did some research and found other people who reported the same issue on Windows.

Are you using Windows?

We eventually solved this by having fewer `include`s in our application.css file.

Another solution might be to use Vagrant on your workstation (if the problem is Windows-only).",1516370217.0
DehydratingPretzel,"I recently went with a webpack only build/deploy and couldnt be happier with ditching the pipeline.

Here's the blog I followed:
http://samuelmullen.com/articles/replacing-the-rails-asset-pipeline-with-webpack-and-yarn/",1516656113.0
ixtechau,"I'm not entirely sure why compiling takes a long time for you, my CSS compiles near-instantly regardless of project size. I use a main.sass file that @imports all other files.",1516353989.0
in0pinatus,"Using [sassc-rails](https://github.com/sass/sassc-rails) with a big project shaved a minute off my build times.
",1516422884.0
obviousoctopus,I wouldn‚Äôt care about webpacker unless building an SPA which requires complex modular JavaScript. ,1516688368.0
ixtechau,"To be honest I would just have an attribute on the user. Simplified:

    if current_user.plan == ""free""
      charge = 0
    elsif current_user.plan == ""medium""
      charge = 500
    elsif current_user.plan == ""high""
      charge = 1000
    end

    Stripe.initiate_payment(charge)

...and so on. Vouchers would be handled differently, depending on how you want to structure them.",1516337477.0
xipheon,"This doesn't seem like a case where deep nesting is useful.  Each season can belong to only one league, so the league in the url is redundant.  Same with games.  When you link to a game you know exactly which season and league through the relationship, you don't need to specify them.

You'd only need to nest the url if seasons or games can belong to many leagues or seasons, where you need the url to tell you which.

> I don't want to be able to access seasons through a shallow route (i.e. /seasons/:season_id), but, rather, I want to it to be directly tied to a ""parent"" league (ditto for Game). 

If you setup the relationship right it'll already be tied to a parent league.  You don't gain anything by forcing yourself to add the redundancy into all your links.  It's actually creating more work for yourself with no gain.",1516335228.0
phekno,Thanks for all your help!  I think I have a better handle on it.,1516371537.0
jaxn,"Devise is one of the gems I am planning to remove from our system.  It was easy to implement when I first started building the company 4 years ago, but it hasn‚Äôt aged well and it isn‚Äôt exactly lightweight.

Maybe I just haven‚Äôt spent enough time digging into specifics, but it doesn‚Äôt play nice with tokens and users being logged into multiple devices / locations.",1516337344.0
riffraff98,"Devise combined with OmniAuth is a fantastic combination that will save you days of work. You can literally just have a ""log on with Facebook/Google/twitch/steam"" button and be done with user authentication, password resets, etc. In less than an hour.

I would also consider adding an authorization gem like pundit into the mix as well.",1516336574.0
ruby-solve,"I'm all for trying to promote and improve on new gems, especially if they give a simpler api for accomplishing the same thing as another.

However, authentication is such a pivotal part of any app, and if you're storing any sort of sensitive information for a user, I'd want to go with the more tested and supported option.  This is purely from the position of minimizing legal exposure should something happen and you get hacked.",1516331958.0
GroceryBagHead,"I'm a long-time fan of Sorcery and hater of Devise. 

Device is fastest to get working and does quite a lot out of the box.

Sorcery requires you to set up controllers/views and other junk that you need to cobble yourself from their Wiki. It takes good portion of the day if you know what you're doing.

Device will make you want to kill yourself the moment you need to change default functionalities. Suddenly you're monkey-patching and overriding things while digging through Device source-code trying to understand how it works.

It's easy to change things like registration flow with Sorcery, because you wrote it yourself to begin with.

Nothing's perfect.",1516585528.0
mokolabs,"Sorcery is an awesome alternative to Devise.

Devise definitely works well,  but it can feel a little bloated and heavy handed at times. So using Sorcery is a good option if you want to customize how your authentication actions work by tweaking controllers, routes, etc.

Both gems are definitely secure enough for use in production apps. You shouldn‚Äôt think that Sorcery is unsafe to use.

Ultimately, tho, I‚Äôd recommend using Devise first. And, then, once you get a lot of experience using Devise, you may realize why Sorcery is also useful.",1516485479.0
xxxhipsterxx,"If you're building an api, run away from devise and all the hacks using it for token authentication.

The devise gem was built for the world of sessions and web browser.  The hacks to get it to work with token authentication for API's are a hacky mess (e.g. devise_token_auth).

If you're going to need to extend your authentication settings in meaningful ways you will be fighting against the gem constantly.
",1518161277.0
Quantumbinman,Is there any reason Devise isn't just included with Rails at this point?,1516333431.0
DehydratingPretzel,"Create a class in lib that encapsulates the api and use that class in your controllers.

",1516309619.0
aust1nz,"Application routing really needs a programming language in order to be interpreted and send the user to the appropriate content.

Traditionally, this was done server-side, like you saw in Rails.

If you're building a static site, most of the modern Javascript frameworks (Angular, React, Vue) also have routing plugins. You could check that out.",1516309672.0
442401,"Do you want to see the output of `rails routes` in the browser?

With `rails server` running in the development environment, visit http://localhost:3000/rails/info/routes

reference: [http://guides.rubyonrails.org/](http://guides.rubyonrails.org/routing.html#inspecting-and-testing-routes)

",1516325468.0
dom_eden,Can't you just use an after_create callback in the Appointment model to create your appointment skills? ,1516311242.0
kellenkyros,"Consider MySQL JSON data type  / Postgres JSONB type column for storing skills, so that you can avoid adding separate columns for each skills. ",1516316841.0
aust1nz,"If you're always adding exactly 50 skills to an appointment, you might consider just adding 50 appropriately named columns to the Appointment model.

Sure, it's a lot of data for a single table, but you go from a relatively complicated data workflow to a really straightforward one.

Anyhow, while tables in tutorials always seem to have just, like, four or five columns, real-life databases often have tables with dozens or more columns.

Edit: I'm seeing from your earlier post that you were concerned about long names. That's ok -- for your table itself, you would probably want to use some short-hand, but you could spell it out in the view.

For example, let's pretend your skills are weight-room exercises.

    rails g migration add_skills_to_appointments bench_press:string pull_up:string push_up:string #etc

On your view, you can elaborate within the form_for.

    <%= form_for @appointment do |f| %>
      <%= f.label :bench_press, 'In the bench press, you lie on your back and push a weighted barbell above your chest. Please estimate your proficiency.' %>
      <%= f.text_field :bench_press %>
    
      <%# etc %>
    <% end %>",1516310220.0
mostawesomejd,"Pundit and rolify come to mind as a solution. On mobile, so I can‚Äôt go into much detail. But if you check some articles on the combination, you should find something.",1516297228.0
ixtechau,"Why wouldn't you just do this in user.rb:

    def can_edit_board(board_id)
      self.permissions.where(board_id: board_id, role: 'admin').any?
    end

Now you call it by going

    - if current_user.can_edit_board(1)
      = render 'board'",1516304212.0
JustinCampbell,"I highly recommend reading through the Pundit docs. One of its strengths is defining scopes on policies, such that a user can only see what they have read access to. It vastly simplifies controller and model code.",1516314013.0
ixtechau,"Whoah...never use the same DB on staging and production. If you need to run staging with real data, clone production DB to staging and then do your testing. Sharing DB is a short cut to developer hell.",1516303771.0
bink821,Its not a good idea to share the same DB. If you have to run a migration on stage (and you will have to) its going to break prod.,1516283759.0
amadman114,"Do all of the development on your local machine. Run the server locally so you can fiddle with it. All requests should be to your local server.

Staging should be hosted remotely, and you should push here when you're confident something works. Use this server just to make sure that what you're about to push live works the way that is was designed to.
All of these servers should be completely independent of each other ",1516298739.0
amplex1337,"I don't see why you would not rather have scripted control of copying data between production, Dev and test environments?  You want real working data in at least your test if not Dev environment, so migrating data between these could be automated easily right, depending on your requirements.  Just think out exactly which data you need where and write routines to query and insert this data?  ",1516304178.0
JustinCampbell,"Heroku Pipelines (https://devcenter.heroku.com/articles/pipelines) allow you to create up to 3 environments: production, staging, and optionally development). You can also set it up so that pull-requests create a new app, which is based on environment variables from staging. So for a few projects, the pipeline looks like this:

    Review apps   Staging      Production
    myapp-pr-1    myapp    ->  myapp-production
    myapp-pr-2

Staging is configured to automatically deploy from my repo's master branch on GitHub. Promoting to production takes the built staging slug and deploys it immediately to production, without rebuilding. Promotions can be done from the Heroku web UI, CLI, or Slack/other chat systems. I typically use Terraform to ensure production and staging have the same environment configured.

You can lock apps in Heroku so that only admins can access them. This would allow contractors/junior developers to have full access to PR apps and staging, but without access to production.

You should not use the same database between production and staging, BUT you can frequently copy production to staging in order to test code before performing a promotion.",1516304719.0
jaxn,"Good question. I write non-breaking migrations.

If there was some reason I MUST rename a column, then we could skip staging for that deploy. Other than that, most migrations tend to be additive.

Edited to add: and this is a pretty big app with very active development so there have been a lot of migrations. Maybe hundreds.",1516380249.0
thunderkey,"Question 1:

I prefer to move such methods into services. It's not a rails convention, but I would create a class in app/services/availability_service.rb
I wouldn't put HTTP requests into models or helpers. Alternatively you could move it to the lib folder.

Question 2:

For N+1 queries see https://github.com/flyerhzm/bullet

Indexes are only used to find records. So with this index you can improve Link.where(link_url: 'some url'). What you want is to index the foreign key columns.",1516280196.0
basictheory,"If you are trying to connect from your localhost, it won't work since Elasticache is generally only addressable from within AWS. If it's failing in your production environment in AWS, investigate your vpc/security group policies. ",1516256386.0
joshrose27,"I ran into this issue as well and discovered the issue is present in rails 5.2 beta 2 but fixed on master (https://github.com/rails/rails/issues/31409)

If you can manage to run on the latest edge rails you can update your gem file and replace

gem 'rails', '~> 5.2.0.beta2' 

with

gem 'rails', git: 'https://github.com/rails/rails.git'
gem 'arel', git: 'https://github.com/rails/arel.git'

and update your bundle.

Alternatively you can just copy your credentials with rails credentials:show before you edit, and just append any changes. Hope this helps!",1516244703.0
obviousoctopus,"Thank you so much! I had a nagging suspicion but was doubting they‚Äôd ship a beta with such fundamental flaw. 

Did you have to update any other gems from the rails family or is the main rails gem enough?",1516245440.0
obviousoctopus,"Made the change to the gemfile and updated the bundle (bundle update) but nothing changed. gemfile.lock and rails -v still show 5.2.beta-2

Even tried a new gemset with rvm but nothing changes. Any ideas?

Double checked and the rails 5.2.beta-2 gen is commented out",1516263471.0
joshrose27,"My gemfile.lock also indicates beta 2 on most dependencies, revision is f8afb5168aed810a061d081d3941c9dc9bd633c3. 
I don't know that the version numbers get bumped when you are on master. I would test the credentials and see if you still see the issue. (Make sure to copy it with rails credentials:show first)",1516307278.0
tongboy,Give it a few months and leapfrog to 18.x LTS since that's due anytime. If you aren't having problems on 14 you won't get anything 'worth it' in 16 - it's just newer stuff,1516245105.0
exige1981,"Per [this](https://www.ubuntu.com/info/release-end-of-life), 14.04 LTS end of life is April 2019 (after which you there won't be any further security updates and so forth.) so It may make sense to upgrade some time prior to that.",1516244792.0
lostapathy,"See the support matrix at https://wiki.ubuntu.com/Releases

Technically, 14.04.2 is already unsupported, you need to at least get on 14.04.5.

As a practical matter, all 14.04 support ends next April.  That seems like a ways off, but it seems like that time goes fast for people who aren't used to upgrading.",1516244858.0
fullspectrumlife,Well if you want to be secure i'd recommend it,1516277902.0
jordanaustino,"Pundit will work just fine for this.

Presumably your user belongs to either one or many teams/groups. So in pundit just follow check the relationship on the current user to see if that user can access.",1516227004.0
anton_davydov,"I think pundit will be ok for this.

Also, You can check my simple auth gem with roles and abilities. I created it for not only rails frameworks (hanami, dry-web, etc). It can be helpful in your case too:
https://github.com/davydovanton/kan",1516228693.0
Serializedrequests,"This exact use case is why I find Pundit to be a superior choice! It's just Ruby objects, but you may need to write some custom code. It's such a simple gem, more of syntactic sugar around a design pattern, so you could implement Pundit yourself trivially.",1516317474.0
pm_me_ur__labia,It depends on what you want it to do,1516218818.0
mysteryihs,"I learned Rails and Ruby through the Odin Project so I can personally attest to this. Yes, the Odin Project is a good way to get into rails. Yes, it's technically possible to setup a site with no knowledge in a month and you can do it even faster by using scaffold commands. 

The problem with doing it quickly is, are you actually learning how to use rails? or are you just running a bunch of commands someone else gave you to set up an app without knowing anything about what you just did.

It's possible to really learn how to use Rails in a month, but it would take some dedication. I'd recommend taking a bit more time and running through the Odin Project course. Learning to code isn't a sprint, it's more of a marathon.

Last bit, make sure you know your Ruby well, and what part of code is Rails and what part of code is Ruby.",1516239279.0
exige1981,"As far as quickly building a simple app, this is the kind of thing that rails really excels at. 

Rails makes it easy to get something up and running quickly.  How much time it will take depends on the complexity of your project and how familiar you are with rails. 
  ",1516228060.0
GroceryBagHead,"My immediate reaction was ""wtf is `has_scope`"". Then after finding it on Github I don't think I like it. Anywho... Here's what I'd do:

- Create a `CallSearch` class with method `search` that takes params coming from the controller.
- Setup validation rules for params keys that are coming in
- Return something, or throw an exception if params have something invalid
- Otherwise apply scopes and return scoped Call


Have something like this in your controller


    def index
      respond_with CallSearch.search(params)
    rescue CallSearch::ErrorOfSomeSort => e
      respond_with e
    end

",1516215484.0
thisrealorthisfntasy,You might like http://dry-rb.org/gems/dry-types/ or http://dry-rb.org/gems/dry-validation/,1516221229.0
DehydratingPretzel,"Create a class called like.... CallsSearchParamatersValidator that takes as input the params from the controller and write the logic to verify that everything is correct.

Just because rails gives us Concepts like Models views, controllers, serializers, and the like, does not mean we cant invent our own classes to accomplish things that arent 'native' to rails.

Object Oriented code is Object Oriented code.",1516215430.0
Axxiss,"You should use bundler to manage your dependencies instead of working directly with the gems on the current system. This way you can have multiple projects with different versions of the same gem.

http://bundler.io/",1516207836.0
kobaltzz,"Even though the environment is used for dev purposes, it is still considered production when it is deployed to Beanstalk. This is not uncommon for QA/Preprod environments to be treated this way.",1516198345.0
toskies,"In the AWS control panel, go to Configuration > Software Configuration for your dev environment.

Under Environment Properties, change RACK_ENV from production to development. Restart your environment.",1516201346.0
blazingkin,"1. Swap Sitters
2. This past weekend I participated in a hackathon. This was my team's entry. The idea is that low income parents can exchange childcare services, to bring down the cost of childcare.
3. Rails, Jenkins for CI/CD, tried to containerize the app but couldn't get it working, Facebook for oauth
4. [Swap Sitters slo](http://swapsitterslo.com) (you can't log in because of how Facebook  dev oauth works)
5. https://github.com/blazingkin/Polyhacks2018
6. ~6mo of Rails experience. ~10 years of dev experience.
7. We got 3rd place and best tech at the hackathon :). What do y'all think of the idea? Where can it be expanded? Also, what's the best way to do responsive text styling so that text is big on mobile devices and normal sized on desktops?",1516212412.0
patientdev,"### ActiveJobChannel
Uses ActionCable to alert users of ActiveJob status

https://github.com/shanecav84/active_job_channel
",1516215864.0
jkostolansky,"1. LocaleData
2. A simple translation management platform, which can help you collaboratively work on your YAML translation files even with your non-technical teammates. Upload your existing project translations, invite your translators, export the result.
3. Rails, PostgreSQL, Turbolinks, Sidekiq
4. [www.localedata.com](https://www.localedata.com/)
5. Private
6. Graduated software engineer, ~5 year of Rails dev, ~9 years of dev
7. Looking for feedback from the community!",1516296864.0
-Birdy-,"Unity is a Team Management platform designed for college group work. Once you log in you can add classes, assignments, tasks, and teammates to create a portal with all relevant information for your group project.

https://unityapp.herokuapp.com/

https://github.com/Hummingbirdy/unityApp/tree/master

I have ~2 years as a C# .net developer but only a few month with ruby on rails.

This was a school assignment, now that the semester is over I want to look at expanding this project for resume and training purposes by cleaning up the UI and adding new functionality. Would love any feed back about parts of it that really stand out in a bad way that need to be fixed first. ",1516206107.0
toadkicker,"Hello! With the release of Bootstrap 4 I've rewritten my ruby implementation of the popular UI kit. It includes 75 CSS animations, custom UI components like date pickers, asides, view helpers, and more. I'd love to get people to play with it and report any bugs they find. Check out [railsstrap](https://github.com/toadkicker/railsstrap)!

https://github.com/toadkicker/railsstrap",1516976362.0
dpap31,"1. HackSouce
2. A web application that aggregates technical learning resources like videos and books from across the web. Resources are searchable and curated so the content is more discoverable.
3. Application stack: API ‚Äì Rails + JSON API resources, DB ‚Äì¬†PostgreSQL, Frontend ‚Äì¬†EmberJS, Search ‚Äì ElasticSearch + SearchKick
4. https://hacksource.xyz/
5. Private
6. ~3 years of Ruby Experience and ~1 year of Ember Experience
7. Would love to hear any feature requests, missing rails learning resources and of course any other general feedback!",1518291029.0
JimmyPopp,.,1519186530.0
kobaltzz,Could a CNAME DNS entry not work for what you're wanting? This would allow someone to take their www.example.com domain and point it to something like example.yourrailsapp.com.,1516139711.0
contravene1,Check out DNSimple: https://dnsimple.com,1516169820.0
zeromint,"We use Route53 API for this. Every domain name is basically just a CNAME over customer's custom domain like <username>.myapp.com.
You can also do it with Cloudflare but the limit on free tier there is quite low so we moved over to Route53.",1518502379.0
kobaltzz,Here is a relevant screencast I made on working with subdomains [https://www.driftingruby.com/episodes/working-with-subdomains](https://www.driftingruby.com/episodes/working-with-subdomains#show_notes),1516139811.0
lpmusix,All bets are realistically off the second you allow people to upload their own code.,1516129569.0
thunderkey,"Well if you just allow static files (HTML, CSS and JS) it's possible. But if they can write some server site code it's pretty much impossible. With some intelligent code analysis you could prevent some major issues. But if you want to prevent everything you have a similar problem like the ""halting problem"" which can't be done.",1516132804.0
zeromint,Static analysis - using already known crypto mining domain names.,1518502473.0
hartator,Block domains using same lists as uBlock origin. They are publicly available and includes miners. ,1516125646.0
GroceryBagHead,"It's just a classical tree pattern: 

    class Car
      belongs_to :parent, class ""Car""
    end

https://github.com/amerine/acts_as_tree is what you want.

You use one controller to manage all of that of course, just need to render index as a nested tree:

    # controller
    @cars = Car.where(parent_id: nil)

    # index.html
    - @cars.each do |car|
      = car.name
      - car.children.each do |sub_car|
        = sub_car.name

After re-reading your post. I think you want simple Category > Brand > Model setup? Then you need to have CRUDs for each of them.",1516090116.0
DeathTacos,"Yup. Save as UTC and convert based on the user‚Äôs specified time zone. 

```
<%= time.in_time_zone(current_user.time_zone) %>
```

The thoughtbot guys have a good [overview](https://robots.thoughtbot.com/its-about-time-zones) ",1516074749.0
mike123442,"I‚Äôm a big fan of local_time from Basecamp. Displays the time in UTC and then have the browser display to users timezone through JavaScript. 

https://github.com/basecamp/local_time
",1516086984.0
tquill,When you have production data you won't be able to reset the database each time you want to make a change to a table.,1516053334.0
hmaddocks,"Everyone feels this way even when you‚Äôre working with a production system. You realize the migration you made a couple of days ago isn‚Äôt quite right and the temptation is to roll back, change it and re-apply it. Don‚Äôt do that. Suck it up and make a new migration. It‚Äôs really easy to screw things up when editing old migrations. ",1516064435.0
SagaciousCrumb,"There are only rare situations where I would recommend combining migrations:

1) Very early in a project if you find yourself making lots of little changes. 

2) You're also not working on the code with anyone

As soon as you're sharing code with other devs the migrations are the only way to make sure everyone has the same database structure. The same applies to when you start deploying to a production/test server (like Heroku). Also, by a few weeks into a project you usually find you have really helpful test data in your DB, and doing a db:reset would wipe it out. So once you hit that point, it's better to get used to making new migrations for every little change. Getting into the habit will help in the long run. ",1516054764.0
D1ceWard,"Actually there is a gem called 'squasher' doing it...
https://github.com/jalkoby/squasher
",1516105005.0
mrfrosti,"The net change of all DDLs inside migrations is the db/schema.rb file. Combining migrations into a single file would be the same product as running ""rake db:schema:load""

Migrations are fragile. Especially if you are doing things with data inside of them. Because of this it's more reliable for new developers to run db:schema:load than db:migrate.

Why wouldn't you want to change a migration file? It can be easy to get into ""migration hell"" where you break the down method while adding the up method. This is magnified if you are using a non transactional DDL database (MySQL) that doesn't roll back all changes on a problem.

Think of your migrations as commits in a version control system. Just add new ones but don't change migrations/commits that have already been shared with other developers.",1516061350.0
sparky256,"Clipped from a working project which does exactly as you describe (albeit rails 3.2 I think, and Likert scale 7 wide rather 5. Defs is an array of descriptor strings for each point on the Likert scale. Inside form_for(@person). Count is the question currently being output):



				<td class=""radioicons"">
					<% 1.upto(7) do |radio_num| %>
						<%= radio_button(""person"", ""q"" + count.to_s, radio_num, :title => defs[radio_num-1] ) %>
					<% end %>
				</td>

Person is the object here with a field (q1-q30) for each question in the survey",1516058586.0
redronin7,"What are the params being passed into the controller from your form?

Are you using the rails helper for radio buttons? If so, should be pretty straightforward. 

Maybe post code for your form, as well as the controller that handles the form submission.

",1516051523.0
losangelesvideoguy,"You can't use `has_many` for both a direct relationship and a relationship through another model for the same property name. You would have to do something like this:

    class User < ApplicationRecord
      has_many :scripts
      has_many :commits
      has_many :commit_scripts, through: :commits, source: :script
    end

That way `scripts` would refer to all the scripts that are directly associated with that user, and `commit_scripts` would refer to the scripts they have made commits to.",1516008329.0
tongboy,"    Room
    has_many :room_prices
    
    RoomPrice
    belongs to :room
    enum: type_of_stay: {:day, :week, :hour}
    active boolean",1515991782.0
deedubaya,    @todo = Todo.new(due: DateTime.current),1515984552.0
in0pinatus,"In a previous life I'd have written a custom preloader via a scope extension for this, but that means a) grubbing around inside the guts of ActiveRecord, and b) leads to `Category#products` returning different data in different contexts. We really shouldn't leave such unexploded bombs lying around.

More conventionally, you could fake a left outer join in memory using a hash e.g. via

    grouped_products = Product.where(user: current_user).group_by(&:category_id)
    Category.all.map do |category|
      category.as_json.merge!(""products"" => grouped_products.fetch(category.id, []).as_json)
    end

There's much to dislike about this, though. It's ignoring the framework and doing your own loading and joining, outside of domain models, in an imperative style that's riddled with code smells.

With Rails 5 there is a more framework-based way, using with the *[Convert scopes to associations](https://www.justinweiss.com/articles/how-to-preload-rails-scopes/)* manoeuvre that I picked up from Justin Weiss.

First, create a scope on Product for products matching the current user:

    class Product
      scope :current_user, -> { where(user: Current.user) }
    end

Second, create an extra association on Category that's narrowed by this scope.

    class Category
      has_many :products_current_user, -> { current_user }, class_name: ""Product""
    end

Now you can simply preload that association and use it:

    Category.includes(:products_current_user).as_json(include: :products_current_user)

NB: if this is for an API where the JSON consumer expects a ""products"" field, then I'd write a jbuilder view that serializes to spec, in place of as_json. Structurally speaking that is better than pushing a client's expectation of field names down into our domain model.

However, keen-eyed readers will have already sensed a rat. Where is `Current.user` coming from? The answer is that Rails 5 allows us to make request-specific data available to models, as in e.g. https://stackoverflow.com/a/2513456/2118053, so if you haven't already, this solution also requires:

    module Current
      thread_mattr_accessor :user
      def self.reset
        self.user = nil
      end
    end

    class ApplicationController < ActionController::Base
      around_action :with_current_user
      #..
      private
        def with_current_user
          Current.user = current_user
          yield
        ensure
          Current.reset
        end             
    end

In the upcoming Rails 5.2 this approach will gain even more framework support via the introduction of [ActiveSupport::CurrentAttributes](http://edgeapi.rubyonrails.org/classes/ActiveSupport/CurrentAttributes.html). To some folks [the pattern is controversial](http://ryanbigg.com/2017/06/current-considered-harmful), since it sets a thread-specific global value. Nonetheless this is supported since Rails 5 introduced `thread_mattr_accessor` and is an [intended use](https://twitter.com/dhh/status/564536701263962112) thereof.",1515956691.0
gaijin1973,"Is there a good reason why this can't be the combination of two calls? Seems like the simplest approach would be adding together the Categories for the current user's Products, and all the Categories that have no Products, both of which can be scopes as /u/inOpinatus describes.",1515985582.0
xipheon,"result needs to start somewhere, and since it's being multiplied every loop, starting by multiplying by 1 means the first loop sets result to just n.

What the loop does is `n*(n-1)*(n-2)*...*1`.  It starts with n, then counts down, multiplying it.  It may look odd because it's doing it one step at a time, but the end result is, for example n=5, just `5*4*3*2*1`.

When you're trying to figure out what a loop is doing just run it through manually on paper from start to finish with different inputs.  Sometimes you need to step back and look at the sum of every loop together to see what it's doing.",1515889331.0
exige1981,"the `result=1` is just setting the value so that you get the correct answer the first time thru the loop. 

eg. for 3!  
the first time thru the while loop where N = 3. result = 1 X 3",1515889119.0
bacchussr,"Your approach would technically work for smaller values of n, but would cause performance problems as n gets incredibly large. Why build an array when you don't need to?",1515938263.0
das3ingg,"This sounds like a good use for a helper spec. I'm on mobile but Google `it_behaves_like` Rails - I tend to write those tests for my apps and include them at the top of all of my request specs.

```
it_behaves_like ""admin_endpoint"", ""GET"", ""/admin/restaurants""
```",1515885064.0
cmd-t,"You should probably test it at each endpoint, not because you want to test that it is working, but you want to test that the authentication is implemented for every action. If for some reason you refactor your endpoints or there is a bug that clears a before action from a certain controller, then you want to notice something is amiss. ",1515921222.0
oowowaee,"You could easily write the tests once, and then run them twice with the two different users and the expected http response as arguments.",1515882319.0
tongboy,"IMO it's a balance between spec bloat and risk.

If the admin section is insanely powerful I'd add a check at each one.

But in general I'd test it once and assume the rest are going to fall in line",1515879637.0
sixkorn,Shop model has hasmany not has_many,1515848312.0
kornbred,"First off, you don't need to have an `accepts_nested_attributes_for` for the `through` model on a `has_many, :though` relationship.  You will only want to use that on `categories` relationship if you intend on creating a new category from a `shop` create or update.

So what you want to do is pass an array of `category_ids` from the form.  First, update you `shop_params` method in the controller by removing `shop_categories_attributes: [ :shop_id, :category_id]` and replacing it with `category_ids: []`.

Next update your form to make the category select a multi-select (you will not need the `form_for`):
    
    <%= f.label :categories %><br />
    <%= f.collection_select(:category_ids, Category.all, :id, :category_name, include_blank: true, multiple: true) %>

EDIT:

Another issue I see is the relationship declarations in your join model is wrong:

    belongs_to :subcategory

ActiveRecord will attempt to infer the related class via the passed symbol, unless the `class_name` option is passed.  In this case, it is attempting to find a `Subcategory` model in your load path.  I fairly certain you want:
    
    belongs_to :category

Also, ActiveRecord will attempt to infer the table name from the class name, unless the `table_name` option is passed to the class. You have `class ShopSubcategory` but your table name is `shop_categories`.",1515861271.0
ciesorius,add :shop_category attribute to shop_params method?,1515850678.0
ClemDev,"There shouldn't be a `Shop_Category`, but rather a `ShopCategory`. Also you seem to be switching between category and subcategory. Just use category.",1515851132.0
,[deleted],1515811775.0
in0pinatus,"Cumulative execution of multiple migrations is well known to be hazardous to your database structure. The Rails migration guide says ""*schema dumps are the authoritative source for your database schema*"" and it's for good reason: each migration is written with a specific revision of code & database schema in mind.

I've seen (and written) all too many migrations like this, adding a new column and populating it with calculated values:

    class AddPriceToItem < ActiveRecord::Migration[5.1]
      def up
        add_column :items, :price, :integer
        Item.reset_column_information
        Item.all.each { |item| item.update(price: item.category.base_price) }
        change_column_null :items, :price, false
      end
      def down
        remove_column :items, :price
      end
    end

This works when initially written, but then a week later someone refactors the Category class to no longer have a `base_price` method because only Item was using it.  All the tests pass because tests don't cover migrations. Now the migration above is still in the codebase‚Äîbut it throws a `NoMethodError` for the next device that checks out master and tries to run it. Boom.

Quite possibly boom in production, because you were doing integration deployment to test & showcase environments but not to prod. It's another reason to do continuous delivery all the way to production with Rails.

As a result, my deploy sequence requires migrations to only run in production against the git reference for which they were checked in, unless overridden by specific annotation from a tech lead. We also have a coding standard such that changes to data in a migration are only by SQL statements and not with invocation of application code. But these are defensive measures that are still subject to hilarious edge cases (such as revised gem dependency that changed the semantics or schema of something). So we still do periodic diffs of structure dumps, just to be sure.",1515823555.0
fullspectrumlife,Isnt its just another version of rails?,1515763934.0
chulkilee,"> If these 2 migrations occur in the same rails db:migrate then the add_index migration also overwrites the index created by the foreign_key migration. However in different migrations, it just adds another index.

If it‚Äôs true, then it‚Äôs a bug in Rails. add_index should not be ‚Äúmerged‚Äù in any context. Better to file a bug with full rails project from scratch which reproduces it.
",1515844389.0
Serializedrequests,"I often follow this same practice. Databases sometimes get out of sync, and you need to inspect them before you make changes.

This is also why I never call into my business code in migrations. If I need an ActiveRecord object, I define one in the migration itself and never use the app class. I feel this should be a standard recommendation in the guide.",1516031895.0
JustinCampbell,"Interesting, but this would be more enlightening if you could reproduce it and explain what was different about the environments.",1515763493.0
headykain,Update the version then run your tests and see what breaks.,1515759905.0
m5o_,"Use the diff from railsdiff as a reference:

http://railsdiff.org/5.1.4/5.2.0.beta2",1515939151.0
jrochkind,"It is odd that the ruby guides doesn't contain 5.2 yet, even in ""edge"". http://edgeguides.rubyonrails.org/upgrading_ruby_on_rails.html

You might need to wait for 5.2 final release. ",1515777890.0
headykain,They will probably publish that when the first stable version is released.,1515772290.0
sixkorn,"Create a new rails 5.2 test app. Create a scaffolding . Compare the two environments. File by file. 
",1515796687.0
vaibhavgeek,"This is what I did,

First I deleted the Gemfile Version mentioned Gemfile and then I ran, bundle update rails. This would update the rails version. You can lock the gemfile to that specific version again if you wish to.

\<br/\> 

This might break some of your code but you can debug it easily if you are making switch from rails 5.1 to 5.2. In my case it was the codebase required no changes. ",1528146872.0
black_rifles__matter,"I would go with LibMatcher. (Every other languages uses ""library"". For some reason Ruby is cute with gems)",1515734642.0
ryanlue,"+300; this is an ingenious idea.

> I don't know what Gems would be called in other languages

‚ÄúGem‚Äù is just the Ruby word for ‚Äúlibrary‚Äù. 

> Any advice on what I could name this that would help explain its purpose

I would advise that you avoid names that are too descriptive or straightforward, simply as a general branding practice (_e.g.,_ it‚Äôs ‚ÄúChrome‚Äù not ‚ÄúGoogle WebBrowser‚Äù).

The software industry in general favors names that are memorable but not too explanatory; one reason this is important (in any industry) is that it allows competitors to enter the product space without having to compete over who gets the genericized name.

In the Ruby community, it‚Äôs common to name your project something a little cheeky, obscure, off-kilter, or otherwise clever. [It‚Äôs a practice that evokes strong opinions](http://unethicalblogger.com/2011/11/13/ten-poorly-chosen-gem-names.html), but I like it, personally.

For instance, here's the top comment from the article I linked above:

> ...Hoe as a helper for Rake makes as much sense as Bison as a replacement for YACC, or [woman](http://www.gnu.org/software/emacs/manual/html_node/woman) as improved man.
>
> Vegas stages Sinatra. I love the idea. It might not be very descriptive if you don't already know what it does, but when you do it is so obvious, and you are not likely to forget it.

Of course, there are (as always) exceptions to this rule, and it generally applies less to web applications (for use by the general population) than gems (for use by programmers). Bundler comes to mind. GitHub also. FactoryBot is another, though it began as FactoryGirl, which was wordplay.

I'm feeling a bit more analytical than creative this morning, so I'll just leave it at that. ",1515729854.0
TheFaithfulStone,"GemMiner

Aglarond (the Glittering Caves from Lord of the Rings)

Corundum (the mineral name of Ruby)

Mogok (the main source of rubies in the world) *I like this one

That's all I got for now.
",1515746329.0
midasgoldentouch,"I like the idea of StackExplorer, although this is more about libraries than a stack...maybe a pun on librarians could work.",1515740754.0
RobertHopman,"idea: useful

name: libraryfinder / libfinder
",1515777879.0
sshaw_,"* WhoUses/WhoUsedWhat/WhosUsing/WhoUsed (oooh whoused.it üòú)
* LibUsage
* UsedIt
* [Dewey](https://en.wikipedia.org/wiki/Dewey_Decimal_Classification) or DeweyDecimal (Likely US only, really)

You may want to checkout these sites:

* https://builtwith.com/
* https://stackshare.io/",1515862397.0
in0pinatus,"snout
",1515723711.0
exige1981,"When starting out, I prefer to literally draw out relationships and flows.  This can be annoying and seemingly unnecessary, but it will help clarify the particular issues of your app and this type of pre-planning will save you time in the long run.

1.) Literally draw out your models and relationships between models (whiteboard etc.).  This helps you construct your models in code without having to do a ton of rework later to get what you need them to do.

2.) From there you can draw a basic flowchart of your app flow which will help you understand the business and controller logic.

After that, I prefer to build out code in the order of Model, Controller, View. 

Getting comfortable with testing and TDD is one thing that will help you a ton.  It's one of those things that can be difficult at first and you may be tempted to steer away from it, but it's a skill that will help immensely as your code grows in complexity.

From there, start building your models and and wiring things up with controllers. ",1515695078.0
bralyan,"There are a ton of development methodologies out there. I think that's what you're looking for?

https://technologyconversations.com/2014/09/30/test-driven-development-tdd/

https://en.wikipedia.org/wiki/Agile_software_development",1515685203.0
kobaltzz,"Not a Gem per-say, but [Stimulus](https://github.com/stimulusjs/stimulus) is a micro javascript framework built by the people at Basecamp. It is very powerful in combination with Turbolinks and is best used for manipulating existing elements on the page (after rendered by Turbolinks).
",1515697191.0
rylanb,"[Pretender](https://github.com/ankane/pretender) for logging in as another user on your system.

[Dossier](https://github.com/tma1/dossier) - Ruby-based report generation/presentation Rails engine.

[After_party](https://github.com/theSteveMitchell/after_party)

Learned about all of these at a Ruby meetup last night. ",1515704718.0
brainbag,"We started using [data-migrate](https://github.com/ilyakatz/data-migrate) recently and love it. We don't have to put data migrations in stupid rake tasks or in the database migration, so it doesn't cause any problems that we've found yet. Staging and deployment is so much easier/more reliable.",1515720174.0
darkclark,I‚Äôm the spirit of fast_blank there is [fast_underscore](https://github.com/kddeisz/fast_underscore) - a library that speeds up `String#underscore`,1515721231.0
excid3,"One huge downside of ActiveAdmin is that the filters will be auto generated for associations. This means if you have a Post with an associated User, the Posts search form is going to load up all the users in the database into a select box which is incredibly slow. That's often the major performance problem I've had with AA. The solution is to override the filters for each resource. I usually replace them with a user_id field so you can still search easily by the user by typing in the user ID instead.",1515638824.0
MoooPower,"Unless something else is going on, that query should take something like 3-5ms to execute, and a very minimal amount of CPU to process into the ORM.

Look at your complete log of what transpired to execute the request on your local dev, that might help narrow it down.",1515637012.0
bananaboydean,"Why not have a denormalized table that it joins to?

staff_skills
----
staff_id,skill_id,value

staff
---
other_attrs

skills
---
name",1515634295.0
sshaw_,"May be overkill and not sure if there's a Rails plugin for this but you should at least be familiar with the [Entity‚Äìattribute‚Äìvalue model
](https://en.wikipedia.org/wiki/Entity%E2%80%93attribute%E2%80%93value_model)",1515862583.0
,"Are ALL 50 skills on ALL evaluations or do different evaluations evaluate different skills?

It's a simple matter of setting up as many columns as you want, and even if it's in all, and it only has 3 options you can set the each column up as an enum to make it easier to work with",1515633843.0
geraldbauer,"Hello, trying to collect all ruby and ruby on rails conferences (and camps) around the world in 2018. What's upcoming in 2018? See the events page at planet ruby. Anything missing? Updates welcome. Cheers.",1515570797.0
mperham,"Sidekiq has three parts:

1. An API to push jobs to Redis (the ""client"").
2. The Web UI
3. The worker process to pull jobs from Redis and run them (the ""server"").

Likely you are not starting a worker process.",1515606204.0
yeskia,"You need to actually put a worker on the queue in order for anything to run. You can set that up in your `Procfile`. For example, here is mine...

    web: bundle exec puma -t 5:5 -p ${PORT:-3000} -e ${RACK_ENV:-development}
    release: bundle exec rails db:migrate
    worker: bundle exec sidekiq -C config/sidekiq.yml
    
And my configuration file looks like this (basically just configuring the number of workers and which queues to work on)...

    ---
    :concurrency: 5
    production:
      :concurrency: 10
    :queues:
      - default",1515564767.0
GroceryBagHead,Good stuff.,1515562534.0
completegenius,When is 5.2.0 suppose to be released? ,1515625291.0
davesimpson87,"Interesting feature, thanks for sharing.",1515585810.0
somazx,"For my project I need to only occasionally load vue components scattered about an otherwise traditional rails app made up of server side views.

I'm using code something like this:

    import Vue from 'vue'
    import MyComponent from './MyComponent.vue'

    document.addEventListener('turbolinks:load', () => {
      var node = document.getElementById('my-component')
      if ( !node ) return null
      var values = JSON.parse(node.getAttribute('data-values')) || []
      new Vue({
        render: h => h(MyComponent, { props: { values: values } })
      }).$mount('#my-component')
    })

The most important pieces are the import statement and this:

      new Vue({
        render: h => h(MyComponent, { props: { values: values } })
      }).$mount('#my-component')

Additionally it checks if the element exists on the page and returns early if it doesn't, and passes any data-values in as props to initialize the component with data from rails.

Lastly I have a vue helper method so in my templates I can do 
    
     <%= vue(""MyComponent"", hash_of_props_data) %>

I believe the react rails gem comes with a rails helper that uses unobtrusive js to load the components in views. I've been meaning to look at that and implement my own. That said, I'm surprised there isn't an existing gem/solution to this problem... maybe I've just missed it.

Hope this helps?",1515546053.0
MidgetAbilities,"My company struggles with this, as we are approaching 500 models. This may not really answer your question, because it is more an organizational strategy and philosophy rather than class design pattern, but we are starting to use what we call ""concepts"" instead. The Rails default organizational model of grouping code by type (e.g. model, controller, etc.) is fine for a small application, but I don't think that scales.

Instead we have a folder `app/concepts`, and under that you put folders grouped by ""concept"", i.e. some feature of your application or business domain. Concepts can be nested of course. Under each concept you put all of the code for that concept, with whatever directory structure you need. This differs from how `lib` is used, because we put *everything* into a concept. This includes models, controllers, views, services, presenters, routes, abilities (for CanCan), etc.

We've found this has a lot of benefits:

1) When working on a feature, you are working mostly in a tiny part of the code base, so navigating the code is simpler.

2) Understanding the entirety of a feature is much easier when you know virtually all of the important code is in a single folder that you can easily explore. This helps onboard someone to the feature.

3) You can test an entire feature by just running the spec folder which mirrors the contents of your `app/concepts` folder. It's nice to be able to regression test a feature real quickly after you make some changes.

4) This approach makes you think harder about the concepts/domains in your application when creating new code, and hopefully you will be more thoughtful about how things are named and organized instead of just plopping a new model into the models folder and a new service into lib or the `app/services` folder if you have one.

5) We put a README in the root of each concept, which explains the basic concept/feature in business or product terms, as well as giving you the important entry-points to the code and maybe troubleshooting tips or pointers for running things locally.

6) We treat each concept as a sort of ""state's rights"" situation instead of having the federal government tell you how to do things. You want ""controllers"" and ""services"" modules inside of your concept? Go for it. You want to organize your concept such that each module is a logical sub-component of your concept instead? That's fine too (it's the way I prefer it). We don't want to be too prescriptive, and depending on how big or small the concept is, different organization may be simpler to follow.

7) If you have sub-teams which own features or logical parts of the code base, this organization could help.

I think the bigger picture benefit here is that you start to build out boundary lines between pieces of code. If concepts talk to each other, it should ideally be through a limited set of classes or entry-points. Someone at my company has even proposed an ""interface"" class you could have at the root of each concept which exposes all of the public functionality for that concept. (Though I'm not a huge fan of that approach)",1515530560.0
clumsy_shaver,"A few opinions (YMMV):

Two main issues I see are haphazard application state management and the conflation of the domain code with presentation code. The symptoms of this are conditionals littered through every layer of the codebase and overloaded domain classes.

**State Management**

You can think of any application as a giant statechart (finite state machine + concurrency, synchronization, orthogonal regions, etc). The database contains the current state, urls are used to trigger events (state transitions), and the app executes the specific actions corresponding to the state transition.

Unfortunately, state in most applications is overwhelmingly complex and so we don't explicitly track ""we are in state X, the available transitions are {a,b,c} and the resulting state is Y. Instead, we litter conditionals throughout the code to ascertain the current state and then execute the corresponding actions. This makes understanding the possible execution paths extraordinarily complex, as you have to be aware of every possible permutation spread across many files.

One way (the oft-recommended way) to eliminate these scattered state checks in OO is to use composition and dependency injection for representing the different execution paths. Pull as much of the state checking as possible to the boundary of your application and have that boundary layer choose the correct dependencies to inject into your domain classes.

https://www.youtube.com/watch?v=OMPfEXIlTVE (Sandi Metz)
https://www.destroyallsoftware.com/talks/boundaries (Gary Bernhardt)


**UI Entities vs. Domain Entities**

Domain concepts are separate from their UI counterparts, even when the underlying data is the same. Creating separate entities to represent each (when needed) helps prevent overloading your classes by having them cater to both contexts.


**Other**

Many models are not top-level concepts, and only make sense within the context of a parent model. Only allowing these child models to be updated via the parent can greatly reduce the surface area you have to think about on a consistent basis and prevent Demeter violations/inappropriate coupling. Organizing your files and object hierarchies accordingly helps maintain ""bounded contexts"" which are easier to grok than huge global domain spaces.

This was a little scattered since this topic could be a dissertation, but hopefully it gives you some ideas.",1515539508.0
volar92,Sounds like you need to start moving towards a services oriented architecture. ,1515555102.0
MidgetAbilities,"Something I forgot to mention in my other post... I love ActiveRecord, but it also allowed us to shoot ourselves in the foot big-time. By letting any part of our code query and update any model in any way, it makes big refactors incredibly difficult. Business logic for models is leaked everywhere, and if you need to change how a model or feature works on a fundamental level, you need to update a million places instead of a few central services that control access to that model. This is definitely our own fault, and we didn't have to write code that way, but I think ActiveRecord promotes this behavior, intentionally or not.",1515547506.0
acconrad,"Extract class and extract method. When you're forced to simplify things down to short functions and small classes, it makes you rethink what is _really_ necessary in a data model, and can force a normalized database and thus lower complexity.",1515554475.0
awj,"TL;DR: I've gotten a lot of mileage out of Trailblazer-style operations, also it's worth your time to see if you can figure out how your team didn't address this *before* everything got ""terrible"".

I started down that path before Trailblazer started out (or at least before I came across it). At the time I was really worried about preserving the ActiveModel workflow/interface as it related to controllers. My take on it (called ""interactions"") uses `ActiveModel::Model` and `ActiveSupport::Callbacks` to provide much of the relevant pieces of the interface. So if you have some model `Foo` that needs an email sent whenever it is created you can capture that in a `Foo::Create` interaction, but it's still easy to substitute into code that was trying to instantiate and save `Foo` directly.

That said, and I honestly do not mean any insult by this, I think it might be a good idea to step away from tools/techniques and consider *why* your project ended up in this state. Do people on the team need more training in separation of concerns? Are you setting deadlines too short and finding yourself cutting a lot of corners with no post-rush cleanup? Is this consideration part of code reviews? What does your code coverage look like (unit testing is a great way to force this point)?

You likely do have a level-of-abstraction problem, but it's equally as important to try to figure out why your team didn't see that before now as it is to solve it now that you have it. In your own words you labelled like 2/3rds of your project (and nearly 100% of the business logic) as ""terrible"". Nobody should be in that place, and it's well worth spending a bit of time trying to figure out how you can avoid it *before* you overrun this next level of abstraction.",1515629984.0
sparkymat,"I don't know if this helps, but often, a lot of logic for my projects involve workflows driven around state transitions. I ended up writing a gem to handle state based workflows.

https://github.com/sparkymat/argon
",1515631728.0
scotch_bright,"I think the architecture that works best is roughly described as follows:

1. Rails as an API only app

2. React as the front end

3. Everything is a CRUD operation. 

4. There are no other routes other than routes associated with resources. (Roy Fieldings REST, not the version of it that Rails projects usually have.)

5. The only resources in your app are NOT those backed by ActiveRecord models. There may be other resources (virtual resources) if you will and everything is a CRUD operation.

The most controversial among these is, ""How can everything be a CRUD operation?""

For this, you need to see point ""5"" from above.

Let me take an example: The use case you want to deal with is that a user wants to update his password. When the password is updated, if the user is of a particular role then you need to send him an email and an SMS. If the user is of some other role, you need to send him only an SMS. Finally, if the user is of a third role, you need to just update the password and not send out any communication.

This is a complicated use case with a lot of silly business rules. How do you implement this?

Now, you might shove this action into the User controller. But do not. What if there was another resource called ""user_password""? And that resource had the CRUD action of Update only?

Even though UserPassword is not a model, that has a ActiveRecord class, you can still have a route and a controller for it. It that controller you put in all your business logic in nice short functions that have a max of 3-5 lines per method and you will be golden.

Keep doing this and you will have a manageable app.

This idea is a little hard to appreciate. Also, it seems like surely not every use case can be handled this way. Let us take an extreme use case. One where there is no ActiveRecord model that can be clearly associated.

Extreme Use Case: When a button in the UI is pressed, a user retention report for the last 30 days has to be sent to a manager. (Now the user retention report can only be made considering 5 different models and there is no clear idea which model is more important)

Here too, you can have a resource like ""user_retention_report_request"" with a ""Create"" action. (By clicking on the button you are creating a request for a user retention report) Make a controller for that resource. Again, if you make things this way, the code dealing with the use case will all be in one class and easy to look at when you need to find it and update it. The route will be clear and readable and predictable.

A note on React front-end: React scales well with complexity. HTML is a tree and when we see a HTML document, we are usually looking at each and every leaf in order to work with one or 2 (which we actually need in that moment). React breaks everything into components. Each component is a leaf. When we want to change the behaviour/rendering of a leaf, we hone in directly on the leaf. We do not consider the whole tree and how everything is related. This helps us manage complexity.





",1515749872.0
potatoheadedm,"I've had the same question a while ago: https://www.reddit.com/r/rails/comments/7hr7la/getting_file_image_path_with_activestorage/. Downloading the blob was the way to go at that time and i think it still is..

",1515537299.0
wikitih,"If you have many elements to render, instead of dumping them all in a single load, use pagination: You may want to use an existing gem like [kaminari](https://github.com/kaminari/kaminari) or [will_paginate](https://github.com/mislav/will_paginate).",1515576338.0
CrimeInBlink47,"Bit confused by your wording but if you have two separate models (profile and User) and a user has one profile then it can make some sense to have a separate controller. If you‚Äôre talking about one user model and the profile attributes in the abstract then no, stay with your one controller. 

As for changing passwords and what not, I haven‚Äôt used token auth but if it is using devise under the hood then it should all be covered by the devise passwords_controller and recoverable. 

Feel free to ask follow up questions or pm. Happy to help. ",1515495798.0
jaryl,"Nothing wrong with creating multiple controllers. They could be the same model, or different, split your app up by the concepts.

Logging in? Sessions controller. Changing your password? Passwords controller. Looking at your profile? Profiles controller.",1515523616.0
welkie,"The Rails part of the app lives on the server and the Vue part lives on the client, so you'd have to either replicate the logic in your Vue app (I'd recommend that tbh) or expose the helper as an API end point. The input would be the parameter you have there and the returned value from the end point would be the return value of that helper method.

If this is an app where Rails is only used as an API and everything important is done in the Vue app, you might consider having that helper only live in the Vue app. The API would return the raw data and the Vue app would be responsible for shaping it into however is best to display it.",1515545155.0
obviousoctopus,"You can try adding a 

    get ""/:page_name"", to: ""pages#show""

as the *last line* of your routes file. If you do this, you'll have to make sure you don't name pages as any of your existing routes. Keep in mind that it's much cleaner to use a non-root-level route, like 

    get ""/pages/:page_name"", to: ""pages#show""

If you choose to go the wildcard-in-the-root way, (`site.com/about` is probably better than `site.com/pages/about`) make sure the wildcard route is last in your routes.rb. 

Edit: quotes, warning.",1515485660.0
toadkicker,Have you looked at Jekyll? http://jekyllrb.com,1515504580.0
jemminger,"Use `map` to transform them all into it:

    where(""uid LIKE ?"", *term.map{|term| ""%#{term}%"" })",1515464378.0
iKnowInterneteing,"If you are using postgres you could use the ""any"" or the regex matcher.  

    Order.where(""uid ~* ?"", ""amazon|alibaba"")

Im on the phone so the formatting might be bad. ",1515489507.0
aust1nz,"It sounds like you could accomplish this with a catch-all route. At then end of your routes file, declare something like:

`map.connect '*path', :controller => 'folders' :action => 'show'`

You'd still need to figure out how you would actually query for the data in your database, though.

More info:
https://stackoverflow.com/questions/3086373/rails-route-with-n-number-of-parameters
http://railscasts.com/episodes/46-catch-all-route",1515444384.0
jaxn,"You may be looking for  ‚ÄúOverriding named route parameters‚Äù from the Rails routing guide.
http://guides.rubyonrails.org/routing.html#customizing-resourceful-routes


It allows you to do (nested) resources using parameters other than :id",1515455954.0
riffraff98,"As above, the glob route is what you use for routing.

If you want to query based on the bottom-most folder... Just query based on the slug of the leaf node.

If for some reason you want to query for the whole path then you want either Ltree or a recursive CTE in postgres.

Seriously though just query by the leaf.",1515470041.0
herminator,"Much easier to just have two references:

    class Item < ActiveRecord::Base
        has_many :comments, counter_cache: true

and

    class Comment < ActiveRecord::Base
        belongs_to :item
        belongs_to :parent, optional: true
        has_many :children, foreign_key: :parent_id

By keeping two foreign keys, you don't need to recursively count anything.

The counter_cache is optional, of course, the alternative is:

    def comment_count
        comments.count
    end

in your item model.",1515446221.0
pcai,"For infinitely nestable recursive tree structures like comments, i recommend closure tree: https://github.com/ClosureTree/closure_tree

it uses a neat trick called a closure table to allow efficiently querying for nodes recursively in a single SQL select. Counting this set is simply a matter of changing the select to a select count query.",1515465544.0
,Might the idea of a [counter cache](https://gorails.com/episodes/counter-caches) help?,1515443117.0
SminkyBazzA,"I might be tempted to use a nested set: https://en.wikipedia.org/wiki/Nested_set_model

Perhaps using something like this: https://github.com/collectiveidea/awesome_nested_set

You track a left and right value, a simple parent comment relationship, and optionally a depth value, for every item of a particular set (which could be a top-level comment and its replies).

The gem handles updating the values, but it's good to understand how they work so that you can see how easy it is to avoid recursion.",1515451191.0
tongboy,The ahoy gem will do the heavy lifting for you,1515427433.0
,[deleted],1515410739.0
vk2sky,I have found *[Effective Testing with RSpec 3](https://pragprog.com/book/rspec3/effective-testing-with-rspec-3)* from the Pragmatic Programmers to be quite good.,1515405724.0
uday99,Rails 4 Test Prescriptions: Build a Healthy Codebase - Noel Rappin. Is one of THE BEST books I have ever read! I have seen he's also writing one for Rails5. http://a.co/heUiPI5,1515428863.0
yeskia,"Everyday Rails Testing with RSpec is my favourite testing book for Rails of all-time, and it's my go-to recommendation for anyone that's looking to dive in deeper. Even better is that he's just finished an update for the newer versions of Rails/RSpec and that it was made free for existing purchasers. It made a huge impact on how I test my apps.

Effective Testing with RSpec 3 is fine, but like you say it's far more focused on Ruby testing in general rather than Rails-specific. It's still interesting to read as it was written by RSpec maintainers but I don't think it added too much to my toolchain of knowledge.",1515456978.0
,"If you can effectively test Ruby with Rspec, you should be able to test Rails as well...you probably just need to learn to work with something like cucumber or capybara",1515442989.0
wikitih,What if you use `before_save` instead of `after_save`?,1515403446.0
pbmarcano,"[Here‚Äôs an example](https://www.gorails.com/forum/how-do-i-install-bootstrap-v4-via-yarn#forum_post_3860) of how I typically use `stylesheet_pack_tag`. Typically i reserve it for sass or less libraries hosted on npm, like [Bulma](https://bulma.io).

I think it‚Äôs more straight forward then trying to import libraries via Javascript and the `javascript_pack_tag`.

Let me know if that helps answer your question?",1515422965.0
smallspark,This might help you sort it https://sendgrid.com/docs/API_Reference/SMTP_API/errors_and_troubleshooting.html,1515336003.0
joshrose27,Where are you hosting your Rails app? Not sure this would be the error generated but I know on app engine I had to change the port to 2525,1515369180.0
bgcali,"    ActionMailer::Base.smtp_settings = {
      :user_name => ENV['SENDGRID_USERNAME'],
      :password => ENV['SENDGRID_PASSWORD'],
      :domain => 'domain.com',
      :address => 'smtp.sendgrid.net',
      :port => 2525,
      :authentication => :plain,
      :enable_starttls_auto => true
    }
        
this should work assuming you have the right username and password.
also if you are at development. use this `gem 'dotenv-rails'`

and just create a .env file with your SENDGRID_USERNAME. so format would be
`SENGRID_USERNAME=robert_admin`",1515381979.0
tf2ftw,You don't need to learn UML to work with ROR. Read the rails guide section concerning relations,1515327381.0
DehydratingPretzel,"UML is just a way to visually represent how system pieces are related.

There is another term in the Database world called an Entity Relationship Diagram (ER Diagram). 

ER and UML diagrams help describe what the relationship between your app concepts are.

It is good to know if you like to plan ahead, keep documentation, or share your ideas with others. I think youd agree its easier to just show a diagram of how thing are related rather than search through the has_man, belongs_to, etc. statements in your Rails code. That being said UML and ER diagrams are language/framework agnostic.

It is a good thing to learn though.
",1515375253.0
Ronald-Ray-Gun,"Echoing what another user has said here: if you're just starting out, there's no harm in learning these types of diagrams early on and carrying them with you!

I wish I had studied more about them before I dug into complex associations. They really help you get a visual representation of where data is going in and out, and where _should_ data be going in and out.

I find it's much easier to learn these things now when you're going slow, rather than later when you're working quickly.",1515375500.0
toadkicker,"> Surely authentication and authorisation are a business logic concern

I don't ever advise someone write their own authentication/authorization system. Why do it when Devise and Pundit are fairly mature and vetted already. No reason to fall on a security sword. OTOH if you're just interested in doing it for learning purposes then go for it. If you plan on taking on users with your project then don't put their information at risk. They trust you are doing the right things with their information; don't break their trust.

Pundit is really awesome for authorization. In my project I have a fairly complex authorization system where I allow users to assign roles to other users in the database. The code to achieve that is really a few lines of passing in model classes and doing some interpolation on the values. I can do a full write up on it if interested.",1515284566.0
Adelizi,Devise has support for OAuth2. I don't know much but oauth has made my life alot easier,1515287569.0
CcsDude,"Option 1: Depends if there is a valid reason to have the API endpoint. Meaning if it actually is used as an API, if the answer is no maybe it would be okey to move.

Option 2: I like to have many live versions of an API, it allows to have old code working while migrating. There are other reasons, but this is the gist.

Option 3: IMO this is the way to handle an API. Either by using subdomains (api.domain.com, api2.domain.com) or url path (domain.com/apiv1, domain.com/apiv2) ",1515275488.0
toadkicker,"In the past I made my app concerned with 'api version' routing. Most of my apps are deployed on AWS these days, and I just use load balancers that terminate the versioned routes to the cluster locked at that version. When a major version change comes out, its easier to just deploy a new cluster and then start migrating people to the new version. It makes the code so much cleaner to not have to worry about this problem in the routing.",1515284875.0
MetricMike,"You're assuming too much magic from `config.assets.debug` - that flag only turns off preprocessors and concatenation. What's actually doing the compilation and serving is `config.assets.compile` which is true by default (and so hidden in `config/development.rb` but usually false in `config/production.rb`).

Otherwise you're right on the money! I think the confusion is that the guides don't explicitly say that Sprockets will never save assets to the filesystem (which is why there's a precompilation task) and infer it instead.",1515272538.0
That_Network_Guy,"Basically, in development, *every* time the application.css/js is requested, the scss/coffee script files are processed outputting one or more js/css files respectively. These files are automatically included in your application via the 'stylesheet_link_tag"" and ""javascript_include_tag"" in your *application.html.erb*. When they are processed, only one or more js/css files are served, not the component scss/coffescript files. 


In a production environment, you generally would not want to reprocess the assets on *every* request. Therefore, in production, you would likely want to precompile the assets via:

    rake assets:precompile

 which are then served from *public/assets*.

edit: if you want to be able to access your foo.coffee, you could store it in /public/assets/javascripts and it should be accessible via http://localhost:3000/assets/javascripts/foo.coffee, and you could include it in your application.js as 

    //= require /public/assets/javascripts/foo.coffee

but i'm not sure why you would want to publicly serve the unprocessed files

I hope that helps!

edit 2: Additionally, rails assets are fingerprinted by default when they are processed, so instead of *application.css/js*, it might be something like *application-908e25f4bf641868d8683022a5b62f54.css/js*, therefore, you would usually want to serve out of */public* if you wanted to serve/access the unprocessed assets, but its something that you might not want to do for a variety of reasons. 
",1515202779.0
SlowMurder,"Heroku doesn't support SQLite db, switch from SQLite to postgre or mysql db.",1515196105.0
tekkn0lust,Does it give you the error if you install without development and test?,1515196956.0
,How did you set up your heroku?  Did you follow their instructions?  They have a tool you use from the command line to deploy,1515203411.0
wikitih,Can you share your `Gemfile.lock` file?,1515243205.0
greymalik,"Your code loads the component inside a div that it creates dynamically, appending it to the bottom of the body element (`document.body.appendChild`). Instead, you need to target a specific div, one you create in your erb. In the erb, add a div with an id of root (or whatever) where you want the component to appear, and then mount your component in that div like this:

`ReactDOM.render(<Hello />, document.getElementById(""root""));`

This isn't a Rails thing or a React thing btw, this is vanilla JS DOM stuff.",1515180244.0
ryanlue,"Two problems.

### 1. What do you mean 'pass data to bootstrap modals'?

From the looks of [Bootstrap's documentation on modals](http://getbootstrap.com/docs/4.0/components/modal/), the modal should be included within your view template. You don't ‚Äúpass data‚Äù from Rails into the modal; you write the modal in your view template using ERB (alongside all your other page content), and when the user clicks on the appropriate button, it becomes visible. If I've gotten anything wrong at this point, please help me understand.

### 2. `link_to` is the wrong method to use for a form

> a modal drops down with some more options and a ""submit"" button.

It sounds like you're talking about a form here. You're performing a POST request and giving the user some options (data) to submit along with it. 

`link_to` _can_ be used to submit non-GET requests, but it _cannot_ be used to submit params (data) along with such a request. Instead, what you need is `form_with`.

### Proposed solution

So on your page, you've got a list of campaigns. You're probably iterating over a collection, like this:

    <% @site.campaigns.each do |c| %>
      <li><%= link_to c.name, site_campaign_path(@site, c) %></li>
    <% end %>

so just add a form somewhere inside your iterator like so:

    <% @site.campaigns.each do |c| %>
      ...
      <%= form_with model: c do |f| %>
      ...
      <% end %>
    <% end %>",1515140963.0
k1r8r0wn,"Maybe store & then grab `id` from data-attribute added to the link, for example...",1515128350.0
oztrax,"Take a look at 

    data-confirm-modal

if all you are trying to do in the modal is confirm that they want to clone it. It might be an easier way....",1515163334.0
andygauge,"I use an AJAX submission.  
  
I have a controller action that responds without a layout, and JavaScript that fills the content of the modal with the output of that controller action.  It is dead simple that way.  

You'll either need to render each possible modal, and call show on the right one, or use AJAX to load the modal content.

I'm doing exactly what you are considering here:   https://github.com/AndyGauge/praybook/blob/master/app/assets/javascripts/prayers.coffee  ",1515184072.0
Paradox,"Yes.

Chrome, and many other browsers, natively support downloading multiple files at the same time. Chrome is even getting download acceleration in a future release that will parallelize as much as possible. I can't speak for any other browsers, but I know that chrome prompts the user if a site attempts to download multiple files, and the user has the option to reject or allow it.

----

Now for the meat and potatoes. Rails, being REST oriented, follows a fairly explicit request-response, in that each request can only have one response.^1 So you have to make that first request really count.

Here's what I would do. I would have a multi-download page that has all the URLs to download from embedded in a JSON object, which you could easily put in a `<script type=""application/json"">` tag. Have a script, either in your assets or embedded into the page, that reads that JSON object, and then fires off async requests to each file. As long as they have the proper mime type (from S3) the browser will start to download them.

----

Finally, some thought on other ways to do it. Downloading multiple files is somewhat of an anti-pattern, as demonstrated by all the hacks you have to do to make it work right. What might be a better approach is to write a short script that runs on AWS lambda. The script would receive the list of S3 keys, and start file streams from them sequentially, which you could then move into a Zip stream, which you could stream directly to the client. Doing it on lambda allows you to have scalability, keep your rails system from slowing, and ultimately not pay as much of a S3 transfer cost (since you could put the lambda in the same az as your s3 bucket).

----

Footnotes:

^1. I know with HTTP2 you can have the server send multiple files to the client, but thats still fairly complicated to get working in rails",1515117423.0
SminkyBazzA,"Long ago I 'solved' a similar problem (albeit at a much smaller scale) by using JavaScript to click a bunch of links in the page. I think the browser checks that the user wants to allow it the first time, but after that it worked. 

Not sure how it would handle many many links, but my guess is it would start a few and delay the rest, based on a maximum number of connections.

The proper way might be to do the zipping in the cloud, and use polling to check the status of the job, and ultimately fetch the URL of the zip. Have you checked S3 didn't already offer this functionality via their API?",1515108612.0
tongboy,"This type of problem extends well past rails/ruby - there are multiple ways and opinions to solve the problem.

I think you hit on two key points - how to handle the piping of data around and how/where to expose it to your consumers.

IMO form objects are a great way to handle the piping - whether you put multiple associated models behind one or only expose part of one its a great way to abstract form specific logic to an easily testable code piece without over complicating your model.

with form objects handling the how you expose that to your users becomes easier.

The basic rails concepts are very much around resources - of which most of the time a resource is tied to a model. that falls apart pretty quickly when your app is more than a todo app with a user and a list of items.

If you take a form objects pattern you might have multiple form objects that map to a model or a few but they are different resources to your end users.

a great example is a user model. they need to signup, then they need to fill in some additional information to be an admin and then they need to be able to do normal user maintenance (update emails, change password, whatever)

storing all of that data on a user model is fine (save that argument for a different example!) But trying to expose that as a single endpoint to your users would leave you fighting problems and your users confused if they looked at URLs.

instead you'd probably do something like

    /signup
    /profile
    /password

In your controllers your could just expose a user there for your views... But if you used a form object you're back to dealing with a 'resource' instead of a model

signup controller gets a `SignupForm.new` that exposes your username/password and has the appropriate validations

profile controller works with a `ProfileForm` that exposes those values and validations

and so on.

Now your controller actions are dealing with a single resource - instead of polluting your controller actions with managing interconnected models. Say a user has a company associated that needs to be created during signup. If you leave that in the controller you have to write complicated controller specs. If you instead pull that logic in to a form object you get straight forward model specs.

TL;DR resources don't have to be models. Follow REST principles but look to make sure you're finding all your actual resources - not just beating them to fit model concepts.",1515091626.0
in0pinatus,"I like option (3). Extracting a model and/or adding a controller are both excellent moves. There's a lot of gravity to Active Record models, resulting in them becoming god objects by accretion. Try to separate along boundaries of responsibility. `NameInformation` doesn't strike me as a great class identifier, though. How about just `Name`. And beware of N+1 issues; a preloading scope or query object may become essential for some views. Also note that some people have more than one name ;)

Note there are other ways to refactor. Active Record really does bond models to database tables, but you can extract classes using the [Attributes API](http://api.rubyonrails.org/classes/ActiveRecord/Attributes/ClassMethods.html) or [`composed_of` aggregations](http://api.rubyonrails.org/classes/ActiveRecord/Aggregations/ClassMethods.html).

For what it's worth, DHH is also known for controller proliferation.  You don't have to code like DHH to build useful things with Rails, but it really helps to try and understand his thinking. Have a listen to http://www.fullstackradio.com/32 sometime. This may also help you avoid the perfidious construction of service objects (c.f. Fowler, PoEAA, p137, ‚Äú... when not to use it‚Äù).

Tip: don't get suckered into the false equivalence of controller->model just because that's the default scaffolding. REST is for routes, and for controllers by close collaboration; it doesn't have to extend into your domain model. You don't have to - in fact, you shouldn't - write a new resource model for every controller.

#### On form objects

Form objects seem like an unnecessary abstraction in the examples you've given, and premature abstraction is worse than premature optimization. In this case they'd just be shuttles for data down and errors up and maybe an extra validation (one that could easily have been a [context validation](http://guides.rubyonrails.org/active_record_validations.html#on) on the model). So be sure to use them only when they justify their own existence.

I use additional models when there's real domain behaviour to implement, such as account creation, perhaps based on data we won't otherwise be persisting. In my more recent projects, onboarding is multi-step process modelled by a fully persisted Active Record domain object, `Signup`, that was extracted from the `Account` model, initially into a Concern, and then subsequently into a separate model.
",1515196906.0
wikitih,"`self` can be used to fix scope conflicts. For example, if you have a local variable named `name`, how do you difference between the instance's method `name` and the local variable?

By default, ruby will use the closest scope (local) when resolving a variable name; use `self` to reference the instance variable.

    class Order < ApplicationRecord
      def name
        ""Instance""
      end
      
      def random_method
        puts name # Will print ""Instance"" since local `name` is not yet defined
        name = ""Local""
        puts name # Will print ""Local"" since local `namce` overrides `self.name`
        puts self.name # Will print ""Instance"" again
      end
    end",1515059142.0
startup_sr,"When you are using just ""name"" or @name then you are extracting the value of each instance of that order object. But when you add self to it you are trying to limit the scope of for that object so it has access the class Order object itself. 

Generally we use def self.method to apply the method on the class object itself. But when we use def method then then the method is used on any created instances of that order object.

This one should clear your confusion.
https://stackoverflow.com/questions/1693243/instance-variable-self-vs",1515085141.0
wikitih,"If those variables are small, you may save them in the [session](http://guides.rubyonrails.org/action_controller_overview.html#session) object. Otherwise, why don't you store those values in the database?",1515059285.0
kickinespresso,"No. If it is something you can't store back in the database (something small), then feed it back into the request as a parameter. An example, like a Wizard where there are multiple pages before the object is saved might be a good use case. Although, if there are multiple steps before you save it, you may want to check out some JS to help you, like jquery or react for that component.",1515071590.0
newplasticideas_,"Heck, this might have even been more appropriate for r/linuxmint now I think about it. My apologies. Will choose more carefully next time!",1515038214.0
diamonds_and_rose,"Find a project you are interested in. Once you have a goal you want to accomplish instead of a new thing you want to learn you can teach yourself as you go. In that instance it feels more like building than learning. I would reccomend a simple game, or a way to automate something you care about",1515036363.0
,"Turning off the phone is good advice, also site blockers - heck I've tried to find a good app blocker for my imac - clean work space - pomodoros - 

Course, I haven't had the focus to write anything for six months and now am trying to figure out how to start over basically",1515033500.0
jemminger,"My two cents:  Don't force yourself to grind for hours.  I find that knowing that I'm going to ""make"" myself do something for hours on end makes me not want to start in the first place.

Schedule a minimum time every day, e.g. ""I'm going to practice for 30 minutes.""  

If you happen to be in a groove and want to keep going on any particular session, then keep going. 

I took this from some advice I heard a champion marathon runner give about training:  ""I make myself run only 1km every day.  Some days I feel like continuing after that.""
",1515033229.0
ylluminate,"Find when you have the most focus and take advantage of those times. Some people discover that they're bi or polyphasic in their sleep patterns and it helps to mold your days around this if possible. 

I can do amazing things when I get into that zone and I was only able to discover this for myself when I realized the right times to sleep per day (or night).

For example, if I manage to do what my body wants me to do and sleep 4 hours twice a day (once in early morning and once mid afternoon), I have exponentially greater capacity for focus. Granted, it's nigh impossible to do with society the way it is, but it is really fantastic when I can swing it.",1515029214.0
rArithmetics,turn off your gaddum phone!,1515032349.0
,[deleted],1515027569.0
danimoth2,"This could be a problem with clarity/thinking of the end result . So I used to code for an education startup and I was extremely motivated because I knew what I was doing was helping some person who failed their exams and was using my app to study. Right now I am trying to make a software product, I am just thinking of the end goal which is more skills for me and perfecting my craft (and potentially earning money/freedom in the process). :)

Exercise also helps. Try taking a 15 minute walk.",1515050428.0
eyesofsaturn,"take breaks, drink water, emphasize enjoying the process over completing it",1515081302.0
in0pinatus,"Some people (myself included) find variations on the [Pomodoro technique](https://en.wikipedia.org/wiki/Pomodoro_Technique) amazingly valuable for productivity, by providing a cadence to work and a moment for reflection.
",1515191172.0
Yeahbuddayyeah,You could use rails encrypted secrets,1515031946.0
joshrose27,"I agree with yeahbuddayyeah, I use rails secrets to store all of my private credentials and api keys. Just make sure to backup the master.key file somewhere outside the git repo. As a side note I absolutely love app engine flex over any other form of hosting. With Stackdriver / logging, you essentially get something close to new relic included for cheap to free and the deploy experience rivals heroku when setup.",1515146835.0
ziptofaf,"Use Devise, no questions asked. The only situation when you need to roll your own authentication system is when you are building your own authentication system library. But I assume this is not what your project is about so spending next 300 hours on just that (and then maintaining it for the entire life cycle of it) is probably not what you want to do. 

Well, it's somewhat different if you are just learning Rails. Then building your own system just to see how to isn't a bad idea. Just promise yourself to never roll that into publically available website afterwards. ",1515021983.0
jemminger,"Do not roll your own unless you have a degree in cryptography.  Use Devise or any of the other popular gems, or even the built-in [has_secure_password](http://api.rubyonrails.org/classes/ActiveModel/SecurePassword/ClassMethods.html#method-i-has_secure_password)",1515033451.0
kuhcd,"Unless your product is a user authentication product, no. Focus on your project and the features in it, user auth is not a feature, it's a barrier to entry. Use pre-existing libraries.",1515037195.0
Quantumbinman,"At this point, Devise really should come bundled in with rails by default...",1515053542.0
khundawg1,"Writing your own auth is like a ZJ... If you gotta ask, you can't afford it.

Joking aside, use Devise until you have a painfully obvious reason not to.",1515025847.0
,Has anyone worked with the clearance gem at all over devise?,1515033118.0
GroceryBagHead,"If you want something less complicated than Devise, I suggest: https://github.com/Sorcery/sorcery",1515084702.0
crikeydilehunter,"Sorry, don't have an example. But what I would probably do is just use <ul> recursively.",1515013709.0
Schrockwell,What are you trying to solve? Zalgo? Like the messed-up text? You want to sanitize inputs against it somehow?,1515015440.0
ecstasyx,[Fuzziness](https://www.elastic.co/guide/en/elasticsearch/guide/current/fuzziness.html) is enabled,1514994953.0
cray4K,Does it have to be a Rails app or can it be a ruby gem?,1514994901.0
RobertHopman,"1. rails_app
2. copying producthunt
3. ruby on rails / postgress
4. I save this for later, cause my heroku free dyno's are almost gone
5. -
6. 9 months fulltime RoR, 3 months elixir
7. How to approach the ""search"" functionality problem? What kind of criteria should I keep in mind?",1515184152.0
thisrealorthisfntasy,Here ya go: https://gorails.com/episodes/intro-to-importing-from-csv,1514982937.0
wikitih,"Just parse the CSV file and create the records, one for each CSV row.

If you need to do that task one, open a simple `rails console` and import the CSV file, [like this](https://stackoverflow.com/questions/4410794/ruby-on-rails-import-data-from-a-csv-file).

If you need to implement a feature to import records from a CSV, so a non-programmer user can import them, you'll need a more complex solution, including controllers, views and models editions, [as explained here](http://www.mattmorgante.com/technology/csv).

",1514983165.0
xilplaxim,I'm not sure what you are looking to do but perhaps ActiveRecord::Reflection is what you are looking for.  Depending on how old the project's rails version is that may not be available.  With it you can get information about a model's associations.,1514985516.0
SureLetsDoAnother,I've found [Growing Rails Applications in Practice](https://pragprog.com/book/d-kegrap/growing-rails-applications-in-practice) to be helpful.,1514932320.0
r3b00t-,"Try Rebuilding Rails book.

http://rebuilding-rails.com/",1514978146.0
dhananjaygoel1,"Well there are various resources from where one can learn about rails architecture, here is one of it: https://medium.com/coax-software-blog/advanced-rails-architecture-way-part-1-447c1755e35e
http://adrianmejia.com/blog/2011/08/11/ruby-on-rails-architectural-design/
http://halyph.com/blog/2015/04/04/rails-architecture-and-scalability-issues.html",1514981092.0
tongboy,"use a different management client - pgadmin is the equiv of mysql management studio.

datagrip and a million other tools also work with it.

unless you're moving from ancient PG versions you shouldn't have any problems with data upgrades. 9.4 to 9.6 has been seamless and those have been out for like 3 years.

PG is infinitely better than mysql for countless reasons. stick with PG and figure out your toolchain - it shouldn't be problematic.
",1514852837.0
chulkilee,"FYI switching a database using ‚ÄúSQL‚Äù is not in SQL standard. Don‚Äôt assume MySQL ways are the standard ways.

If you check out other rdbms, you‚Äôll be surprised how different they are on features outside the SQL standard.

There are more concepts to learn than MySQL, such as schema, role, and probably plugins. Don‚Äôt pay attention too much on small differences on interfaces :)

",1514896374.0
spinlock,"If you like MySQL, you should just use that. The whole point of Active Record is to abstract the database so developers don't need to think about it. If you're the one doing dev-ops, use the tools that _you_ like best :)",1514925086.0
danimoth2,"Yeah I barely use the CLI for Postgres, but I have the Postico app when I'm looking at the database directly",1515005076.0
abelexpert,Thanks ! It's working perfectly at this web hosting : http://onsale.jaguarpc.com/,1515078745.0
JustinCampbell,"In addition to contacting individual people on here, it‚Äôs also helpful to ask in a community Slack if you have a question or are stuck:

http://www.rubyonrails.link

http://rubynewbies.org
",1514838323.0
DehydratingPretzel,"I'll be glad to help. Just PM with what you are wanting to know. Feel free to ask anything.

I've been doing professional rails for about 5 years with a CS degree from a major university. ",1514824334.0
Oristiik,"I don't do any advertising, but on this website are quite good tutorials with rather good mentor, and there are large discounts -> https://www.udemy.com/the-complete-ruby-on-rails-developer-course/ ... try to look if you interesting in this. ",1514879306.0
fullspectrumlife,"You can ping me if you want, i have about 15 rails apps
",1514889669.0
StalkerTachikawa,Is there anyone I could pester with very basic questions? I finished the Hartl tutorial and now I'm in the process of building a web app that might be used by a fair deal of people. I'm trying to learn the best practices possible before I get too far into it so it doesn't become a big mess midway through.,1515152033.0
zenzen_wakarimasen,"You don't need to wait until Rails 5.2 is out. Update now to Rails 5.0 and then to 5.1. The main difference between 5.1 and 5.2 is Active Storage, that will allow you to replace Carrierwave. ",1514853534.0
,[deleted],1514822571.0
anithri_arcane,"Generally, new Rails versions are released at RailsConf in April (Apr 17-19 in Pittsburgh this year).  No idea if that will be true this year or not though.",1514827970.0
lostapathy,"I've been running 5.2.0-beta2 in production for a few days without issues.  I'm betting we're at least a couple months out before full release, but we wanted activestorage now.  If it's good enough for Basecamp, it's good enough for me.

In your position, I'd upgrade from 4.whatever to 5.1 now - that's going to be most of your headaches.  The only issues I had with a 5.1 to 5.2 upgrade came out of some testing-related gems that got added to the project before I understood testing.  There's no need for them, so I just removed them and reworked tests around them.",1514841526.0
slavi01,"A question for those who use 5.2 beta, what ruby version do you use with it ?",1515065737.0
losangelesvideoguy,"It depends on how you set up the relationships. Are the tags simply comma delimited entries into a text field? Or are you going to have a tags table and use a join model to connect it to the dishes table? If the former, there probably won't be much difference. If the latter, it should probably be faster, but you have to make sure to preload your models correctly to avoid doing multiple database queries.

But you should ask yourself if you're not prematurely optimizing here. For a single query, the performance difference is likely to be negligible, and if you don't set it up correctly you're liable to incur a performance hit rather than the intended boost. There may be other good reasons to set up a tags model and associated join model, but performance when dealing with a single query probably shouldn't be your primary concern.",1514794834.0
editor_of_the_beast,"Do you know how to measure the performance of this? The best thing would be to figure that out, create a large dataset programmatically and benchmark it. Then you can observe the performance advantage / disadvantage.",1514815806.0
headykain,"If you have a Ingredient model you would want to have a controller if you are going to do any REST actions on it. But that‚Äôs not relevant here.

Your cocktail params need updating. If an ingredient can be updated when a cocktail is updated/created you need to account for that in the strong parameters.

params.require(:cocktail).permit(:attribute1, :attribute2, ingredients: [:ingredient_attribute1, etc]

You‚Äôll also want to add to your cocktail model:

accepts_nested_attributes_for :ingredients

This might not exactly answer your question but you should post your models too.",1514751793.0
brandononrails,"Check out [jsonapi-resources](https://github.com/cerebris/jsonapi-resources) it makes creating an api that follows the [jsonapi](http://jsonapi.org/) spec _ridiculously_ easy.

Also the [APIs on Rails](http://apionrails.icalialabs.com/book) book. It's basically like the Hartl tutorial but for APIs. And it's free!",1514701779.0
Randy_Watson,There's a book/course called Master Ruby Web APIs by Thibault Denizet.  It might be the type of thing you are looking for.,1514748683.0
infernal_toast,"You could just perform a Membership.new and manually create an association record.  Then you could assign whatever user and whatever Polymorphic item to it and save it.  It will help to understand exactly how this all works in the database.  

When I got started I used the gem Casein to build a little backend GUI so I could inspect my database records easily.  That helped me a lot in learning how all this works at a fundamental level.  Active record is relatively simple once you see that.  ",1514676958.0
in0pinatus,"By not posting your actual code but you've left everyone shooting into the dark, but I suspect you can simply

    user = User.last
    group = Group.last
    group.memberships.build(user: user)

or whatever your domain-specific adaptation is. I'd refactor this so I can write:

    user = User.last
    group = Group.last
    user.join(group)

There'd be a few ways to achieve that but I'd write the obvious `Memberable#add_member` and `User#join` methods.

NB. That article is not feeding you flawless code. The `create_membership` callback is misnamed. It doesn't do what it's named to do: it is not a general method for creating a membership. What it's trying to do is ensure that the group or project has an initial member by adding the creator. It's also monkeying around unnecessarily with the details of polymorphism, and committing the sin of saving inside of a model. I'd probably rewrite it as something like:

    after_initialize :ensure_creator_is_member
    #..
    def ensure_creator_is_member
      add_member(creator)
    end

    def add_member(user)
      memberships.find_or_initialize_by(user: user)
    end

Note that AR callbacks are often a code smell, but they seem appropriate for the Memberable concern.
",1514691067.0
doncuomo,"I have the feeling you are all over the place with your questions. But i'll try to help as good as i can.

> How should this be adapted if I want to allow users to create memberships for other users? You need the user.id of the 'other' user.

Membership.create(memberable_type: self.class.name, memberable_id: self.id, user_id: other_user.id)
> 
> Or, more specifically, how should I modify the method to assign an Image to the ProductImage object?

This seems like a totally different question and it's kinda hard to answer with the provided information. I have no idea what you mean with an image in the context given.

",1514639570.0
doncuomo,"> EDIT: this is the closest SO answer to my problem, but the associations are opposite.

I'm pretty sure that is where your problem is. The associations. If you look at http://api.rubyonrails.org/classes/ActiveRecord/NestedAttributes/ClassMethods.html you can read:

> Nested attributes allow you to save attributes on associated records through the parent. 

You are trying to flip this around by saving the parent through the child model. All the examples in the above link only use has_many and has_one as example.

So you could change your relationship from  **belongs_to :contact** to ** has_one :contact**. Then it should work.

edit:

The delegation error you get is caused because you are delegating things to a associated contact which does not exist.",1514640095.0
nicolasMLV,"I use a lot Server-generated JavaScript Responses (SJR), just with one line of .js.erb :

`$(""#some-id"").replaceWith(""<%= j render partial:'...' %>"");`

I wonder how it could be simpler than this, really excited to know more about Stimulus !",1514540765.0
jmuguy,I'm pretty interested in this.  I'm currently working on a pretty straight forward CRUD app that I decided needed to be an API + VueJS frontend.  However this has become WAY overly complicated and something rendered with ERB with a few little pieces of JS interactivity would be so much easier to work with.  And with Turbolinks probably faster.  I wish I hadn't bought into the SPA hype so much.  ,1514904707.0
assassin-in-white,Looks like Stimulus was just released today. https://github.com/stimulusjs/stimulus,1514596830.0
kirillplatonov,Two days left in this month. Exciting... ,1514537961.0
okwhut,"This looks fantastic.

We‚Äôve been using light weight Vue components with a nice way to bootstrap them. The problem is when you need to share the same client side state between them.

It doesn‚Äôt happen very often, but a good example is a beginning at and ending at time field where changing the ending at should also affect the beginning at.

I‚Äôve considered writing a plugin, but Vue doesn‚Äôt really want to work this way. It wants a single parent rather than many sibling components. 

When you‚Äôre doing the server side route you just want to enhance HTML rather than work against it.

I need to spend some time with Stimulus, but it looks like I‚Äôd be able to write isolated components like a date time field and then bind their state together with a parent controller. It doesn‚Äôt make too many assumptions. 

Looking forward to giving it a shot. ",1514624854.0
zathras7,"Would Stimulus JS be a good fit for making a trello like application in Rails? I'm thinking of the ""card moving around"" functionality in Stimulus. Or should one go to a full fledged framework like React?",1516810716.0
kobaltzz,"Yea, I was super excited to hear about it. Unfortunately, we didn't really have enough time to dive into all of our questions. ",1514555994.0
infernal_toast,at 9:00 DHH says that he uses Turbolinks to deploy basecamp to IOS and Android.  How exactly is that being done?  Rails cannot compile for the Apple App Store AFAIK? ,1514596000.0
so_just,"I like it. Exactly what you'd need when jQuery isn't enough, but bringing a full-fledged framework would be an overkill.",1514648296.0
DerJuggernawt,"I just found out about this on a RailsCast video and it really resonated with me.

Only recently I started incorporating Vue but I didn't really enjoy it. At times it felt like I was writing two applications.

Definitely going to work with this in my fresh project!

Said video: https://gorails.com/episodes/stimulus-js-framework-introduction?autoplay=1",1518744351.0
paneq,So... In other words RJS again? ;),1514541369.0
midasgoldentouch,Why do your tests need to run on multiple subdomains?,1514510561.0
tadrinth,"Unit tests should not require any externalities for your test to run. Integrstion tests can and probably often should involve hitting external systems, otherwise how will you inow that you've integrated with your external dependencies correctly?

Integration tests should also be set up as much like your actual deploy as possible. 

",1514510989.0
niborg,"As a user of the Apartment gem, I feel obliged to warn you about it to the extent you are still early in development or don't know already: it does not handle well at scale.  If you use Postgres, at about 500 tenancies (assuming ~50 tables) pg_backup will cease to work. Moreover, ActiveRecord doesn't quite handle the concept of tenancies well, and there is memory bloat that occurs on the addition of each tenancy. Read [this](https://influitive.io/our-multi-tenancy-journey-with-postgres-schemas-and-apartment-6ecda151a21f) if you haven't already!",1514523600.0
tongboy,I handle this situation by changing the /etc/hosts for local specs and leave lvh.me for CI builds. the lvh.me lookups to the 3 or 4 different subdomains don't add up to much network times and of all the various network issues that have effected my CI the subdomain lookups have never been a problem.,1514513582.0
andyw8,"This is fine, since you're testing behaviour which depends on the subdomain. If you had to hit actual remote servers that would be a problem, but since lvh.me is just a loopback (wildcard DNS), it shouldn't be a concern.

The only potential problem I see is that you're relying on someone else to maintain the lvh.me domain, so it could be taken down, but that seems unlikely. And there are other similar services anyway.

If you manage the CI server yourself, you could avoid the need for this, and manually update the `hosts` file, but if you're using hosted CI, e.g. CodeShip, then lvh.me is a reasonable choice.",1514515318.0
midasgoldentouch,"About to start driving, so this will be brief: you should never go straight from the problem to a text editor. Always take the time to write out, in plain English, how you will solve the problem. Be sure to drill down each step into more detail until you get to simple tasks. Then, from there start coding based on what you wrote.",1514478365.0
magnopoly,"This advice is coming from a Ruby/Rails developer who started coding 1.5 years ago. I was homeless (living on friends couches) and literally not even able to buy food for myself. 

If you have a job... you need to be spending literally every minute you have off coding. If you have big enough balls... you need to quit your job and start freelancing on Upwork, toptal, ect. Youd be surpriesed how much work you can get that just requires basic Rails/Web knowledge. 

I spend my first 6 months of freelancing doing anything. Tutoring HTML, CSS, and vanilla JS stuff. After that I got a long term contract job paying $16/hr just doing basic rails stuff for a rails developer with his own mini agency. When i say basic I mean like doing CRUD stuff, adding views, and just adding basic features. Most of the tasks could be performed pretty easily by adding gems so the hardest part was just learning to read documentation well. 

After that I actually got an unrelated job and within a week I had built a mini app for that job to make the work flow 1000% easier. My boss loved it. Gave me a raise and commissioned me to expand on the app. Got paid $17k just for that app. I know that is an outlier example. I don't expect you to be able to replicate that although you'd be surprised how many opportunities fall into developers laps. 

Now, 1.5 years later... I work for a small company getting paid $85k/yr improving and maintaining their ruby/rails web app. This job was a freelance listing on upwork for ""locals only"" as it was an non remote office job. 

I still look at code challenges and am like ""WTF is this shit"". On codefight.com I think I only passed the first 2 or 3 interview questions before I gave up because I cant stare at code challenges all day and still make money lol.  Code challenges test your ability to problem solve. Not your ability to make money as a developer. 

To become a good developer you need to be DOING. You need to be repeating tasks over and over. You need that repetition so that it becomes second nature. When certain things become second nature it is then when you can step back, take a breath. Once you know ""what"" to do you will intuitively start to understand the underlying ""how"" and ""why"" the code works. 

My final advice is to JUST BUILD SOMETHING. My first app was a craigslist scraper. Never made a dime with it. But learned TONS with it. 

Follow the Mike Hartl rails tutorial, (Just google ""Mike Hartl""). There he details how to build a twitter clone app. I never even finished the tutorial as I was so excited to have learned the initial things he teaches that I struck out on my own and built my craigslist scraper. 

Once you build a few apps for fun... you're ready for freelancing. 

One last piece of advice is to FIND A MENTOR and stop hanging out with deadbeat friends who are distractions. You need to surround yourself with beautiful minds and motivated people. Find your local Ruby/Rails meetup and go there to meet developers, ask questions, and get help on sticking points. Make friends with people there. Developers love to help other developers. 

Having an awesome mentor ended up being the secret sauce to me reinventing myself as a web developer because he instilled in me the roadmap to becoming a great developer. He also helped me through a few tough and depressing times and remains my go to guy when I need consulting on issues that are over my head. 

TLDR: You dont need to understand code challenges to be a good dev. I make a good living as a developer despite only knowing how to code for 1.5 years. You will get better by DOING. Personal projects, and freelancing are both things you can do as a beginner. Take the steps and you will level up. ",1514518943.0
tongboy,"just keep doing it, all the time.

when you don't know the answer find it out, rinse and repeat. remember the important answers, remember how you *got* the answers for the less important/obscure answers. It's about the process, not the exact code output.

You will *never* have every perfect code pattern answer to every question you're asked - don't plan for that. Work to *know* the basics, then the next level, then the next level.

I think this chart shows the way I think of it well:
https://i.redd.it/rj7uydgmp4601.png

problem solving - and to a major point code development isn't about knowing every specific part of the languge and how to use it to solve every problem. It's about building a toolbelt of knowledge. It's going to take a long time to make a great toolbelt but as you add patterns that work, or solve problems you're adding tools to that belt. A lot of that knowledge is knowing *where* to go to get the answer you need. SO and search are critically important tools for that. Knowing the right coworker or source code project to look in are other common paths.

now the next time you see a similar problem you'll know that you worked on one before and have a place to maybe start researching or code to go look at. As your experience grows you have more existing knowledge to reach for. When you're able to combine a few different related problems to synthesize a new potential answer or place to start for a new but related problem - you're problem solving.

All of those tools you build up over your experience dull with time - you need to use them to keep them fresh in your mind. anyone that switches dev languages or hasn't done a task for a while can speak to that. You'll still remember the fundamentals but you'll be rusty. IMO the best way to get good at problem solving is to dive in with both feet and get to work - trying to slow play or wander around the edges means you're missing a lot of the bigger problem you're trying to solve",1514480228.0
isaacpriestley,"One approach you might take to coding challenges is to take a problem, and solve it first using all the available resources, including Google searching for solutions.

Then, let some time pass and try to solve it again, without using any resources but your memory.

Note that, even when you're searching, you can first use a whiteboard or sketch out your ideas about how you might solve it. Then, if you're stuck, look it up and read an English description of how to solve the problem, rather than code.

Then try doing some work based on just the description of how to solve it. Then, you might try looking at solutions from a different language, but coding them in Ruby instead.

For example, if you take a problem like ""Reverse a linked list"", you might find something like this link:

https://www.geeksforgeeks.org/reverse-a-linked-list/

It begins with a simple English description of how to solve it.

> Iterate trough the linked list. In loop, change next to prev, prev to current and current to next.

So, you could code something up in Ruby based solely on that description, and see how close you can get.

Then, if you don't solve it, you could look at the Java or Python code and try to translate it into Ruby.

Then, sometime later, start a new solution and try to solve it in Ruby from scratch without consulting the web or your original solution.

Just a thought. Good luck!",1514481017.0
askamist,"I think you should stop worrying so much and go get a internship in Ruby on Rails. Watching these tutorials back to back won't help you much unless you actually start coding. 

Internship would be ideal because you will have a real world problem to solve and if you get stuck in something ( which you will initially ), you will have someone to help you, and watching someone one solve these problems would teach you more than any online tutorials.",1514482741.0
midasgoldentouch,"Stack overflow and Google aren't necessarily bad, either. Before we can say if that's good or bad, we'd have to see exactly what your search queries are.",1514478438.0
nickjj_,"Breaking down a problem into a smaller problem is a universal way to make troubleshooting and building things easier.

In your case of ""how to utilize Ruby to solve a problem"", the first thing you could do is rephrase that into ""how would I solve this problem?"".

Like, what's the problem in the first place? Do you fully understand the problem? If not, [try talking to a Rubber Duck](https://nickjanetakis.com/blog/solve-programming-problems-with-rubber-duck-debugging) and fully explain your problem to it.

Sometimes not having a clear definition of your problem is the real problem, and talking or writing it out will help you there.

Now once you fully understand the problem at hand, you can begin to dismantle it. For example, ""building a billing system"" is a pretty hard problem at a first glance, but if you spend a while breaking it into identifiable smaller problems, then it becomes approachable.

For example, one part of a billing system is accepting payments. Ok, so now your mission is to figure out what's available for accepting payments. Ah ok, Stripe fits well here, so now you can read up on using Stripe's API to accept a payment. That's cool, it's almost like your mini-problems are actually things you could search for in Google.

Anyways, before you know it, you have this list of well defined small problems. Once you do this a few times, now you're left with ""use Stripe's Charge API to take a user's credit card and create the charge"". That's super defined and very approachable. You've done the ""hard work"" and now the easy part is implementing it in Ruby.

I wrote about this topic a bit in [breaking down problems is the #1 software developer skill](https://nickjanetakis.com/blog/breaking-down-problems-is-the-number-1-software-developer-skill) article a while back. You may want to read that and also download the free 30+ page PDF that walks through breaking down building any large application with any framework.",1514578670.0
amplex1337,"EDIT: Sorry, I'm new here to r/rails but I have been coding since I was young.

I think the biggest task with learning how to problem-solve is learning how to compartmentalize or break down one large task into smaller tasks that all can be executed separately.  Basically this is the art of programming.  Sit down and start with pseudo-code to break apart how you would conduct each step of the path to get to what you want.  If you can't do this, you cannot solve the problem.  You have to understand the problem before you can solve it.  And like others have said, don't ever start out with code unless its something very tiny.  I used to use GCC instead of a calculator to solve math problems in college, at times.  This was a very good habit to get into as it helped me excel later on in breaking down problems mathematically.

It is hard to know exactly how to go from writing simple code to architecting great solutions, but it doesn't mean you shouldn't try to practice breaking apart small problems.  Try to automate as many things as you can.  Try to break problems down to a point where the things you've learned along the way can be applied.  Sometimes this process might take longer than the actual coding.  As applies to many things technology related, often times Perfectly defining the problem is what truly leads the way to providing the correct solution.",1515102055.0
nwss00,"Sounds like a case of rote memorization rather than true understanding.

Move beyond HOW to do something with code and genuinely seek to know WHY a certain piece of code works the way it does.

Go back to those coding challenges, CodeWars, HankerRank, CoderByte, etc.... and keep doing them until you've reached some challenges you can't do. 

Search Google. Search StackOverflow. Find the answers but stop casually glancing at them and then moving on. Rather truly understand the answers. Peruse the answer line by line. Read the comments and responses to further ingrain comprehension.

Once you know why and internally understand the big picture, you wouldn't need to memorize anymore but have enough confidence in yourself to figure things out. That's when you've become a real problem solving developer.

Focus on the why.",1514486560.0
schinze,Rails is a web framework. What coding challenges do you want to do with that?,1514495775.0
RobertHopman,"perhaps this is useful (especially the course, learning how to learn is thorough)

https://tech-craftsmanship.zeef.com/roberthopman#block_122022_-meta-learning",1514740394.0
Serializedrequests,Just build something. Coding challenges have nothing to do with getting paid. You need to show you can make something that works.,1516032455.0
,Let me know when Gringotts gets sued by the harry potter folks,1514398577.0
,[deleted],1514393798.0
Bakku1505,"This is actually were Ruby on Rails excels in my opinion: small business software with a limited user base. You won't really have to care so much about the optimization of your app in regards to performance which are normally the disadvantages of Ruby, and you still get all the advantages like quick development speed, easily change and develop new features, ...",1514459809.0
andy9775,"It depends on the functionality but rails is pretty robust. It's all about the architecture and code quality in the end. Also, you could always scale out if performance becomes an issue. Look into using docker and swarm. As for DB, if it's a read heavy app you can always create read replicas and scale those out. If you need replicated databases look into cockroach DB (note that I haven't worked with it. Postgres is usually robust enough for me) 

Lots of variables outside of language, remember Facebook is built with PHP. Rails is great because of the community and eco-system, plus development times are quick. ",1514397069.0
softcactus,won't even impact your cost of vps,1514424015.0
morphemass,"1) It depends on the work but in general its immaterial. 

2) If there is already a simple desktop application then the developers will have more than likely optimised a lot of the hidden problems. They will also be able to offer support.

3) A database is not 'run' with Ruby - the database is independent and the ruby/rails application is a client of it.

4) Ruby has pretty poor bindings with desktop UI toolkits (in comparison with other languages).",1514460904.0
yeskia,Didn't they can the `bundler` inclusion just before shipping?,1514335540.0
andey,meanwhile i'm still waiting for 2.4 support on AWS elasticbeanstalk ,1514323506.0
andygauge,"So rvm list known doesn't list 2.5 yet, correct? (Ubuntu)  Just making sure I'm doing this right.",1514392019.0
geraldbauer,"FYI: I collect [Ruby 2.5 News Bytes](https://planetruby.github.io/advent2017/ruby25) at the Ruby Advent Calendar 2017. For the record so far:

- Standard Gems 2.5.0 - Default Gems, Bundled Gems / by Jan Lelis, Idiosyncratic Ruby
- 10 New Features in Ruby 2.5 / by Junichi Ito, Ruby programmer @ SonicGarden.jp
- 10 More New Features in Ruby 2.5 / by Tom Lord, Software Developer from London
- Performance Improvements in Ruby 2.5 / by Jesus Castello, Ruby Guides
- yield_self in Ruby 2.5 / by Micha≈Ç ≈Åomnicki
- Improved stacktrace display in Ruby 2.5 / by Micha≈Ç ≈Åomnicki
- Ruby 2.5 Series / by Amit Choudhary, Mohit Natoo et al @ BigBinary
- What's new in Ruby 2.5 / by Nimmy Vipin, Red Panthers
- Ruby 2.5 is out - Let's benchmark / by Thomas Leitner, HexaPDF
- Changes in Ruby 2.5 / by Kir Shatrov, Production Engineer @ Shopify
- What's New in Ruby 2.5? / by Nithin Bekal, Programmer from Ottawa @ Shopify
- New Features in Ruby 2.5 / by Rodrigo Ponce de Le√≥n, Ruby developer @ WyeWorks",1514540693.0
7urkm3n,"Seems like, 2.4.3 will be finalized in the family of 2.4...",1514855834.0
DehydratingPretzel,"Honestly something like Trello would suite you guys well.

Just keep a Kanban board that you both agree on the backlog and then knock out the work. Keep it simple. ",1514329705.0
bralyan,"Why Agile? It sounds like any approach would be great, but do you really need a PO and Scrum master/coach? Are you just going to do those roles as devs?

Honestly just shoring up your automation tests, unit tests, and getting clear reasons to build what you are building helps. You might naturally fall into agile, or you can help push them towards agile. Do what works for you.

I really hate being in meetings where I get no value. So be careful of standups, retros, revirlews, refining, planning, and whatever, when you have 32 hours of time a week.",1514325737.0
tongboy,"Agile has a lot of benefits, there are also a ZILLION takes on different ways to do agile or agile-like things.

in general what you need to balance is productivity and process. 'orthodox' agile IMO has more process then productivity - this is especially true on smaller teams.

quick daily reviews to make sure people aren't trampling on each other and things like that are great in any size team, the rest of the agile processes are pretty heavy handed on a 2-4 person team.

If you have 5% test coverage, yeah, uh, no amount of process is going to fix that.

You need to put up guard rails so new people are confident they aren't breaking things and can instead spend time adding new features. With 5% test coverage people have ZERO assumption anything they change/refactor won't cause critical issues. That slows down people getting features out right away and *always* reduces your teams throughput. You need to fix that before *anything* else.

Take those 16hrs/week and throw ALL of them at test coverage. Even basic 'this code got run'. is better than 5% test coverage.

Once you've got that under control you'll probably have more time available to look at improving forward velocity and that might be the right time to look at some more stringent process/planning like agile.",1514327099.0
RobertHopman,"Not sure if I can use swearing words here on reddit. But don't think in ""jargo whatever agile lean bla bla phrase"" approaches.

State the desired outcome for your project. e.g. get test coverage at 50% by date xyz.

State the next visible action you can do move the project forward. 

Do that action.

repeat, what is the next visible action you can do to move the project forward? 

Now give this same question to the team.

Communicate as little as possible, but make sure everyone is aware of the urgency.

Work with trello is my suggestion. But perhaps even your github issues is enough.

Less overhead (formal structure) and more output (depends on the desired outcome for the project).",1514377967.0
leetae9,"Ooops. I think I know why. It should be ""0 17 * * 1-5"" not ""* 17 * * 1-5""",1514276736.0
_matthewd,"The USAGE content you found is used by [this](https://github.com/rails/rails/blob/46adb59b3474351e95ddc2357e67d169d6ffec51/railties/lib/rails/command/base.rb#L29) + [this](https://github.com/rails/rails/blob/46adb59b3474351e95ddc2357e67d169d6ffec51/railties/lib/rails/command/base.rb#L105), and more generally by [the `help` command](https://github.com/rails/rails/blob/46adb59b3474351e95ddc2357e67d169d6ffec51/railties/lib/rails/commands/help/help_command.rb) right next to it.

The other 'real' commands correspondingly live in other subdirectories of [rails/commands](https://github.com/rails/rails/tree/46adb59b3474351e95ddc2357e67d169d6ffec51/railties/lib/rails/commands)

But that's only the commands that are implemented internally (using Thor); the rest of the tasks (which are the ones you're seeing from `-T`) are from Rake: everything that's not a known internal command is passed over to rake in [`Rails::Commands#invoke`](https://github.com/rails/rails/blob/46adb59b3474351e95ddc2357e67d169d6ffec51/railties/lib/rails/command.rb#L46). The `-T` option itself is being handled in that way: it accidentally (IMO) works because it's a valid `rake` option, not because it's directly handled by Rails. Notice that things get weird if you do `-T --help`: it confusingly shows you *rake*'s help.

---

Apart from searching backwards from the USAGE file, the way to get there would've been to follow [`bin/rails`](https://github.com/rails/rails/blob/46adb59b3474351e95ddc2357e67d169d6ffec51/railties/lib/rails/generators/rails/app/templates/bin/rails#L3) -> [`rails/commands`](https://github.com/rails/rails/blob/46adb59b3474351e95ddc2357e67d169d6ffec51/railties/lib/rails/commands.rb#L16).",1514281233.0
joesb,Is MyModule in autoload path?,1514265534.0
noodlez,"Does ""all of a sudden"" imply that they *were* working but are not now working?

What is the file path for these files? Just to make sure?",1514267792.0
my_toesies,Is something in the development.rb file not loading that file? Maybe your root path is defined differently in the development file?,1514257172.0
ferris_is_sick,I can‚Äôt imagine creating a decent EMR from scratch regardless of platform. It‚Äôs one of the hardest UX problems in software. ,1514231417.0
TanyIshsar,"I work in health tech. We have what I like to call the 'claims problem'. It's like the rocket problem in that you have to spend some asburd multiple on data validation & ingest for every single feature you deliver.

Having said that, your biggest problem is almost certainly going to be data quality.

* Implement a layered ingest system that allows you to isolate out custom transformations cheaply. This will let you give good estimates when someone walks in and says ""<Major Client 22> doesn't have SSNs, they have SSNs interspersed with x's and leading zeros. We need this in the system by yesterday."".

* Implement tracing and granular monitoring from the get go. You'll need to answer questions like ""Why is patient X for customer P in district T on doctor 8's screen not showing real time blood pressure?"". So make sure you can identify what all the variables are and push that burden off to support.

* Security sucks, but needing to test in PROD *AND* deal with security obligations is worse. Containerize from the start. You shouldn't go to market unless you can spin up an identical to production cluster at the click of a button. This will allow you to avoid all the super costly paperwork of debugging in PROD 9 times out of 10.

* UI/UX for EMR is brutal. 'Customization' sells, but can obliterate good architecture in under ten seconds. Don't fly into this blind; pressure the business to survey at least a few dozen prospective clients with questions designed around validating the business value of customizable UIs. It might be worth building an architecture that supports a UI that can be configured by the clients via a drag and drop experience. Or it might be a complete and utter waste of time.

* Recognize that this industry is B2B2C. Your Company sells to Hospital/Hospital Group who sells to Doctor/Nurse/Healthcare Victim. This means you're going to have a LOT of analytics requests flowing in from your clients (the hospitals/hospital groups). Keep that in mind as you design your data model and invest early in ETL or other replication strategies. You don't want the analytics team poking around in your production master. The slow query log will make intercontinental cruises look fast.

* You're B2B2C, this means your company **WILL NOT SUCCEED** unless doctors/nurses/sick people like your UI/UX, however they don't pay the bills. This means you will have to balance competing requirements from the B and the C sides. The B side should win every time there isn't a clear detriment to the C side.

That's all I got for ya, sorry I couldn't be more helpful. Merry Christmas!",1514239967.0
L1st3r,"It's very doable, just make sure you design it with HIPAA in mind from the start...",1514233064.0
AmishPanda00,"Healthcare is incredibly complex.  If you're trying to build a magic bullet solution for all hospitals, providers, or clinics you'll get bogged down immedieately. 

Try to focus your customer base as much as you can. Each county, state, and insurance provider has radically different needs and business processes. 

I'm hoping healthcare will fall in line and learn to get behind a unified standard like Epic has been pushing.  Try to follow Epic's footsteps and only sign a contract when the customer has hired the proper it staff. ",1514239570.0
Hes_A_Fast_Cat,In terms of scale I don't think you'll have any issues if this is limited to a single hospital or a few facilities. ,1514234761.0
ccb621,I would start with an open source core and build around it. Starting an EMR from scratch does not seem ideal. ,1514253984.0
lshevtsov,"Is it possible? Obviously yes. Is it practical? I think not.

I think everything in a Rails app that‚Äôs not request processing, presentation, or storage/retrieval should go to its own layer or layers, `app/services` being the most simple of them. There is no rule that you have to cram the app into Model, View, and Controller.",1514207165.0
tadrinth,"Service objects didn't exist when Rails was first created. They were invented as a way to keep models and controllers from filling up with complicated business logic. So yeah, you can write s Rails app without them. Can't say I recommend it though.",1514213558.0
bradendouglass,"If you happen to be working with a team that has a solid understanding of the different plain old ruby objects that exist in a Rails code base, you could call this app/{poros,objects,business,etc} .

To be honest I am not a huge fan of the services folder because it becomes a dumping ground for random classes. Delineating these by PORO type under this directory makes life way easier. ",1514215488.0
noodlez,"""Service Objects"" are not a part of rails core.  They're a design pattern / software engineering practice that the rails community has agreed upon as best practice.  But not necessarily universally.  There are numerous large projects and gems out there you can see that don't have service objects.

So yes, you can.  ",1514222096.0
infernal_toast,Services are wonderful for writing tests against because they  sort of force you into a functional programming style . They are just a nice tool ,1514221178.0
so_just,"Technically, yes, you can. Practically, god forbid you from doing that at any medium-sized application.",1514216988.0
joelajackson,"Check out the solidus project. It's a fully functional e-commerce system used by several great sites without any service directory. More than that the code is very legible and with any basic understanding of an ecomm data model very easy to read and change.

I've always been an advocate of a services layer, but no matter what you do sticking to connections with good factoring can create a great codebase.",1514219267.0
in0pinatus,"Martin Fowler on service objects:

> The term pops up in some different places, so it's hard to know what it means without some context. In PoEAA I use the pattern Service Layer to represent a domain-oriented layer of behaviors that provide an API for the domain layer. This may or may not sit on top of a Domain Model. In DDD Eric Evans uses the term Service Object to refer to objects that represent processes (as opposed to Entities and Values). DDD Service Objects are often useful to factor out behavior that would otherwise bloat Entities, it's also a useful step to patterns like Strategy and Command.

So by all means use them - but don't fall into the trap (that we've seen all too often) of making them a PHP-like junk-drawer for procedural code. The better alternative is almost always a rich domain model in which behaviour emerges from the composition of the objects.

See also https://www.martinfowler.com/bliki/AnemicDomainModel.html",1514444625.0
kobaltzz,"I've been using ActionCable in production for some time now and it does work. However, I don't know if I would consider websockets really reliable as if the data was not received then the message will not be sent again. I also think that polling is underrated. If the application is simple enough and has low enough traffic, there isn't any reason to add the complexities of websockets. Though, if you are serving data from websockets, also make it retrievable on a screen refresh.",1514160640.0
tb_fm,"ActionCable works great! I use it in multiple production apps. It has a great structure on how it uses the Websocket protocol! If I were you, I would give it a try.
For what do you want to use it?",1514302618.0
Paradox,"Might try https://github.com/rstacruz/npm-pipeline-rails

It attempts to do webpack-rails in a manner more like how Phoenix handles it",1514050248.0
zenzen_wakarimasen,"I guess that all you have to do is to deploy another server like your current webservers but, instead of running `rails s`, you should run only `bundle exec sidekiq -q default -q mailers`.

No need for special configuration but, of course, you will need a Redis server that your worker and webservers can see. 

On the other hand, if you want to be able to access the dashboard, you may need to launch the web server in the worker machine as well. ",1514010682.0
kobaltzz,"You basically do the same deploy as you normally would for a web app. You can exclude the nginx side of things since it will not be accepting web requests.

You are correct though, it is good to separate them out in the event that the sidekiq worker crashes the server. This way the web site stays up with some degradation. 

I made a screencast on Sidekiq on Production some time ago. It should help get you part of the way there. https://www.driftingruby.com/episodes/sidekiq-on-production",1514011448.0
,[deleted],1514122486.0
,What are the reasons to do this? Do you a reference? ,1514071528.0
schepps,yes,1513980635.0
,[deleted],1513988456.0
3vol,Sure. You're gonna need some front end tools to go with it though.. ,1513984041.0
DamaxOneDev,"Yes, shouldn't be a big challenge",1514009216.0
headykain,Likely JavaScript.,1513983671.0
glappen,"The only solution I can think of is to generate the file, save it as attachment (with paperclip or carrierwave) or just save in public docroot directory, and return file url as part of successful response.  Javascript can handle successful response, close modal, and then set window.location to file url to start download. ",1513993613.0
janko-m,[Axios](https://github.com/axios/axios) is a JavaScript HTTP client library that can track download progress.,1514033321.0
4rch3r,"There are two ways of doing this that I'd recommend.  One is as you mentioned using STI, the other is using a polymorphic database representation.  I can only tell you what I've experienced of the two and you'll have to decide based on your problem:

STI:

    Pros: 
    * Simpler implementation in general
    * Less references cross database (difference is stored in-table as 'type' column)
    * Easiest implementation of a standardized interface
    ------
    Cons:
    * Adding a column to the supermodel adds it to ALL inheritors
    * Features from one model tend to be reused incorrectly inside inheritors if not watched carefully (oh this 'event_date' column isn't being used for this STI type... let's just use that for the timestamp instead of adding a migration!) 
 
Polymorphic:

    Pros:
    * Completely independent data storage in tables 
    * Clearest differentiation of models prevents most issues with one affecting the other
    ------
    Cons:
    * No interface required so you definitely can shoot yourself
    * References are cross database (can be harder to track down what you're looking for)
    * Requires more research to get efficient ActiveRecord queries (read more likely to write your own SQL)
.

Happy Holidays!",1513965568.0
tf2ftw,"The best way is to not do it. Duplication is much better than the eventual cluster of ""WTF?""",1513979892.0
bostontrad,Text them an authorization code that they need to put in when they take an exam. Basically 2-factor auth.,1513904348.0
TheDPQ,"FYI Many people would never give up their SSN, even in part, unless you were their bank, their employer, or someone they have financial business with like a loan. ",1513910608.0
edgen22,"Any reason why you need to verify beyond the initial account creation?

If you verify the user identity at the start, that's all you can reasonably do for good-faith users.

Anyone not in good faith, i.e. wanting to have someone else do their videos/tests, are going to get around any of your ""tricks"". Last 4 SSN? They'll give it to their friend. 2-factor auth? Forward the text to their friend. So on and so forth.

I believe the only practical way to achieve your goal is to give them their online training materials, and online practice tests - but to be certified the person has to go to a physical testing facility.

There are facilities that specialize in providing a secure physical testing location, where they will require ID, put electronics in lockers, etc. I went through this exact process before for getting a state life insurance certification.",1513929018.0
tb_fm,Use [Netverify](https://www.jumio.com/trusted-identity/netverify/)! Services like Stripe use it.,1514303443.0
cbrenner265,"What‚Äôre you using for authentication? Devise has a `confirmable` configuration which requires the user to confirm there email address. Given email address is unique, if the user proves ownership by confirming it, I would think that would be enough. Two factor authentication, as suggested above, could take it a step further. ",1513930845.0
redronin7,"There is a big difference between dev mode and production (take a look at development vs production files in the /config directories) - things like asset compilation, logging, caching, etc are widely different between dev and production.

You definitely want different db for dev and production, and also where you deploy production will be different than from where you deloloy to production. You can‚Äôt just turn your dev server into the production one because once you are up and running in production, how will you develop and debug new code you develop if you don‚Äôt have a separate dev environment?

There should be lots of tutorials online about deploying a production rails app. 

",1513888570.0
DehydratingPretzel,"Take the time and properly learn how to use something like passenger or unicorn with ngninx/apache.

Dont do what you are suggesting just to get it out. Take the time and learn.",1513887652.0
DehydratingPretzel,"Other note, check out codeship! They have Ruby on Rails out of box.",1513887676.0
Rafert,"> I also notice that by default Rails gives errors that show controller code in it etc... very helpful but could be useful information for a hacker as well..

A modern Rails app has the `web-console` gem (that grey box at the bottom of the page) which is basically remote code execution. Useful for development, absolute recipe for disaster in production.

> All the tutorials I watched were purely in the development environment etc, never mentioned if there was a difference to a ""production"" environment app.

Like others mentioned, there are plenty of tutorials out there that focus on this part of the story. For a lot of people the hardest part is to get anything working *at all*, so you're a little bit ahead.

Covering complete app development lifecycle (including [deploy to production](https://www.railstutorial.org/book/beginning#sec-deploying)) is one of the many parts I like about Michael Hartl's tutorial.",1513895402.0
kobaltzz,"You really should do a proper deployment. If you're app is doing anything sensitive (like user authentication) then you should always server over HTTPS. Also have a look at a product like Sentry for tracking errors.

Checkout [screencast](https://www.driftingruby.com/episodes/production-deployment-on-ubuntu) for an example.",1513885062.0
paneq,Did you try adding `layout: false` ? Is that what you are trying to achieve? What is the problem? The text not being rendered or the rest of your layout appearing?,1513874336.0
wikitih,"If you're using Rails 4.1+, you should consider using `plain`:

    render status: :forbidden, plain: <<-WORDS.squish
      Our financial partners have blocked your account. There is no appeals process, sorry for the inconvenience.
    WORDS",1513876919.0
MrPopinjay,"My background is full stack. On the frontend it's been mostly vanilla JS for a few years with a large-ish Angular 1 project in the middle, then a year of working in a React JS consultancy, and now I'm doing Elm.

Of all the frontend tools/frameworks I've used Elm is by far the one I am most willing to endorse. It's very similar to React/Redux but not using Javascript allows them to avoid many of the pain points. I absolutely adore working with it because of this.

Currently we're introducing it to our Rails app at work and it's going well. The backend Rails folk seem to find it less off-putting than the previous Javascript.

It is an alien looking functional language to many people so it can be a bit tough for unfamiliar people to get started with, but it's optimised for learning so it doesn't take long. It definitely helps to have someone with good FP experience on hand to help.

Big thumbs up from me.",1513859693.0
andrzejkrzywda,At Arkency we have started experimenting with Elm. For now we‚Äôre building an event browser in Elm as part of our RailsEventStore ecosystem. We will share more of our experiences soon - so far it‚Äôs very cool. https://blog.arkency.com/decoding-json-with-unknown-structure-with-elm/ describes some of our experiences,1513855916.0
BobWhitelock,"I've been using Elm as part of a larger Rails app recently at work. Only part of some pages is written in Elm so the Elm app is both embedded in a normal Rails view and communicates with a Rails API.

I've been using webpacker to handle building the Elm part, which works pretty seamlessly, but I'm sure you could also just compile your Elm independently of Rails if you're on an older Rails version or just want them to be less integrated.

The [elm-rails](http://package.elm-lang.org/packages/NoRedInk/elm-rails/6.2.0) package also provides some convenient functions when communicating between Elm and Rails.

Aside from getting Elm to build integrated with your Rails app (if you want this), communicating between the two, and having an Elm app somewhere as all or part of you view, none of which are particularly complicated, it's pretty much identical to writing any other independent Elm and Rails API apps.",1513901451.0
FauL0x,"It's really amazing, a lot of really good ideas. Setup with Asset pipeline was a bit of a pain in the ass, but with webpacker it's super simple. ",1513884756.0
morphemass,"Its promising however I would not describe it as production ready given my first project hit an 'impossible to happen' bug with the type system. Another year or two, and actual framework which mitigates some of the JS reliance and maybe.",1514505750.0
tomkadwill,What type of environments are you deploying to? My projects all use AWS so for me the AWS developer cert was a good place to start,1513795528.0
ylluminate,In your journey you might want to poke Nanobox. It's really quite slick in terms of simplifying the landscape and making a Heroku-like experience truly tenable on different platforms. ,1513796113.0
nickjj_,"You might want to look at orats https://github.com/nickjj/orats.

I wouldn't say it's ""devops"", but it goes over how to Dockerize a Rails app, which in turn could make it easier for you to start developing and deploying your Rails apps.",1514577586.0
iterate_the_future,This is a great idea! Im still at the user validation stage of my personal project but ill definitely be posting here once I've got enough to show.,1513799620.0
africajam,"1. PropertyWebScraper
2. Web app/service for scraping property listings from real estate portals.  Also working on functionality to connect to MLSes (Multiple Listing Services)
3. Rails and a little bit of vuejs
4. https://real-estate-web-scraper.herokuapp.com/
5. https://github.com/RealEstateWebTools/property_web_scraper
6. 6 plus years with Ruby and Rails
7. Does anyone know if there are legal implications with releasing code that can be used for scraping websites?",1514031563.0
Brettilette,"1. Instagram Auto-scroller
2. A bot to log me in, search any hashtags I want, and then scroll through the feed.
3. Rails I think?
4. N/A
5. N/A
6. Beginner, Just started today but I have a few years of coding experience in other areas.
7. So far I've been able to get the login and searching a hashtag down. What I cant do is get it to click a picture and then begin scrolling through the feed. Any advice?",1514492580.0
bhazeltn,"I'm looking for some feedback/recommendations for my project.
Wall Of Fame - a website that will be used by a figure skating club to recognize achievements such as a club record score, grade of execution on elements, club awards, test achievements, and other areas.

This is done in Rails with a bit of javascript to help out.

[Live Site](http://calalta.walloffame.ca) | [Github](https://github.com/bhazeltn/wall_of_fame)

*I'll try to get my test/development site back up and add the link as it has some changes from the live site as well you can log in as admin and see the areas that are hidden because there is no data for the live site.*

I'd call myself a beginner level - mostly because I have no formal experience and this is my first attempt at doing something beyond basic tutorials.

I am doing a complete re-do of the site. I feel there is a better way to do almost everything I did!
",1514573456.0
corytheboyd,"On the subject of searching for answers, I have a few additions.

Make sure anything you reference is not too dated. You can filter search results down to the last year in advanced search options.

When dealing with an issue with a technology you are using, let's say postgres for example, don't be afraid of the official documentation. Official docs can be a bit terse at first, but may help you learn more useful information around the domain of your problem.

When referring to GitHub readmes, make sure you know what version of the gem you are using. By default, the source of the readme will likely be for a version ahead of the one you are using, and if important APIs changed across major versions, you will have to go back to the version of the readme for the version of the gem you are using.

These are just some things I have learned over time, also applicable outside of Rails and Ruby, of course.",1513787127.0
acconrad,"So I didn't realize this until like last week, but apparently Fowler has a [Ruby version](https://www.amazon.com/Refactoring-Ruby-Addison-Wesley-Professional-ebook/dp/B002TIOYWG/ref=mt_kindle?_encoding=UTF8&me=) of his classic _Refactoring_ book, so it will be obviously way more relevant to you folks to grab that edition.",1513791342.0
wikitih,"I would love to see this post as a complete article: _""Learning how to program the right way""_.",1513775512.0
felondejure,"What worked for me and currently working very well is : 
1. Learned what is where and why

2. Leave out scaffolds and do generations manually

3. See how modules work and what Rails consists of‚ñ™this was the most enlighting one as here its clicked how everything flows in rails

4.do small projects such as blogs, small ecommerce shops

5.be very proficient in crud and simple associations

6. Build a small cms

7. Get a book by Sandi‚ñ™object oriented design ruby

8. Start reading book Rails 5 way ( this is absolutely amazing book as i dont think its beginners book and i consider it very comprehensive reference to rails) if you finish the book from start to end even without spending too much time on each chapter you will learn so much, not the stuff to do but only stuff that you know exists in Rails and where to look when you need to leverege it in need

9. Complex projects such as messaging, imports thorugh background jobs, postbacks, implementing apis like paypal, stripe. 

10. Going deeper into configurations, overriding standards, working with AWS ( a bit of topic but still im refereing overall web dev) 

11. Recently starded to look into using Rails in a modern way

12. Emraceing javascript, use of webpacker with rails 5.1, yarn pm in rails, 

13. Building Rails API backend, served for Vue.js at the front 

14. To be continued until mastery)",1513819290.0
,"What I'd be interested in is what people think are the best guided tutorials.  

Be it Hartl, or Lynda, or a course you took on udemy, what do you think are the best learn as you go tutorials?

",1513988126.0
paneq,"`puts 'say hello if you reach here'` is not reachable on friday. The exception bubbles up and it is swallowed by `Book.transaction`. 
Check out the implementation here to understand what's going on https://github.com/rails/rails/blob/188c4bb4a231805933291dab4689bcf0d118f4b5/activerecord/lib/active_record/connection_adapters/abstract/database_statements.rb#L228",1513768892.0
seriouslyawesome,`influncerlist.io` is that a typo? Should it be `influencerlist.io` (with an `e` after the `u`)?,1513720633.0
,"What happens when you follow the instructions for RVM users?
",1513718857.0
MidnightsFX,"Are you using Capistrano to manage your webapp? Passenger? Or Apache?

It looks like your app is trying to start through passenger for Apache.

If that is the case you need to have defined a virtual host with: `PassengerRuby /home/deploy/.rvm/gems/ruby-2.4.3/wrappers/ruby`


This allows the passenger loaded to load the correct ruby.",1513720362.0
annaswims,Try running the setup command (sorry on mobile) I think it‚Äôs something like cap production deploy:setup.  Looks to me like it‚Äôs trying to backup the assets manifest and that‚Äôs only there after your first successful deploy,1513812073.0
zenzen_wakarimasen,"Unless you have a huge amount of traffic or some kind of exotic infrastructure, just move to Heroku and spend your time programming features that will deliver business value, instead of babysitting servers. ;)",1513771334.0
ADude05,Check out nanobox.io ,1513717540.0
ld100,"Using docker with docker-compose for local development. Deploying apps into appropriate Kubernetes clusters on EC2.
I've used KOPS to set up initial kubernetes clusters, but now Amazon has dedicated kubernetes service, so KOPS is not needed anymore.

Also I've made some build/deploy scripts (using Rake) on top of docker/kubectl to simplify deployment, using those scripts in conjunction with TeamCity for continuous deployment.

This solution covers first 4 of your requirements. For 5 you still need to use own monitoring solutions or integrate Amazon ones (or other vendor). For me it was quite easy to just use separate docker images for Prometheus/Grafana/Etc and integrate it with apps both in development and staging/rpdocution environment.

Kubernetes looks like an overkill at first, but once you've learned how to use it once - it is quite straightforward afterwards. Docker-swarm is an easier, but less flexible alternative.",1513722229.0
tongboy,"codeship with elastic beanstalk gem to deploy to elastic beanstalk.

deploys are about 5min - most of which is spinning the new ec2 box",1513733016.0
infikitsune,"I'm currently using Docker Swarm running on servers managed with the ""Docker for AWS"" CloudFormation template. In general I'm very happy with the level of automation it provides and the ability to deploy quickly and smoothly, however I've had the unpleasant experience of the entire swarm being rendered permanently inoperable when I chose to rebuild each node in the cluster to update their memory configuration, which makes me hesitant to recommend it at this stage.",1513759214.0
fernandomm11,"I tried to switch from Capistrano to Docker several times in the past 2 years but I always had problems. Ej.: no downtime updates require a bunch of extra work while it's pretty simple with Capistrano.

There are also a lot of others things that are very easy to do with Capistrano but hard/complex to solve with Docker when we're talking about Rails applications: conditional migrations, conditional assets precompile etc.

I decided to use an hybrid approach which works really well for my company.

Nowadays I'm using docker as a provisioning tool. Meaning that with docker-compose I will setup the database, redis and everything else that is required by the application as well as a web container with SSH enabled.

Then I use Capistrano as a deployment tool and point it to the web container. I get all the benefits from Capistrano regarding Rails deployment and still get some of the benefits from docker.

It's very easy to prepare a new infrastructure in case I need to do some testing or migrate to another service/DC and I didn't had to spend time writing bash scripts to replicate with Docker what Capistrano does really well.",1513782592.0
PickMeMrKotter,`git push heroku master`,1513803332.0
v_krishna,"we do jenkins + docker + rancher on ec2. 

our ops team is looking into switching to kubernetes (still with a rancher ui layer on top of it I believe)

my experience is it makes things MUCH simpler than trying to do cap to ec2 (where ec2 is setup with, e.g., chef) or using jenkins + packer to do blue/green on ec2",1513721928.0
tomkadwill,"My company use Docker + ECS and Gitlab to manage the build pipeline. Works well for us. Although, debugging issues with a container can be a pain",1513759808.0
stlewis1121,"I've been using AWS OpsWorks for a good while now, with pretty good success. Upsides for OpsWorks is that it checks all your boxes, _and_, since the provisioning and deployment scripts are using Chef, they're written in Ruby.

Downside is that OpsWorks, especially if you don't have a fair bit of DevOps knowledge, can be a bit of a climb in terms of learning curve. Some of that can be remedied by ready-made Chef recipes that are freely available, but some of it is just figuring things out the hard way.",1513968699.0
vinsonandmassif,hatch,1514423919.0
__main__,"Is getting to this specific application the biggest issue this company will have if the internet is down?

I‚Äôd look into a cheap backup internet option if their core business requires them to be online all the time (which most people do these days).",1513761669.0
bralyan,"Cache changes until the network comes back in the app. Assuming your app is something on a phone and not a web browser. If it's a web browser, tell them to wait until their internet is back, that's all you can really do.",1513710928.0
fp4,If the app is only accessed internally then hosting it internally instead of Heroku would seem to be the solution to me.,1513718309.0
annaswims,Take the afternoon off?  Cellular hotspot?,1513735703.0
JimBoonie69,"In my case at work, u are shit outta luck haha. Good luck copying terabytes of shit to your local machine! If we cant get to AWS, we arent doing anything lol",1513738204.0
equivalent8,"I've created the article in 2014 but done large update today on 50% of the content so resubmitting it, it may be useful for someone ;)",1513687388.0
wikitih,"Two notes:

* You probably forgot to assign your `body.map { ... }` value to some variable to use it in `_post`.
* I think you're doing it the right way. If you want it to be more clear, simply create a new method.

Something like this:

    def send(body)
       uri = ""v1/sender/send""
       _post(uri, profile_body(body))
    end

    def profile_body(body)
      body.map { |item| item.merge({ profile_key: config.profile_key} )}
    end",1513677842.0
caadbury,"You should check out tools like brakeman, RoboCop, reek, and other linters that can objectively point out common security and code formatting issues. They won't catch everything but they can hit the low hanging fruit.",1513688295.0
andyw8,"There's also a Code Review area on Stack Exchange:

https://codereview.stackexchange.com/questions/tagged/ruby",1513697877.0
coderhulk,I‚Äôd be interested in helping get something like this going,1513686047.0
qubitam,I do love to give you a hand with this project as am learning too. ,1513686564.0
fewer_boats_and_hos,I'll second Brakeman.,1513701861.0
midasgoldentouch,r/codereview,1513710983.0
real_fanpuns,I would like to participate in something like this. I learned to code about a year ago and work largely on my own so I don't get a lot of opportunities to interact with other devs. I just wrote my first engine and would really like feedback from someone with more experience. I'd also be happy to section out time and give feedback.,1513773661.0
kobaltzz,"Try to escape the javascript. (Added a `j`) in the render line.

`$(""#points"").replaceWith(""<%= j render 'points' %>"");`
",1513644829.0
sizl,Rerendering should be done in JavaScript. ,1513644518.0
wikitih,"Could you please share how are you doing this?

> I have a button that does a controller/jquery call.

",1513678058.0
GroceryBagHead,"Rails is in a weird spot right now. It's either old sprokets, sprokets with yarn/webpacker or just disabled sprockets with whatever you want to hand-roll. 

You can't automatically pull in asset dependencies from engines into the main app via webpacker: https://github.com/rails/webpacker/issues/348 You can still use yarn/webpack inside the engine and then generate stuff into /assets that you publish with the gem. But that's not what we really want though. 

This is what's happening with ActiveStorage: https://github.com/rails/rails/tree/master/activestorage You got /app/javascript but it's there just so it gets compiled into /assets/javascript by hand",1513625753.0
africajam,"I've decided to use this manual workaround: each time I have a release ready I will compile the webpack files and manually copy them to the vendor directory:

https://github.com/RealEstateWebTools/property_web_scraper/tree/master/vendor/assets/javascripts

I will then require that file here:

https://github.com/RealEstateWebTools/property_web_scraper/blob/master/app/assets/javascripts/property_web_scraper/spp_vuetify.js

In my layout I use the above file using the good old sprockets ""javascript_include_tag"":
https://github.com/RealEstateWebTools/property_web_scraper/blob/master/app/views/layouts/property_web_scraper/spp_vuetify.html.erb

In the layout there is a check to see if I'm running the ""spec/dummy"" app in which case I will user webpacker as it would normally be used in dev.

I feel there must be a better way than this tedious workaround though.
",1513631237.0
aarkerio,"Webpacker is an anti-pattern: pollute the ruby sphere with JS and pollute the JS sphere with Ruby because you don't wanna read the Webpack tutorial.

The gem doesn't add ANY value to the project and adds a new layer of complexity. Install webpack in your /lib dir using yarn and start webpack-dev from there.",1513619970.0
strangepostinghabits,"Don't.  If you care enough about your front end to be unhappy with sprockets, you should treat it as a first class citizen and deploy it separately. Webpack gives you all the features you need already, don't needlessly mix it up with rails.  ",1513637855.0
kierancodes,"`update` can actually handle this for you!  You need to pass the data to `update` in a specific way, but that can be handled easily in your controller. [See here](https://apidock.com/rails/ActiveRecord/Base/update/class) (under examples)",1513570896.0
kobaltzz,"Keep in mind that if they're using wix, wordpress or whatever else, they may not need a Rails application. That will not only add to their overhead, it may be the wrong fit for them. Instead, I would research their business and see how you can improve their process through a Rails application. Every company, corporate or tiny, could benefit from process improvements. I would avoid their website and focus on web applications they may need. Plus, personally, I wouldn't want to have to maintain their website. I've done that in the past and it was constantly a lot of little changes of wording and stuff. ",1513567111.0
nickjj_,"You might be interested in reading a guide I posted on starting a successful freelance business https://nickjanetakis.com/blog/how-to-start-a-successful-freelance-business-as-a-software-developer.

I've been freelancing for ~20 years and I still use these tactics today.",1514577802.0
jdbrew,"the answer to this is always ""Well *I* do, but everyone else doesn't.""",1513579348.0
editor_of_the_beast,"I would say we try and amazingly, the code still ends up crappy in certain areas. I hate to say it, but we need to start being less friendly about what gets committed to master at work - the codebase is a giant shared resource and we should have unyielding standards. 

Also speaking of POODR, we actually just took Sandi Metz's OO design course at our company. She recommends insulating yourself from any framework and focusing more on building an independent layer in your code that's all plain Ruby objects. Rails should be saved for dealing with HTTP and the database, but in the middle of those is where all business lies. That logic shouldn't depend on any concrete usages like bent on the web or being connected to a db. We're hoping moving to that philosophy will clean up some code we're unhappy with.",1513606908.0
tf2ftw,It‚Äôs not hard to have classes that aren‚Äôt thousands of lines long. Start breaking things into single responsibly. Just refactor into best practices and your code base will get a lot better. ,1513564657.0
Quantumbinman,"We do semi-regular ""code audits"" to try and keep things as ideal as possible, but it's a losing battle most of the time haha!

We absolutely try to stick with 2 of the rules from POODR though:

„ÉªMax 100 lines per class.

„ÉªMax four parameters (and can't make a big hash to cheat this rule!).

(We did originally agree on the 5-line method rule, but that went out the window almost immediately haha!)",1513587708.0
zenzen_wakarimasen,"In my company we lint and review all the code before it gets merged. A class longer than 100 lines would probably never pass the review.

The problem with code is that, once it starts to rot, it's probably too late to be able to fix it. Specially if the company is putting pressure to release new features as fast as possible.

For what you explain, the source code you are working on is doomed. Try to find another job as soon as possible. My advice: at some point in the interview with the next company, ask them their opinion about code quality and best practices. If they give you a really passionate answer, take the job. If they just say ""humm... yes, code quality is important... I guess"", run away. Your quality of life will improve a lot. ",1513597948.0
Oecist,"POODR is one way to code. Like any other, it has benefits and drawbacks. The benefits are code that is easy to understand and to change. That means new features faster... except its drawbacks are that there is more code to understand and it takes longer to design and build code of such a high quality. 

It's always a trade-off. Your company has chosen one path, maybe because they leads only knew one way. 

Stay to make the code better. Leave every file better than when you found it. Don't change things just to make them look better until the business sees value in that work, and they should, eventually. ",1513603293.0
,"Sounds to me like you are writing procedural code and not OO.

Some classes do get over 100 lines, and there can be acceptable reasons for that, but it is definitely a code smell.",1513591774.0
tomkadwill,"One way to help your codebase adhere to best practises is to use some linting/static analysis gems. Eg: rubocop, rails_best_practises etc. If you implement these into your build pipeline then it will prevent your code deteriorating and hopefully push you in the right direction",1513616289.0
maximkuzmin,"I can suggest you to learn about trailblazer(http://trailblazer.to/), its all about OOP and reusable little classes. It is still rather young solution(and have some troubles with documentation) but its approach to OOP is rather relevant for your question.",1513576906.0
blazingkin,"Awesome! I had given up on testing this for one of my apps, but I'll have to give it a shot. ",1513556068.0
kierancodes,"Hey, all!  I just discovered this method late last night and I thought it might be helpful!  Let me know what you think :)",1513545215.0
crazyPinkMonkeys,"I believe that the corn.yml file is only used on worker groups. The worker group isn‚Äôt public facing, so only those allowed by the security group could actually make that request.

If your looking to run a scheduled task on a web group you‚Äôd probably want a cron job setup for that. There is a library that I use with Laravel that helps make this easier. Basically it sets a cron task to check if your instance is the oldest in the environment. If it‚Äôs the oldest it makes sure that there is a cron job setup to run.",1513489186.0
tongboy,"what about keeping it all in the rails stack instead of introducing another dependency with cron (also as crazy said, I thought that only worked in non-public or worker groups, I haven't tested and the EBS docs are frequently subtly wrong on stuff like that)

sidekiq scheduled jobs works great - you're probably already using sidekiq...

it saves all of the security issues by not having the request come in from 'outside' rails.",1513491111.0
SminkyBazzA,"We also use environment variables to control whether web/worker instances should respond on routes used by the cron.yml file. No requests to the public web instances can trigger our code, because they don't have the required ENV var set.",1513506445.0
notromda,"Service objects are just simply Plain Old Ruby Objects (PORO)   that help encapsulate some business logic.   You instantiate them with some data, and call som methods on them to do something special with that data.   The concept is not directly tied to API building, other than an API might use a service object.   Is your question about setting up an API?  Or is it about a problem that a service object might solve?",1513384132.0
oztrax,"these links might help:
https://hackernoon.com/service-objects-in-ruby-on-rails-and-you-79ca8a1c946e

https://hackernoon.com/going-further-with-service-objects-in-ruby-on-rails-b8aac13a7271",1513382409.0
murjax,"Service objects are simply standard Ruby objects like others have mentioned. You create them when you find other areas of your code base, such as controllers and models, are getting too large to maintain. [My friend wrote a fantastic article on this subject.](https://blog.codeship.com/refactoring-legacy-rails-controllers/)",1513395803.0
thegreyfellow,"I use service object in my apis always, they separate business logic from controllers/models and have a clean code. Yesterday I read a blog post from the ruby weekly, and it was amazing just how you can supercharge your service object. Here is the link: https://rubyweekly.com/link/34157/213ee11ec7",1513427584.0
Kritnc,"Take a look at these two gems. They do a good job of explaining what a service object is and you might even want to use one of them to organize and validate your service object. 
https://github.com/AaronLasseigne/active_interaction/https://github.com/LessEverything/less_interactions ",1513380283.0
wikitih,"Just integrate Stripe checkout at the end of your payment process, using their API or their [stripe](https://github.com/stripe/stripe-ruby) gem. Perhaps [this tutorial](https://launchschool.com/blog/stripe-checkout) may help you.",1513348338.0
Psychocist,"> I haven't found a company to give me a chance yet but I'm not really into mass applying because, as an example, I would rather earn ¬£50 per day working and learning from the very best and passionate rails developers in the world than earn ¬£500 within a stale environment where people don't push one another to do great things.

It really depends on your aims. I have no intention of moving on from Rails because, after 8 years programming, I'm confident I can tool myself up for most jobs, and there is plenty of legacy Rails stuff going around to keep me busy.

On top of that, programmers are in one of the most powerful positions: we are capable of creating software from scratch; we can piece together different services and libraries and create our own services and libraries and turn those into income streams. You will never receive what you're worth at a company -- that's how they run a profit.

I remember a few instances when I was employed where I was solely responsible for a few features that ended up either saving or generating the company $$,$$$/month. Sure, scale is a big part of that -- but I earned them more in a single month than I was paid the entire year. That's why employment is a fool's game.

I freelanced for a while (4-5 years) to cut my teeth on something, then got a full-time Ruby job which I held down for a few years. I recently quit that to go back to freelancing -- first because I can earn upwards of $80/hr, and no job can compete with that, and, secondly, I only have to work 10-15 hours a week, I can travel where I please (currently in Thailand).. while I have more time to do what I want to do and build a software business. If you absolutely MUST have a job, then at least look for a remote long-term position. Granted, would be a lot more difficult without any commercial experience.

My advice - work with whatever technology you want and go build something for yourself before you try to make it in the corporate world and slave away for the rest of your life climbing the career ladder. That should be your LAST resort, not your first goal. The beauty of that is you can build whatever you want in whatever technology you want! There are plenty of profitable software businesses out there run by solo entrepreneurs that are running on nothing but spaghetti PHP that struggle to adapt and evolve because of it. We can do a lot better.

Use the power of rapid prototyping in Rails to go and test a bunch of different application ideas, get them in front of users, get feedback, work on monetising, work on marketing, read The Lean Startup and Rework and The Platform Revolution. Learn skills and knowledge that give YOU more power, instead of giving the best of your creativity, intelligence and ingenuity to an employer who will pay you a percentage of what you're actually capable of generating. Surely you at least owe that to yourself before you throw in the towel and resign to being a code monkey who takes instructions from others?

Having said all of this, one great benefit of employment is that, if you're surrounded by great developers, you can quickly hone your craft. I'm definitely a much better developer because of the 3 years I spent in full-time employment, surrounded by 40 other Ruby developers. I could have seen the same benefits after probably 12 months. Don't get comfortable.

An interesting point is that I'd actually be peddling the OPPOSITE message if I was an employer (which you will be one day if you follow this path)! :P

Oh, and no matter which direction you go, best believe JavaScript is a part of it haha don't resist - learn some React.",1513344373.0
,[deleted],1513342832.0
jaryl,"It‚Äôs great advice, if you don‚Äôt start now you‚Äôll never finish learning all 8373837499473 JS frameworks. ",1513369050.0
wheresdagoldat,"A couple of thoughts, not necessarily related or in any particular order:

1) if you want to do web dev, you do need to learn a JavaScript framework, and there‚Äôs not really any escaping from that. Front ends are getting more complex, and it‚Äôs honestly just easier to do it in something like React than to mess around with Rails views and asset pipelines. The world is also moving away from monolithic web apps toward, for example, an API that feeds both a front-end and a mobile app. I would recommend React over Angular, because it‚Äôs easier to get productive with, and it forces you to learn about the DOM and how your browser works, rather than abstracting it all away like Angular does.

2) Its worth diversifying from Rails for the sole reason that it will provide you with a different view on software development, and will shine a light on areas where you lack understanding. One could theoretically build a complex Rails app without a solid understanding of HTTP or SQL, both of which are absolutely fundamental pieces of web development. It will also expose you to more subtle differences. Things like the relative pros and cons of relational vs nosql databases, or the relative merits of the ecosystems around different languages. These are major parts of programming, and won‚Äôt come up if you‚Äôre stuck solely in the rails world. 

3) You‚Äôre not going to do anything in software development for the rest of your life. The web has barely been around 20 years. Tech changes quickly. Rails will be around for several more years, but it would be a mistake to learn one piece of tech and try to ride it for the rest of your life. You want to almost always learning a big new piece of technology. No need to force this though. As you get deeper in, you‚Äôll automatically get more interested in a greater diversity of tech. 

And rails isn‚Äôt neccessarily going anywhere. It‚Äôs still a very solid, very mature, framework. But it isn‚Äôt the only game in town, and it‚Äôs isn‚Äôt the answer to every problem. I would say get started by learning some React, firing up an API-only Rails app, and building a React front-end for it. You also get React Native almost for free, so you can build a mobile app for this application as well. I can almost promise it will make you a much more effective developer. ",1513344522.0
sixkorn,"Find a job you want. Find out what they are looking for. Learn that skill. Get the job. Don't worry about anything else. There is a large group of people looking for the next great unique snowflake to master, until it becomes popular and they lost their unicorn status, so they drop it and go to some other framework. It's a waste of your time. ",1513427362.0
tf2ftw,Because they are dumb ass holes. I wouldn‚Äôt take anyone serious who actively promoted the flavor of the month JS framework over Rails.,1513345023.0
toadallyfroggincool,"As a JS developer who moved into Rails for my current job - it is because there is more demand for JS jobs out there right now. Not only in my area, but across the US. I get calls from recruiters almost every day for JS stuff and I don't see or hear from Rails/Ruby recruiters. 

I like and enjoy Rails and JS for different reasons and think they could be great friends! TBH I don't like how Rails handles the front end, I'd much rather use React or Angular - but Rails makes for a great backend language - the tight integration with dbs make it easy and powerful, compared to something like PHP. ",1513360204.0
DerNalia,"Becaause it's trendy, and mostly without convention, so people don't run in to the feeling of doing things a 'wrong' way.

Rails devs are still in demand.",1513429974.0
aarkerio,Ruby > JS. Period.,1513358658.0
jordanaustino,"You shouldn't plan on using one framework for the rest of your life. Chances are you will get stuck in a niche and newer better stuff will come out.

There is nothing wrong with Rails, just don't get too married to it. Anyone who says X framework is the best and you should ditch Y is probably full of shit and thinks they know more than they do. All the major relatively well used langauges and frameworks have good uses and bad uses, pros and cons. It is good to understand different frameworks and languages, it makes you adaptable, it is also good to be able to recognize what certain languages and frameworks are best for.

In the instance of Rails it is great for building quickly and iteratively, but has known performance costs at scales you will probably never hit.",1513355938.0
kobaltzz,"I'll extract the strong params from the controller into its own classes. So for something like `content`,  I would call `permitted_params.content_attributes`. Within my `content_attributes` it would make a call out to the `bank_attributes` and `barber_attributes`. This way my controller steers clear of having to manage what a user has access to as well as having all of the logic of handling which parameters to include in one nice namespaced place. I made a [screencast about complex strong parameters](https://www.driftingruby.com/episodes/complex-strong-parameters) a while back which still holds pretty true today.",1513353956.0
kobaltzz,"The main thing for extracting logic is to extract responsibility and complexity. It makes it easier to test as well as maintaining the code.

If your model is very simple and doesn‚Äôt have any kind of restrictions of who can edit what, then extracting the strong parameters to its own class may be overkill. However, if you have logic where an attribute can only be edited by certain roles, then things can get complex and ugly quickly.

For example, you have an attribute called role on a user model and you do not want anyone to be able to edit their role. However, an admin of the site should be able to edit the role. For everyone else, the app should treat it as a parameter not permitted. The BL for this can be quite complex depending on the application and having the strong parameters extracted will reduce the complexity and make it more maintainable as other areas of the application can simply check if the user is permitted to edit an attribute. If they‚Äôre not permitted then do not display the field.",1513520037.0
aust1nz,Check out the gem Pundit. It helps you create a Policies folder with Ruby files matching your models. They serve as a place to store your logic for whether a particular user can perform the REST verbs. You can also set scopes to limit which records a user can access,1513286468.0
,Rails In Action has a chapter that sets up pundit (with testing in RSPEC) if that's what you're looking for.,1513288477.0
greymalik,Seconding pundit. Some people like cancancan too (though I prefer pundit).,1513354334.0
DanielKehoe,My [RailsApps](http://railsapps.github.io/) open source project has example applications for simple role-based authorization and also Pundit for complex authorization policies. ,1513419932.0
jlippiner,"Ok - the plot thickens.

I think this has less to do with rails and more to do with OSX.

In my /etc/hosts file, I have the following:

    127.0.0.1             test.dev

which always worked before.  Now, no dice as the browsers all try to redirect to https.  But when I change to this:

    127.0.0.1             test.local

It works fine!  So something happened in 10.13.2 that has prevented .dev tlds from working.  Anyone else seeing this?",1513275274.0
BaconGlock,spam,1513287445.0
janxious,Used https://github.com/daveallie/rails-route-checker for the first time this week. Pretty cool way to find dead routes in your route file to delete.,1513296387.0
jemminger,"Return json directly from Postgres!

https://github.com/jackc/surus  ",1513308478.0
alchemicalbeats,"[This tutorial](https://logmatic.io/blog/rails-logger-best-practices/) might help, see the 'Format your log messages' section.

You effectively want to write a new formatter for the logger, and assign that the logger you are passing in to the `TaggedLogging` constructor.",1513221286.0
dicom,"Boys.. writing it out helped me figure out the problem..

I needed to put the variable under respond_to format.js like so.

    respond_to do |format|
    format.js { gon.followername = params[:follower]
    [:username] }

But now I have a new issue!  the gon.gem doesn't seem to work when you use it in this manner..


It never ends :)",1513206909.0
jahfer,"I work on the team at Shopify which recently did something very similar to what you're asking for (I think). Up until last year, we maintained a ""standard"" Rails folder structure, but given the [size of our codebase](https://web.archive.org/web/20170126202449/https:/twitter.com/tobi/status/819246328211443713) (2.3k models, 450 controllers, 370 jobs), it became difficult to onboard new developers and maintain a proper boundary between persistence, business logic, and application infrastructure.

The structure we decided on is as follows:

    .
    ‚îú‚îÄ‚îÄ Gemfile
    ‚îú‚îÄ‚îÄ Gemfile.lock
    ‚îú‚îÄ‚îÄ README.md
    ‚îú‚îÄ‚îÄ components
    ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ component_a
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ README.md
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ app
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ component.yml
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ lib
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ test
    ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ component_b
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ README.md
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ app
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ component.yml
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ lib
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ test
    ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ component_c
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ README.md
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ app
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ component.yml
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ lib
    ‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ test
    ‚îú‚îÄ‚îÄ lib
    ‚îú‚îÄ‚îÄ test
    ‚îî‚îÄ‚îÄ etc...

All of that replaces the root-level `app/` folder, though truth-be-told, we still have a root-level app folder for a handful of things (e.g. `app/assets`).

To actually wire all of this together for Rails wasn't particularly complicated. We had to make a few tweaks to `config/application.rb`:

    shopify_domain_dirs = Dir[""#{Rails.root}/components/*/app/""].map { |f| File.dirname(f) }
    shopify_domain_dirs.each do |dir|
      %w(
        app
        app/controllers
        app/models
        app/helpers
      ).each do |path|
        config.paths[path] << ""#{dir}/#{path}""
      end

      lib_dir = ""#{dir}/lib""
      if File.directory?(lib_dir) && !$LOAD_PATH.include?(lib_dir)
        $LOAD_PATH << lib_dir
      end
      config.autoload_paths << ""#{dir}/lib""
    end

All of that being said, I think some extra folders inside `app/models`, etc. can get you a long way towards your goal without having to resort to the sort of structuring I've described here. ",1513258234.0
ChillyFlashER,Like module files in the lib folder?,1513207884.0
kobaltzz,I will usually create a presenters folder which will contain the files. I will namespace within there to organize. The folder would be created within the app folder.,1513209722.0
greymalik,"Have a look at [trailblazer](http://trailblazer.to/) 

edit: or [drawers](https://github.com/NullVoxPopuli/drawers)",1513212179.0
coderhulk,Checkout Hanami or https://github.com/taskrabbit/rails_engines_example,1513256075.0
ignurant,"The summary is this:

- Add the gems to act as your database adapter/driver
- Add a connection to database.yml
- Add a model

First, figure out which version of the drivers you should use. This appears to be a popular option https://github.com/rsim/oracle-enhanced It will have you add two gems -- one is the db driver interface, and the other is the activerecord driver.  It looks like you may need to install this as well on any machine that wants to use the oracle driver. http://www.oracle.com/technetwork/database/features/instant-client/index-097480.html

Now, add your connection to database.yml as a separate connection. 

    reindeer_reporting_db_or_any_sensible_name:
      adapter: oracle_enhanced
      database: northpole
      username: santa
      password: secret

This goes anywhere in your database.yml file in addition to the existing connections.

Now for the code. Instead of writing the properties for this connection directly to our model we plan to use, we're going to create a base class to inherit from. This has multiple advantages:

* Better handling of the connection pool
* Is more re-usable if you need to add or tweak other views or tables
* Keeps the connection code further away from the business logic in the actual model

So, cook up something similar to these fellas: 

    # app/models/reindeer_reporting_db.rb
    class ReindeerReportingDB < ApplicationRecord # or ActiveRecord::Base
      
      # Specify as an abstract class so that this class doesn't try to hook up to
      # a table, or get instantiated.
      #
      self.abstract_class = true

      # Specify the connection we are using from config/database.yml
      #
      establish_connection :reindeer_reporting_db_or_any_sensible_name

      # Since this is targeting a view, let's make sure ActiveRecord complains 
      # if we try to mess with it.
      #
      def read_only?
        true
      end
    end

    # app/models/reindeer.rb
    class Reindeer< ReindeerReportingDB
    end

Now you can use this connection like any other AR model:

    # app/controllers/reindeer_report_controller.rb
    class ReindeerReportController
      def index
        # Using it is now just like using any typical AR model.
        @reindeer = Reindeer.all
      end
    
      def show_that_thing_with_that_one_guy id
        @guy = Reindeer.find id
      end

      def cook_books
        reindeer = Reindeer.find my_buddy
        reindeer.contact_quality = 100
        reindeer.first_call_resolution = 100
        reindeer.revenue_per_fte = RIDICULOUS_NUM
        reindeer.absenteeism_rate = 0
        reindeer.save!
        # => ! SomeSortOfError: Cannot write to read only model something grumble.
      end
    end

The code above may not work exactly as written, but it should give you the idea.

I haven't used Oracle specifically, but it will be similar to connecting to any DB. With Oracle being a little less-than-usual it's harder to find examples, but they all work the same way. DB utility installed, DB Driver, AR Adapter, configuration.",1513197128.0
gvescu,"You can always create a model and set the references manually (set_table_name for locating the table, primary_key and so on). Then you can use the view like a regular model. You can even add relations to other models. This is using PostgreSQL, but you can check more [here](http://blog.roberteshleman.com/2014/09/17/using-postgres-views-with-rails/)

Although, for your specific case, you'll need a separate connection for the Oracle DB.",1513180663.0
jj-jumpercables,"I‚Äôm typing on my phone, so I can‚Äôt give too detailed of a comment (and one of the other responses was pretty good with a different approach).  But, if you end up needing to pull more than one view from your oracle dB, I can‚Äôt recommend enough getting familiar with the PostgreSQL oracle_fdw (on GitHub) foreign data wrapper.  I have a production oracle dB connected to a postgresql reporting dB via oracle_fdw and it works pretty good. 

Then, from my rails app, I‚Äôm only ever needing to have a single dB connection to my postgresql dB 

For really big production tables, I usually create local materialized views to cache the data I need and create indexes that might not be available otherwise.  I guess it depends on your use case, but I never need real time access to our production data, so refreshing views on a daily basis is good enough.



",1513454997.0
veske,You make a separate connection to oracle and write you Sql ,1513178448.0
Insomn,"Now this is weird, this is #1 on my Reddit homepage. Guess they're a-tinkering with some algorithms again!

Anyway, I used to recommend Redactor. It's got a super-clean look and quite easy to integrate.

But, the new edition of CKEditor has been outstanding in projects I've used it on, massively extensible, very easy to drop in, and [does support BBCode](https://ckeditor.com/cke4/addon/bbcode). CKEditor 4 is also quite pretty.

Both have gem packages for easy installation, so it's totally up to you.",1513159277.0
MidnightsFX,"Sorry for the formatting, on mobile. Try running which, see if you are actually calling the unicorn you think you are, or if it's available on your path.

`which bin/unicorn`
`which unicorn`

It looks like you are referencing unicorn from a non-absolute file location, so unless this in it script is using something at bin/unicorn, relative to the file execution location, maybe try just calling unicorn?",1513134360.0
MidnightsFX,Good to hear you solved it! Sorry I did not point you the right way.,1513212967.0
AmishPanda00,"I tested out the setup you're talking about, react frontend with a rails API. Wrote up a little instructional guide about how I did it steps by step. 

https://maxdobeck.github.io/blog/2017/08/11/create-react-app-w-rails-api

Let me me know if any of it doesn't make sense. 
",1513130337.0
editor_of_the_beast,"There's a lot of components in a chat application. Different components will have a different set of choices of libraries for them. It's tough to give a breakdown of all the libraries you'd need without getting a little more specific.

For the actual messaging part (JS clients talking to each other), I've built chat using Pubnub. It works decently well, and they even came out with a high level chat API recently. An alternative is Pusher. ",1513194040.0
editor_of_the_beast,"If you need something higher level, you can check out XMPP",1513194118.0
vagabondjames,Very cool resource! It would be cool if the topic tags were sortable either alphabetically or by the number of resources within that topic.,1513107998.0
RobertHopman,"I like it a lot! Perhaps you've already have them at your side project (will check out in depth tomorrow after work!), but I've been listing the top sources (top left) as well here: https://tech-craftsmanship.zeef.com/roberthopman",1513116822.0
,[deleted],1513102008.0
RobertHopman,"Hey,

how can i see the latest added material?",1513719045.0
voipspear,"An API is typically text communication between two computers.  Your API should not provide flash messages and toast notifications.  The front ends should take care of that.

The primary way the API should provide error messages is via HTTP.  For example a ""200 OK"" response is a success.  Refer to this list of [HTTP status codes](https://en.wikipedia.org/wiki/List_of_HTTP_status_codes).

You may also wish your API to provide a more descriptive error message sometimes.  This can be passed along in the JSON (or XML or whatever you are using).",1513090412.0
AmishPanda00,"Look at the docs for a few popular APIs. Pick a space you understand videogames, movies, Reddit, whatever.  Then try to imagine how your frontend would consume the output. 

All web service problems are pretty much the same.  It boils down to solving your domain space problems as well as you can, then responding to requests from the frontend. 

Edit - decent list of APIs to look at:
https://www.google.com/amp/s/amp.reddit.com/r/webdev/comments/3wrswc/what_are_some_fun_apis_to_play_with/",1513115062.0
,[deleted],1513090611.0
real_fanpuns,"In your case, I would certainly return some kind of message, but don't return messages/keys to be consumed by particular clients, that seems like the API knowing too much about the client that will be consuming it's responses. You can always override API messages based on status code or ignore them completely and display something else in the front end.

That was my short version, if your interested, this was my journey working with Rails APIs:

When I first started playing with the API mode, I was tempted over define the responsibility of the API because I was thinking about the application too narrowly. I knew vaguely that I wanted other apps (e.g. a mobile app) to be able to plug into the API, but I was really only developing for the web app use case that I was most familiar with. IMO the thing that helped me the most was to try to apply the lessons from Sandi Metz's [POODR](http://www.poodr.com/) about OOP design and try to decouple as much as possible (it's actually easier with an API because you have to think in messages and interfaces). I'm sure other people have written about this and there's probably people writing about REST that's more on-point, but her book was the first one I read/studied.

To do this, I imagine myself working on the front or back end independently, e.g., (1) I'm an API developer who is making an API that will be consumed by people I haven't met and will never know all their use cases or (2) I'm a front end developer and I have this API, but no ability to influence or change it. 

This made my API development much more generic (in a good way) and my front end design much more flexible. Whenever I caught myself saying, ""I'll put this specific message/input here so that I can easily consume it or work with it"" I had to stop an say no, ""how would I write this if I didn't know who/what would be consuming/sending it in the future"". Whenever I wanted to make a change in the side I wasn't working on, I made myself ""justify"" it to the other team.

In the end, I control both, so it doesn't make sense to take this too far; sometimes it is better/easier to use what you know already about how the program will work (or if we stick with one of Metz's analogies, for some projects, especially if you are the only developer, the perfect OOP solution is actually more cumbersome than a quick fix that works), but as a general exercise, I found it very helpful.",1513854995.0
leetae9,yeah let's share it. anybody?,1513072427.0
biximilien,"I've built the inventory part of licensed narcotics producer in RoR.

A different team had to build a SpreeCommerce solution to sell the product to licensed consumers.

The solution we agreed on was a REST API. So I've built an API which they could use to get inventory data, orders state and such.

I can't go over too much details because of NDA's, but if you have questions that I can legally answer, I'll oblige.",1513212297.0
dd_de_b,"I see you‚Äôre using turbolinks, which changes the behavior of $(document).ready();

Try using, instead:

$(document).on(‚Äúturbolinks:load‚Äù, function () {
  // code
});

https://stackoverflow.com/questions/18770517/rails-4-how-to-use-document-ready-with-turbo-links",1513052125.0
DehydratingPretzel,any console js errors?,1513028488.0
jemminger,"You can't include jquery via sprockets in application.js if you don't have the file on disk.  If you're including it via script tag in your layout, then remove it from application.js.  Best to include the script tag for jquery before the javascript_include_tag 'application' too, since you're using jquery_ujs which would depend on it.",1513030428.0
SoxSuckAgain,I was there as well! Great event. ,1513055451.0
editor_of_the_beast,"We just took it at my company. It was very rejuvenating. I got the sense that a lot of people knock on OO but don't actually understand the right way to do it. I thought I did but I was probably just repeating things I'd heard all throughout school and my career without seeing how all of the principles are supposed to be applied together.

Polymorphism is the most powerful tool to handle variations / exceptions in logic. It has to be used in conjunction with factories that hold the decisions about which variations should be used - instead of sprinkled around the entire codebase, they'll be isolated to this one place. Dependencies have to be inverted and then injected so that their implementations can change freely without affecting classes that depend on them. 

It's simple once you've seen it done but the key is making this the default way of working rather than for exceptional cases.",1513080902.0
Bizkitgto,What's the difference between the 99 Bottles book and POODR?,1513038038.0
kewlar,"I'm curious, what are Sandi's rules for Rails?

> 1. Classes can be no longer than one hundred lines of code.
> 2. Methods can be no longer than five lines of code.
> 3. Pass no more than four parameters into a method.
> 4. Controllers can instantiate only one object.

Are these it?",1513256397.0
cheald,Do you have an example exploit payload? At first glance that should be fine. The second parameter gets run through url_for which should generally protect against most xss vectors.,1512993912.0
philthechill,"Check the OWASP XSS prevention cheat sheet. You're in a URL context, so no harm in URL encoding whatever was passed in prior to writing it there. Then you can escape the URL-encoded value as appropriate for an attribute context. Read the cheat sheet! It explains everything.

More importantly, what do valid values look like? Write a nice strict regex for that, and fail out of any request where any of your inputs don't match their validators. Yeah you should do this for everything.",1512995590.0
philthechill,"Also, what version of Rails?",1512995681.0
wikitih,"Ruby nor Rails have support for toml files. You can, however, use a gem, like [this one](https://github.com/jm/toml).",1512993448.0
,[deleted],1512960526.0
jeremywoertink,"Rails doesn‚Äôt run on the front-end, so Javascript will need to tell rails what to do. Write a Javascript function that tells the button when pressed to call to rails (ajax). 

Check out the remote: true option for link_to for an easy solution.",1512969137.0
infernal_toast,"You are right, this is pretty hard when you are just starting out.  I recommend using jQuery to send an AJAX call which would make a POST request to a controller method which would then return some JSON.  ",1514613308.0
Bad_Droid,"Have your form control button submit a hidden parameter. In your controller action set a variable to equal params from your submission. Then I‚Äôm the controller action write an if statement to call your method if the variable equals what you set the hidden parameter to be.

Note: this is a guess, I‚Äôm brand new to rails and just learning.",1512958091.0
morphemass,"Not a direct answer but 'break it down'!

if you extract just the bits for taking a screen shot and run it (and I advise using tests to support testing) does it save the screen shot to the location you specified?

If you give just the uploader a path to an image, does it upload the image? ",1512941285.0
janko-m,"How does CarrierWave know where to find the generated screenshot? How does it know that it's located at `thumb_path`?

Unrelated, but

    dirname  = File.dirname(current_path)
    thumb_path = ""#{File.join(dirname, File.basename(current_path, File.extname(current_path)))}.png""

can be written as just

    thumb_path = Pathname(current_path).sub_ext("".png"").to_s",1512943572.0
FishToaster,"Yes, it is possible.  I feel honorbound to tell you not to do that, though.  The code would look something like this: `params[:store].some_method.create(...)`.

The problem is that that opens up a significant security hole.  It means than anyone who can control the content of `params[:store]` can cause your code to write to arbitrary tables in your database.  So if someone makes `params[:store]` evaluate to `User`, they could potentially write to your users table instead of the savingstars table.

Anyway, if you're sure you know what you're doing, the method you want is `.safe_constantize`, as in `params[:store].safe_constantize.create(...)`.  What `safe_constantize` can be called on any string and turned into a constant.  So, if you have the string `x = ""SomeController""` and you want the actual controller class `SomeController`, you'd do `x.safe_constantize`.  In your case, what you're trying to get when you say ""DB form of the word"" is the model class `Savingstar`.  Since you have the string `""Savingstar""`, you can get the class from that by doing `.safe_constantize`.",1512893515.0
joesb,"This sounds like X-Y problem. 

You should instead tell us what problem you are actually trying to solve, and why do you think that being able to save directly from params is what you need to do. ",1512901657.0
leetae9,What do you mean by string into the DB form? Can you be more specific? ,1512892777.0
jeremywoertink,params[:store].titleize.safe_constantize.create(...),1512971426.0
rylanb,http://api.rubyonrails.org/classes/ActionView/Helpers/AssetUrlHelper.html I think could help you out.,1512872617.0
pmo3,"You could use the inline style attribute on whatever element you want the background image for:

    style=""background-image: url(<%= ""#{@champion.id}.png %>)""
",1512930861.0
kobaltzz,"I would just use Puma.

If you use nginx proxies, you can direct traffic to a puma socket. SSL termination can happen at the nginx layer.",1512822529.0
,"I use Puma. It works for me, never had a reason to switch. ",1512865454.0
chulkilee,"Start with puma. If you have any performance issues, like slow client or long running request, you may test out other rack servers which use different models - such as unicorn or thin. There is no one correct choice that works for all different cases. ",1512862644.0
leetae9,thumbs up for puma,1512892862.0
janko-m,"Ruby web servers are built on top of Rack, so they work well for any Rack application, including Rails and Roda apps.

I also use Puma as my default, I never had any reason to switch to something else.",1512825644.0
DehydratingPretzel,This should be in the Ruby forum... Mods please do your job.,1513010890.0
ak88,"The way I've done it in the past is to use a gem like paperclip to handle the upload to s3. As others have mentioned, you would typically design the file path to include the object id, type, and a hash based on the file attributes and a secret value to keep it hard to guess the URL. Paperclip handles all the hard work for you on this. Should the security through obscurity approach not be enough, you can configure s3 to require a signed URL and then use your app to generate an expiring signature for the URL, so the URL is only valid for x minutes.",1512783596.0
EmptyPond,Try using the carrierwave aws gem.,1512783223.0
godless_guru,Rename the files using random strings when uploading.,1512780625.0
Paradox,"You can do it in a variety of ways. I've seen it done using temporary, authenticated URLs to assets that are normally read only. Set a URL to be accessible for only a day or two, and you've got something a bit more secure. You could also have signing tokens on a URL that are required to access it.

Paperclip can do the former out of the box, but I can't remember the command off the top of my head.

More modern attachment systems, such as the excellent shrine, can do all this and more",1512786563.0
jaroh,"Hey /u/BaconGlock - if you'd like a super easy way to implement this, check out my side project -- shubox.io

Ignore the current pricing structure as I'll be making freemium in the next few days so, if you're not doing a ton of uploading traffic you'll be able to use it for free for however long.

If you have any questions, let me know - I'd be happy to help out.",1512925259.0
henrebotha,"You can't redirect through AJAX, that's the problem. AJAX is for ""background stuff"", not for visiting a new page (as one does when one clicks a hyperlink). ",1512710849.0
Hell_Rok,"I have, it was a simple API in front of our AWS servers to cache tags and other information about them to stop us hitting our API limit.

It was only about 150~ lines but pretty fun to write.

Not sure I'd do anything substantial in it, the lowest level I'd comfortably go is Sinatra.",1512708356.0
menge101,"Yeah, I added rack to a test framework to serve up test results.  At a company of < 20, team of 4, no auth, it did its job fine.

Also, learned so much about how http requests actually work by working directly with rack.",1512740226.0
v_krishna,"We have a few microservices that are basically rack with a bit of convention. Works well enough, they all are json in/json out so will never need a view layer etc. Personally I would have probably still just used sinatra.",1512779971.0
ryanlue,"The objective, material benefits of one development environment or another are dubious at best. People get good at the tools they use every day, and some tools let you do things that others don't. Vim, emacs, sublimetext, atom, or full-blown IDEs ‚Äî they're all used by the best engineers in the world. Not a few experienced engineers have switched editors at some point, [even late in their careers](https://www.youtube.com/watch?v=JWD1Fpdd4Pc).

Pick any one of the ~5 most popular and just learn it. Either you will be satisfied or get frustrated with its limitations/complexities and switch to something else. Vim is a commitment, and it sounds like you're looking for someone to tell you it's worth it, and how to get started.

It's as arbitrary a choice as any. Since vim is already on your radar, just go for it instead of soliciting the opinions of the crowd. You can start by checking out /r/vim. Any question you could possibly have at this stage has been asked (and answered) there more than once.

**EDIT:** but to pre-empt the questions you've already asked to other commenters, my advice is to start small. Vim is hands-down the single most thoroughly-documented software package I've ever seen. Use it. Spend time getting to understand it before you look to third-party blog posts / talks / screencasts to show you all the fancy tricks it can do.

Once you finish `vimtutor`, use vim to edit some kind of text file on a daily basis (ideally not code, yet ‚Äî keep notes of your studies, maintain a todo list, track your expenses with beancount, whatever). As the basic features become second-nature to you, read the helpdocs to find out what every single key does in normal mode (`:h a`, `:h b`, `:h c` ... `:h Z`). A good exercise at that point is to start building your `.vimrc`. /r/vim and vi.stackexchange.com will be good resources along the way.

Good luck, and tell us how it goes!",1512702042.0
patkoperwas,"This series by Derek Wyatt really sold me on Vim.
http://derekwyatt.org/vim/tutorials/novice/

Does a fantastic job at showing you how to approach Vim and how to think about editting. Most editors out there have some sort of Vim mode (not as good as the real thing, but close enough to make the transition easier).  See [Vintage Mode](https://www.sublimetext.com/docs/3/vintage.html) for Sublime.",1512713827.0
Paradox,"VIM is an editor yes, but its also an approach to editing.

Once you learn the basics of vim movement, objects, and the few mutation commands (replace, delete, substitute, yank, put), you can combine these into extremely powerful chunks.

One I use quite often for method extraction is `yaf`, which stands for `y`ank `a`round `f`unction. It yanks the current method, including its `def` and `end` blocks, and sticks it in a register, so I can paste it anywhere I want.

And the VIM approach to editing isn't limited to vim. There are vim plugins for most editors out there, even emacs. I use [vim-mode-plus](https://github.com/t9md/atom-vim-mode-plus) for atom, which is fairly powerful and has a lot of features you'd need plugins to reproduce in native vim.

A great way to learn VIM is [vim-adventure](https://vim-adventures.com/)",1512721612.0
ignurant,"It's powerful, and helpful to know if you dive into servers, because it's pretty ubiquitous. I am fluent with vim, but prefer doing my main work in subl. However, I wouldn't trade my days of frustration learning vim for anything, because often times, that's all I've got. And it beats the FFFFF out of getting stuck using nano. ",1512695052.0
thisrealorthisfntasy,"Thoughtbot has awesome stuff on setting up tmux and vim for ruby environment, that really helped me make the switch. I highly recommend using vim-mode in your editor of choice to get used to the motions, and then making the switch when you're ready.

Edit: By thoughtbot I meant upcase.com",1512753871.0
OriginalGallifreyan,"Vim is incredible, once you learn it. You will be very slow at first, and will have to use Google constantly. But once you have played with it for a while, you can so much efficiency over any other solution.

I am a vim evangelist at work, and even though they give me a hard time about it, all of my coworkers agree I get a lot more done in vim then they do in atom or sublime. 

The downside is that there is an upfront cost. It's worth it though. I promise you that. ",1512700523.0
HelloAnnyong,"Both are excellent text editors.

I use Vim exclusively to write code, and Sublime for a lot of non-code text editing.

Learning Vim pays dividends over time, months or years into learning it, as its more powerful features become second-nature to you.",1512695056.0
spinlock,I love vim. Tim Pope's git tool (fugitive) is worth learning vim by itself. I also can't imagine waiting for sublime the way my teammates do. Vim is much faster.,1512695251.0
mrspuff,I started out when the only choice was vi or emacs. I stopped using it for about 10 years and it was like riding a bike. I still have lots to learn though and that keeps it fresh :),1512711806.0
CrypticWriter,I don't use it for coding. It's good to know how to use in a server environment where you don't have a GUI though,1512715502.0
shayhtfc,"If you're a beginner and just getting into coding, then save yourself the hassle, download Atom or SublimeText, and put your efforts into learning how to code!!

I can't think of any stupider a move than putting hours into learning how to use a text editor when the real value for a beginner is knowing the ins and outs of coding without having to worry about what obscure key combo you need to press to save a file!

Once you're at the stage where you're churning out code at 40wpm, then maybe look into vim where you might save half a second when it comes to jumping a few lines during editing!",1512747405.0
sizl,"Honestly, I know I‚Äôm about to offend a lot of people here but find that vim is for those who are a bit pretentious. I worked at shop where a lot of dudes used vim and it was basically a pedestal.  They‚Äôd look at you as if you were retarded if you didn‚Äôt know something. 

My biggest beef was lack of auto complete and ability to click through on methods. I know there are probably plugins for that but I have no patience for it. 

If you want to be that guy then great. Go for it. Otherwise use an IDE and just learn the vim basics for editing stuff on the server. ",1512765909.0
aarkerio,"Emacs: rubocop, git, project and rspec integration. ",1512695615.0
eid-a,I do but it is no longer my main editor,1512713752.0
menge101,"I believe git uses vim by default as its editor.  (either that or somehow I set it up without knowing)

So at the very least knowing enough vim to use it with git commits, rebases, etc would be good.",1512738746.0
dacheatbot,"Once you get on the ground running, I'd recommend tpope's [vim-rails plugin](https://github.com/tpope/vim-rails) if it looks useful. Some of my favorite features:

- If you have a `schema.rb`file, you can easily jump from a model to its DB columns
- You can jump from model to test just as easily

There's other plugins that I use far more (and would recommend, if you're interested) but the rails one seems most relevant here.",1512768824.0
andygauge,"I learned vim because I was tired of being on Linux systems and having that editor open and banging on the keyboard to make it go away.  It took 4 hours of my time, and now I can use it proficiently.  When I'm on a production server and need to open a file it is my go to tool, it is on every command line interface I end up with, so the universality of it is convenient.  I do not use it for my normal day-in day-out editing, but find it essential as a part of my toolkit now.  When I have nano open for a git rebase I cringe, rather than getting super frustrated at not knowing enough of vim to save and exit.",1512772782.0
nazgum,"vim, sublime and atom are all pretty great; I would say the main advantage of vim is you can also use it through ssh if you need to, when editing files on the server or so; for that purpose its quite nice to know it.",1512846211.0
rubyredstone,"Vim is good for speed and portability, neither of those are particularly important to me. I don't like managing a bunch of external plugins to get simailar functionality like VS Code for example. I never found an acceptable Vim search and replace over multiple files.
",1512856745.0
,"> I'm stuck trying to locate the credit card, expiration and CVC fields with Capybara to fill out the fields.

You won't be able to find it. That's all in an iFrame (for PCI compliance reasons) and shouldn't be selectable or even accessible to the parent page.

The best you'll be able to do is find the iFrame.",1512615705.0
,[deleted],1512647186.0
toadkicker,"Found this, not sure if it is useful: https://gist.github.com/iloveitaly/19ff89614b8e92a71de660c89b8a0fbf

I would also look at what tests the component has itself to make sure it covers the cases you're testing. Maybe there isn't a need for testing it again.",1512609708.0
tsatflow,"why's (poignant) Guide to Ruby 

Originally released in 2005 but still has some good concepts ",1512606608.0
tsatflow,"why's (poignant) Guide to Ruby 

Originally released in 2005 but still has some good concepts ",1512606614.0
tsatflow,"why's (poignant) Guide to Ruby 

Originally released in 2005 but still has some good concepts ",1512606622.0
tsatflow,"why's (poignant) Guide to Ruby 

Originally released in 2005 but still has some good concepts ",1512606627.0
tsatflow,"why's (poignant) Guide to Ruby 

Originally released in 2005 but still has some good concepts ",1512606636.0
AllahuAkbarSH,IMO the best book is *The Well-grounded Rubyist*.,1512593021.0
janko-m,"Videos are large so you'll likely want the uploads to be resilient to flaky internet connections, as few things are more frustrating than having to retry large uploads.

There is an open source resumable upload protocol, [tus](https://tus.io), for which there exist [Ruby](https://github.com/janko-m/tus-ruby-server) and [JavaScript](https://github.com/tus/tus-js-client) implementations. I created a [demo application](https://github.com/janko-m/shrine-tus-demo) which shows how to use it with [Shrine](https://github.com/janko-m/shrine). I don't know how well it can work with other file upload gems.

In any case just make sure that whichever file upload library you'll be using doesn't load whole files into memory (e.g. [CarrierWave does](https://github.com/carrierwaveuploader/carrierwave/issues/1780)), or your servers will quickly run out of memory. Shrine and most likely ActiveStorage handle large files well. Also, note that [Paperclip hasn't received maintenance for a long time](https://github.com/thoughtbot/paperclip/issues/2477).

EDIT: You'll also need to transcode uploaded videos, which will need to be done in a background job. Paperclip and CarrierWave don't have good backgrounding support, but Shrine and most likely ActiveStorage do. You can either do transcoding yourself using `ffmpeg` or use a transcoding service like Zencoder, Amazon Elastic Transcoder or Transloadit (for the last one there is [shrine-transloadit](https://github.com/janko-m/shrine-transloadit)).",1512602609.0
markrebec,"Sounds like you're on the right track.

I would recommend leaning towards elasticsearch over solr as the underlying document index/search engine, and taking a look at their suite of gems for ruby/rails. I guess it kinda depends how much you care about modifying queries, facets, filters, etc... There are plenty of ""solr vs elasticsearch"" articles out there to help make an informed decision, though.

If the search side of things is new to you, then you might be able to get away with prototyping your app using `LIKE` SQL queries. Once you've got things working mostly how you like, you can spend time learning about running solr/elasticsearch service, indexing documents, querying those documents, etc. without feeling like you're getting sidebarred from your main goal. Once your index is up and running/populated, you can swap your `LIKE` SQL queries for callbacks to your search service.

Re: file uploads, I personally prefer `carrier_wave` over `paperclip`, but that's just because I've defaulted to using it for every new project for years now. They're essentially the same, and `paperclip` is widely used and loved. I think they both have (at least basic) support for  `ActiveStorage` at this point as well.",1512588754.0
imabudhuha,Use rails 5.2 it comes with ActiveStorage for file uploads. No need for a separate gem. ,1512592569.0
archlich,"Well I'm not sure what this specific error is, but here's how i'd trouble shoot it.

Here's the code generating the error: https://github.com/rocketjob/symmetric-encryption/blob/master/lib/symmetric_encryption/rsa_key.rb

It's only a wrapper for the standard ruby lib, so it looks like either the key is bad, or the data is bad. Investigate both of those things and go on from there.  ",1512601900.0
,"Commercial website, kind of travel agency
(website is in french, sorry about my english, I'm just a baguette eater)

Stack : Rails, PostgreSql, Devise/Omniauth, Stripe, Paperclip, Bootstrap, Rspec, capybara, cucumber

https://evening-reaches-25835.herokuapp.com

https://github.com/jeremira/Hyrule

I am self-learning rails and related stuff for almost 2 year on the side, with the idea to change my career. This is my first 'project' I built while learning. 
Would you consider this app a good thing to show at  job interview or is still very beginner stuff ?
I would cherish any feedback :) thank you",1512646990.0
alexheil,"[let:lyrics](https://www.letlyrics.com) - [GitHub](https://github.com/alexheil/livelyrics)

Originally, I made this as a platform for my friend's bands to add their lyrics to, but it got a little bit bigger than that.

I made this when I was just starting out, and you can tell by how simple it is. I'm not really looking for advice, just hoping someone may be able to take something away from the code.",1512583768.0
ryenski,"Doesn‚Äôt really have much to do with Rails. But fortunately Rails makes it manageable because of the way assets are handled. This is how I would approach it. 

1. Decide on a css framework. I recommend Bootstrap or Bulma. 
2. Create a new base stylesheet (don‚Äôt modify application.css). Import your responsive framework and add your custom css here. I would also keep all your new custom css in a separate directory under assets/css. 
3. Create a new layout file. Import your new css into this layout and structure the base html according to the framework. Switch layouts using ‚Äúlayout ‚Äòmy_new_layout‚Äô‚Äù in your controller. 
4. Begin editing each view file to conform to the new framework. 

It‚Äôs a lot of work but if you do it this way it‚Äôll be doable. ",1512567424.0
creedian,"Uh, not easy. It‚Äôs a ton of work. You‚Äôll end up changing a lot of your design so that the responsive design makes sense. 

That said, if I understand the question correctly, use a framework like [Bootstrap](https://getbootstrap.com/)  or [Materialize CCS](www.materializecss.com) ",1512565853.0
SminkyBazzA,"I think that would depend entirely on the size/complexity of the existing project, and how much logic you've got mixed in with your markup. In theory it is quite simple...

I second the suggestion to use a framework, you'd be crazy not to given all the hard work is being done for you then!

Zurb's Foundation for Sites is also a good responsive framework.",1512567646.0
exige1981,I've found Bootstrap v4 to be pretty nice to work with.,1512616561.0
noobercakes,"3 things that are required:

-set remote: true on the action in the view. In your case, the link_to.

-format.js in the respond_to block of the controller action.

-rendering a partial when the link_to button is clicked. This example is from 2012 but it still gets the point across: http://carmennorahgraydean.blogspot.com.es/2012/10/rails-328-ajax-super-basic-example.html

",1512574271.0
nameless_cl,"try this :
https://blog.makeitreal.camp/modales-bootstrap-ruby-on-rails/

and for destroy.js.erb same model.id into tr (table)
 $('table tbody tr#<%= @model.id %>').remove()
",1512575233.0
mysteryihs,"I'm not sure exactly what it is you're asking. Are you asking how to add AJAX to Rails or are you asking for an explanation of syntax on the snippet of code you posted?

Ruby on Rails is still pretty valuable knowledge in web development, but it's definitely not the new shiny toy anymore. Ruby is definitely a more abstracted higher language level and if you're unsure on whether it's helpful or not just keep poking around.",1512552151.0
jobtraining101,Can you post your application.js and the .coffee file? ,1512534442.0
jordanaustino,"Aside from issues getting it to work, which is probably worthwhile, I wouldn't use coffeescript when starting a project in 2017.",1512699296.0
wikitih,"As mentioned in the documentation,

>  If no block is given, the entire file is read into memory and returned.

If the files are small enough (i.e. less than 10MB or so), I guess you can read the file's data by using the `download` method, and then resize it. Also, you can use `filename` to retrieve the original filename.

If you need to write the data to a file to process it with an external process, just use `File` or `Tempfile` to write it into a file:

    path = ""/path/to/whatever/#{blob.filename}""
    File.open(path, 'wb') do |file|
      file.write(blob.download)
    end",1512495556.0
GroceryBagHead,"Yeah, you gotta call `.download` on the blob to get contents. Think of that method as `File.read`. Block is used if you want to stream it (less ram used)

If you want to fetch resized image you need to go through the `variant` like so: `avatar.variant(resize: ""100x100"").processed.blob.download`

Why do you need to do this?",1512495844.0
,"Personally, I would set-up a method in the model to return the state code so you can just use `@job.state_code` in the view (separation of concerns, yada yada).

Better yet, I would use the power of [callbacks](http://api.rubyonrails.org/classes/ActiveRecord/Callbacks.html), since the job address isn't going to change locations between each page load....

    class Job < ApplicationRecord
        geocoded_by :address
        after_validation :geocode, :if => :address_changed?
        before_commit :set_location

    private

        def set_location
            self.state_code = Geocoder.search([latitude, longitude]).first.state_code
        end
    end

You'll need to generate a migration to add the `state_code` column to your `:jobs` table. However, this will allow you to go `@job.state_code` in your view. With this approach, you'll only query Geocoder when you update or create a job record instead of every time someone refreshes the page (I'm not sure what goes on during the `address_changed?` method, so I left it out. You could totally add a conditional statement so you're only querying when the address is changed)",1512589724.0
andrzejkrzywda,"We haven't experimented much with this concept, but this sounds like a good idea to try. Ping me if anyone's interested in guest-posting on the Arkency blog, we're mostly targeting senior Ruby devs.

https://blog.arkency.com",1512436186.0
kavincat10,"   3. Use a middleware (Rack-attack) to prevent blocking & throttling. 
",1512431254.0
Ronald-Ray-Gun,"I'd also like to know the supposed correct answer to this if the ones you listed aren't. My first thought when securing an API is to add/enforce authentication.

What else could they have meant? User permissions and roles? Rate limiting? Beyond authentication, these are all more specific needs that you can't really describe as just ""secure an API"".",1512431341.0
lostmexican03,"If someone gave me that answer in an interview, as long as they were then able to talk about what those things protected against and the fact that there are lots of other ways to do it I would have enough to go on to further explore their knowledge.

When I interview people I usually start with general questions that have more than one ""correct"" answer depending on the situation and try to see what is the first thing the person thinks of and explore it.  Then we would go back and talk about other options and see if they were familiar with them at all or just went with the only way they had ever approached the problem.  ",1512437302.0
daub8,"Other choice that comes to mind is HTTPS client certificate authentication (aka mutual SSL).

Other other choice that comes to mind is JWT.

The interviewer may also have been looking for more depth on the token answer, like describing the OAuth2 client credentials strategy and access and refresh tokens. Just a wild guess, though.",1512431635.0
andey,"implement hmac 

aka all api requests should be signed, with the current timestamp / private key at minimum. ",1512438335.0
volar92,"This question is pretty vague. Which attack vector are we protecting against?

Fraud? DDOS? Spam? Bots?",1512439285.0
tongboy,"I'd accept those as answers but I'd probe from there to understand the depth of knowledge underneath those basic answers.

I'd also ask about authorization - which is one of my favorite questions - what's the difference between authorization and authentication?",1512440103.0
,"Some stuff for servers in general: IPSec, HAProxy, etc.

You can also say a lot of stuff not even directly related to a server, but related to security in general (full disk encryption, OS ACLs, etc), I don't know what the guy that interviewed you wanted to hear. 

Although the truth I use HTTPS + Authentication 100% of the time and nothing more for securty.",1512445594.0
kavincat10,Thank you all.,1512486120.0
space_canoe,"Check out the [OWASP Top 10 Project](https://www.owasp.org/index.php/Category:OWASP_Top_Ten_Project) for more info about web service vulnerabilities.


> For 2013, the OWASP Top 10 Most Critical Web Application Security Risks are:
> A1 Injection
> A2 Broken Authentication and Session Management
> A3 Cross-Site Scripting (XSS)
> A4 Insecure Direct Object References
> A5 Security Misconfiguration
> A6 Sensitive Data Exposure
> A7 Missing Function Level Access Control
> A8 Cross-Site Request Forgery (CSRF)
> A9 Using Components with Known Vulnerabilities
> A10 Unvalidated Redirects and Forwards

Edit: formatting

",1512433041.0
ruby-solve,"They probably just wanted more depth than what you're presenting to us as what you gave them.

Talk about why expiring tokens is important.  How to protect against replay attacks.  Perhaps talk about a specific implementation of token authentication like JWT.",1512478053.0
bswinnerton,We use it at GitHub to power our public GraphQL API. ,1512447669.0
cheald,Yup. No issues. Works great.,1512414973.0
i_know_sherman,üëã We have. It's been a great experience. Some small annoyances here and there but for the most part is has been smooth sailing.,1512445916.0
,"Here is the log if it helps:
Started PATCH ""/users/3"" for 149.152.23.141 at 2017-12-03 18:06:02 -0500
Cannot render console from 149.152.23.141! Allowed networks: 127.0.0.1, ::1, 127.0.0.0/127.255.255.255
Processing by UsersController#update as HTML
¬†¬†Parameters: {""utf8""=>""‚úì"", ""authenticity_token""=>""RVwWmv/vUJeqOjr2tzIYibBS4rHbciUz6TXZaJkX93Y+GrFfBeGD3m9SYeJP89m4ZaFDdEqVROOvIS1kZO8DEg=="", ""user""=>{""name""=>""Josh Randall"", ""email""=>""joshrandall@example.com"", ""password""=>""[FILTERED]"", ""password_confirmation""=>""[FILTERED]"", ""program_id""=>""1""}, ""commit""=>""Save changes"", ""id""=>""3""}
¬†¬†[1m[36mUser Load (0.2ms)[0m¬†¬†[1m[34mSELECT¬†¬†""users"".* FROM ""users"" WHERE ""users"".""id"" = ? LIMIT ?[0m¬†¬†[[""id"", 3], [""LIMIT"", 1]]
¬†¬†[1m[36mUser Load (0.2ms)[0m¬†¬†[1m[34mSELECT¬†¬†""users"".* FROM ""users"" WHERE ""users"".""id"" = ? LIMIT ?[0m¬†¬†[[""id"", 3], [""LIMIT"", 1]]
¬†¬†[1m[36mCACHE User Load (0.0ms)[0m¬†¬†[1m[34mSELECT¬†¬†""users"".* FROM ""users"" WHERE ""users"".""id"" = ? LIMIT ?[0m¬†¬†[[""id"", 3], [""LIMIT"", 1]]
¬†¬†[1m[35m (0.1ms)[0m¬†¬†[1m[36mbegin transaction[0m
¬†¬†[1m[36mUser Exists (0.2ms)[0m¬†¬†[1m[34mSELECT¬†¬†1 AS one FROM ""users"" WHERE LOWER(""users"".""email"") = LOWER(?) AND (""users"".""id"" != ?) LIMIT ?[0m¬†¬†[[""email"", ""joshrandall@example.com""], [""id"", 3], [""LIMIT"", 1]]
¬†¬†[1m[35mSQL (1.0ms)[0m¬†¬†[1m[33mUPDATE ""users"" SET ""program_id"" = ?, ""updated_at"" = ? WHERE ""users"".""id"" = ?[0m¬†¬†[[""program_id"", 1], [""updated_at"", ""2017-12-03 23:06:02.356114""], [""id"", 3]]
¬†¬†[1m[35m (12.3ms)[0m¬†¬†[1m[36mcommit transaction[0m
Redirected to https://final-project-cs416-jrandall11.c9users.io/users/3
Completed 302 Found in 47ms (ActiveRecord: 15.2ms)",1512344583.0
kulehandluke,"reject_if? e.g.

accepts_nested_attributes_for :networks, reject_if: proc { |attributes| attributes['is_enabled'].blank? }

http://api.rubyonrails.org/classes/ActiveRecord/NestedAttributes/ClassMethods.html",1512340368.0
toadkicker,"Maybe you need roles instead of many user types. Check out Pundit for a class based approach, and you can back that with a simple roles table and a join on an assignments-users table.",1512333779.0
myockey,"Is the authentication logic distinct between these three classes? If not, then you don't need three different authentication models.",1512334267.0
,"Sorry I'm a few days late! I have a system that works for a similarly structured project (I use Devise too), and I'll try my best to explain it here.

My client needed 4 different roles: Company, Staff, Author and Admin. I used the Devise model generation method to create a User model, except I added an additional integer column called `:role` to the generated migration.

In the User model, I added this...

    enum role: {
     ""author"" => 0,
     ""staff"" => 1,
     ""company"" => 2,
     ""admin"" => 3
    }

If I use `current_user.role`, it will return the string instead of the integer. I added a couple of methods in my User model to make it a little easier to check for each role, such as `author?` and `admin?`. 

This system relies on an Administrator using a select dropdown to set which role a new user will be assigned (I use a gem that sends an invitation email for the new user to set their password and removed Devise's default registration routes). If you want a default role to be set upon registration, you can generate another migration to set a default of `1`on the `:role` column, for example. If I wanted a Company to be able to invite new users with a role of Staff, I'd just have to make sure that the role is being set appropriately in the create method of the respective controller.

You can use a gem such as [cancancan](https://github.com/CanCanCommunity/cancancan) to check for roles to ensure that Staff can't access Admin-related parts of the site. For instance, just add something like `before_action :verify_admin` to a controller full of actions only an admin should be allowed to access and then in that method, raise an error, set a flash message, and redirect as you see fit.

In my project, Companies and Staff have publicly viewable profiles that are structured differently. Also, I wanted Companies and Staff to have a `has_many` association. This is easily solvable.

- A User `has_one :company_profile` and also `has_one :staff_profile`.
- A CompanyProfile `belongs_to :user` and `has_many :staff_profiles`.
- A StaffProfile `belongs_to :user` and `belongs_to :company_profile`.

Just remember to set up your migrations for each model to reflect these associations or you'll have a bad time (`t.belongs_to :company_profile`, etc)

When a new user is created, I check which role is being assigned and have my create action for my UsersController create either a new CompanyProfile or StaffProfile. Here's what I did:

    if @user.save
      case @user.role
      when ""company""
         company = @user.create_company_profile
         redirect_to edit_company_profile_path(company.id)
      when ""staff""
        staff = @user.create_staff_profile
        redirect_to edit_staff_profile_path(staff.id)
      else
        redirect_to admin_users_path, :flash => { :notice => 'User was successfully created.' }
      end
    end

This way, you can have unique fields for each role without cluttering up your User model. Just remember to make controllers for each profile so you can have routes like `/company/:id` and `/staff/:id` to view each profile.

If I want a page to look different based on which role a signed in user has, that's super easy.

    = render :partial => ""#{current_user.role}_menu""

You just have to make sure that you have partials called `_author_menu`, `_admin_menu`, etc.

To handle redirection upon logging in, you just need to add a method to your **ApplicationController**. Here's what I ended up doing at one point:

    def after_sign_in_path_for(resource)
      case resource.role
      when 'admin'
        admin_sign_in_path
      when 'company'
        company_sign_in_path
      else
        staff_sign_in_path
      end
    end

You can do the same thing for the `after_sign_out_path_for` method if you want a different route for each role after they sign out.

**I hope this answers all of your questions! Please let me know you need to me to clarify anything.**",1512595994.0
H34DSH07,"Don't come here just to advertise your stuff, especially if you make money off of it.",1512326325.0
tongboy,"or for free:

https://scotch.io/tutorials/build-a-restful-json-api-with-rails-5-part-one",1512353109.0
4rch3r,Redis queues w/ sidekiq are pretty performant.  Is there any reason you're specifically looking @ AWS SQS and not ElastiCache?,1512280997.0
classhero,"It's not clear what you're using the queue for or trying to accomplish. Who puts items in the queue? Who consumes them? What sort of volume? What sort of SLA? Is this a hobby project/what's your budget?

You go to SQS not for performance, but for durability and TCO - Redis is going to be a lot faster, but then you're managing your own box (availability risk) or your own cluster (increased operations).",1512283010.0
SminkyBazzA,"We use [ActiveElasticJob](https://github.com/tawan/active-elastic-job/blob/master/README.md) to enable the use of cron jobs (and normal ActiveJob queuing) with AWS EBS worker tier instances.

I'm not sure how relevant this is to you, but the source code might be helpful if you decide to roll your own.

",1512303043.0
typpex,"For recurring jobs i use sidekiq-cron, the good part is that you can see the cron job in the sidekiq Web-UI and you can run them manually also if needed; it follows the same cron notation than on linux cron. For AWS SQS i was using the gem shoryuken back when we were still relying on AWS SQS.",1512353330.0
yesorknow,"You can fork the gem and make your changes there, then just specify your repository when declaring it in your Gemfile",1512279281.0
kickinespresso,"Fork the gem git repo and refer to the git repo as part of the gem. 


`gem 'nokogiri', :git => 'https://github.com/tenderlove/nokogiri.git'`


Edit: Gem formatting

You may want to use the newer style: `gem 'foo', git: 'https://github.com/dideler/foo.git'`

Other examples: https://stackoverflow.com/a/28442337",1512309406.0
dameyawn,"Are they not accepting PRs? If not, just fork it and make the changes you need (you don't need to publish it as a new gem to use it in your app). You can wait to publish it as a new gem until you know how to handle the gemspec file, versioning etc. Google how to release your own gem to learn about all that.",1512279317.0
BadCriticism,"To preface this, I'm just a guy who finished his universities introduction to Rails course, so my knowledge of rails is limited, but this is some very basic rails stuff your asking and it sounds like you haven't done much on rails so far. 

From my personal experience, it might be more efficient to learn the very basics of creating an app with Rails before asking how to specifically do something. This will save time in the long run. 

I suggest checking out this rather [quick tutorial on how to create a blog app](http://tutorials.jumpstartlab.com/projects/blogger.html). So that you understand how to build the individual parts of REST (as it sounds like you want to do anyway), rather than using scaffold to generate code you don't understand.

Also, if you're interested in learning more Rails, then you can try the [Odin project](https://www.theodinproject.com/courses/ruby-on-rails). Which helped me understand the basics of Rails. It uses Mike Hartl's rails tutorial a lot for learning code but also has supplementary resources to learning concepts. ",1512245482.0
ruby-solve,"the scaffolding generators just created some boilerplate for you.  I believe you can go in and edit the files it creates for yourself like you would do for any other file in the project.

1.  Delete the new.html.erb and edit.html.erb for the model.  Edit index.html.erb and show.html.erb to remove links to those pages.

2.  Delete the new, edit, update, create, and destroy actions in the model's controller.  (I'm assuming you're using restful routes).

3.  Delete the routes for those actions from the config/routes.rb file.  

It probably reads something like:

    resources your_model

change this to:

    resources your_model, only: [:index, :show]

That should do what you want to remove any trace of the ability to create, edit, or delete records for that model.

Question:  How do you plan to create records for this model in your app?  Why is it in the app if you can't create any?",1512244906.0
Oatavia,"I learned more about scaling and sockets, so that was good, but it would have been nice to know at the start that this was a plug for Passenger. ",1512220734.0
caadbury,Reader beware: this is an [advertorial](https://en.wikipedia.org/wiki/Advertorial) for Phusion Passenger.,1512248171.0
ihsw,"If they're not technical then they'll need to retain your services for application installation on a hosting environment of their choice.

Your recommendation of Heroku to them would require explanation of what Heroku is and why it costs $X per month, as well as any necessary information for whoever the next person to maintain this application (documentation, login credentials, etc).

Your only responsibility is best effort -- register an account in your name and email, use their CC for billing, update account information with their name and email, send them an email with the credentials, and it's out of your hands.",1512163316.0
BigManWalter,"Heroku is a great way to do it. Do not give them their own VPS, it's a recipe for disaster.

Either establish with the client that any future maintenance is to be paid hourly, otherwise insist to manage the hosting yourself and charge a small premium to cover for the inevitable support calls.",1512171562.0
,[deleted],1512160141.0
hmaddocks,What do you mean by transfer? You did some work for them and want to transfer ‚Äòownership‚Äô or you developed in your own environment and want to deploy it into theirs?,1512160846.0
marvindanig,I recently wrote an api that receives a manuscript (POST/PATCH) and prints it into a responsive book on web.,1512175173.0
GroceryBagHead,"With something like that try to express it as a raw SQL. I think it would look something like this:

    SELECT 
      coupon_id, 
      count(*) AS count_given_to_user, 
      SUM(CASE WHEN used_at IS NULL THEN 0 ELSE 1 END) AS count_user_used 
    FROM coupons_sns_users 
    GROUP BY coupon_id;

Throw that into `ActiveRecord::Base.select_rows` and you should get your data",1512111684.0
